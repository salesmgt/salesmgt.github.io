(this["webpackJsonpsalesmgt-fe"]=this["webpackJsonpsalesmgt-fe"]||[]).push([[0],{100:function(e,t,a){e.exports={wrapper:"Step2_wrapper__11LsY",child:"Step2_child__1azaX",container:"Step2_container__2tbbu",table:"Step2_table__2fsR_",tHead:"Step2_tHead__3B5SM",tHeadCell:"Step2_tHeadCell__1l-rQ",tBody:"Step2_tBody__2GZoL",tBodyRow:"Step2_tBodyRow__2iTQy",tBodyCell:"Step2_tBodyCell__P4nkk",txtTargetValue:"Step2_txtTargetValue__1fXZl",txtWeight:"Step2_txtWeight__1XT8a",tBodyCellTextField:"Step2_tBodyCellTextField__2sZ30"}},108:function(e,t,a){e.exports={paper:"CardRanks_paper__2tKnY",header:"CardRanks_header__3XwkX",title:"CardRanks_title__1OCmf",table:"CardRanks_table__1dol9",tBody:"CardRanks_tBody__1vvvJ",tBodyRow:"CardRanks_tBodyRow__2FrFK",tBodyCell:"CardRanks_tBodyCell__3rIJo",listItem:"CardRanks_listItem__1SQrW",picName:"CardRanks_picName__3K0yM",medalIcon:"CardRanks_medalIcon__NMFdq",avatar:"CardRanks_avatar__Wa-fo"}},109:function(e,t,a){e.exports={panel:"RepInfo_panel__17i5j",action:"RepInfo_action__1rTlA",submit:"RepInfo_submit__3aMij",content:"RepInfo_content__2nDEN",wrapper:"RepInfo_wrapper__2bLuz",row:"RepInfo_row__hqKFp",rowx:"RepInfo_rowx__1hTbf",rowy:"RepInfo_rowy__1C9Di",header:"RepInfo_header__1ppwq",title:"RepInfo_title__ZpVra"}},110:function(e,t,a){e.exports={wrapper:"SuggestionQuickView_wrapper__3HMew",container:"SuggestionQuickView_container__3mBvL",btnSave:"SuggestionQuickView_btnSave__1AvCb",icon:"SuggestionQuickView_icon__2CvdX",popover:"SuggestionQuickView_popover__3f2mW",tBodyRow:"SuggestionQuickView_tBodyRow__3xMux",iconDes:"SuggestionQuickView_iconDes__12feD",chipContainer:"SuggestionQuickView_chipContainer__1ZQqt",chipReason:"SuggestionQuickView_chipReason__2rMfc",txtCriInfoHeader:"SuggestionQuickView_txtCriInfoHeader__oe1iZ"}},118:function(e,t,a){e.exports={panel:"KPIInfo_panel__6tjx4",action:"KPIInfo_action__TiQQK",btnApprove:"KPIInfo_btnApprove__1I2Vb",btnReject:"KPIInfo_btnReject__HFM3k",content:"KPIInfo_content__3-WTs",wrapper:"KPIInfo_wrapper__1TELD",row:"KPIInfo_row__2Xq1T",rowx:"KPIInfo_rowx__Gb6wz",rowy:"KPIInfo_rowy__1U5Rm",header:"KPIInfo_header__3Ydv-",title:"KPIInfo_title__3TMLY",picName:"KPIInfo_picName__3WKEE",icon:"KPIInfo_icon__2K6Tv",iconInfo:"KPIInfo_iconInfo__zSK_F",tooltipRightInfo:"KPIInfo_tooltipRightInfo__1SeOh",txtEstimate:"KPIInfo_txtEstimate__2A3Xj",txtRevenue:"KPIInfo_txtRevenue__88IOz",criInfoPanel:"KPIInfo_criInfoPanel__PxlG7",txtCriInfo:"KPIInfo_txtCriInfo__3KZut",txtCriInfoHeader:"KPIInfo_txtCriInfoHeader__PZf_h",tBodyCell:"KPIInfo_tBodyCell__3_GAi",chipPending:"KPIInfo_chipPending__3RK9c",chipApproved:"KPIInfo_chipApproved__3vpNI",chipRejected:"KPIInfo_chipRejected__282g2",notFound:"KPIInfo_notFound__8qF3G",cardCriteria:"KPIInfo_cardCriteria__2Cvo5",cardSalesman:"KPIInfo_cardSalesman__EcPc6",criName:"KPIInfo_criName__2L4Bd",salesmanName:"KPIInfo_salesmanName__2jZU0",criWeight:"KPIInfo_criWeight__1VFfI",listSalesmen:"KPIInfo_listSalesmen__27msZ",indexSalesman1:"KPIInfo_indexSalesman1__18Hgc",indexSalesman2:"KPIInfo_indexSalesman2__2rCED"}},119:function(e,t,a){e.exports={treeviewContainer:"WorkPlans_treeviewContainer__2IDaM",noteView:"WorkPlans_noteView__3ClCB",statusContainer:"WorkPlans_statusContainer__2-__e",statusNote:"WorkPlans_statusNote__3XZ_H",colorComplete:"WorkPlans_colorComplete__Ysm7w",colorFail:"WorkPlans_colorFail__3xKFS",colorPending:"WorkPlans_colorPending__PBh6H",status:"WorkPlans_status__1Hb12"}},130:function(e,t,a){e.exports={bg:"Logins_bg__2ekHF",wrapper:"Logins_wrapper__2h6wh",header:"Logins_header__Fw9jp",avatar:"Logins_avatar__3UXf0",logo:"Logins_logo__3c-CT",majorImg:"Logins_majorImg__I6bYI",submit:"Logins_submit__1m3Qc",forgetPwd:"Logins_forgetPwd__1TACu",leftSection:"Logins_leftSection__mlJWM",rightSection:"Logins_rightSection__2exHw"}},137:function(e,t,a){e.exports={titles:"ContentAccordions_titles__3bqpY",details:"ContentAccordions_details__Py2gr",detailsAccor:"ContentAccordions_detailsAccor__3HdcV",inputZone:"ContentAccordions_inputZone__29Nry",inputField:"ContentAccordions_inputField__32Rnv",saveBtn:"ContentAccordions_saveBtn__37O1W"}},138:function(e,t,a){e.exports={itemIcon:"MenuOptions_itemIcon__3guZR",itemText:"MenuOptions_itemText__FoOLa",dialogText:"MenuOptions_dialogText__2vjRT",btnRemove:"MenuOptions_btnRemove__aKk8r"}},153:function(e,t,a){e.exports={dialogCont:"CreateServices_dialogCont__Qqd-B",dialogAct:"CreateServices_dialogAct__2IDQb",btnSave:"CreateServices_btnSave__12RFg",helper:"CreateServices_helper__2rear",suggestions:"CreateServices_suggestions__3-_hN",txtEstimate:"CreateServices_txtEstimate__3U9i2",txtRevenue:"CreateServices_txtRevenue__5Pl4I",iconInfo:"CreateServices_iconInfo__ICT5Z"}},164:function(e,t,a){e.exports={user:"UserMenu_user__8qB1a",info:"UserMenu_info__2xIDu",name:"UserMenu_name__MlcMy",role:"UserMenu_role__2qL0V",avatar:"UserMenu_avatar__3oieX",menuIcon:"UserMenu_menuIcon__-NOOo"}},165:function(e,t,a){e.exports={root:"LeftSide_root__227AY",container:"LeftSide_container__cYwon",content:"LeftSide_content__2fBrk",header:"LeftSide_header__290j1",nav:"LeftSide_nav__1N4s6",icon:"LeftSide_icon__2u60R",text:"LeftSide_text__NgvYV",headerInfo:"LeftSide_headerInfo__1Ex0V",infoAvatar:"LeftSide_infoAvatar__Dv5Fs",infoBasic:"LeftSide_infoBasic__1XsYb",basicMain:"LeftSide_basicMain__3vtTV",basicSub:"LeftSide_basicSub__3-ZMo",activeSub:"LeftSide_activeSub__38Jvp",inactiveSub:"LeftSide_inactiveSub__1N2Nc",body:"LeftSide_body__1kJZI",wrapper:"LeftSide_wrapper__3qyEv"}},18:function(e,t,a){e.exports={panel:"ServiceInfo_panel__1jm_H",action:"ServiceInfo_action__2XqTL",btnApprove:"ServiceInfo_btnApprove__1mell",btnReject:"ServiceInfo_btnReject__fJdzI",content:"ServiceInfo_content__3EGyz",wrapper:"ServiceInfo_wrapper__bahSV",row:"ServiceInfo_row__1BrlQ",rowx:"ServiceInfo_rowx__1FkKG",rowy:"ServiceInfo_rowy__8hLrj",header:"ServiceInfo_header__3pteU",title:"ServiceInfo_title__3lyTW",picName:"ServiceInfo_picName__2B8eX",icon:"ServiceInfo_icon__3_SrP",iconInfo:"ServiceInfo_iconInfo__tG8D6",tooltipRightInfo:"ServiceInfo_tooltipRightInfo__1J9B9",txtEstimate:"ServiceInfo_txtEstimate__2d2sn",txtRevenue:"ServiceInfo_txtRevenue__2xw4i",criInfoPanel:"ServiceInfo_criInfoPanel__1JKqR",txtCriInfo:"ServiceInfo_txtCriInfo___AChj",txtCriInfoHeader:"ServiceInfo_txtCriInfoHeader__3Frva",tBodyCell:"ServiceInfo_tBodyCell__YQGSm",chipPending:"ServiceInfo_chipPending__1dstf",chipApproved:"ServiceInfo_chipApproved__2Q3Oz",chipRejected:"ServiceInfo_chipRejected__UY1M4",notFound:"ServiceInfo_notFound__RT2A_"}},182:function(e,t,a){e.exports={container:"ResetLink_container__2UBtj",header:"ResetLink_header__1gwNy",avatar:"ResetLink_avatar__14BhS",msg:"ResetLink_msg__2QvPR",submit:"ResetLink_submit__3XKrS",login:"ResetLink_login__2bw_T"}},183:function(e,t,a){e.exports={container:"VerifyCode_container__3zr0T",header:"VerifyCode_header__2jxu1",avatar:"VerifyCode_avatar__CfJJ1",msg:"VerifyCode_msg__1VliX",submit:"VerifyCode_submit__2H-6S",login:"VerifyCode_login__3ovCh"}},196:function(e,t,a){e.exports={root:"Errors_root__37YGT",main:"Errors_main__3wRcy",code:"Errors_code__2w7Cf",message:"Errors_message__6i3Ya",link:"Errors_link__1o8VR"}},197:function(e,t,a){e.exports={cardText:"ContentCards_cardText__3XmPx",titles:"ContentCards_titles__VWELk",detailZone:"ContentCards_detailZone__1B89f",details:"ContentCards_details__1JzfZ"}},198:function(e,t,a){e.exports={itemIcon:"MenuOptions_itemIcon__3bE4b",itemText:"MenuOptions_itemText__BiyIZ"}},199:function(e,t,a){e.exports={row:"RejectService_row__2nC3i",rowx:"RejectService_rowx__12-hO",title:"RejectService_title__3ddyC",dialogText:"RejectService_dialogText__IfMnT",btnReject:"RejectService_btnReject__1__0D"}},221:function(e,t,a){e.exports={notiCard:"Notify_notiCard__s85eg",notiItem:"Notify_notiItem__3J2Yh",content:"Notify_content__3aKf5",notiContent:"Notify_notiContent__3nB1M",typo:"Notify_typo__3jnHP",notSeenTypo:"Notify_notSeenTypo__34Nlo"}},222:function(e,t,a){e.exports={container:"PwdReset_container__wDdfk",header:"PwdReset_header__3U2c6",avatar:"PwdReset_avatar__3xEqd",msg:"PwdReset_msg__1tNPR",submit:"PwdReset_submit__S7ECD",login:"PwdReset_login__2jqPO"}},223:function(e,t,a){e.exports={customfileupload:"ImportFile_customfileupload__2yu4-",alert:"ImportFile_alert__3fKQX",btnSave:"ImportFile_btnSave__2Zv_i"}},24:function(e,t,a){e.exports={panel:"AssignInfo_panel__3llaW",action:"AssignInfo_action__2WQcq",submit:"AssignInfo_submit__2JbB-",content:"AssignInfo_content__12Gvh",wrapper:"AssignInfo_wrapper__2RdTd",row:"AssignInfo_row__2fB39",rowx:"AssignInfo_rowx__11Np7",rowy:"AssignInfo_rowy__2RJn6",header:"AssignInfo_header__3_3bY",title:"AssignInfo_title__2CWkO",genderZone:"AssignInfo_genderZone__19s7h",gender:"AssignInfo_gender__219Ba",user:"AssignInfo_user__3uP31",info:"AssignInfo_info__1uFaR",fullName:"AssignInfo_fullName__gRIVV",username:"AssignInfo_username__3CU7n",avatar:"AssignInfo_avatar__3-jfO",notFound:"AssignInfo_notFound__2NLgI",purpWarning:"AssignInfo_purpWarning__3xb6H",chipSalesMoi:"AssignInfo_chipSalesMoi__1RelN",chipTheoDoi:"AssignInfo_chipTheoDoi__1EgWl",chipChamSoc:"AssignInfo_chipChamSoc__277c_",chipTaiKy:"AssignInfo_chipTaiKy__mwRPP",chipKyMoi:"AssignInfo_chipKyMoi__35osl",chipOnGoing:"AssignInfo_chipOnGoing__2J0R8",chipSuccess:"AssignInfo_chipSuccess__1NLPv",chipFailed:"AssignInfo_chipFailed__2kCCY",btnChangeTaskStatus:"AssignInfo_btnChangeTaskStatus__YfHEx",btnComplete:"AssignInfo_btnComplete__6UuFF",btnFail:"AssignInfo_btnFail__3C8ag"}},244:function(e,t,a){e.exports={root:"NotFound_root__d7z16",imgContainer:"NotFound_imgContainer__2ex-0",img:"NotFound_img__3Jt9P",title:"NotFound_title__1JqGq"}},245:function(e,t,a){e.exports={dialogCont:"CreateAccount_dialogCont__1HXUP",dialogAct:"CreateAccount_dialogAct__t4t16",btnSave:"CreateAccount_btnSave__3O1uz"}},246:function(e,t,a){e.exports={dialogCont:"CreateSchool_dialogCont__ZNOtE",dialogAct:"CreateSchool_dialogAct__NKF3p",btnSave:"CreateSchool_btnSave__1zf2m"}},247:function(e,t,a){e.exports={wrapper:"Step1_wrapper__1-NA9",child:"Step1_child__1eb5A"}},248:function(e,t,a){e.exports={itemIcon:"MenuOptions_itemIcon__1mrLi",itemText:"MenuOptions_itemText__1NFIy",dialogText:"MenuOptions_dialogText__2Rf0Q",btnRemove:"MenuOptions_btnRemove__1xrgY"}},249:function(e,t,a){e.exports={criName:"SalesmanKPIInfo_criName__2jtjV",criWeight:"SalesmanKPIInfo_criWeight__2Uszi",icon:"SalesmanKPIInfo_icon__3iCrm",iconInfo:"SalesmanKPIInfo_iconInfo__2UUP5",gaugeChartCard:"SalesmanKPIInfo_gaugeChartCard__pT5I9",divider:"SalesmanKPIInfo_divider__Xlfrc"}},30:function(e,t,a){e.exports={wrapper:"Profiles_wrapper__33w36",infoContent:"Profiles_infoContent__2nqPi",infoAvatar:"Profiles_infoAvatar__1CHPi",avatar:"Profiles_avatar__1BX64",avatarTxt:"Profiles_avatarTxt__2fs2N",inputAvatar:"Profiles_inputAvatar__1CbRc",uploadBtn:"Profiles_uploadBtn__3D3tm",infoName:"Profiles_infoName__1iEBH",about:"Profiles_about__2sg6M",cardText:"Profiles_cardText__OD4fV",titles:"Profiles_titles__3Ka-8",detailZone:"Profiles_detailZone__32yq9",details:"Profiles_details__2_Lyi",detailsAccor:"Profiles_detailsAccor__3QRQu",inputZone:"Profiles_inputZone__1NDww",inputField:"Profiles_inputField__3LSfc",actions:"Profiles_actions__1K6FC",saveBtn:"Profiles_saveBtn__3MOyg",account:"Profiles_account__1LlQt",me:"Profiles_me__21Vxn",nf:"Profiles_nf__dpyZo",nfImgContainer:"Profiles_nfImgContainer__2uVFO",nfImg:"Profiles_nfImg__2DzEu",nfTitle:"Profiles_nfTitle__2wrzy"}},31:function(e,t,a){e.exports={panel:"SchoolInfo_panel__1rGoZ",action:"SchoolInfo_action__SRpgV",submit:"SchoolInfo_submit__2Brf-",content:"SchoolInfo_content__3cJBQ",wrapper:"SchoolInfo_wrapper__386wI",row:"SchoolInfo_row__d3pH-",rowx:"SchoolInfo_rowx__1qITL",rowy:"SchoolInfo_rowy__3MJMn",header:"SchoolInfo_header__-k2k7",title:"SchoolInfo_title__HvAp1",genderZone:"SchoolInfo_genderZone__21QVl",gender:"SchoolInfo_gender__3hZdy",statusCbZone:"SchoolInfo_statusCbZone__2J1X6",statusTxtZone:"SchoolInfo_statusTxtZone__1LfKm"}},321:function(e,t,a){e.exports={wrapper:"Loading_wrapper__2AI7M",loadingTxt:"Loading_loadingTxt__140nu",progress:"Loading_progress__rtewH"}},322:function(e,t,a){e.exports={panel:"Accounts_panel__1ktkY"}},323:function(e,t,a){e.exports={panel:"Salesmen_panel__3W9Wl"}},324:function(e,t,a){e.exports={panel:"Schools_panel__2hjwi"}},325:function(e,t,a){e.exports={panel:"Services_panel__jR5oK"}},326:function(e,t,a){e.exports={wrapper:"CreateKPISheet_wrapper__1cZuC",container:"CreateKPISheet_container__30yEO",table:"CreateKPISheet_table__3gK4I",tHead:"CreateKPISheet_tHead__2ipKC",tHeadCell:"CreateKPISheet_tHeadCell__hzNUc",tBodyCell:"CreateKPISheet_tBodyCell__1aubW",btnSave:"CreateKPISheet_btnSave__HVIag",autoComplete:"CreateKPISheet_autoComplete__28e5e",item:"CreateKPISheet_item__3rqoV",itemTextPrimary:"CreateKPISheet_itemTextPrimary__1w_dD",itemTextSecondary:"CreateKPISheet_itemTextSecondary__2VEmH",title:"CreateKPISheet_title__3YgTn"}},327:function(e,t,a){e.exports={panel:"KPIs_panel__2v1Yx"}},35:function(e,t,a){e.exports={wrapper:"Dashboards_wrapper__2HjIp",root:"Dashboards_root__3_inh",header:"Dashboards_header__3K4Nu",body:"Dashboards_body__3pAt1",row:"Dashboards_row__39aHv",rowx:"Dashboards_rowx__2ElHw",rowy:"Dashboards_rowy__1F6cg",rowt:"Dashboards_rowt__2QTSG",title:"Dashboards_title__Njco6",block:"Dashboards_block__2hSRM",blockSales:"Dashboards_blockSales__3mW9E",blockSevices:"Dashboards_blockSevices__h13fZ",blockCustomers:"Dashboards_blockCustomers__3YMlY",box1Block1:"Dashboards_box1Block1__2NDVn",avaBlock1:"Dashboards_avaBlock1__3uYOn",iconBlock1:"Dashboards_iconBlock1__3OQw1",titleBlock1:"Dashboards_titleBlock1__1fEv8",subtitleBlock1:"Dashboards_subtitleBlock1__36krc",subtitle1Block1:"Dashboards_subtitle1Block1__377IQ",subtitle2Block1:"Dashboards_subtitle2Block1__3Fw5P",previousBlock1:"Dashboards_previousBlock1__1v6IZ",presentBlock1:"Dashboards_presentBlock1__3LKZO",changesBlock1:"Dashboards_changesBlock1__1ZgsY",changesUpBlock1:"Dashboards_changesUpBlock1__2kyu1",changesDownBlock1:"Dashboards_changesDownBlock1__3b0xa",box1Block2:"Dashboards_box1Block2__39XqV",avaBlock2:"Dashboards_avaBlock2__2OsYU",iconBlock2:"Dashboards_iconBlock2__38fuI",titleBlock2:"Dashboards_titleBlock2__zmcEK",subtitleBlock2:"Dashboards_subtitleBlock2__Gyu-0",subtitle1Block2:"Dashboards_subtitle1Block2__3DEDN",subtitle2Block2:"Dashboards_subtitle2Block2__-aMyq",previousBlock2:"Dashboards_previousBlock2__3QqT7",presentBlock2:"Dashboards_presentBlock2__3QQtS",changesBlock2:"Dashboards_changesBlock2__1bKJj",changesUpBlock2:"Dashboards_changesUpBlock2__24ufk",changesDownBlock2:"Dashboards_changesDownBlock2__3muDp",box1Block3:"Dashboards_box1Block3__y0FyT",avaBlock3:"Dashboards_avaBlock3__1ms-_",iconBlock3:"Dashboards_iconBlock3__tf02y",titleBlock3:"Dashboards_titleBlock3__1NY5o",subtitleBlock3:"Dashboards_subtitleBlock3__1AoIY",subtitle1Block3:"Dashboards_subtitle1Block3__2ct7j",subtitle2Block3:"Dashboards_subtitle2Block3__louI4",previousBlock3:"Dashboards_previousBlock3__130XJ",presentBlock3:"Dashboards_presentBlock3__3PPij",changesBlock3:"Dashboards_changesBlock3__2kQxF",changesUpBlock3:"Dashboards_changesUpBlock3__3Q714",changesDownBlock3:"Dashboards_changesDownBlock3__2evY_",panel1:"Dashboards_panel1__3Sfva",panelServices:"Dashboards_panelServices__Iqn-x",panelCustomers:"Dashboards_panelCustomers__2M5En",toggleOptions:"Dashboards_toggleOptions__1jZCn",txtViewBy:"Dashboards_txtViewBy__IlVh9",panel2:"Dashboards_panel2__1tXL5",panelMap:"Dashboards_panelMap__qY66U",panelRanking:"Dashboards_panelRanking__26t_i",mapPanel:"Dashboards_mapPanel__YqgMC"}},369:function(e,t,a){e.exports={wrapper:"Filters_wrapper__QW_ps",iconFilter:"Filters_iconFilter__2Wt0m"}},370:function(e,t,a){e.exports={itemIcon:"MenuOptions_itemIcon__2zbWp",itemText:"MenuOptions_itemText__2I3pw"}},371:function(e,t,a){e.exports={bg:"ForgotPwd_bg__2-mzZ",wrapper:"ForgotPwd_wrapper__2Hr1h"}},372:function(e,t,a){e.exports={wrapper:"Filters_wrapper__o8wZm",iconFilter:"Filters_iconFilter__3MDNH"}},373:function(e,t,a){e.exports={dialogText:"ConfirmRemove_dialogText__1FyHZ",btnRemove:"ConfirmRemove_btnRemove__282lI"}},374:function(e,t,a){e.exports={wrapper:"Filters_wrapper__X05vl",iconFilter:"Filters_iconFilter__2dHTl"}},375:function(e,t,a){e.exports={itemIcon:"MenuOptions_itemIcon__1N1vU",itemText:"MenuOptions_itemText__1R8u_"}},377:function(e,t,a){e.exports={wrapper:"Filters_wrapper__21O6a",iconFilter:"Filters_iconFilter__w_5lc"}},378:function(e,t,a){e.exports={itemIcon:"MenuOptions_itemIcon__bz-M_",itemText:"MenuOptions_itemText__1BpkY",dialogText:"MenuOptions_dialogText__duK7_",btnRemove:"MenuOptions_btnRemove__1puRx"}},379:function(e,t,a){e.exports={wrapper:"CreateTasks_wrapper__Z682j",btnSave:"CreateTasks_btnSave__1EtKf",schoolYear:"CreateTasks_schoolYear__3VnQt",iconFilter:"CreateTasks_iconFilter__2jfTU",dialogText:"CreateTasks_dialogText__1-E41",searchField:"CreateTasks_searchField__2IjYo",btnDiv:"CreateTasks_btnDiv__1rOSF",btnAdd:"CreateTasks_btnAdd__3EkXk",filtersZone:"CreateTasks_filtersZone__1r1OO"}},38:function(e,t,a){e.exports={panel:"AssignInfo_panel__3fROe",content:"AssignInfo_content__2kD7o",wrapper:"AssignInfo_wrapper__3eaal",row:"AssignInfo_row__1vIKJ",rowx:"AssignInfo_rowx__2RetL",rowy:"AssignInfo_rowy__1BItQ",header:"AssignInfo_header__QPZ3k",title:"AssignInfo_title__OxzsT",genderZone:"AssignInfo_genderZone__2Didb",gender:"AssignInfo_gender__17RUA",user:"AssignInfo_user__jFWvs",info:"AssignInfo_info__2tZ_J",fullName:"AssignInfo_fullName__27spI",username:"AssignInfo_username__lzRT6",avatar:"AssignInfo_avatar__wSfgy",chipSalesMoi:"AssignInfo_chipSalesMoi__3MsaZ",chipTheoDoi:"AssignInfo_chipTheoDoi__1gmBZ",chipChamSoc:"AssignInfo_chipChamSoc__1IK1v",chipTaiKy:"AssignInfo_chipTaiKy___lcVE",chipKyMoi:"AssignInfo_chipKyMoi__3h3fO"}},380:function(e,t,a){e.exports={wrapper:"Filters_wrapper__3ssFi",iconFilter:"Filters_iconFilter__26kYi",dialogText:"Filters_dialogText__CBwT8"}},381:function(e,t,a){e.exports={dialogText:"ConfirmRemove_dialogText__2IsmY",btnRemove:"ConfirmRemove_btnRemove__3jFS7"}},382:function(e,t,a){e.exports={dialogText:"ConfirmUnassign_dialogText__cJ8wo",btnOK:"ConfirmUnassign_btnOK__3uile"}},383:function(e,t,a){e.exports={panel:"Tasks_panel__1CCOD",filter:"Tasks_filter__3wmKw"}},384:function(e,t,a){e.exports={dialogText:"ConfirmTaskFail_dialogText__NeGwv",btnYes:"ConfirmTaskFail_btnYes__1bl40"}},385:function(e,t,a){e.exports={dialogText:"ConfirmTaskComplete_dialogText__1q91L",btnYes:"ConfirmTaskComplete_btnYes__qzog4"}},386:function(e,t,a){e.exports={wrapper:"Filters_wrapper__3diau",iconFilter:"Filters_iconFilter__1HJTm"}},387:function(e,t,a){e.exports={itemIcon:"MenuOptions_itemIcon__2lUYP",itemText:"MenuOptions_itemText__3tUz8",dialogText:"MenuOptions_dialogText__3giLp",btnRemove:"MenuOptions_btnRemove__2cBKi"}},388:function(e,t,a){e.exports={dialogText:"ConfirmApprove_dialogText__2J0_k",btnApprove:"ConfirmApprove_btnApprove__29c9p"}},389:function(e,t,a){e.exports={dialogText:"ConfirmSave_dialogText__20S_o",btnOK:"ConfirmSave_btnOK__9VVy3"}},390:function(e,t,a){e.exports={wrapper:"Filters_wrapper__3rY1B",iconFilter:"Filters_iconFilter__1FkTN"}},391:function(e,t,a){e.exports={dialogText:"ConfirmDisable_dialogText__15YfV",btnDisable:"ConfirmDisable_btnDisable__3NvJa"}},42:function(e,t,a){e.exports={panel:"ReportInfo_panel__2xPMg",action:"ReportInfo_action__1y16q",submit:"ReportInfo_submit__DD2E_",content:"ReportInfo_content__3rObD",wrapper:"ReportInfo_wrapper__29u3W",row:"ReportInfo_row__34SNP",rowx:"ReportInfo_rowx__3p-2R",rowy:"ReportInfo_rowy__U-V9r",header:"ReportInfo_header__3ZEB1",title:"ReportInfo_title__aEdFu",chipSuccess:"ReportInfo_chipSuccess__1D6Gv",chipFailed:"ReportInfo_chipFailed__27CIq"}},43:function(e,t,a){e.exports={panel:"GenInfo_panel__eEUKp",action:"GenInfo_action__2EsD2",submit:"GenInfo_submit__EwGoi",content:"GenInfo_content__2ETAT",wrapper:"GenInfo_wrapper__3K7Lb",row:"GenInfo_row__3WA5B",rowx:"GenInfo_rowx__l7D_B",rowy:"GenInfo_rowy__1DT7E",header:"GenInfo_header__3wGmS",title:"GenInfo_title__19BEL"}},448:function(e,t){},458:function(e,t,a){e.exports={appBar:"CardHeaders_appBar__AyQFZ"}},461:function(e,t,a){e.exports={dialogText:"CannotRemove_dialogText__18e19"}},462:function(e,t,a){e.exports={panel:"Reports_panel__2oGzb"}},464:function(e,t,a){e.exports={dialogText:"NotifyAssign_dialogText__pq_kA"}},466:function(e,t,a){e.exports={dialogText:"NotifyDialog_dialogText__1YoEI"}},467:function(e,t,a){e.exports={dialogText:"CannotRemove_dialogText__MZupe"}},53:function(e,t,a){e.exports={panel:"ServicesInfo_panel__2W6Ik",tabs:"ServicesInfo_tabs__29hw9",body:"ServicesInfo_body__2uTUU",wrapper:"ServicesInfo_wrapper__L5GYT",header:"ServicesInfo_header__2Jgm2",card:"ServicesInfo_card__1WksU",cardCntHeader:"ServicesInfo_cardCntHeader__3f9ou",cardCntBody:"ServicesInfo_cardCntBody__3jsAO",cardSubtitle1:"ServicesInfo_cardSubtitle1__3XoDj",cardSubtitle2:"ServicesInfo_cardSubtitle2__mSYJu",cardAct:"ServicesInfo_cardAct__3bURz",rightSector:"ServicesInfo_rightSector__GiJc1",noServicesZone:"ServicesInfo_noServicesZone__1lQK5",noServices:"ServicesInfo_noServices__3gVTO",notFound:"ServicesInfo_notFound__XMw0Y"}},56:function(e,t,a){e.exports={panel:"Timelines_panel__kZ6nJ",content:"Timelines_content__1g5jz",wrapper:"Timelines_wrapper__1GJlB",row:"Timelines_row__F2DD4",header:"Timelines_header__llxBo",primaryTail:"Timelines_primaryTail__SqCzG",secondaryTail:"Timelines_secondaryTail__rexQi",ternaryTail:"Timelines_ternaryTail__2T7P9",ternary:"Timelines_ternary__17ME5",tlnOpsContent:"Timelines_tlnOpsContent__3FGoP",linkCard:"Timelines_linkCard__2DYkM",tlnContent:"Timelines_tlnContent__2lWc7",tlnContentSuccess:"Timelines_tlnContentSuccess__3hCGK",tlnContentFailed:"Timelines_tlnContentFailed__1Ug_E",picZone:"Timelines_picZone__3HofI",tlnContentChild:"Timelines_tlnContentChild__Ja6yG",tlnServiceContent:"Timelines_tlnServiceContent__1bseG",tlnServiceAppproved:"Timelines_tlnServiceAppproved__2-f7R",tlnServiceRejected:"Timelines_tlnServiceRejected__2jiF9",chip:"Timelines_chip__1CLOE",chipSalesMoi:"Timelines_chipSalesMoi__ZUeds",chipSalesMoiInactive:"Timelines_chipSalesMoiInactive__19kDk",chipTheoDoi:"Timelines_chipTheoDoi__3XNcY",chipTheoDoiInactive:"Timelines_chipTheoDoiInactive__18Gnn",chipChamSoc:"Timelines_chipChamSoc__2DftF",chipChamSocInactive:"Timelines_chipChamSocInactive__3FCKG",chipTaiKy:"Timelines_chipTaiKy__MEEpj",chipTaiKyInactive:"Timelines_chipTaiKyInactive__2bgNr",chipKyMoi:"Timelines_chipKyMoi__3irsJ",chipKyMoiInactive:"Timelines_chipKyMoiInactive__2SbsS",chipInactive:"Timelines_chipInactive__1kAFV",chipOnGoing:"Timelines_chipOnGoing__sH2UK",chipSuccess:"Timelines_chipSuccess__19O70",chipFailed:"Timelines_chipFailed__2MeH-",chipApproved:"Timelines_chipApproved__3IeOJ",chipRejected:"Timelines_chipRejected__1fqEI",rpDaGap:"Timelines_rpDaGap__1AT01",rpChuaGap:"Timelines_rpChuaGap__3bvrE"}},58:function(e,t,a){e.exports={wrapper:"Assign_wrapper__2a1G_",container:"Assign_container__HjwRx",table:"Assign_table__uGU7m",tHeadCell:"Assign_tHeadCell__32lU_",tHeadCellNo:"Assign_tHeadCellNo__BY_pL",tBody:"Assign_tBody__2n0Pc",tBodyCell:"Assign_tBodyCell__PqeFy",btnSave:"Assign_btnSave__1RUSq",icon:"Assign_icon__1k8zN",popover:"Assign_popover__3kZ2j",tBodyRow:"Assign_tBodyRow__2sbvV",suggestionContainer:"Assign_suggestionContainer__3vzcZ",suggestionTitle:"Assign_suggestionTitle__3w5Zp",cardContainer:"Assign_cardContainer__31dH1",cardCover:"Assign_cardCover__3Ysdg",quickCard:"Assign_quickCard__j2aoN",quickCardAvatar:"Assign_quickCardAvatar__XyfQG",content:"Assign_content__3Yvlx",listItem:"Assign_listItem__5i3wW",listItemText:"Assign_listItemText__1W0cB",subInfo:"Assign_subInfo__2zbAx",starPoint:"Assign_starPoint__n9stw",point:"Assign_point__2K64h",distancePoint:"Assign_distancePoint__2eJKM",iconLocation:"Assign_iconLocation__2t8hw",distance:"Assign_distance__1vL-C",alertContainer:"Assign_alertContainer__3p2bn",noSalesman:"Assign_noSalesman__7WGEm"}},60:function(e,t,a){e.exports={btnSave:"SalesmanKPIs_btnSave__2KqP7",avatar:"SalesmanKPIs_avatar__3wM1n",salesmanName:"SalesmanKPIs_salesmanName__2v5Qo",weight:"SalesmanKPIs_weight__3Tz5L",KPIsZone:"SalesmanKPIs_KPIsZone__bLpgS",cardKPIs:"SalesmanKPIs_cardKPIs__Da2zv",divider:"SalesmanKPIs_divider__2jcTS",noDivider:"SalesmanKPIs_noDivider__11EsD",criName:"SalesmanKPIs_criName__3yDsV",boxIcon:"SalesmanKPIs_boxIcon__2oLcH",txtRank:"SalesmanKPIs_txtRank__1gsd6",iconRank:"SalesmanKPIs_iconRank__lGe3p",rankName:"SalesmanKPIs_rankName__3PiNc"}},61:function(e,t,a){e.exports={wrapper:"Tables_wrapper__Rex6S",container:"Tables_container__32NP9",table:"Tables_table__11UO5",tHead:"Tables_tHead__3D4sC",tHeadCell:"Tables_tHeadCell__fKA8o",tBody:"Tables_tBody__1Iose",tBodyRow:"Tables_tBodyRow__1p-ME",tBodyCell:"Tables_tBodyCell__1GjdM",listItem:"Tables_listItem__3-hdQ",picName:"Tables_picName__1Lsyv",listItemInactive:"Tables_listItemInactive__1DgqK",picNameInactive:"Tables_picNameInactive__2ooyZ",picAvatarInactive:"Tables_picAvatarInactive__2tAU0",itemTextPrimary:"Tables_itemTextPrimary__2Du2k",tCellInactiveAccount:"Tables_tCellInactiveAccount__3l_Ue",noRecord:"Tables_noRecord__EdJn8",sortLabel:"Tables_sortLabel__1vfFi",active:"Tables_active__1M5dv",paging:"Tables_paging__3hoju",chipAdmin:"Tables_chipAdmin__252gM",chipManager:"Tables_chipManager__2MT4d",chipSupervisor:"Tables_chipSupervisor__3NTBx",chipSalesman:"Tables_chipSalesman__38i1u"}},63:function(e,t,a){e.exports={wrapper:"Tables_wrapper__1Db3a",container:"Tables_container__vE812",table:"Tables_table__2DAw_",tHead:"Tables_tHead__3Iytt",tHeadCell:"Tables_tHeadCell__2fK1s",tBody:"Tables_tBody__1BJEA",tBodyRow:"Tables_tBodyRow__1MM29",tBodyCell:"Tables_tBodyCell__3YMlJ",listItem:"Tables_listItem__Vykgi",picName:"Tables_picName__2yvY9",listItemInactive:"Tables_listItemInactive__OedsA",picNameInactive:"Tables_picNameInactive__2_-yn",picAvatarInactive:"Tables_picAvatarInactive__3CUFO",itemTextPrimary:"Tables_itemTextPrimary__21eHB",tCellInactiveAccount:"Tables_tCellInactiveAccount__32M5p",noRecord:"Tables_noRecord__2_pYQ",sortLabel:"Tables_sortLabel__1dgb4",active:"Tables_active__3iqY2",paging:"Tables_paging__21qk9",chipAdmin:"Tables_chipAdmin__2BdQV",chipManager:"Tables_chipManager__amwJO",chipSupervisor:"Tables_chipSupervisor__3tbpX",chipSalesman:"Tables_chipSalesman__3RpIb"}},64:function(e,t,a){e.exports={panel:"Timelines_panel__H079X",content:"Timelines_content__3BDXS",wrapper:"Timelines_wrapper__2Nrv5",row:"Timelines_row__1tabP",header:"Timelines_header__1cdqf",timeline:"Timelines_timeline__1_xWG",primaryTail:"Timelines_primaryTail__2yDlP",secondaryTail:"Timelines_secondaryTail__VqX3y",tlnLeft:"Timelines_tlnLeft__Um-Cx",tlnOpsContent:"Timelines_tlnOpsContent__3iGO2",linkCard:"Timelines_linkCard__27PdP",tlnContent:"Timelines_tlnContent__22WLd",tlnContentSuccess:"Timelines_tlnContentSuccess__BC1JF",tlnContentFailed:"Timelines_tlnContentFailed__ofoFk",tlnContentPending:"Timelines_tlnContentPending__3EBd-",picZone:"Timelines_picZone__2sVwY",tlnContentChild:"Timelines_tlnContentChild__2SjbH",chip:"Timelines_chip__2lyNx",chipSalesMoi:"Timelines_chipSalesMoi__feu94",chipSalesMoiInactive:"Timelines_chipSalesMoiInactive__2Wst5",chipChamSoc:"Timelines_chipChamSoc__3wsT-",chipChamSocInactive:"Timelines_chipChamSocInactive__1Za2J",chipTaiKy:"Timelines_chipTaiKy__sNCTc",chipTaiKyInactive:"Timelines_chipTaiKyInactive__wkDe1",chipKyMoi:"Timelines_chipKyMoi__1B2c0",chipKyMoiInactive:"Timelines_chipKyMoiInactive__2QXwD",chipInactive:"Timelines_chipInactive__tptCX",rsSuccess:"Timelines_rsSuccess__3D4Xb",rsFailed:"Timelines_rsFailed__3gfs4"}},67:function(e,t,a){e.exports={wrapper:"Tables_wrapper__3m4gE",container:"Tables_container__1eA05",table:"Tables_table__FoQUz",tHead:"Tables_tHead__1JC-O",tHeadCell:"Tables_tHeadCell__nr3yI",tBody:"Tables_tBody__1suNu",tBodyRow:"Tables_tBodyRow__2SpYn",tBodyCell:"Tables_tBodyCell__JzPoQ",tBodyCellDuration:"Tables_tBodyCellDuration__1ZHUi",noRecord:"Tables_noRecord__26LG0",picName:"Tables_picName__1-ArF",sortLabel:"Tables_sortLabel__3xFF8",active:"Tables_active__2W3S5",paging:"Tables_paging__1SrgD",chipInactive:"Tables_chipInactive__2BMkZ",chipSalesMoiInactive:"Tables_chipSalesMoiInactive__XgJ_9",chipTheoDoiInactive:"Tables_chipTheoDoiInactive__XvF1S",chipChamSocInactive:"Tables_chipChamSocInactive__32T_b",chipTaiKyInactive:"Tables_chipTaiKyInactive__1eONw",chipKyMoiInactive:"Tables_chipKyMoiInactive__2UH-u",chipSalesMoi:"Tables_chipSalesMoi__82M3a",chipTheoDoi:"Tables_chipTheoDoi__2qwGD",chipChamSoc:"Tables_chipChamSoc__3zCp1",chipTaiKy:"Tables_chipTaiKy__hJJGQ",chipKyMoi:"Tables_chipKyMoi__3WlK4",chipOnGoing:"Tables_chipOnGoing__Jm52-",chipSuccess:"Tables_chipSuccess__1gL0e",chipFailed:"Tables_chipFailed__2BkpU",iconNote:"Tables_iconNote__2-e0I"}},689:function(e,t){},69:function(e,t,a){e.exports={criInfoPanel:"DialogConfig_criInfoPanel__1tp4n",txtCriInfo:"DialogConfig_txtCriInfo__2b97r",txtCriInfoHeader:"DialogConfig_txtCriInfoHeader__1nw37"}},690:function(e,t){},697:function(e,t,a){},698:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"setMilkExpiry",(function(){return Ya})),a.d(n,"getMilkExpiry",(function(){return Ea})),a.d(n,"setMilk",(function(){return Ha})),a.d(n,"getMilk",(function(){return La})),a.d(n,"makeSour",(function(){return Ka}));var s=a(3),r=a.n(s),c=a(51),i=a.n(c),l=a(32),o=a(45),d=a(9),u=a(363),j=a(15),m=a(824),b=a(765),p=a(766),h=a(812),x=a(111),v=a(754),O=a(756),f=a(753),g=a(705),y=a(706),_=a(711),N=a(763),C=a(13),w=a(72),S=a(474),I=a(2),k=Object(u.a)((function(e){return{search:Object(w.a)({maxHeight:"2.5rem",position:"relative",borderRadius:"8px",backgroundColor:"#fff",boxShadow:"0 4px 6px -6px #000",marginLeft:0,height:"100%",width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,1),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(w.a)({padding:e.spacing(1.3,1,1,1),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function T(e){var t=k(),a=Object(s.useRef)(""),n=e.onChange,r=e.placeholder,c=e.searchValue,i=Object(s.useState)(c||""),l=Object(d.a)(i,2),o=l[0],u=l[1];return Object(I.jsxs)("div",{className:t.search,children:[Object(I.jsx)("div",{className:t.searchIcon,children:Object(I.jsx)(C.P,{fontSize:"20"})}),Object(I.jsx)(S.a,{value:o,placeholder:r,classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){var t;e.preventDefault(!0);var s=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value;u(s),n&&(a.current&&clearTimeout(a.current),a.current=setTimeout((function(){n(s)}),300))}})]})}T.defaultProps={onChange:null};var P=T,D=a(5),V=a(279),R=(a(428),r.a.forwardRef((function(e,t){var a=r.a.cloneElement(e.children,{style:Object(D.a)(Object(D.a)({},e.children.style),{},{visibility:"hidden"})});return Object(I.jsx)(V.VelocityComponent,Object(D.a)(Object(D.a)({ref:t},e),{},{children:a}))})));R.defaultProps={animation:"transition.fadeIn",runOnMount:!0,targetQuerySelector:null,interruptBehavior:"stop",visibility:"visible",duration:300,delay:50,easing:[.4,0,.2,1],display:null,setRef:void 0};var A=r.a.memo(R),B={animation:"transition.fadeIn",stagger:50,duration:200,display:null,visibility:"visible",delay:0},M={stagger:50,duration:200,display:null,visibility:"visible",delay:0};function F(e){return Object(I.jsx)(V.VelocityTransitionGroup,Object(D.a)(Object(D.a)({},e),{},{enter:Object(D.a)(Object(D.a)({},B),e.enter),leave:Object(D.a)(Object(D.a)({},M),e.leave)}))}F.defaultProps={enter:B,leave:M,easing:[.4,0,.2,1],runOnMount:!0,enterHideStyle:{opacity:1},enterShowStyle:{opacity:0}};var Y=r.a.memo(F),E=a(821),H=a(816),L=Object(u.a)((function(e){return{root:{top:e.spacing(9)}}}));function K(e){var t=e.notify,a=e.setNotify,n=L(),s=function(e,n){"clickaway"!==n&&a(Object(D.a)(Object(D.a)({},t),{},{isOpen:!1}))};return Object(I.jsx)(E.a,{className:n.root,open:t.isOpen,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:s,children:Object(I.jsx)(H.a,{severity:t.type,onClose:s,variant:"filled",children:t.message})})}var W=r.a.memo(K),q=a.p+"static/media/gold-medal.b40d60fb.png",z=a.p+"static/media/silver-medal.90535542.png",U=a.p+"static/media/bronze-medal.a6118719.png",G=(a.p,a.p+"static/media/pawprints.2d582dba.png"),Z=a.p+"static/media/cross-mark.d1c602b1.png",Q=a(244),J=a.n(Q);function X(e){var t=e.title;return Object(I.jsxs)("div",{className:J.a.root,children:[Object(I.jsx)("div",{className:J.a.imgContainer,children:Object(I.jsx)("img",{src:G,alt:"Not found",className:J.a.img})}),Object(I.jsx)(x.a,{className:J.a.title,noWrap:!0,children:t})]})}var $=r.a.memo(X);X.defaultProps={title:"Oopsy Daisy!"};var ee=a(748),te=a(321),ae=a.n(te),ne="Loading...";var se=function(){return Object(I.jsxs)("div",{className:ae.a.wrapper,children:[Object(I.jsx)(x.a,{className:ae.a.loadingTxt,noWrap:!0,children:ne}),Object(I.jsx)(ee.a,{className:ae.a.progress})]})},re=a(44),ce=a(749),ie=a(820),le=a(450),oe=a.n(le),de=a(451),ue=a.n(de),je=a(195),me=a.n(je);me.a.setApiKey("AIzaSyDamhXLcuECTjHIszel9zHDW3MqrZe8SHA"),me.a.setLanguage("vi"),me.a.setRegion("VN"),me.a.setLocationType("ROOFTOP"),me.a.enableDebug();var be=me.a;var pe={current:null},he=Object(u.a)((function(e){return{icon:{color:e.palette.text.secondary,marginRight:e.spacing(2)}}}));function xe(e){var t=he(),a=e.inputValue,n=e.setInputValue,c=e.setLatitude,i=e.setLongitude,l=e.onBlur,o=e.error,u=e.helperText,j=r.a.useState(null),m=Object(d.a)(j,2),b=m[0],p=m[1],h=r.a.useState([]),v=Object(d.a)(h,2),O=v[0],g=v[1],y=r.a.useRef(!1);"undefined"===typeof window||y.current||(document.querySelector("#google-maps")||function(e,t,a){if(t){var n=document.createElement("script");n.setAttribute("async",""),n.setAttribute("id",a),n.src=e,t.appendChild(n)}}("https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyDamhXLcuECTjHIszel9zHDW3MqrZe8SHA","&libraries=places&region=VN&language=vi"),document.querySelector("head"),"google-maps"),y.current=!0);var _=r.a.useMemo((function(){return ue()((function(e,t){pe.current.getPlacePredictions(e,t)}),200)}),[]);return Object(s.useEffect)((function(){var e=!0;if(!pe.current&&window.google&&(pe.current=new window.google.maps.places.AutocompleteService),pe.current){if(""!==a)return _({input:a},(function(t){if(e){var n=[];b&&(n=[b]),t&&(n=[].concat(Object(re.a)(n),Object(re.a)(t))),g(n),be.fromAddress(a).then((function(e){var t=e.results[0].geometry.location,a=t.lat,n=t.lng;c(a),i(n)}),(function(e){console.error(e)}))}})),function(){e=!1};g(b?[b]:[])}}),[b,a,_]),Object(I.jsx)(ie.a,{autoComplete:!0,autoHighlight:!0,options:O,getOptionLabel:function(e){return"string"===typeof e?e:e.description},filterSelectedOptions:!0,filterOptions:function(e){return e},includeInputInList:!0,noOptionsText:"No matched address",openOnFocus:!0,onBlur:l,clearOnBlur:!1,value:b,onChange:function(e,t){g(t?[t].concat(Object(re.a)(O)):O),p(t)},inputValue:a,onInputChange:function(e,t){n(t)},renderInput:function(e){return Object(I.jsx)(ce.a,Object(D.a)(Object(D.a)({value:a},e),{},{label:"Address",variant:"outlined",fullWidth:!0,required:!0,error:!!o,helperText:u||""}))},renderOption:function(e){var a=e.structured_formatting.main_text_matched_substrings,n=oe()(e.structured_formatting.main_text,a.map((function(e){return[e.offset,e.offset+e.length]})));return Object(I.jsxs)(f.a,{container:!0,alignItems:"center",children:[Object(I.jsx)(f.a,{item:!0,children:Object(I.jsx)(C.F,{className:t.icon})}),Object(I.jsxs)(f.a,{item:!0,xs:!0,children:[n.map((function(e,t){return Object(I.jsx)("span",{style:{fontWeight:e.highlight?600:400},children:e.text},t)})),Object(I.jsx)(x.a,{variant:"body2",color:"textSecondary",children:e.structured_formatting.secondary_text})]})]})}})}var ve=a(755),Oe=a(283),fe=a(86),ge=a(57),ye=a.n(ge),_e=function(e,t){return ye()(e).format(t)},Ne=function(e,t,a){switch(a){case"D":return Math.round((t.getTime()-e.getTime())/864e5);case"M":return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}},Ce=function(){var e=(new Date).getFullYear(),t=(new Date).getMonth();return 0<=t<4?"".concat(e,"-").concat(e+1):4<=t<11?"".concat(e-1,"-").concat(e):null};var we=function(e){var t=e.startDate,a=e.endDate,n=e.marker,s=e.type,r=function(e,t){var a=Ne(new Date(e),new Date,"D"),n=Ne(new Date(e),new Date(t),"D");return 100*a/n>100?100:!e||!t||0===n||100*a/n<0?0:100*a/n}(t,a);return Object(I.jsxs)(h.a,{display:"flex",flexDirection:"column",children:[Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",children:[Object(I.jsx)(h.a,{flexGrow:1,children:Object(I.jsxs)(x.a,{variant:"body2",children:["    ",t?_e(t,"DD-MM-YYYY"):" ?"]})}),Object(I.jsx)(h.a,{children:Object(I.jsxs)(x.a,{variant:"body2",children:["    ",_e(a,"DD-MM-YYYY")]})})]}),Object(I.jsx)(h.a,{width:"100%",children:Object(I.jsx)(v.a,{title:"".concat(Math.round(r),"%"),placement:"top",children:Object(I.jsx)(ee.a,Object(D.a)(Object(D.a)({variant:"determinate"},e),{},{value:r}))})}),s&&Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",width:"100%",children:[Object(I.jsx)(h.a,{style:{flexBasis:"".concat(function(){var e=r-5;return e<0?0:e}(),"%"),marginTop:"0.5rem"}}),Object(I.jsx)(h.a,{style:{marginTop:"0.5rem"},children:Object(I.jsx)(v.a,{title:Object(I.jsx)(x.a,{variant:"overline",children:_e(n,"DD-MM-YYYY")}),placement:"right",children:Object(I.jsx)(ve.a,{children:"task"===s?Object(I.jsx)(Oe.b,{style:{width:"1.8rem",height:"1.8rem"}}):Object(I.jsx)(fe.c,{style:{width:"1.8rem",height:"1.8rem"}})})})})]})]})},Se=a(822),Ie="FILTER_PIC",ke="FILTER_DISTRICT",Te="FILTER_SCHOOL_YEAR",Pe="FILTER_SCHOOL_TYPE",De="FILTER_SCHOOL_LEVEL",Ve="FILTER_SCHOOL_STATUS",Re="FILTER_PURPOSE",Ae="FILTER_ASSIGNED",Be="FILTER_REPORT_RESULT",Me="FILTER_DATE_RANGE",Fe="FILTER_TASK_STATUS",Ye="FILTER_ACTIVE",Ee="FILTER_ROLE",He="FILTER_SERVICE_STATUS",Le="FILTER_SERVICE_TYPE",Ke="FILTER_EXPIRED",We="FILTER_KPI_STATUS",qe="ENTER_SEARCH_KEYWORD",ze="SORT_BY",Ue="CHANGE_PAGE",Ge="isActive",Ze="role",Qe="PIC",Je="district",Xe="schoolYear",$e="status",et="purpose",tt="isAssigned",at="dateRange",nt="result",st="type",rt="level",ct="taskStatus",it="serviceStatus",lt="serviceType",ot="isExpired",dt="KPIStatus",ut=Object(u.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap"},ul:{maxWidth:810,overflowX:"auto",display:"flex",justifyContent:"flex-start",flexWrap:"nowrap",listStyle:"none",margin:0,paddingLeft:"0.5rem"},btnClear:{fontSize:"0.75rem"},chip:{margin:e.spacing(.5)}}}));function jt(e){var t=ut(),a=e.chips,n=e.dispatch,r=e.handleChipsRemoved,c=Object(s.useState)(!1),i=Object(d.a)(c,2),l=(i[0],i[1]),o=function(e){return function(){switch(e.filterType){case Ge:n({type:Ye,payload:{filterType:Ge,filterValue:null}});break;case Ze:n({type:Ee,payload:{filterType:Ze,filterValue:""}})}if(r){var t=[e.filterType];r(t)}}};return Object(I.jsx)("div",{children:2!==function(){var e=0;return a.forEach((function(t){""!==t.filterValue&&null!==t.filterValue&&void 0!==t.filterValue||e++})),e}()&&Object(I.jsxs)("div",{className:t.root,children:[Object(I.jsx)(O.a,{size:"small",className:t.btnClear,onClick:function(){(l(!1),r)&&(n({type:Ye,payload:{filterType:Ge,filterValue:null}}),n({type:Ee,payload:{filterType:Ze,filterValue:""}}),r([Ge,Ze]))},children:"Clear all"}),Object(I.jsx)("ul",{className:t.ul,children:a.map((function(e){return Object(I.jsxs)("li",{children:[e.filterType!==Ge&&e.filterValue&&Object(I.jsx)(Se.a,{label:e.filterValue,onDelete:o(e),className:t.chip,color:"secondary"}),e.filterType===Ge&&null!==e.filterValue&&Object(I.jsx)(Se.a,{label:e.filterValue?"Active":"Inactive",onDelete:o(e),className:t.chip,color:"secondary"})]},e.filterType)}))})]})})}var mt=r.a.memo(jt),bt=a(40),pt=a(764),ht=a(281),xt=a(759),vt={child1:"Create Account"},Ot={cancel:"Cancel",save:"Save"},ft={info:"",success:"Created Successfully",error:"Created Failed",warning:""},gt={username:{title:"Username"},fullName:{title:"Full Name"},isMale:{title:"Gender *",male:{lb:"Male",value:"true"},female:{lb:"Female",value:"false"}},birthDate:{title:"Birthday",format:"dd/MM/yyyy"},email:{title:"Email",helper:"This email will be used to confirm account"},phone:{title:"Phone Number"},addr:{title:"Address"},status:{title:"Account Active *"},roles:{title:"Roles"}},yt=a(757),_t=a(823),Nt=a(758),Ct=a(815),wt=a(760),St=a(99),It=a(813),kt=a(135),Tt=a(20),Pt=a(52),Dt=a(26),Vt=a(14),Rt=a.n(Vt),At=a(25),Bt=a(456);function Mt(e,t,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var s="expires="+n.toUTCString();document.cookie=e+"="+t+";"+s+";path=/"}var Ft="ADMIN",Yt="SALES MANAGER",Et="SALES SUPERVISOR",Ht="SALESMAN",Lt="Active",Kt="Inactive",Wt="Ch\u01b0a h\u1ee3p t\xe1c",qt="\u0110ang h\u1ee3p t\xe1c",zt="Ng\u01b0ng h\u1ee3p t\xe1c",Ut="Ti\u1ec1m n\u0103ng",Gt="Ti\u1ec3u h\u1ecdc",Zt="THCS",Qt="THPT",Jt="TBD",Xt="successful",$t="failed",ea="Ongoing",ta="Successful",aa="Failed",na="Not Started",sa="ESL",ra="SEL",ca="To\xe1n Khoa",ia="STEAM",la="pending",oa="approved",da="rejected",ua="Being applied",ja="Expired",ma="Disable",ba="auto",pa="manual",ha={purp1:"Sales m\u1edbi",purp3:"Ch\u0103m s\xf3c",purp4:"T\xe1i k\xfd h\u1ee3p \u0111\u1ed3ng",purp5:"K\xfd m\u1edbi h\u1ee3p \u0111\u1ed3ng"},xa="Experience",va="accessToken",Oa={token:"notMe",dists:"dists",eduLvls:"eduLvls",types:"types",status:"status",roles:"roles",schYears:"schYears",salesPurps:"salesPurps"},fa=a.n(Bt).a.create({baseURL:"http://salesmgtbe-env.eba-bhmmm56h.ap-southeast-1.elasticbeanstalk.com/",headers:{"Content-type":"application/json","Access-Control-Allow-Origin":"*"}});fa.interceptors.request.use((function(e){var t=function(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var s=a[n];" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(t))return s.substring(t.length,s.length)}return""}(va);return t&&(e.url.includes("access-tokens")||(e.headers.Authorization="Bearer ".concat(t))),e}),(function(e){return Promise.reject(e)}),{synchronous:!0});var ga=fa;function ya(){return _a.apply(this,arguments)}function _a(){return(_a=Object(At.a)(Rt.a.mark((function e(){var t,a,n,s,r,c,i,l,o=arguments;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,a=o.length>1&&void 0!==o[1]?o[1]:10,n=o.length>2&&void 0!==o[2]?o[2]:"username",s=o.length>3&&void 0!==o[3]?o[3]:"asc",r=o.length>4&&void 0!==o[4]?o[4]:void 0,c=o.length>5&&void 0!==o[5]?o[5]:void 0,i="/users?page=".concat(t,"&limit=").concat(a,"&column=").concat(n,"&direction=").concat(s),i=r?i.concat("&key=".concat(r)):i,c&&(i=null!==c.isActive.filterValue?i.concat("&active=".concat(c.isActive.filterValue)):i,i=c.role.filterValue?i.concat("&role=".concat(c.role.filterValue)):i),e.next=11,ga.get(i);case 11:return l=e.sent,e.abrupt("return",l);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Na(e){return Ca.apply(this,arguments)}function Ca(){return(Ca=Object(At.a)(Rt.a.mark((function e(t){var a,n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.get("/users/".concat(t));case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wa(){return(wa=Object(At.a)(Rt.a.mark((function e(t){var a;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.post("/users",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sa(){return(Sa=Object(At.a)(Rt.a.mark((function e(t,a){var n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.put("/users/".concat(t),a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ia=a(162),ka=a.n(Ia);function Ta(){return(Ta=Object(At.a)(Rt.a.mark((function e(){var t,a;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.get("/school-years");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pa(){return(Pa=Object(At.a)(Rt.a.mark((function e(){var t,a;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.get("/districts");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Da(){return(Da=Object(At.a)(Rt.a.mark((function e(){var t,a;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.get("/levels");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Va(){return(Va=Object(At.a)(Rt.a.mark((function e(){var t,a;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.get("/types");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ra(){return(Ra=Object(At.a)(Rt.a.mark((function e(){var t,a;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.get("/school-status");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Aa(e){return Ba.apply(this,arguments)}function Ba(){return(Ba=Object(At.a)(Rt.a.mark((function e(t){var a,n,s;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ka.a.stringify(t),e.next=3,ga.get("/users?".concat(a));case 3:return n=e.sent,e.next=6,n.data;case 6:return s=e.sent,e.abrupt("return",s.list);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ma(){return(Ma=Object(At.a)(Rt.a.mark((function e(){var t,a;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.get("/purposes");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fa(){return(Fa=Object(At.a)(Rt.a.mark((function e(){var t,a;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.get("/roles");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ya(e,t,a){var n={value:t,expiry:(new Date).getTime()+60*a*60*1e3};localStorage.setItem(e,JSON.stringify(n))}function Ea(e){var t=localStorage.getItem(e);if(!t)return null;var a=JSON.parse(t);return(new Date).getTime()>a.expiry?(localStorage.removeItem(e),null):a.value}function Ha(e,t){var a={value:t};localStorage.setItem(e,JSON.stringify(a))}function La(e){var t=localStorage.getItem(e);return t?JSON.parse(t).value:null}function Ka(e){e.forEach((function(e){localStorage.removeItem(e)}))}var Wa=Object(s.createContext)();function qa(){return Object(s.useContext)(Wa)}function za(){var e=Object(s.useState)(null),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)((null===n||void 0===n?void 0:La(null===Oa||void 0===Oa?void 0:Oa.dists))?null===n||void 0===n?void 0:La(null===Oa||void 0===Oa?void 0:Oa.dists):null),i=Object(d.a)(c,2),l=i[0],o=i[1],u=Object(s.useState)((null===n||void 0===n?void 0:La(null===Oa||void 0===Oa?void 0:Oa.eduLvls))?null===n||void 0===n?void 0:La(null===Oa||void 0===Oa?void 0:Oa.eduLvls):null),j=Object(d.a)(u,2),m=j[0],b=j[1],p=Object(s.useState)((null===n||void 0===n?void 0:La(null===Oa||void 0===Oa?void 0:Oa.types))?null===n||void 0===n?void 0:La(null===Oa||void 0===Oa?void 0:Oa.types):null),h=Object(d.a)(p,2),x=h[0],v=h[1],O=Object(s.useState)((null===n||void 0===n?void 0:La(null===Oa||void 0===Oa?void 0:Oa.status))?null===n||void 0===n?void 0:La(null===Oa||void 0===Oa?void 0:Oa.status):null),f=Object(d.a)(O,2),g=f[0],y=f[1],_=Object(s.useState)((null===n||void 0===n?void 0:La(null===Oa||void 0===Oa?void 0:Oa.roles))?null===n||void 0===n?void 0:La(null===Oa||void 0===Oa?void 0:Oa.roles):null),N=Object(d.a)(_,2),C=N[0],w=N[1],S=Object(s.useState)((null===n||void 0===n?void 0:La(null===Oa||void 0===Oa?void 0:Oa.schYears))?null===n||void 0===n?void 0:La(null===Oa||void 0===Oa?void 0:Oa.schYears):null),I=Object(d.a)(S,2),k=I[0],T=I[1],P=Object(s.useState)((null===n||void 0===n?void 0:La(null===Oa||void 0===Oa?void 0:Oa.salesPurps))?null===n||void 0===n?void 0:La(null===Oa||void 0===Oa?void 0:Oa.salesPurps):null),D=Object(d.a)(P,2),V=D[0],R=D[1];return Object(s.useEffect)((function(){(function(){return Pa.apply(this,arguments)})().then((function(e){e&&(null===n||void 0===n||Ha(null===Oa||void 0===Oa?void 0:Oa.dists,e),o(null===n||void 0===n?void 0:La(null===Oa||void 0===Oa?void 0:Oa.dists)))})).catch((function(e){e.response&&console.log(e)}))}),[]),Object(s.useEffect)((function(){(function(){return Da.apply(this,arguments)})().then((function(e){e&&(null===n||void 0===n||Ha(null===Oa||void 0===Oa?void 0:Oa.eduLvls,e),b(null===n||void 0===n?void 0:La(null===Oa||void 0===Oa?void 0:Oa.eduLvls)))})).catch((function(e){e.response&&console.log(e)}))}),[]),Object(s.useEffect)((function(){(function(){return Va.apply(this,arguments)})().then((function(e){e&&(null===n||void 0===n||Ha(null===Oa||void 0===Oa?void 0:Oa.types,e),v(null===n||void 0===n?void 0:La(null===Oa||void 0===Oa?void 0:Oa.types)))})).catch((function(e){e.response&&console.log(e)}))}),[]),Object(s.useEffect)((function(){(function(){return Ra.apply(this,arguments)})().then((function(e){e&&(null===n||void 0===n||Ha(null===Oa||void 0===Oa?void 0:Oa.status,e),y(null===n||void 0===n?void 0:La(null===Oa||void 0===Oa?void 0:Oa.status)))})).catch((function(e){e.response&&console.log(e)}))}),[]),Object(s.useEffect)((function(){(function(){return Fa.apply(this,arguments)})().then((function(e){e&&(null===n||void 0===n||Ha(null===Oa||void 0===Oa?void 0:Oa.roles,e),w(null===n||void 0===n?void 0:La(null===Oa||void 0===Oa?void 0:Oa.roles)))})).catch((function(e){e.response&&console.log(e)}))}),[]),Object(s.useEffect)((function(){(function(){return Ma.apply(this,arguments)})().then((function(e){e&&(null===n||void 0===n||Ha(null===Oa||void 0===Oa?void 0:Oa.salesPurps,e),R(null===n||void 0===n?void 0:La(null===Oa||void 0===Oa?void 0:Oa.salesPurps)))})).catch((function(e){e.response&&console.log(e)}))}),[]),Object(s.useEffect)((function(){(function(){return Ta.apply(this,arguments)})().then((function(e){e&&(null===n||void 0===n||Ha(null===Oa||void 0===Oa?void 0:Oa.schYears,e),T(null===n||void 0===n?void 0:La(null===Oa||void 0===Oa?void 0:Oa.schYears)))})).catch((function(e){e.response&&console.log(e)}))}),[]),{userInfo:a,setUserInfo:r,dists:l,schEduLvls:m,schTypes:x,schStatus:g,roles:C,schYears:k,salesPurps:V}}var Ua=function(e){var t=e.children,a=za();return Object(I.jsx)(Wa.Provider,{value:a,children:t})},Ga=/^[a-zA-Z0-9]{8,30}$/g,Za=/^(?=.*[a-z])(?=.*[A-Z])(?=.*[\d])(?=.*[@$!%*#?&])(?=.{8,})/g,Qa=/(0[3|5|7|8|9])+([\d]{8})$/g,Ja=/(02)+([\d]{9})$/g,Xa=function(e,t){var a=t.type,n=t.payload,s=e.listFilters;switch(a){case Ye:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{isActive:n})});case Ee:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{role:n})});case qe:return Object(D.a)(Object(D.a)({},e),{},{page:0,searchKey:n});case ze:return Object(D.a)(Object(D.a)({},e),{},{column:n.column,direction:n.direction});case Ue:return Object(D.a)(Object(D.a)({},e),{},{page:n.page,limit:n.limit});default:return e}},$a=Object(s.createContext)();function en(){return Object(s.useContext)($a)}var tn={isActive:{filterType:Ge,filterValue:null},role:{filterType:Ze,filterValue:""}};var an=function(e){var t=e.children,a=function(){var e=Object(s.useReducer)(Xa,{listFilters:tn,searchKey:"",page:0,limit:10,column:"username",direction:"asc"}),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(a.page),c=Object(d.a)(r,2),i=c[0],l=c[1],o=Object(s.useState)(a.limit),u=Object(d.a)(o,2),j=u[0],m=u[1],b=Object(s.useState)(a.column),p=Object(d.a)(b,2),h=p[0],x=p[1],v=Object(s.useState)(a.direction),O=Object(d.a)(v,2),f=O[0],g=O[1],y=Object(s.useState)(tn.isActive.filterValue?tn.isActive.filterValue:null),_=Object(d.a)(y,2),N=_[0],C=_[1],w=Object(s.useState)(tn.role.filterValue?tn.role.filterValue:""),S=Object(d.a)(w,2),I=S[0],k=S[1],T=Object(s.useState)(""),P=Object(d.a)(T,2);return P[0],(0,P[1])("abc"),{params:a,dispatchParams:n,page:i,setPage:l,limit:j,setLimit:m,direction:f,setDirection:g,column:h,setColumn:x,isActive:N,role:I,workingStatuses:[null,!0,!1],setFilter:function(e,t){switch(e){case Ge:tn=Object(D.a)(Object(D.a)({},tn),{},{isActive:{filterType:Ge,filterValue:t}}),C(t);break;case Ze:tn=Object(D.a)(Object(D.a)({},tn),{},{role:{filterType:Ze,filterValue:t}}),k(t)}}}}();return Object(I.jsx)($a.Provider,{value:a,children:t})},nn=a(243);a(676),a(677);nn.a.initializeApp({apiKey:"AIzaSyCHSm_Ao_JD7lLjcx8_Y5IAa6dhrmDfWp0",authDomain:"major-sales-management.firebaseapp.com",projectId:"major-sales-management",storageBucket:"major-sales-management.appspot.com",messagingSenderId:"800377937110",appId:"1:800377937110:web:ae18c4322926c9ffe7fd77"});var sn=nn.a.app().storage(),rn=nn.a.app(),cn=a(55),ln=a(245),on=a.n(ln),dn=["ref"],un=Dt.b().shape({username:Dt.d().trim().min(8,"Username must be at least 8 characters").max(30,"Username must be at most 30 characters").required("Username is required").matches(Ga,"Incorrect entry"),fullName:Dt.d().trim().min(4,"Full Name must be at least 4 characters").max(30,"Full Name must be at most 30 characters").required("Full Name is required"),phone:Dt.d().required("Phone is required").max(10,"Phone must be at most 10 digits and has the correct format").matches(Qa,"Phone number is in wrong format (03|5|7|9xxxxxxxx)"),email:Dt.d().trim().email("Invalid email").required("Email is required")}),jn=[{type:"server",name:"username",message:"Username already exists"}],mn={PaperProps:{style:{maxHeight:120}},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null},bn=Object(u.a)((function(e){return{root:{},menuItemRoot:{"&$menuItemSelected":{backgroundColor:"rgba(0, 0, 0, 0.08)"},"&$menuItemSelected:focus":{backgroundColor:"rgba(0, 0, 0, 0.12)"},"&$menuItemSelected:hover":{backgroundColor:"rgba(0, 0, 0, 0.04);"}},menuItemSelected:{},formControl:{width:200}}}));var pn=function(e){var t=e.onClose,a=e.refreshPage,n=Ot,r=gt,c=ft,i=bn(),l=Object(cn.b)().enqueueSnackbar,u=qa().roles,j=u||La(Oa.roles),m=Object(o.h)(),b=en().params,p=b.page,h=b.limit,x=b.column,v=b.direction,C=b.searchKey,w=b.listFilters,S=Object(s.useState)(""),k=Object(d.a)(S,2),T=k[0],P=k[1],V=Object(s.useState)(0),R=Object(d.a)(V,2),A=R[0],B=R[1],M=Object(s.useState)(0),F=Object(d.a)(M,2),Y=F[0],E=F[1],H={username:"",fullName:"",roleName:j[3],phone:"",email:"",address:T,isMale:String(!0),birthDate:null},L=Object(Tt.c)({resolver:Object(Pt.a)(un),defaultValues:H}),K=L.control,W=L.handleSubmit,q=L.errors,z=L.setError,U=L.formState,G=L.reset;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(yt.a,{className:on.a.dialogCont,children:Object(I.jsx)("form",{noValidate:!0,children:Object(I.jsxs)(f.a,{container:!0,spacing:2,className:on.a.wrapper,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsx)(Tt.a,{name:"username",control:K,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:r.username.title,variant:"outlined",required:!0,fullWidth:!0,autoFocus:!0,value:a,onChange:n,error:!!q.username,helperText:null===q||void 0===q||null===(t=q.username)||void 0===t?void 0:t.message})}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsx)(Tt.a,{name:"fullName",control:K,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:r.fullName.title,variant:"outlined",required:!0,fullWidth:!0,value:a,onChange:n,error:!!q.fullName,helperText:null===q||void 0===q||null===(t=q.fullName)||void 0===t?void 0:t.message})}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsx)(Tt.a,{name:"phone",control:K,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:r.phone.title,variant:"outlined",required:!0,fullWidth:!0,value:a,onChange:n,error:!!q.phone,helperText:null===q||void 0===q||null===(t=q.phone)||void 0===t?void 0:t.message})}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsx)(Tt.a,{name:"email",control:K,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:r.email.title,variant:"outlined",required:!0,fullWidth:!0,value:a,onChange:n,error:!!q.email,helperText:(null===q||void 0===q||null===(t=q.email)||void 0===t?void 0:t.message)||r.email.helper})}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsx)(xe,{setLatitude:B,setLongitude:E,inputValue:T,setInputValue:P})}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:6,md:6,lg:6,children:[Object(I.jsx)(y.a,{children:r.isMale.title}),Object(I.jsx)(Tt.a,{name:"isMale",control:K,render:function(e){var t=e.value,a=e.onChange;return Object(I.jsxs)(_t.a,{value:t,onChange:a,row:!0,children:[Object(I.jsx)(Nt.a,{label:r.isMale.male.lb,value:r.isMale.male.value,control:Object(I.jsx)(Ct.a,{})}),Object(I.jsx)(Nt.a,{label:r.isMale.female.lb,value:r.isMale.female.value,control:Object(I.jsx)(Ct.a,{})})]})}})]}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:6,lg:6,children:Object(I.jsx)(St.a,{utils:kt.a,children:Object(I.jsx)(Tt.a,{name:"birthDate",control:K,render:function(e){e.ref;var t=Object(bt.a)(e,dn);return Object(I.jsx)(It.a,Object(D.a)({label:r.birthDate.title,format:r.birthDate.format,allowKeyboardControl:!0,disableFuture:!0},t))}})})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsxs)(g.a,{className:i.formControl,required:!0,children:[Object(I.jsx)(y.a,{children:r.roles.title}),Object(I.jsx)(Tt.a,{name:"roleName",control:K,render:function(e){var t=e.value,a=e.onChange;return Object(I.jsx)(_.a,{value:t,onChange:a,MenuProps:mn,disableUnderline:!0,children:j.map((function(e){return Object(I.jsx)(N.a,{value:e,classes:{root:i.menuItemRoot,selected:i.menuItemSelected},children:e},e)}))})}})]})})]})})}),Object(I.jsxs)(wt.a,{className:on.a.dialogAct,children:[Object(I.jsx)(O.a,{className:on.a.btnSave,disabled:!U.isDirty,onClick:W((function(e){var n=Object(D.a)(Object(D.a)({},e),{},{isMale:"true"===(null===e||void 0===e?void 0:e.isMale),birthDate:(null===e||void 0===e?void 0:e.birthDate)?ye()(null===e||void 0===e?void 0:e.birthDate).format("YYYY-MM-DD"):null,address:T,latitude:A,longitude:Y});(function(e){return wa.apply(this,arguments)})(n).then((function(e){var s;l("Created Account successfully",{variant:"success"}),s=n,new Promise((function(e,t){rn.database().ref("notify").child(s.username).push({avatar:"https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Fmajor-logo.png?alt=media&token=64f5c1ee-2428-4b99-b803-51a45422cdc1",actor:"System",type:"Welcome",content:"Welcome to Sales Department of Major Education!",timestamp:ye()(new Date).format("YYYY-MM-DD HH:mm:ss"),uid:0,isSeen:!1})})),a(p,h,x,v,C,w),t()})).catch((function(e){e.response&&(console.log(e),409===e.response.status||500===e.response.status?jn.forEach((function(e){var t=e.name,a=e.type,n=e.message;return z(t,{type:a,message:n})})):m.push({pathname:"/errors",state:{error:e.response.status}}),l(c.error,{variant:"error"}))}))})),children:n.save}),Object(I.jsx)(O.a,{onClick:function(){G({errors:!1,username:"",fullName:"",roleName:j[3],phone:"",email:"",address:"",isMale:String(!0),birthDate:null}),t()},children:n.cancel})]})]})},hn=["children","classes","onClose"],xn=Object(j.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,s=Object(bt.a)(e,hn);return Object(I.jsxs)(pt.a,Object(D.a)(Object(D.a)({disableTypography:!0,className:a.root},s),{},{children:[Object(I.jsx)(x.a,{variant:"h6",children:t}),n?Object(I.jsx)(ht.a,{className:a.closeButton,onClick:n,children:Object(I.jsx)(C.k,{})}):null]}))}));var vn=function(e){var t=e.open,a=e.onClose,n=e.refreshPage,s=vt;return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(xt.a,{open:t,onClose:a,maxWidth:"xs",children:[Object(I.jsx)(xn,{onClose:a,children:s.child1}),Object(I.jsx)(pn,{onClose:a,refreshPage:n})]})})},On=[{key:"no",name:"#",sortable:!1},{key:"username",name:"Username",sortable:!0},{key:"fullName",name:"Full Name",sortable:!0},{key:"phone",name:"Phone",sortable:!1},{key:"email",name:"Email",sortable:!1},{key:"role",name:"Role",sortable:!0},{key:"",name:"",sortable:!1}],fn={back:"Accounts"},gn={tab1:"General Info"},yn={notFound:"Account Not Found"},_n={filter:"Filters",search:{placeholder:"Search..."},create:"Create",notFound:"Account Not Found"},Nn={workingStatus:{title:"Working Status",options:{all:"All",active:"Active",inactive:"Inactive"}},role:{title:"Roles"}},Cn={notFound:"No records found.",info:"",success:"Updated Successfully",error:"Updated Failed",warning:""},wn={details:{title:"View details"}},Sn=a(369),In=a.n(Sn),kn={PaperProps:{style:{maxHeight:157}}},Tn=Object(u.a)((function(){return{formControl:{margin:"0.3rem 0",minWidth:160},flexBox:{padding:0},flexItem:{padding:0},option:{fontSize:"0.875rem"},btn:{padding:"0.5rem",marginLeft:"0.5rem",borderRadius:"8px"},root:{},menuItemRoot:{"&$menuItemSelected":{backgroundColor:"rgba(0, 0, 0, 0.08)"},"&$menuItemSelected:focus":{backgroundColor:"rgba(0, 0, 0, 0.12)"},"&$menuItemSelected:hover":{backgroundColor:"rgba(0, 0, 0, 0.04);"}},menuItemSelected:{}}})),Pn=Object(j.a)({root:{backgroundColor:"rgb(238, 238, 238)",borderRadius:"8px",marginBottom:"0.5rem",boxShadow:"none","&:not(:last-child)":{borderBottom:0,borderRadius:"8px"},"&:before":{display:"none"},"&$expanded":{margin:"auto",borderRadius:"8px"}},expanded:{}})(m.a),Dn=Object(j.a)({root:{height:41.5,minHeight:35,maxWidth:120,backgroundColor:"rgb(255, 255, 255)",fontWeight:"bold",boxShadow:"0 4px 6px -6px #000",borderRadius:"8px",paddingButtom:0,"&$expanded":{minHeight:35,borderRadius:"8px"}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(b.a),Vn=Object(j.a)((function(e){return{root:{backgroundColor:"rgb(255, 255, 255)",margin:"0.5rem 0",padding:"0.3rem 0 1rem 2rem",borderRadius:"8px"}}}))(p.a);var Rn=function(e){var t=Tn(),a=en(),n=a.params,r=a.dispatchParams,c=a.isActive,i=a.role,l=a.workingStatuses,o=a.setFilter,u=qa().roles,j=u||La(Oa.roles),m=_n,b=Nn,p=Object(s.useState)(!1),w=Object(d.a)(p,2),S=w[0],k=w[1];return Object(I.jsx)("div",{className:In.a.wrapper,children:Object(I.jsxs)(Pn,{children:[Object(I.jsxs)(h.a,{display:"flex",flexWrap:"nowrap",className:t.flexBox,children:[Object(I.jsx)(h.a,{className:t.flexItem,children:Object(I.jsxs)(Dn,{expandIcon:Object(I.jsx)(C.u,{}),children:[Object(I.jsx)(C.w,{className:In.a.iconFilter})," ","\xa0",Object(I.jsx)(x.a,{children:m.filter})]})}),Object(I.jsx)(h.a,{flexGrow:1,className:t.flexItem,children:Object(I.jsx)(mt,{chips:function(e){var t=[];for(var a in e)t.push(e[a]);return t}(n.listFilters),dispatch:r,handleChipsRemoved:function(e){e.forEach((function(e){switch(e){case Ge:o(Ge,null);break;case Ze:o(Ze,"")}}))}})}),Object(I.jsx)(h.a,{className:t.flexItem,children:Object(I.jsx)(P,{placeholder:m.search.placeholder,onChange:function(e){r({type:qe,payload:e})}})}),Object(I.jsxs)(h.a,{className:t.flexItem,children:[Object(I.jsx)(v.a,{title:m.create,children:Object(I.jsx)(O.a,{className:t.btn,variant:"contained",color:"secondary",onClick:function(){return k(!0)},children:Object(I.jsx)(C.b,{fontSize:"large"})})}),Object(I.jsx)(vn,{open:S,onClose:function(){return k(!1)},refreshPage:e.refreshPage})]})]}),Object(I.jsx)(Vn,{children:Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsx)(f.a,{item:!0,xs:6,sm:4,md:4,lg:3,children:Object(I.jsxs)(g.a,{className:t.formControl,children:[Object(I.jsx)(y.a,{children:b.workingStatus.title}),Object(I.jsx)(_.a,{value:null===c?"":c,onChange:function(e){var t=e.target.value;o(Ge,t),r({type:Ye,payload:{filterType:Ge,filterValue:t}})},MenuProps:kn,children:l.map((function(e){return Object(I.jsx)(N.a,{value:e,className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:"".concat(null===e?b.workingStatus.options.all:e?b.workingStatus.options.active:b.workingStatus.options.inactive)},e)}))})]})}),Object(I.jsx)(f.a,{item:!0,xs:6,sm:4,md:4,lg:3,children:Object(I.jsxs)(g.a,{className:t.formControl,children:[Object(I.jsx)(y.a,{children:b.role.title}),Object(I.jsxs)(_.a,{value:i||"",onChange:function(e){var t=e.target.value;o(Ze,t),r({type:Ee,payload:{filterType:Ze,filterValue:t||""}})},MenuProps:kn,children:[Object(I.jsx)(N.a,{value:"",className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:"All"}),null===j||void 0===j?void 0:j.map((function(e){return Object(I.jsx)(N.a,{value:e,className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:e},e)}))]})]})})]})})]})})},An=a(74),Bn=a(825),Mn=a(769),Fn=a(770),Yn=a(771),En=a(772),Hn=a(773),Ln=a(774),Kn=a(710),Wn=a(775),qn=a(714),zn=a(768),Un=a(826),Gn=a(468),Zn=a(767),Qn=a(370),Jn=a.n(Qn);var Xn=function(e){var t=e.data,a=wn,n=en().params,r=Object(o.k)().url,c=Object(s.useState)(null),i=Object(d.a)(c,2),u=i[0],j=i[1],m={model:t,params:n,pathName:"".concat(r,"/").concat(t.username)},b=function(){j(null)};return Object(I.jsxs)("div",{children:[Object(I.jsx)(v.a,{title:"Actions",children:Object(I.jsx)(ht.a,{color:"primary",onClick:function(e){j(e.currentTarget)},children:Object(I.jsx)(C.K,{})})}),Object(I.jsx)(Gn.a,{anchorEl:u,keepMounted:!0,open:!!u,onClose:b,children:Object(I.jsxs)(N.a,{onClick:b,component:l.b,to:{pathname:"".concat(r,"/").concat(t.username),state:{data:m}},children:[Object(I.jsx)(Zn.a,{className:Jn.a.itemIcon,children:Object(I.jsx)(C.A,{fontSize:"large"})}),Object(I.jsx)(zn.a,{className:Jn.a.itemText,children:a.details.title})]})})]})},$n=a(59),es=a.n($n),ts=a(63),as=a.n(ts);function ns(e){var t=Object(An.a)(),a=e.count,n=e.page,s=e.rowsPerPage,r=e.totalPage,c=e.onChangePage;return Object(I.jsxs)("div",{className:as.a.paging,children:[Object(I.jsx)(ht.a,{onClick:function(e){c(e,0)},disabled:0===n,"aria-label":"first page",children:"rtl"===t.direction?Object(I.jsx)(C.E,{}):Object(I.jsx)(C.x,{})}),Object(I.jsx)(ht.a,{onClick:function(e){c(e,n-1)},disabled:0===n,"aria-label":"previous page",children:"rtl"===t.direction?Object(I.jsx)(C.D,{}):Object(I.jsx)(C.C,{})}),Object(I.jsxs)("span",{children:[n+1," / ",r]}),Object(I.jsx)(ht.a,{onClick:function(e){c(e,n+1)},disabled:n>=Math.ceil(a/s)-1,"aria-label":"next page",children:"rtl"===t.direction?Object(I.jsx)(C.C,{}):Object(I.jsx)(C.D,{})}),Object(I.jsx)(ht.a,{onClick:function(e){c(e,Math.ceil(a/s)-1)},disabled:n>=Math.ceil(a/s)-1,"aria-label":"last page",children:"rtl"===t.direction?Object(I.jsx)(C.x,{}):Object(I.jsx)(C.E,{})})]})}function ss(e){var t=e.columns,a=e.direction,n=e.column,s=e.onRequestSort,r=Object(j.a)({root:{color:"white !important","&:hover":{color:"white !important"},"&$active":{color:"white !important"}},active:{},icon:{color:"white !important"}})(Bn.a);return Object(I.jsx)(Mn.a,{children:Object(I.jsx)(Fn.a,{className:as.a.tHead,children:t.map((function(e){return Object(I.jsx)(Yn.a,{className:as.a.tHeadCell,sortDirection:n===e.key&&a,align:"no"===e.key?"center":"left",children:(null===e||void 0===e?void 0:e.sortable)?Object(I.jsx)(r,{active:n===e.key,direction:n===e.key?a:"asc",onClick:function(){return function(e,t){s(e,t)}(e,a)},children:e.name}):e.name},e.key)}))})})}function rs(e){var t=e.columns,a=e.rows,n=e.totalRecord,s=e.totalPage,r=Cn,c=en(),i=c.params,l=c.dispatchParams,o=c.limit,d=c.direction,u=c.column,j=c.setColumn,m=c.setLimit,b=c.setPage,p=c.setDirection,h=function(e,t){b(t),l({type:Ue,payload:{page:t,limit:i.limit}})},x=function(e){switch(e){case Ft:return Object(I.jsx)(Se.a,{label:e,className:as.a.chipAdmin});case Yt:return Object(I.jsx)(Se.a,{label:e,className:as.a.chipManager});case Et:return Object(I.jsx)(Se.a,{label:e,className:as.a.chipSupervisor});case Ht:return Object(I.jsx)(Se.a,{label:e,className:as.a.chipSalesman});default:return Object(I.jsx)(Se.a,{label:e})}};return Object(I.jsxs)("div",{className:as.a.wrapper,children:[Object(I.jsx)(En.a,{className:as.a.container,component:"div",children:Object(I.jsxs)(Hn.a,{className:as.a.table,stickyHeader:!0,size:"small","aria-label":"sticky table",children:[Object(I.jsx)(ss,{columns:t,direction:d,column:u,onRequestSort:function(e,t){e.sortable&&(p("desc"===t?"asc":"desc"),j(e.key),l({type:ze,payload:{column:e.key,direction:t}}))}}),Object(I.jsx)(Ln.a,{className:as.a.tBody,children:(null===a||void 0===a?void 0:a.length)>0?a.map((function(e,t){return Object(I.jsxs)(Fn.a,{className:as.a.tBodyRow,children:[Object(I.jsx)(Yn.a,{className:as.a.tableCell,align:"center",children:i.page*i.limit+t+1}),Object(I.jsx)(Yn.a,{className:!1===(null===e||void 0===e?void 0:e.active)?as.a.tCellInactiveAccount:as.a.tBodyCell,children:Object(I.jsx)(es.a,{highlightClassName:"YourHighlightClass",searchWords:[i.searchKey],autoEscape:!0,textToHighlight:(null===e||void 0===e?void 0:e.username)||""})}),Object(I.jsx)(Yn.a,{className:as.a.tBodyCell,children:Object(I.jsxs)(Kn.a,{className:!1===(null===e||void 0===e?void 0:e.active)?as.a.listItemInactive:as.a.listItem,children:[Object(I.jsx)(Wn.a,{className:!1===(null===e||void 0===e?void 0:e.active)?as.a.picAvatarInactive:"",children:Object(I.jsx)(qn.a,{src:null===e||void 0===e?void 0:e.avatar})}),Object(I.jsx)(zn.a,{className:!1===(null===e||void 0===e?void 0:e.active)?as.a.picNameInactive:as.a.picName,primary:Object(I.jsx)(es.a,{highlightClassName:"YourHighlightClass",searchWords:[i.searchKey],autoEscape:!0,textToHighlight:(null===e||void 0===e?void 0:e.fullName)||""})})]})}),Object(I.jsx)(Yn.a,{className:!1===(null===e||void 0===e?void 0:e.active)?as.a.tCellInactiveAccount:as.a.tBodyCell,children:Object(I.jsx)(es.a,{highlightClassName:"YourHighlightClass",searchWords:[i.searchKey],autoEscape:!0,textToHighlight:(null===e||void 0===e?void 0:e.phone)||""})}),Object(I.jsx)(Yn.a,{className:!1===(null===e||void 0===e?void 0:e.active)?as.a.tCellInactiveAccount:as.a.tBodyCell,children:Object(I.jsx)(es.a,{highlightClassName:"YourHighlightClass",searchWords:[i.searchKey],autoEscape:!0,textToHighlight:(null===e||void 0===e?void 0:e.email)||""})}),Object(I.jsx)(Yn.a,{className:as.a.tBodyCell,children:(null===e||void 0===e?void 0:e.roleName)&&x(null===e||void 0===e?void 0:e.roleName)}),Object(I.jsx)(Yn.a,{className:as.a.tBodyCell,align:"right",children:Object(I.jsx)(Xn,{data:e||null})})]},null===e||void 0===e?void 0:e.username)})):Object(I.jsx)(Fn.a,{className:as.a.tBodyRow,children:Object(I.jsx)(Yn.a,{className:as.a.noRecord,component:"td",colSpan:"100%",children:r.notFound})})})]})}),Object(I.jsx)(Un.a,{rowsPerPageOptions:[10,20,50],component:"div",count:n||0,rowsPerPage:o,page:i.page,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:h,onChangeRowsPerPage:function(e){m(parseInt(e.target.value,10)),b(0),l({type:Ue,payload:{page:0,limit:parseInt(e.target.value,10)}})},ActionsComponent:function(){return Object(I.jsx)(ns,{count:n||0,page:i.page,rowsPerPage:i.limit,totalPage:s,onChangePage:h})}})]})}var cs=r.a.memo(rs),is=a(322),ls=a.n(is);var os=function(){var e=Object(o.h)(),t=en().params,a=t.listFilters,n=t.page,r=t.limit,c=t.column,i=t.direction,l=t.searchKey,u=Object(s.useState)(null),j=Object(d.a)(u,2),m=j[0],b=j[1],p=!0,h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"username",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"asc",r=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0;ya(t,a,n,s,r,c).then((function(e){p&&b(e.data)})).catch((function(t){t.response&&(console.log(t),e.push({pathname:"/errors",state:{error:t.response.status}}))}))};return Object(s.useEffect)((function(){return h(n,r,c,i,l,a),function(){p=!1}}),[t]),m?Object(I.jsxs)("div",{className:ls.a.panel,children:[Object(I.jsx)(Rn,{className:ls.a.filter,refreshPage:h}),Object(I.jsx)(cs,{columns:On,rows:m.list,className:ls.a.table,totalRecord:m.totalElements,totalPage:m.totalPage})]}):Object(I.jsx)(se,{})},ds=a(11),us=a(0),js=a(779),ms=a(780),bs=a(761),ps=a(781),hs=a(752);var xs=function(e){return Object(s.useReducer)((function(e){return!e}),e)},vs=[{title:"Dashboards",path:"dashboards",icon:Object(I.jsx)(C.m,{})},{title:"Accounts",path:"accounts",icon:Object(I.jsx)(C.y,{})},{title:"Tasks",path:"tasks",icon:Object(I.jsx)(fe.f,{})},{title:"Work Plans",path:"work-plans",icon:Object(I.jsx)(C.n,{})},{title:"Schools",path:"schools",icon:Object(I.jsx)(fe.d,{})},{title:"Reports",path:"reports",icon:Object(I.jsx)(C.p,{})},{title:"Services",path:"services",icon:Object(I.jsx)(fe.c,{})},{title:"KPIs",path:"kpis",icon:Object(I.jsx)(fe.a,{})}];var Os={0:[{title:"My Profile",icon:Object(I.jsx)(C.a,{})}],1:[{title:"Log Out",icon:Object(I.jsx)(C.t,{})}]},fs=Object(s.createContext)();function gs(){return Object(s.useContext)(fs)}var ys=function(e){var t=e.children,a=function(){var e=Object(s.useState)(Ea(Oa.token)?Ea(Oa.token):null),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(null),c=Object(d.a)(r,2),i=c[0],l=c[1];return a||Ka([Oa.dists,Oa.eduLvls,Oa.types,Oa.status,Oa.roles,Oa.schYears,Oa.salesPurps]),{user:a,setUser:n,verifyCode:i,setVerifyCode:l}}();return Object(I.jsx)(fs.Provider,{value:a,children:t})},_s=function(e,t){var a=t.type,n=t.payload,s=e.listFilters;switch(a){case Ie:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{PIC:n})});case ke:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{district:n})});case Te:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{schoolYear:n})});case Re:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{purpose:n})});case Be:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{result:n})});case Me:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{dateRange:n})});case qe:return Object(D.a)(Object(D.a)({},e),{},{page:0,searchKey:n});case ze:return Object(D.a)(Object(D.a)({},e),{},{column:n.column,direction:n.direction});case Ue:return Object(D.a)(Object(D.a)({},e),{},{page:n.page,limit:n.limit});default:return e}},Ns=Object(s.createContext)();function Cs(){return Object(s.useContext)(Ns)}var ws={PIC:{filterType:Qe,filterValue:null},district:{filterType:Je,filterValue:""},schoolYear:{filterType:Xe,filterValue:""},purpose:{filterType:et,filterValue:""},dateRange:{filterType:at,filterValue:[null,null]},result:{filterType:nt,filterValue:null}};var Ss=function(e){var t=e.children,a=function(){var e=Object(o.h)(),t=Object(s.useReducer)(_s,{listFilters:ws,searchKey:"",page:0,limit:10,column:"date",direction:"desc"}),a=Object(d.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)(n.page),i=Object(d.a)(c,2),l=i[0],u=i[1],j=Object(s.useState)(n.limit),m=Object(d.a)(j,2),b=m[0],p=m[1],h=Object(s.useState)(n.column),x=Object(d.a)(h,2),v=x[0],O=x[1],f=Object(s.useState)(n.direction),g=Object(d.a)(f,2),y=g[0],_=g[1],N=Object(s.useState)(ws.PIC.filterValue?ws.PIC.filterValue:null),C=Object(d.a)(N,2),w=C[0],S=C[1],I=Object(s.useState)(ws.district.filterValue?ws.district.filterValue:""),k=Object(d.a)(I,2),T=k[0],P=k[1],V=Object(s.useState)(ws.schoolYear.filterValue?ws.schoolYear.filterValue:""),R=Object(d.a)(V,2),A=R[0],B=R[1],M=Object(s.useState)(ws.purpose.filterValue?ws.purpose.filterValue:""),F=Object(d.a)(M,2),Y=F[0],E=F[1],H=Object(s.useState)(ws.dateRange.filterValue[0]?ws.dateRange.filterValue:[null,null]),L=Object(d.a)(H,2),K=L[0],W=L[1],q=Object(s.useState)(ws.result.filterValue?ws.result.filterValue:null),z=Object(d.a)(q,2),U=z[0],G=z[1],Z=Object(s.useState)([]),Q=Object(d.a)(Z,2),J=Q[0],X=Q[1],$=function(t){Aa({active:!0,fullName:t,role:Ht}).then((function(e){X(e)})).catch((function(t){t.response&&(console.log(t),e.push({pathname:"/errors",state:{error:t.response.status}}))}))};return Object(s.useEffect)((function(){$()}),[]),{params:n,dispatchParams:r,PICs:J,page:l,setPage:u,limit:b,setLimit:p,direction:y,setDirection:_,column:v,setColumn:O,PIC:w,district:T,schoolYear:A,purpose:Y,dateRange:K,setFilter:function(e,t){switch(e){case Qe:ws=Object(D.a)(Object(D.a)({},ws),{},{PIC:{filterType:Qe,filterValue:t}}),S(t);break;case Je:ws=Object(D.a)(Object(D.a)({},ws),{},{district:{filterType:Je,filterValue:t}}),P(t);break;case Xe:ws=Object(D.a)(Object(D.a)({},ws),{},{schoolYear:{filterType:Xe,filterValue:t}}),B(t);break;case et:ws=Object(D.a)(Object(D.a)({},ws),{},{purpose:{filterType:et,filterValue:t}}),E(t);break;case at:ws=Object(D.a)(Object(D.a)({},ws),{},{dateRange:{filterType:at,filterValue:t}}),W(t);break;case nt:ws=Object(D.a)(Object(D.a)({},ws),{},{result:{filterType:nt,filterValue:t}}),G(t)}},getListPICs:$,result:U,reportResults:[null,!0,!1]}}();return Object(I.jsx)(Ns.Provider,{value:a,children:t})},Is=function(e,t){var a=t.type,n=t.payload,s=e.listFilters;switch(a){case ke:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{district:n})});case Pe:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{type:n})});case De:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{level:n})});case Ve:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{status:n})});case Ye:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{isActive:n})});case qe:return Object(D.a)(Object(D.a)({},e),{},{page:0,searchKey:n});case ze:return Object(D.a)(Object(D.a)({},e),{},{column:n.column,direction:n.direction});case Ue:return Object(D.a)(Object(D.a)({},e),{},{page:n.page,limit:n.limit});default:return e}},ks=Object(s.createContext)();function Ts(){return Object(s.useContext)(ks)}var Ps={district:{filterType:Je,filterValue:""},type:{filterType:st,filterValue:""},level:{filterType:rt,filterValue:""},status:{filterType:$e,filterValue:""},isActive:{filterType:Ge,filterValue:null}};var Ds=function(e){var t=e.children,a=function(){var e=Object(s.useReducer)(Is,{listFilters:Ps,searchKey:"",page:0,limit:10,column:"schoolId",direction:"asc"}),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(a.page),c=Object(d.a)(r,2),i=c[0],l=c[1],o=Object(s.useState)(a.limit),u=Object(d.a)(o,2),j=u[0],m=u[1],b=Object(s.useState)(a.column),p=Object(d.a)(b,2),h=p[0],x=p[1],v=Object(s.useState)(a.direction),O=Object(d.a)(v,2),f=O[0],g=O[1],y=Object(s.useState)(Ps.district.filterValue?Ps.district.filterValue:""),_=Object(d.a)(y,2),N=_[0],C=_[1],w=Object(s.useState)(Ps.type.filterValue?Ps.type.filterValue:""),S=Object(d.a)(w,2),I=S[0],k=S[1],T=Object(s.useState)(Ps.level.filterValue?Ps.level.filterValue:""),P=Object(d.a)(T,2),V=P[0],R=P[1],A=Object(s.useState)(Ps.status.filterValue?Ps.status.filterValue:""),B=Object(d.a)(A,2),M=B[0],F=B[1],Y=Object(s.useState)(Ps.isActive.filterValue?Ps.isActive.filterValue:null),E=Object(d.a)(Y,2),H=E[0],L=E[1];return{params:a,dispatchParams:n,page:i,setPage:l,limit:j,setLimit:m,direction:f,setDirection:g,column:h,setColumn:x,district:N,schoolType:I,schoolLevel:V,schoolStatus:M,isActive:H,workingStatuses:[null,!0,!1],setFilter:function(e,t){switch(e){case Je:Ps=Object(D.a)(Object(D.a)({},Ps),{},{district:{filterType:Je,filterValue:t}}),C(t);break;case st:Ps=Object(D.a)(Object(D.a)({},Ps),{},{type:{filterType:st,filterValue:t}}),k(t);break;case rt:Ps=Object(D.a)(Object(D.a)({},Ps),{},{level:{filterType:rt,filterValue:t}}),R(t);break;case $e:Ps=Object(D.a)(Object(D.a)({},Ps),{},{status:{filterType:$e,filterValue:t}}),F(t);break;case Ge:Ps=Object(D.a)(Object(D.a)({},Ps),{},{isActive:{filterType:Ge,filterValue:t}}),L(t)}}}}();return Object(I.jsx)(ks.Provider,{value:a,children:t})},Vs=function(e,t){var a=t.type,n=t.payload,s=e.listFilters;switch(a){case Te:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{schoolYear:n})});case ke:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{district:n})});case Pe:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{type:n})});case De:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{level:n})});case Ie:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{PIC:n})});case Re:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{purpose:n})});case Ve:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{status:n})});case Ae:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{isAssigned:n})});case Fe:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{taskStatus:n})});case qe:return Object(D.a)(Object(D.a)({},e),{},{page:0,searchKey:n});case ze:return Object(D.a)(Object(D.a)({},e),{},{column:n.column,direction:n.direction});case Ue:return Object(D.a)(Object(D.a)({},e),{},{page:n.page,limit:n.limit});default:return e}};function Rs(){return As.apply(this,arguments)}function As(){return(As=Object(At.a)(Rt.a.mark((function e(){var t,a,n,s,r,c,i,l,o,d,u=arguments;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:0,a=u.length>1&&void 0!==u[1]?u[1]:10,n=u.length>2&&void 0!==u[2]?u[2]:"assignDate",s=u.length>3&&void 0!==u[3]?u[3]:"desc",r=u.length>4&&void 0!==u[4]?u[4]:void 0,c=u.length>5&&void 0!==u[5]?u[5]:void 0,i=u.length>6?u[6]:void 0,l="/tasks?page=".concat(t,"&limit=").concat(a,"&column=").concat(n,"&direction=").concat(s),l=r?l.concat("&key=".concat(r)):l,l=i?l.concat("&username=".concat(i)):l,c&&(l=c.schoolYear.filterValue?l.concat("&schoolYear=".concat(c.schoolYear.filterValue)):l,l=c.district.filterValue?l.concat("&district=".concat(c.district.filterValue)):l,l=c.type.filterValue?l.concat("&type=".concat(c.type.filterValue)):l,l=c.level.filterValue?l.concat("&level=".concat(c.level.filterValue)):l,l=c.PIC.filterValue?l.concat("&fullName=".concat(c.PIC.filterValue.fullName)):l,l=c.purpose.filterValue?l.concat("&purpose=".concat(c.purpose.filterValue)):l,l=c.status.filterValue?l.concat("&status=".concat(c.status.filterValue)):l,l=null!==c.isAssigned.filterValue?l.concat("&isAssigned=".concat(c.isAssigned.filterValue)):l,l=c.taskStatus.filterValue?l.concat("&result=".concat(c.taskStatus.filterValue)):l),e.next=13,ga.get(l);case 13:return o=e.sent,e.next=16,o.data;case 16:return d=e.sent,e.abrupt("return",d);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bs(e){return Ms.apply(this,arguments)}function Ms(){return(Ms=Object(At.a)(Rt.a.mark((function e(t){var a,n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.get("/tasks/".concat(t));case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fs(){return(Fs=Object(At.a)(Rt.a.mark((function e(t,a){var n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.patch("/schools/principal/".concat(t),a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ys(){return(Ys=Object(At.a)(Rt.a.mark((function e(t,a){var n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.patch("/tasks/".concat(t),a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Es(){return(Es=Object(At.a)(Rt.a.mark((function e(t){var a,n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.delete("/tasks/".concat(t),{taskId:t});case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hs(e,t,a,n,s,r,c){return Ls.apply(this,arguments)}function Ls(){return(Ls=Object(At.a)(Rt.a.mark((function e(t,a,n,s,r,c,i){var l,o,d;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l="/schools/targets-creating?active=true&schoolYear=".concat(t,"&page=").concat(a,"&limit=").concat(n,"&column=").concat(s,"&direction=").concat(r),l=c?l.concat("&key=".concat(c)):l,i&&(l=i.district.filterValue?l.concat("&district=".concat(i.district.filterValue)):l,l=i.type.filterValue?l.concat("&type=".concat(i.type.filterValue)):l,l=i.level.filterValue?l.concat("&level=".concat(i.level.filterValue)):l,l=i.status.filterValue?l.concat("&status=".concat(i.status.filterValue)):l),e.next=5,ga.get(l);case 5:return o=e.sent,e.next=8,o.data;case 8:return d=e.sent,e.abrupt("return",d);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ks(){return(Ks=Object(At.a)(Rt.a.mark((function e(t){var a,n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.post("/tasks",t);case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ws(){return(Ws=Object(At.a)(Rt.a.mark((function e(t){var a;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.put("/tasks/completed/".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qs(){return(qs=Object(At.a)(Rt.a.mark((function e(t){var a;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.put("/tasks/failed/".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zs(){return(zs=Object(At.a)(Rt.a.mark((function e(t){var a,n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.post("/schools/suggestion",t);case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Us(){return(Us=Object(At.a)(Rt.a.mark((function e(t){var a,n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.put("/tasks/mutiple-assign",t);case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gs(){return(Gs=Object(At.a)(Rt.a.mark((function e(t){var a,n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.put("/tasks/unassign/".concat(t));case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zs(){return(Zs=Object(At.a)(Rt.a.mark((function e(t){var a,n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.get("/tasks/timeline/".concat(t));case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qs(){return(Qs=Object(At.a)(Rt.a.mark((function e(){var t,a;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.get("/serviceTypes");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Js(e){return Xs.apply(this,arguments)}function Xs(){return(Xs=Object(At.a)(Rt.a.mark((function e(t){var a;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.post("/services",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $s(){return er.apply(this,arguments)}function er(){return(er=Object(At.a)(Rt.a.mark((function e(){var t,a;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.get("/users?active=true&role=SALES MANAGER");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tr=Object(s.createContext)();function ar(){return Object(s.useContext)(tr)}var nr={schoolYear:{filterType:Xe,filterValue:""},district:{filterType:Je,filterValue:""},type:{filterType:st,filterValue:""},level:{filterType:rt,filterValue:""},PIC:{filterType:Qe,filterValue:null},purpose:{filterType:et,filterValue:""},status:{filterType:$e,filterValue:""},isAssigned:{filterType:tt,filterValue:null},taskStatus:{filterType:ct,filterValue:""}};function sr(){var e=Object(o.h)(),t=Object(s.useReducer)(Vs,{listFilters:nr,searchKey:"",page:0,limit:10,column:"assignDate",direction:"desc"}),a=Object(d.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)(n.page),i=Object(d.a)(c,2),l=i[0],u=i[1],j=Object(s.useState)(n.limit),m=Object(d.a)(j,2),b=m[0],p=m[1],h=Object(s.useState)(n.column),x=Object(d.a)(h,2),v=x[0],O=x[1],f=Object(s.useState)(n.direction),g=Object(d.a)(f,2),y=g[0],_=g[1],N=Object(s.useState)(nr.schoolYear.filterValue?nr.schoolYear.filterValue:""),C=Object(d.a)(N,2),w=C[0],S=C[1],I=Object(s.useState)(nr.district.filterValue?nr.district.filterValue:""),k=Object(d.a)(I,2),T=k[0],P=k[1],V=Object(s.useState)(nr.type.filterValue?nr.type.filterValue:""),R=Object(d.a)(V,2),A=R[0],B=R[1],M=Object(s.useState)(nr.level.filterValue?nr.level.filterValue:""),F=Object(d.a)(M,2),Y=F[0],E=F[1],H=Object(s.useState)(nr.PIC.filterValue?nr.PIC.filterValue:null),L=Object(d.a)(H,2),K=L[0],W=L[1],q=Object(s.useState)(nr.purpose.filterValue?nr.purpose.filterValue:""),z=Object(d.a)(q,2),U=z[0],G=z[1],Z=Object(s.useState)(nr.status.filterValue?nr.status.filterValue:""),Q=Object(d.a)(Z,2),J=Q[0],X=Q[1],$=Object(s.useState)(nr.isAssigned.filterValue?nr.isAssigned.filterValue:null),ee=Object(d.a)($,2),te=ee[0],ae=ee[1],ne=Object(s.useState)(nr.taskStatus.filterValue?nr.taskStatus.filterValue:""),se=Object(d.a)(ne,2),re=se[0],ce=se[1],ie=Object(s.useState)([]),le=Object(d.a)(ie,2),oe=le[0],de=le[1],ue=Object(s.useState)([]),je=Object(d.a)(ue,2),me=je[0],be=je[1],pe=[ea,ta,aa],he=function(t){Aa({active:!0,fullName:t,role:Ht}).then((function(e){de(e)})).catch((function(t){t.response&&(console.log(t),e.push({pathname:"/errors",state:{error:t.response.status}}))}))};return Object(s.useEffect)((function(){he()}),[]),Object(s.useEffect)((function(){(function(){return Qs.apply(this,arguments)})().then((function(e){be(e)})).catch((function(t){t.response&&(console.log(t),e.push({pathname:"/errors",state:{error:t.response.status}}))}))}),[]),{params:n,dispatchParams:r,PICs:oe,page:l,setPage:u,limit:b,setLimit:p,direction:y,setDirection:_,column:v,setColumn:O,schoolYear:w,district:T,schoolType:A,schoolLevel:Y,PIC:K,purpose:U,schoolStatus:J,isAssigned:te,assignedStatuses:[null,!0,!1],setFilter:function(e,t){switch(e){case Xe:nr=Object(D.a)(Object(D.a)({},nr),{},{schoolYear:{filterType:Xe,filterValue:t}}),S(t);break;case Je:nr=Object(D.a)(Object(D.a)({},nr),{},{district:{filterType:Je,filterValue:t}}),P(t);break;case st:nr=Object(D.a)(Object(D.a)({},nr),{},{type:{filterType:st,filterValue:t}}),B(t);break;case rt:nr=Object(D.a)(Object(D.a)({},nr),{},{level:{filterType:rt,filterValue:t}}),E(t);break;case Qe:nr=Object(D.a)(Object(D.a)({},nr),{},{PIC:{filterType:Qe,filterValue:t}}),W(t);break;case et:nr=Object(D.a)(Object(D.a)({},nr),{},{purpose:{filterType:et,filterValue:t}}),G(t);break;case $e:nr=Object(D.a)(Object(D.a)({},nr),{},{status:{filterType:$e,filterValue:t}}),X(t);break;case tt:nr=Object(D.a)(Object(D.a)({},nr),{},{isAssigned:{filterType:tt,filterValue:t}}),ae(t);break;case ct:nr=Object(D.a)(Object(D.a)({},nr),{},{taskStatus:{filterType:ct,filterValue:t}}),ce(t)}},getListPICs:he,serviceTypes:me,taskStatus:re,taskStatuses:pe}}var rr=function(e){var t=e.children,a=sr();return Object(I.jsx)(tr.Provider,{value:a,children:t})},cr=function(e,t){var a=t.type,n=t.payload,s=e.listFilters;switch(a){case He:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{serviceStatus:n})});case Le:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{serviceType:n})});case Te:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{schoolYear:n})});case Ke:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{isExpired:n})});case Me:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{dateRange:n})});case qe:return Object(D.a)(Object(D.a)({},e),{},{page:0,searchKey:n});case ze:return Object(D.a)(Object(D.a)({},e),{},{column:n.column,direction:n.direction});case Ue:return Object(D.a)(Object(D.a)({},e),{},{page:n.page,limit:n.limit});default:return e}};function ir(){return lr.apply(this,arguments)}function lr(){return(lr=Object(At.a)(Rt.a.mark((function e(){var t,a,n,s,r,c,i,l,o,d=arguments;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:0,a=d.length>1&&void 0!==d[1]?d[1]:10,n=d.length>2&&void 0!==d[2]?d[2]:"submitDate",s=d.length>3&&void 0!==d[3]?d[3]:"desc",r=d.length>4&&void 0!==d[4]?d[4]:void 0,c=d.length>5&&void 0!==d[5]?d[5]:void 0,i=d.length>6?d[6]:void 0,l="/services?page=".concat(t,"&limit=").concat(a,"&column=").concat(n,"&direction=").concat(s),l=r?l.concat("&key=".concat(r)):l,l=i?l.concat("&username=".concat(i)):l,c&&(l=c.serviceStatus.filterValue?l.concat("&status=".concat(c.serviceStatus.filterValue)):l,l=c.serviceType.filterValue?l.concat("&serviceType=".concat(c.serviceType.filterValue)):l,l=c.schoolYear.filterValue?l.concat("&schoolYear=".concat(c.schoolYear.filterValue)):l),e.next=13,ga.get(l);case 13:return o=e.sent,e.abrupt("return",o);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function or(){return(or=Object(At.a)(Rt.a.mark((function e(t){var a,n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.get("/services/".concat(t));case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dr(){return(dr=Object(At.a)(Rt.a.mark((function e(t,a){var n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.put("/services/".concat(t),a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ur(){return(ur=Object(At.a)(Rt.a.mark((function e(){var t,a;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.get("/serviceTypes");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jr(){return(jr=Object(At.a)(Rt.a.mark((function e(t){var a;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.patch("/services/approved/".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mr(){return(mr=Object(At.a)(Rt.a.mark((function e(t,a){var n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.patch("/services/rejected/".concat(t,"?reason=").concat(a));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var br=Object(s.createContext)();function pr(){return Object(s.useContext)(br)}var hr={serviceStatus:{filterType:it,filterValue:""},serviceType:{filterType:lt,filterValue:""},schoolYear:{filterType:Xe,filterValue:""},isExpired:{filterType:ot,filterValue:null},dateRange:{filterType:at,filterValue:[null,null]},PIC:{filterType:Qe,filterValue:null}};function xr(){var e=Object(o.h)(),t=Object(s.useReducer)(cr,{listFilters:hr,searchKey:"",page:0,limit:10,column:"submitDate",direction:"desc"}),a=Object(d.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)(n.page),i=Object(d.a)(c,2),l=i[0],u=i[1],j=Object(s.useState)(n.limit),m=Object(d.a)(j,2),b=m[0],p=m[1],h=Object(s.useState)(n.column),x=Object(d.a)(h,2),v=x[0],O=x[1],f=Object(s.useState)(n.direction),g=Object(d.a)(f,2),y=g[0],_=g[1],N=Object(s.useState)(hr.serviceStatus.filterValue?hr.serviceStatus.filterValue:""),C=Object(d.a)(N,2),w=C[0],S=C[1],I=Object(s.useState)(hr.serviceType.filterValue?hr.serviceType.filterValue:""),k=Object(d.a)(I,2),T=k[0],P=k[1],V=Object(s.useState)(hr.schoolYear.filterValue?hr.schoolYear.filterValue:""),R=Object(d.a)(V,2),A=R[0],B=R[1],M=Object(s.useState)(hr.isExpired.filterValue?hr.isExpired.filterValue:""),F=Object(d.a)(M,2),Y=F[0],E=F[1],H=Object(s.useState)(hr.dateRange.filterValue[0]?hr.dateRange.filterValue:[null,null]),L=Object(d.a)(H,2),K=L[0],W=L[1],q=Object(s.useState)(hr.PIC.filterValue?hr.PIC.filterValue:null),z=Object(d.a)(q,2),U=z[0],G=z[1],Z=Object(s.useState)([]),Q=Object(d.a)(Z,2),J=Q[0],X=Q[1],$=Object(s.useState)([]),ee=Object(d.a)($,2),te=ee[0],ae=ee[1];Object(s.useEffect)((function(){(function(){return ur.apply(this,arguments)})().then((function(e){ae(e)})).catch((function(t){t.response&&(console.log(t),e.push({pathname:"/errors",state:{error:t.response.status}}))}))}),[]);var ne=function(t){Aa({active:!0,fullName:t,role:Ht}).then((function(e){X(e)})).catch((function(t){t.response&&(console.log(t),e.push({pathname:"/errors",state:{error:t.response.status}}))}))};return Object(s.useEffect)((function(){ne()}),[]),{params:n,dispatchParams:r,page:l,setPage:u,limit:b,setLimit:p,direction:y,setDirection:_,column:v,setColumn:O,serviceStatus:w,serviceType:T,schoolYear:A,serviceTypes:te,dateRange:K,isExpired:Y,expiredStatuses:[null,!0,!1],serviceStatuses:["Pending","Approved","Rejected"],PIC:U,PICs:J,getListPICs:ne,setFilter:function(e,t){switch(e){case it:hr=Object(D.a)(Object(D.a)({},hr),{},{serviceStatus:{filterType:it,filterValue:t}}),S(t);break;case lt:hr=Object(D.a)(Object(D.a)({},hr),{},{serviceType:{filterType:lt,filterValue:t}}),P(t);break;case Xe:hr=Object(D.a)(Object(D.a)({},hr),{},{schoolYear:{filterType:Xe,filterValue:t}}),B(t);break;case ot:hr=Object(D.a)(Object(D.a)({},hr),{},{isExpired:{filterType:ot,filterValue:t}}),E(t);break;case at:hr=Object(D.a)(Object(D.a)({},hr),{},{dateRange:{filterType:at,filterValue:t}}),W(t);break;case Qe:hr=Object(D.a)(Object(D.a)({},hr),{},{PIC:{filterType:Qe,filterValue:t}}),G(t)}}}}var vr=function(e){var t=e.children,a=xr();return Object(I.jsx)(br.Provider,{value:a,children:t})},Or=function(e,t){var a=t.type,n=t.payload,s=e.listFilters;switch(a){case We:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{status:n})});case qe:return Object(D.a)(Object(D.a)({},e),{},{page:0,searchKey:n});case ze:return Object(D.a)(Object(D.a)({},e),{},{column:n.column,direction:n.direction});default:return e}};function fr(){return gr.apply(this,arguments)}function gr(){return(gr=Object(At.a)(Rt.a.mark((function e(){var t,a,n,s,r,c,i=arguments;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"id",a=i.length>1&&void 0!==i[1]?i[1]:"desc",n=i.length>2&&void 0!==i[2]?i[2]:void 0,s=i.length>3&&void 0!==i[3]?i[3]:void 0,r="/kpi-groups?column=".concat(t,"&direction=").concat(a),r=n?r.concat("&key=".concat(n)):r,s&&(r=s.status.filterValue?r.concat("&status=".concat(s.status.filterValue)):r),e.next=9,ga.get(r);case 9:return c=e.sent,e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yr(){return(yr=Object(At.a)(Rt.a.mark((function e(t){var a,n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.get("/kpi-groups/".concat(t));case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _r(){return(_r=Object(At.a)(Rt.a.mark((function e(t){var a,n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.get("/kpis/".concat(t));case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nr(){return Cr.apply(this,arguments)}function Cr(){return(Cr=Object(At.a)(Rt.a.mark((function e(){var t,a,n,s,r,c,i,l,o=arguments;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"id",a=o.length>1&&void 0!==o[1]?o[1]:"desc",n=o.length>2&&void 0!==o[2]?o[2]:void 0,s=o.length>3&&void 0!==o[3]?o[3]:void 0,r=o.length>4?o[4]:void 0,c="/kpi-groups/group?column=".concat(t,"&direction=").concat(a),c=n?c.concat("&key=".concat(n)):c,c=r?c.concat("&username=".concat(r)):c,s&&(c=s.status.filterValue?c.concat("&status=".concat(s.status.filterValue)):c),e.next=11,ga.get(c);case 11:return i=e.sent,l=i.data,e.abrupt("return",l);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wr(){return(wr=Object(At.a)(Rt.a.mark((function e(t,a){var n,s;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.get("/kpis/".concat(t,"/").concat(a));case 2:return n=e.sent,e.next=5,n.data;case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sr(){return(Sr=Object(At.a)(Rt.a.mark((function e(t){var a;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.post("/kpis",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ir(){return(Ir=Object(At.a)(Rt.a.mark((function e(t){var a;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.delete("/kpi-groups/".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kr(){return(kr=Object(At.a)(Rt.a.mark((function e(t,a){var n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.put("/kpis/".concat(t),a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tr(){return Pr.apply(this,arguments)}function Pr(){return(Pr=Object(At.a)(Rt.a.mark((function e(){var t,a;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.get("/criteria");case 2:return t=e.sent,e.next=5,t.data;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dr(){return(Dr=Object(At.a)(Rt.a.mark((function e(t){var a,n,s;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ka.a.stringify(t),e.next=3,ga.get("/users/get-all?".concat(a));case 3:return n=e.sent,e.next=6,n.data;case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vr=Object(s.createContext)();function Rr(){return Object(s.useContext)(Vr)}var Ar={status:{filterType:dt,filterValue:""}};var Br=function(e){var t=e.children,a=function(){var e,t=Object(o.h)(),a=Object(s.useReducer)(Or,{listFilters:Ar,searchKey:"",column:"id",direction:"desc"}),n=Object(d.a)(a,2),r=n[0],c=n[1],i=Object(s.useState)(r.column),l=Object(d.a)(i,2),u=l[0],j=l[1],m=Object(s.useState)(r.direction),b=Object(d.a)(m,2),p=b[0],h=b[1],x=Object(s.useState)(Ar.status.filterValue?Ar.status.filterValue:""),v=Object(d.a)(x,2),O=v[0],f=v[1],g=[ua,ja,ma],y=Object(s.useState)([]),_=Object(d.a)(y,2),N=_[0],C=_[1];return Object(s.useEffect)((function(){Tr().then((function(e){C(e)})).catch((function(e){e.response&&(console.log(e),t.push({pathname:"/errors",state:{error:e.response.status}}))}))}),[]),e={params:r,dispatchParams:c,direction:p,setDirection:h,column:u,setColumn:j,status:O,setStatus:f,criteria:N},Object(w.a)(e,"status",O),Object(w.a)(e,"kpiStatuses",g),Object(w.a)(e,"setFilter",(function(e,t){switch(e){case dt:Ar=Object(D.a)(Object(D.a)({},Ar),{},{status:{filterType:dt,filterValue:t}}),f(t)}})),e}();return Object(I.jsx)(Vr.Provider,{value:a,children:t})},Mr={ADMIN:{route:"/apps/accounts"},"SALES MANAGER":{route:"/apps/dashboards"},"SALES SUPERVISOR":{route:"/apps/dashboards"},SALESMAN:{route:"/apps/dashboards"}},Fr={ADMIN:[{path:"accounts",component:function(){return Object(I.jsx)(an,{children:Object(I.jsx)(os,{})})}},{path:"accounts/:id",component:function(){return Object(I.jsx)(_c,{})}},{path:"schools",component:function(){return Object(I.jsx)(Ds,{children:Object(I.jsx)(Nu,{})})}},{path:"schools/:id",component:function(){return Object(I.jsx)(tj,{})}}],"SALES MANAGER":[{path:"dashboards",component:function(){return Object(I.jsx)($c,{})}},{path:"schools",component:function(){return Object(I.jsx)(Ds,{children:Object(I.jsx)(Nu,{})})}},{path:"schools/:id",component:function(){return Object(I.jsx)(tj,{})}},{path:"tasks",component:function(){return Object(I.jsx)(rr,{children:Object(I.jsx)(kb,{})})}},{path:"tasks/:id",component:function(){return Object(I.jsx)(xp,{})}},{path:"reports",component:function(){return Object(I.jsx)(Ss,{children:Object(I.jsx)(Lo,{})})}},{path:"reports/:id",component:function(){return Object(I.jsx)(rd,{})}},{path:"services",component:function(){return Object(I.jsx)(vr,{children:Object(I.jsx)(Jp,{})})}},{path:"services/:id",component:function(){return Object(I.jsx)(vr,{children:Object(I.jsx)(yh,{})})}},{path:"kpis",component:function(){return Object(I.jsx)(Br,{children:Object(I.jsx)(Ax,{})})}},{path:"kpis/:id",component:function(){return Object(I.jsx)(Qx,{})}},{path:"work-plans",component:function(){return Object(I.jsx)(Dv,{})}}],"SALES SUPERVISOR":[{path:"dashboards",component:function(){return Object(I.jsx)($c,{})}},{path:"schools",component:function(){return Object(I.jsx)(Ds,{children:Object(I.jsx)(Nu,{})})}},{path:"schools/:id",component:function(){return Object(I.jsx)(tj,{})}},{path:"tasks",component:function(){return Object(I.jsx)(rr,{children:Object(I.jsx)(kb,{})})}},{path:"tasks/:id",component:function(){return Object(I.jsx)(xp,{})}},{path:"reports",component:function(){return Object(I.jsx)(Ss,{children:Object(I.jsx)(Lo,{})})}},{path:"reports/:id",component:function(){return Object(I.jsx)(rd,{})}},{path:"kpis",component:function(){return Object(I.jsx)(Br,{children:Object(I.jsx)(Ax,{})})}},{path:"kpis/:id",component:function(){return Object(I.jsx)(Qx,{})}},{path:"work-plans",component:function(){return Object(I.jsx)(Dv,{})}}],SALESMAN:[{path:"dashboards",component:function(){return Object(I.jsx)($c,{})}},{path:"tasks",component:function(){return Object(I.jsx)(rr,{children:Object(I.jsx)(kb,{})})}},{path:"tasks/:id",component:function(){return Object(I.jsx)(rr,{children:Object(I.jsx)(xp,{})})}},{path:"reports",component:function(){return Object(I.jsx)(Ss,{children:Object(I.jsx)(Lo,{})})}},{path:"reports/:id",component:function(){return Object(I.jsx)(rd,{})}},{path:"services",component:function(){return Object(I.jsx)(vr,{children:Object(I.jsx)(Jp,{})})}},{path:"services/:id",component:function(){return Object(I.jsx)(vr,{children:Object(I.jsx)(yh,{})})}},{path:"kpis",component:function(){return Object(I.jsx)(Br,{children:Object(I.jsx)(Ax,{})})}},{path:"kpis/:id",component:function(){return Object(I.jsx)(Qx,{})}},{path:"work-plans",component:function(){return Object(I.jsx)(Dv,{})}}]};function Yr(){return(Yr=Object(At.a)(Rt.a.mark((function e(t){var a,n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.get("/users/".concat(t));case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Er=a(750),Hr=a(164),Lr=a.n(Hr);function Kr(){var e=gs(),t=e.user,a=e.setUser,n=qa().userInfo,r=en().setFilter,c=Cs().setFilter,i=Ts().setFilter,u=ar().setFilter,j=Object(o.k)().url,m=Object(s.useState)(null),b=Object(d.a)(m,2),p=b[0],h=b[1],v=function(){h(null)},f=function(){Mt(va,"",0),localStorage.clear(),a(),r(Ge,null),r(Ze,""),c(Qe,null),c(Je,""),c(Xe,""),c(et,""),c(at,[null,null]),i(Je,""),i(st,""),i(rt,""),i($e,""),i(Ge,null),u(Xe,""),u(Je,""),u(st,""),u(rt,""),u(Qe,null),u(et,""),u($e,""),u(tt,null)};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(O.a,{className:Lr.a.user,onClick:function(e){h(e.currentTarget)},children:[Object(I.jsxs)("div",{className:Lr.a.info,children:[Object(I.jsx)(x.a,{component:"span",className:Lr.a.name,children:null===n||void 0===n?void 0:n.fullName}),Object(I.jsx)(x.a,{className:Lr.a.role,children:null===n||void 0===n?void 0:n.roleName})]}),(null===n||void 0===n?void 0:n.avatar)?Object(I.jsx)(qn.a,{className:Lr.a.avatar,alt:"user avatar",src:null===n||void 0===n?void 0:n.avatar}):Object(I.jsx)(qn.a,{className:Lr.a.avatar,children:null===n||void 0===n?void 0:n.fullName.split(" ").pop()[0]})]}),Object(I.jsx)(us.b.Provider,{value:{color:"rgba(0, 0, 0, 0.54)"},children:Object(I.jsxs)(Er.a,{open:Boolean(p),anchorEl:p,onClose:v,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},classes:{paper:"py-8"},children:[Os[0].map((function(e){return Object(I.jsxs)(N.a,{component:l.b,to:"".concat(j,"/profiles/").concat(t.username),onClick:v,role:"button",children:[Object(I.jsx)(Zn.a,{className:Lr.a.menuIcon,children:Object(I.jsx)(ve.a,{children:e.icon})}),Object(I.jsx)(zn.a,{primary:e.title})]},e)})),Os[1].map((function(e){return Object(I.jsxs)(N.a,{onClick:f,children:[Object(I.jsx)(Zn.a,{className:Lr.a.menuIcon,children:Object(I.jsx)(ve.a,{children:e.icon})}),Object(I.jsx)(zn.a,{primary:e.title})]},e)}))]})})]})}var Wr=r.a.memo(Kr),qr=a(776),zr=a(777),Ur=a(778),Gr="No notifications...",Zr="See more",Qr=a(221),Jr=a.n(Qr);var Xr=function(e){var t=e.notiList,a=e.limit,n=e.next,r=e.onUpdate,c=Boolean(e.notifAnchorEl),i=Object(o.k)().url,u=Object(s.useCallback)((function(){e.setNotifAnchorEl(null)}),[]),j=Object(s.useState)({}),m=Object(d.a)(j,2),b=m[0],p=m[1];return Object(I.jsxs)(Gn.a,{anchorEl:e.notifAnchorEl,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"center",horizontal:"right"},keepMounted:!0,open:c,onClose:u,PaperProps:{style:{maxHeight:"50ch",maxWidth:"45ch"}},children:[(null===t||void 0===t?void 0:t.length)<1&&Object(I.jsx)(N.a,{children:Object(I.jsx)("span",{children:Gr})}),null===t||void 0===t?void 0:t.map((function(e,t){return Object(I.jsx)(N.a,{onClick:function(t){return function(e,t){switch(t.type){case"Welcome":r(e,t);break;case"report":r(e,t),p({pathname:"".concat(i,"/reports/").concat(null===t||void 0===t?void 0:t.uid),state:{id:null===t||void 0===t?void 0:t.uid}});break;case"service":r(e,t),p({pathname:"".concat(i,"/services/").concat(null===t||void 0===t?void 0:t.uid),state:{serviceId:null===t||void 0===t?void 0:t.uid}});break;case"task":r(e,t),p({pathname:"".concat(i,"/tasks")})}}(t,e)},className:Jr.a.notiItem,component:l.b,to:b,children:Object(I.jsxs)(qr.a,{className:Jr.a.notiCard,style:"Welcome"!==e.type?"report"===e.type?{borderLeft:"5px solid rgba(255, 99, 132, 1)"}:{borderLeft:"5px solid rgba(54, 162, 235, 1)"}:{borderLeft:"5px solid rgba(255, 206, 86, 1)"},children:[Object(I.jsx)(zr.a,{avatar:Object(I.jsx)(qn.a,{src:e.avatar}),title:"".concat(e.actor," (").concat(e.type,")"),subheader:e.timestamp}),Object(I.jsx)(Ur.a,{className:Jr.a.notiContent,children:Object(I.jsx)(x.a,{className:(null===e||void 0===e?void 0:e.isSeen)?Jr.a.typo:Jr.a.notSeenTypo,variant:"body2",color:"textSecondary",noWrap:!0,children:null===e||void 0===e?void 0:e.content})})]})},t)})),a&&(null===t||void 0===t?void 0:t.length)>5&&Object(I.jsx)(N.a,{onClick:n,children:Object(I.jsx)("span",{children:Zr})})]})},$r=a(84),ec=a.n($r),tc=Object(j.a)({badge:{backgroundColor:"#ffb74b"}})(js.a);var ac=function(){var e=Object(o.k)().url,t=Object(o.i)(),a=Object(o.h)(),n=gs().user,r=qa().setUserInfo,c=function(e){var t=vs[0],a=vs[1],n=vs[2],s=vs[3],r=vs[4],c=vs[5],i=vs[6],l=vs[7];switch(e){case Ft:return[a,r];case Yt:return[t,r,n,c,i,l,s];case Et:return[t,r,n,c,l,s];case Ht:return[t,n,c,i,l,s]}}(n.roles[0]),i=Object(s.useState)([]),u=Object(d.a)(i,2),j=u[0],m=u[1],b=Object(s.useState)(""),p=Object(d.a)(b,2),h=p[0],O=p[1],f=Object(s.useState)(0),g=Object(d.a)(f,2),y=g[0],_=g[1],N=xs(!window.matchMedia("(max-width: 960px)").matches),w=Object(d.a)(N,2),S=w[0],k=w[1],T=Object(s.useState)(t.pathname.split("/").pop()),P=Object(d.a)(T,2),V=P[0],R=P[1];Object(s.useEffect)((function(){return R(t.pathname.split("/").pop())}),[t.pathname]);var A=Object(s.useMemo)((function(){var e="",a=t.pathname.split("/");a.length>2&&a[2].split("-").forEach((function(t){e+="kpis"===t?t.substring(0,t.length-1).toUpperCase()+t[t.length-1]:t.charAt(0).toUpperCase()+t.slice(1)+" "}));return e}),[t.pathname]),B=function(e,t){var a=e.timestamp,n=t.timestamp;return a>n?-1:a<n?1:0};Object(s.useEffect)((function(){_(null===j||void 0===j?void 0:j.filter((function(e){return!1===e.isSeen})).length)}),[j]),Object(s.useEffect)((function(){new Promise((function(e,t){rn.database().ref("notify").child(n.username).orderByChild("timestamp").limitToLast(6).on("value",(function(e){var t,a=e.val(),n=[];for(var s in a)n.push(Object(D.a)({id:s},a[s]));n.sort(B),m(n),O(null===(t=n[n.length-1])||void 0===t?void 0:t.timestamp)}))}))}),[]),Object(s.useEffect)((function(){(function(e){return Yr.apply(this,arguments)})(n.username).then((function(e){r(e)})).catch((function(e){e.response&&(console.log(e),a.push({pathname:"/errors",state:{error:e.response.status}}))}))}),[]);var M=Object(s.useState)(null),F=Object(d.a)(M,2),Y=F[0],E=F[1],H=Object(s.useCallback)((function(e){E(e.currentTarget)}),[]),L=Object(I.jsx)(Xr,{onUpdate:function(e,t){rn.database().ref("notify/".concat(n.username)).child(t.id).update({isSeen:!0})},notiList:j,limit:h,next:function(e){new Promise((function(e,t){rn.database().ref("notify").child(n.username).orderByChild("timestamp").endBefore(h).limitToLast(5).on("value",(function(e){var t,a=e.val(),n=[];for(var s in a)n.push(Object(D.a)({id:s},a[s]));n.sort(B),m(j.concat(n)),O(null===(t=n[n.length-1])||void 0===t?void 0:t.timestamp)}))}))},setNotifAnchorEl:E,notifAnchorEl:Y});return Object(I.jsxs)("div",{className:ec.a.root,children:[Object(I.jsxs)(us.b.Provider,{value:{color:"rgba(0, 0, 0, 0.54)"},children:[Object(I.jsx)(ms.a,{className:Object(ds.a)(ec.a.appBar,S&&ec.a.appBarShift),children:Object(I.jsxs)(bs.a,{className:ec.a.toolbar,children:[Object(I.jsx)(v.a,{title:"Open Menu",children:Object(I.jsx)(ht.a,{edge:"start",className:ec.a.menuBtn,onClick:k,children:Object(I.jsx)(C.J,{})})}),Object(I.jsx)("div",{className:ec.a.grow}),Object(I.jsx)(x.a,{variant:"h5",className:ec.a.title,children:A}),Object(I.jsx)(v.a,{title:"".concat(y," new notifications"),children:Object(I.jsx)(ht.a,{onClick:H,children:Object(I.jsx)(tc,{badgeContent:y,max:5,children:Object(I.jsx)(C.M,{})})})}),Object(I.jsx)(an,{children:Object(I.jsx)(Ss,{children:Object(I.jsx)(Ds,{children:Object(I.jsxs)(rr,{children:[Object(I.jsx)(Wr,{})," "]})})})})]})}),L]}),Object(I.jsx)(us.b.Provider,{value:{color:"#fff"},children:Object(I.jsxs)(ps.a,{variant:window.matchMedia("(max-width: 960px)").matches?"temporary":"permanent",anchor:"left",open:S,onClose:k,classes:{paper:Object(ds.a)(ec.a.drawerPaper,!S&&ec.a.drawerPaperClose)},children:[Object(I.jsx)("div",{className:ec.a.drawerHeader,children:Object(I.jsx)("img",{className:ec.a.majorImg,alt:"major-logo",onClick:function(){a.push(Mr[n.roles[0]].route)}})}),Object(I.jsx)(hs.a,{component:"nav",children:c.map((function(t,a){return Object(I.jsxs)(Kn.a,{className:ec.a.menuItem,selected:t.path===V,component:l.b,to:"".concat(e,"/").concat(t.path),onClick:function(){return function(e){window.matchMedia("(max-width: 960px)").matches&&k(),R(e)}(t.path)},children:[Object(I.jsx)(v.a,{title:null===t||void 0===t?void 0:t.title,children:Object(I.jsx)(Zn.a,{className:ec.a.menuIcon,children:t.icon})}),Object(I.jsx)(zn.a,{disableTypography:!0,primary:Object(I.jsx)(x.a,{variant:"h6",className:ec.a.menuText,children:null===t||void 0===t?void 0:t.title})})]},a)}))}),Object(I.jsx)("div",{className:ec.a.drawerFooter,children:Object(I.jsx)(v.a,{title:S?"Collapse":"Expand",children:Object(I.jsx)(ht.a,{onClick:k,className:ec.a.chevron,children:Object(I.jsx)(C.j,{})})})})]})}),Object(I.jsxs)("main",{className:Object(ds.a)(ec.a.content,S&&ec.a.contentShift),children:[Object(I.jsx)("div",{className:ec.a.appBarSpacer}),Object(I.jsx)("div",{className:ec.a.container,children:Object(I.jsxs)(o.e,{children:[Fr[n.roles[0]].map((function(t,a){return Object(I.jsx)(o.c,{exact:!0,path:"".concat(e,"/").concat(t.path),component:t.component},a)})),Object(I.jsx)(o.c,{path:"".concat(e,"/profiles/:id"),component:vl}),Object(I.jsx)(o.b,{from:"*",to:"/errors"})]})})]})]})},nc=a(814),sc=a(782),rc=a(88),cc=a.n(rc),ic=Object(u.a)((function(e){return{root:{color:"rgba(0, 0, 0, 0.87)"},indicator:{backgroundColor:"#2a4865"},textColorInherit:{opacity:1,"&$disabled":{opacity:1}},disabled:{opacity:1}}}));function lc(e){var t=e.linkBack,a=e.avatar,n=e.checkAvatar,s=e.header,r=e.subHeader,c=e.isStatus,i=e.tabs,l=e.tabValue,d=e.handleChangeTab,u=e.children,j=(gs().user,ic()),m=Object(o.h)();return Object(I.jsxs)("div",{className:cc.a.root,children:[Object(I.jsx)("div",{className:cc.a.topBg}),Object(I.jsx)("div",{className:cc.a.container,children:Object(I.jsxs)("div",{className:cc.a.content,children:[Object(I.jsxs)("div",{className:cc.a.header,children:[Object(I.jsxs)(x.a,{className:cc.a.nav,component:O.a,onClick:function(){m.goBack()},children:[Object(I.jsx)(ve.a,{className:cc.a.icon,children:Object(I.jsx)(C.c,{})}),Object(I.jsx)("span",{className:cc.a.text,children:t})]}),Object(I.jsxs)("div",{className:cc.a.headerInfo,children:[a&&(n?Object(I.jsx)(qn.a,{src:a,alt:"avatar",className:cc.a.infoAvatar}):Object(I.jsx)(qn.a,{className:cc.a.infoAvatar,children:Object(I.jsx)(x.a,{className:cc.a.avatarTxt,children:a})})),Object(I.jsxs)("div",{className:cc.a.infoBasic,children:[Object(I.jsx)(x.a,{className:cc.a.basicMain,children:s}),c?Object(I.jsx)(I.Fragment,{children:function(e){switch(e){case Wt:return Object(I.jsx)(Se.a,{label:e,style:{backgroundColor:"rgba(54, 162, 235, 1)",color:"#fff",width:"fit-content"}});case qt:return Object(I.jsx)(Se.a,{label:e,style:{backgroundColor:"rgba(75, 192, 192, 1)",color:"#fff",width:"fit-content"}});case zt:return Object(I.jsx)(Se.a,{label:e,style:{backgroundColor:"rgba(0, 0, 0, 0.38)",color:"#fff",width:"fit-content"}});case Ut:return Object(I.jsx)(Se.a,{label:e,style:{backgroundColor:"rgba(255, 159, 64, 1)",color:"#fff",width:"fit-content"}});case Lt:return Object(I.jsx)(Se.a,{label:e,style:{backgroundColor:"#4caf50",color:"#fff",width:"fit-content"}});case Kt:return Object(I.jsx)(Se.a,{label:e,style:{backgroundColor:"rgba(0, 0, 0, 0.38)",color:"#fff",width:"fit-content"}})}}(r)}):Object(I.jsx)(x.a,{className:cc.a.basicSub,children:r})]})]})]}),Object(I.jsxs)("div",{className:cc.a.body,children:[i.length>=2?Object(I.jsx)("div",{children:Object(I.jsx)(nc.a,{value:l,onChange:function(e,t){return d(e,t)},variant:"scrollable",scrollButtons:"auto",classes:{root:j.root,indicator:j.indicator},children:i.map((function(e,t){return Object(I.jsx)(sc.a,{label:e,classes:{textColorInherit:j.textColorInherit,disabled:j.disabled}},t)}))})}):Object(I.jsx)("div",{className:cc.a.toolbar,children:i.map((function(e,t){return Object(I.jsx)(x.a,{className:cc.a.toolbarTitle,children:e},t)}))}),Object(I.jsx)("div",{className:cc.a.wrapper,children:u})]})]})})]})}var oc=r.a.memo(lc);lc.defaultProps={tabValue:0,handleChangeTab:function(){},isStatus:!1};var dc=a(783),uc={child1:"Account Detail"},jc={cancel:"Cancel",save:"Save"},mc={info:"",success:"Updated Successfully",error:"Updated Failed",warning:""},bc={username:{title:"Username"},isMale:{title:"Gender *",male:{lb:"Male",value:"true"},female:{lb:"Female",value:"false"}},birthDate:{title:"Birthday",format:"dd/MM/yyyy"},email:{title:"Email"},phone:{title:"Phone Number"},addr:{title:"Address"},status:{title:"Account Active"},roles:{title:"Roles"}},pc=a(92),hc=a.n(pc),xc=["ref"],vc=Dt.b().shape({phone:Dt.d().required("Phone is required").max(10,"Phone must be at most 10 digits and has the correct format").matches(Qa,"Phone number is in wrong format (03|5|7|9xxxxxxxx)"),address:Dt.d().trim().required("Address is required")}),Oc={PaperProps:{style:{maxHeight:120}},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null},fc=Object(u.a)((function(e){return{root:{},menuItemRoot:{"&$menuItemSelected":{backgroundColor:"rgba(0, 0, 0, 0.08)"},"&$menuItemSelected:focus":{backgroundColor:"rgba(0, 0, 0, 0.12)"},"&$menuItemSelected:hover":{backgroundColor:"rgba(0, 0, 0, 0.04);"}},menuItemSelected:{},inputRoot:{"&$disabled":{color:"black"}},disabled:{}}}));function gc(e){var t=e.account,a=e.refreshPage,n=uc,r=jc,c=bc,i=mc,l=fc(),u=Object(cn.b)().enqueueSnackbar,j=Object(o.h)(),m=qa().roles,b=m||La(Oa.roles),p=Object(s.useState)(0),h=Object(d.a)(p,2),v=h[0],g=h[1],C=Object(s.useState)(0),w=Object(d.a)(C,2),S=w[0],k=w[1],T={username:null===t||void 0===t?void 0:t.username,email:null===t||void 0===t?void 0:t.email,phone:(null===t||void 0===t?void 0:t.phone)?null===t||void 0===t?void 0:t.phone:"",isMale:String(null===t||void 0===t?void 0:t.isMale)?String(null===t||void 0===t?void 0:t.isMale):String(!0),birthDate:(null===t||void 0===t?void 0:t.birthDate)?null===t||void 0===t?void 0:t.birthDate:null,roleName:(null===t||void 0===t?void 0:t.roleName)?null===t||void 0===t?void 0:t.roleName:Ht,active:null===t||void 0===t?void 0:t.active,address:null===t||void 0===t?void 0:t.address,latitude:null===t||void 0===t?void 0:t.latitude,longitude:null===t||void 0===t?void 0:t.longitude},P=Object(Tt.c)({resolver:Object(Pt.a)(vc),defaultValues:T}),V=P.control,R=P.errors,A=P.handleSubmit,B=P.formState,M=P.reset;if(Object(s.useEffect)((function(){M({username:null===t||void 0===t?void 0:t.username,email:null===t||void 0===t?void 0:t.email,phone:(null===t||void 0===t?void 0:t.phone)?null===t||void 0===t?void 0:t.phone:"",isMale:String(null===t||void 0===t?void 0:t.isMale)?String(null===t||void 0===t?void 0:t.isMale):String(!0),birthDate:(null===t||void 0===t?void 0:t.birthDate)?null===t||void 0===t?void 0:t.birthDate:null,roleName:(null===t||void 0===t?void 0:t.roleName)?null===t||void 0===t?void 0:t.roleName:Ht,active:null===t||void 0===t?void 0:t.active,address:null===t||void 0===t?void 0:t.address,latitude:null===t||void 0===t?void 0:t.latitude,longitude:null===t||void 0===t?void 0:t.longitude})}),[t]),!m)return Object(I.jsx)(se,{});if(!t)return Object(I.jsx)(se,{});return Object(I.jsx)("div",{className:hc.a.panel,children:Object(I.jsx)(f.a,{container:!0,spacing:0,className:hc.a.body,children:Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:hc.a.content,children:Object(I.jsx)("form",{onSubmit:A((function(e){var n=Object(D.a)(Object(D.a)({},e),{},{fullName:null===t||void 0===t?void 0:t.fullName,isMale:"true"===(null===e||void 0===e?void 0:e.isMale),birthDate:(null===e||void 0===e?void 0:e.birthDate)?ye()(null===e||void 0===e?void 0:e.birthDate).format("YYYY-MM-DD"):null,avatar:null===t||void 0===t?void 0:t.avatar,passwordHash:null===t||void 0===t?void 0:t.passwordHash,latitude:v,longitude:S});(function(e,t){return Sa.apply(this,arguments)})(null===e||void 0===e?void 0:e.username,n).then((function(t){a(e.username),u(i.success,{variant:"success"})})).catch((function(e){e.response&&(console.log(e),j.push({pathname:"/errors",state:{error:e.response.status}})),u(i.error,{variant:"error"})}))})),noValidate:!0,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:hc.a.wrapper,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:hc.a.row,children:Object(I.jsx)(x.a,{color:"inherit",className:hc.a.header,children:n.child1})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:9,lg:8,className:hc.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:5,md:5,lg:5,className:hc.a.row,children:Object(I.jsx)(Tt.a,{name:"username",control:V,render:function(e){var t=e.value;return Object(I.jsx)(ce.a,{label:c.username.title,variant:"standard",disabled:!0,value:t})}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:5,md:5,lg:5,className:hc.a.row,children:Object(I.jsx)(Tt.a,{name:"email",control:V,render:function(e){var t=e.value;return Object(I.jsx)(ce.a,{label:c.email.title,variant:"standard",fullWidth:!0,disabled:!0,value:t})}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:hc.a.row,children:Object(I.jsx)(Tt.a,{name:"phone",control:V,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:c.phone.title,variant:"outlined",required:!0,value:a,onChange:n,error:!!R.phone,helperText:null===R||void 0===R||null===(t=R.phone)||void 0===t?void 0:t.message})}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:hc.a.row,children:Object(I.jsx)(Tt.a,{name:"address",control:V,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(xe,{setLatitude:g,setLongitude:k,inputValue:a,setInputValue:n,error:!!R.address,helperText:null===R||void 0===R||null===(t=R.address)||void 0===t?void 0:t.message})}})}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:5,md:5,lg:5,className:hc.a.row,children:[Object(I.jsx)(y.a,{children:c.isMale.title}),Object(I.jsx)(Tt.a,{name:"isMale",control:V,render:function(e){var t=e.value,a=e.onChange;return Object(I.jsxs)(_t.a,{value:t,onChange:a,row:!0,children:[Object(I.jsx)(Nt.a,{label:c.isMale.male.lb,value:c.isMale.male.value,control:Object(I.jsx)(Ct.a,{})}),Object(I.jsx)(Nt.a,{label:c.isMale.female.lb,value:c.isMale.female.value,control:Object(I.jsx)(Ct.a,{})})]})}})]}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:hc.a.row,children:Object(I.jsx)(St.a,{utils:kt.a,children:Object(I.jsx)(Tt.a,{name:"birthDate",control:V,render:function(e){e.ref;var t=Object(bt.a)(e,xc);return Object(I.jsx)(It.a,Object(D.a)({label:c.birthDate.title,format:c.birthDate.format,allowKeyboardControl:!0,disableFuture:!0},t))}})})}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:5,md:5,lg:5,className:hc.a.row,children:[Object(I.jsx)(y.a,{required:!0,children:c.roles.title}),Object(I.jsx)(Tt.a,{name:"roleName",control:V,render:function(e){var t=e.value,a=e.onChange;return Object(I.jsx)(_.a,{value:t,onChange:a,MenuProps:Oc,disableUnderline:!0,children:b.map((function(e){return Object(I.jsx)(N.a,{value:e,classes:{root:l.menuItemRoot,selected:l.menuItemSelected},children:e},e)}))})}})]}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:hc.a.row,children:[Object(I.jsx)(y.a,{required:!0,children:c.status.title}),Object(I.jsx)(Tt.a,{name:"active",control:V,render:function(e){var t=e.value,a=e.onChange;return Object(I.jsx)(dc.a,{checked:t,onChange:function(e){return a(e.target.checked)}})}})]}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:hc.a.action,children:Object(I.jsx)(O.a,{className:hc.a.submit,variant:"contained",disabled:!B.isDirty,type:"submit",children:r.save})})]})})]})})})})})}var yc=r.a.memo(gc);var _c=function(){var e=fn,t=gn,a=yn,n=Object(s.useState)(0),r=Object(d.a)(n,2),c=r[0],i=r[1],l=Object(o.j)().id,u=(Object(o.i)(),Object(o.h)()),j=Object(s.useState)(null),m=Object(d.a)(j,2),b=m[0],p=m[1],h=Object(s.useState)(!0),x=Object(d.a)(h,2),v=x[0],O=x[1],f=!0,g=function(e){Na(e).then((function(e){f&&p(e)})).catch((function(e){e.response&&(console.log(e),403===e.response.status?O(!1):u.push({pathname:"/errors",state:{error:e.response.status}}))}))};return Object(s.useEffect)((function(){return g(l),function(){f=!1}}),[]),b?Object(I.jsx)(oc,{linkBack:e.back,avatar:(null===b||void 0===b?void 0:b.avatar)?null===b||void 0===b?void 0:b.avatar:null===b||void 0===b?void 0:b.fullName.split(" ").pop()[0],checkAvatar:!!(null===b||void 0===b?void 0:b.avatar),header:null===b||void 0===b?void 0:b.fullName,subHeader:(null===b||void 0===b?void 0:b.active)?"Active":"Inactive",isStatus:!0,tabs:[t.tab1],tabValue:c,handleChangeTab:function(e,t){i(t)},children:0===c&&Object(I.jsx)(yc,{account:b,refreshPage:g})}):v?Object(I.jsx)(se,{}):Object(I.jsx)($,{title:a.notFound})},Nc=a(830),Cc=a(785),wc=a(308),Sc={serviceBarChart:{ds:"Sales",sl:"Quantity"}};C.v,fe.e,C.Q,wc.b,C.H,C.I;function Ic(e,t){return kc.apply(this,arguments)}function kc(){return(kc=Object(At.a)(Rt.a.mark((function e(t,a){var n,s,r;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/dashboard?type=".concat(t),n=a?n.concat("&name=".concat(a)):n,e.next=4,ga.get(n);case 4:return s=e.sent,e.next=7,s.data;case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Tc=a(146),Pc=a.n(Tc),Dc=function(e){var t=e.kpiPoints,a=e.kpiName,n=[];n.push(t);var s={series:n,options:{chart:{height:210,type:"radialBar"},plotOptions:{radialBar:{offsetX:0,offsetY:-22,hollow:{size:"60%",margin:0},dataLabels:{show:!0,name:{fontSize:"13px",fontWeight:100,color:"#000",offsetY:85},value:{fontSize:"23px",fontWeight:700,offsetY:-8}}}},labels:[a],colors:[function(e){var t=e.value;e.seriesIndex,e.w;return t<50?"#f44336":t<80?"#ff9800":"#4caf50"}]}};return Object(I.jsx)("div",{children:Object(I.jsx)(Pc.a,{options:s.options,series:s.series,type:"radialBar",height:210})})},Vc=(a(445),function(e){var t=e.item;return Object(I.jsx)("div",{style:{display:"flex",alignItems:"stretch"},children:t.map((function(e){return Object(I.jsx)("div",{style:{backgroundColor:e.color,flex:1,display:"flex",alignItems:"center",justifyContent:"center",color:null!=e.textColor?e.textColor:"black",fontWeight:"bolder",fontSize:"1em",height:"6vh"},children:Object(I.jsx)("span",{children:e.title})},e.title)}))})}),Rc=a(457),Ac=a.n(Rc),Bc=a(446),Mc={fillColor:"#ede7f6",weight:.5,opacity:1,fillOpacity:1},Fc=function(e){var t=e.geojson;return Object(I.jsx)(Bc.a,{style:{height:"70vh"},zoom:11,center:[10.817396238910442,106.69106344134427],children:Object(I.jsx)(Ac.a,{data:t,valueProperty:function(e){return e.properties.localname},steps:7,mode:"e",style:Mc,onEachFeature:function(e,t){var a,n=(a=e.properties.value)>=21?"#4527a0":a>=5&&a<=20?"#9575cd":a>=1&&a<=4?"#d1c4e9":"#ede7f6",s="".concat(e.properties.localname,": ").concat(e.properties.value,"/ ").concat(e.properties.total);t.options.fillColor=n,t.on({mouseout:function(e){e.target.setStyle({fillColor:n,transition:"0.3s"})},mouseover:function(e){e.target.setStyle({transition:"0.3s",fillColor:"#009688"})}}),t.bindPopup(s).openPopup()}})})},Yc=function(){var e=Object(s.useState)(null),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(null),c=Object(d.a)(r,2),i=c[0],l=c[1];function o(){return(o=Object(At.a)(Rt.a.mark((function e(){return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([Ic("map"),fetch("../districts.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}})]).then((function(e){var t=Object(d.a)(e,2);return{api:t[0],file:t[1]}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var u=function(){return o.apply(this,arguments)}();if(Object(s.useEffect)((function(){u.then((function(e){l(e.api),e.file.json().then((function(e){n(e.features)}))}))}),[]),!a)return null;if(!i)return null;var j=function(){var e=[];return a.length>0&&i.length>0&&a.forEach((function(t){i.forEach((function(a){t.properties.localname===a.name&&(t.properties.value=a.value,t.properties.total=a.totalSchool,e.push(t))}))})),e}();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{children:j&&Object(I.jsx)(Fc,{geojson:j})}),Object(I.jsx)("div",{children:Object(I.jsx)(Vc,{item:[{title:"21+",color:"#4527a0",textColor:"white"},{title:"5 - 20",color:"#9575cd",textColor:"white"},{title:"1 - 4",color:"#d1c4e9",textColor:"black"},{title:"0",color:"#ede7f6",textColor:"black"}].reverse()})})]})},Ec=function(e){var t={series:e.values,options:{chart:{width:350,type:"donut",dropShadow:{enabled:!0,color:"#111",top:-1,left:3,blur:3,opacity:.2}},stroke:{width:0},plotOptions:{pie:{donut:{labels:{show:!0,total:{showAlways:!0,show:!0,fontSize:"22px"}}}}},labels:e.labels,dataLabels:{dropShadow:{blur:3,opacity:.8}},legend:{position:"right",offsetX:-20,offsetY:40,fontSize:"14px"},fill:{opacity:1},states:{hover:{filter:"none"}},theme:{palette:"palette2"},title:{text:function(e){switch(e){case"status":return"Number of Schools by Status (unit: school)\n                (until ".concat(_e(new Date,"DD/MM/YYYY"),")");case"level":return"Customer Segment Divided by Level (unit: school) (until ".concat(_e(new Date,"DD/MM/YYYY"),")");case"type":return"Customer Segment Divided by Type (unit: school) (until ".concat(_e(new Date,"DD/MM/YYYY"),")");case"district":return"Customer Segment Divided by District (unit: school) (until ".concat(_e(new Date,"DD/MM/YYYY"),")")}}(e.option),whiteSpace:"wrap"},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]}};return Object(I.jsx)("div",{children:Object(I.jsx)(Pc.a,{options:t.options,series:t.series,type:"donut",height:350})})},Hc=function(e){var t=e.values,a=t.title,n=t.criteria,s={series:[{name:"Actual",data:t.actualValues},{name:"Target",data:t.targetValues},{name:"Average",data:t.averageValues}],options:Object(w.a)({chart:{height:500,type:"radar",dropShadow:{enabled:!0,blur:1,left:1,top:1}},dataLabels:{enabled:!0},plotOptions:{radar:{size:140,polygons:{strokeColors:"#e9e9e9",fill:{colors:["#f8f8f8","#fff"]}}}},title:{text:a},stroke:{width:2},fill:{opacity:.2},markers:{size:5},tooltip:{y:{formatter:function(e){return"".concat(parseFloat(e).toFixed(2),"%")}}},xaxis:{categories:n}},"dataLabels",{style:{fontSize:"12px",fontWeight:"bold"},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff"}})};return Object(I.jsx)("div",{children:Object(I.jsx)(Pc.a,{options:s.options,series:s.series,type:"radar",height:500})})},Lc=function(e){var t=e.values,a=t.title,n=t.xAxis,s={series:[{name:"KPI points",data:t.yAxis}],options:{chart:{height:350,type:"bar",offsetY:10},plotOptions:{bar:{borderRadius:4,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:function(e){return parseFloat(e).toFixed(2)+"%"},offsetY:-20,style:{fontSize:"12px",colors:["#304758"]}},xaxis:{categories:n,position:"bottom",axisBorder:{show:!1},axisTicks:{show:!1},crosshairs:{fill:{type:"gradient",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}}}},yaxis:{axisBorder:{show:!0},axisTicks:{show:!0},labels:{show:!0,formatter:function(e){return e+"%"}}},title:{text:a,floating:!0,offsetY:-5,align:"center",style:{color:"#444"}}}};return Object(I.jsx)("div",{children:Object(I.jsx)(Pc.a,{options:s.options,series:s.series,type:"bar",height:350})})},Kc=function(e){var t=e.values,a=e.years,n=function(e){var t=Math.abs(e);return t>=1e9?t=(t/1e9).toFixed(2)+"B \u20ab":t>=1e6?t=(t/1e6).toFixed(1)+"M \u20ab":t},s={options:{chart:{height:350,type:"bar",stacked:!0,toolbar:{show:!0}},plotOptions:{bar:{borderRadius:2,horizontal:!1},dataLabels:{position:"top"}},dataLabels:{enabled:!0,formatter:n},title:{text:"Sales"===e.option?"Yearly Total Sales of Services (unit: billion VND)":"Yearly Quantity of Services (unit: service)"},xaxis:{categories:a},yaxis:{labels:{formatter:n}},legend:{position:"right",offsetY:40,fontSize:"14px"},fill:{opacity:1}}};return Object(I.jsx)("div",{children:Object(I.jsx)(Pc.a,{options:s.options,series:t,type:"bar",height:350})})},Wc=a(784),qc=a(108),zc=a.n(qc),Uc=Object(u.a)((function(){return{txtFullName:{fontSize:"0.875rem"},txtUsername:{fontSize:"0.8rem"}}}));function Gc(e){var t=Uc(),a=(e.title,e.columns),n=e.data,s=function(e){switch(e){case 1:return Object(I.jsx)("img",{className:zc.a.medalIcon,src:q,alt:"gold-medal"});case 2:return Object(I.jsx)("img",{className:zc.a.medalIcon,src:z,alt:"silver-medal"});case 3:return Object(I.jsx)("img",{className:zc.a.medalIcon,src:U,alt:"bronze-medal"});default:return e}},r=function(e){var t=Math.abs(e);return t>=1e9?t=(t/1e9).toFixed(2)+" B \u20ab":t>=1e6?t=(t/1e6).toFixed(1)+" M \u20ab":t+" \u20ab"};return Object(I.jsxs)("div",{className:zc.a.paper,children:[Object(I.jsx)("div",{className:zc.a.header,children:Object(I.jsx)(x.a,{className:zc.a.title,children:"Salesmen Ranking by Sales"})}),Object(I.jsx)(Wc.a,{}),Object(I.jsx)(En.a,{className:zc.a.table,children:Object(I.jsxs)(Hn.a,{stickyHeader:!0,size:"small",children:[Object(I.jsx)(Mn.a,{children:Object(I.jsx)(Fn.a,{children:a.map((function(e){return Object(I.jsx)(Yn.a,{align:"center",children:e},e)}))})}),Object(I.jsx)(Ln.a,{className:zc.a.tBody,children:n.map((function(e,a){return Object(I.jsxs)(Fn.a,{className:zc.a.tBodyRow,children:[Object(I.jsx)(Yn.a,{align:"center",className:zc.a.tBodyCell,children:s(a+1)}),Object(I.jsx)(Yn.a,{className:zc.a.tBodyCell,children:Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",alignItems:"center",children:[Object(I.jsx)(qn.a,{className:zc.a.avatar,src:e.avatar,alt:"avatar"}),Object(I.jsx)(zn.a,{primary:e.fullName,secondary:e.username,classes:{primary:t.txtFullName,secondary:t.txtUsername}})]})}),Object(I.jsx)(Yn.a,{className:zc.a.tBodyCell,align:"right",children:Object(I.jsx)("strong",{children:r(null===e||void 0===e?void 0:e.value)})})]},a)}))})]})})]})}var Zc=r.a.memo(Gc),Qc=a(35),Jc=a.n(Qc),Xc=Object(u.a)((function(e){return{btnToggles:{minHeight:"1.8rem",maxHeight:"1.8rem",color:e.palette.secondary.main}}}));var $c=function(){var e,t,a,n,r,c,i,l,u,j,m,b,p,v,O,g,y,_,N,w,S,k=Xc(),T=Sc,P=gs().user,V=qa().schYears,R=V||La(Oa.schYears),A=Object(o.h)(),B=Object(s.useState)(),M=Object(d.a)(B,2),F=M[0],E=M[1],H=Object(s.useState)(),L=Object(d.a)(H,2),K=L[0],W=L[1],q=Object(s.useState)(),z=Object(d.a)(q,2),U=z[0],G=z[1],Z=Object(s.useState)([]),Q=Object(d.a)(Z,2),J=(Q[0],Q[1],Object(s.useState)([])),X=Object(d.a)(J,2),$=X[0],ee=X[1],te=!0;Object(s.useEffect)((function(){return Ic("div").then((function(e){te&&E(e)})).catch((function(e){e.response&&(console.log(e),A.push({pathname:"/errors",state:{error:e.response.status}}))})),function(){te=!1}}),[]);var ae=Object(s.useState)([]),ne=Object(d.a)(ae,2),re=ne[0],ce=ne[1],ie=function(e,t){Ic(e,t).then((function(e){te&&(W(e),ce(e[0].years))})).catch((function(e){e.response&&(console.log(e),A.push({pathname:"/errors",state:{error:e.response.status}}))}))};Object(s.useEffect)((function(){return ie("column","DS"),function(){te=!1}}),[]);var le=Object(s.useState)([]),oe=Object(d.a)(le,2),de=oe[0],ue=oe[1],je=function(e,t){Ic(e,t).then((function(e){if(te){var t=[],a=[];e.forEach((function(e){a.push(null===e||void 0===e?void 0:e.name),t.push(null===e||void 0===e?void 0:e.data)})),G(t),ue(a)}})).catch((function(e){e.response&&(console.log(e),A.push({pathname:"/errors",state:{error:e.response.status}}))}))};Object(s.useEffect)((function(){return je("pie","school-status"),function(){te=!1}}),[]);var me=function(e,t){Ic(e,t).then((function(e){te&&ee(e)})).catch((function(e){e.response&&(console.log(e),A.push({pathname:"/errors",state:{error:e.response.status}}))}))};Object(s.useEffect)((function(){return me("rank","month"),function(){te=!1}}),[]);var be=Object(s.useState)("Sales"),pe=Object(d.a)(be,2),he=pe[0],xe=pe[1],ve=Object(s.useState)("status"),Oe=Object(d.a)(ve,2),ge=Oe[0],ye=Oe[1],Ne=Object(s.useState)("month"),we=Object(d.a)(Ne,2),Se=we[0],Ie=we[1];if(!R||!F||!K||!U||!$)return Object(I.jsx)(se,{});var ke=Object(D.a)(Object(D.a)({},F[1]),{},{isIncreased:!0,changes:0}),Te=Object(D.a)(Object(D.a)({},F[2]),{},{isIncreased:!0,changes:0}),Pe=Object(D.a)(Object(D.a)({},F[0]),{},{isIncreased:!0,changes:0});!function(){var e,t,a,n,s,r,c,i,l,o,d,u,j,m,b,p,h,x,v,O,f,g=Ce();if((null===(e=ke=Object(D.a)(Object(D.a)({},ke),{},{title:ke.name.substring(0,ke.name.indexOf(g)-1),subtitle:ke.name.substring(ke.name.indexOf(g))}))||void 0===e?void 0:e.present)>(null===(t=ke)||void 0===t?void 0:t.previous))ke=Object(D.a)(Object(D.a)({},ke),{},{isIncreased:!0,changes:((null===(j=ke)||void 0===j?void 0:j.present)-(null===(m=ke)||void 0===m?void 0:m.previous))/(null===(b=ke)||void 0===b?void 0:b.previous)*100});else if((null===(a=ke)||void 0===a?void 0:a.present)<(null===(n=ke)||void 0===n?void 0:n.previous)){var y,_,N;ke=Object(D.a)(Object(D.a)({},ke),{},{isIncreased:!1,changes:((null===(y=ke)||void 0===y?void 0:y.present)-(null===(_=ke)||void 0===_?void 0:_.previous))/(null===(N=ke)||void 0===N?void 0:N.previous)*100})}else ke=Object(D.a)(Object(D.a)({},ke),{},{trend:"stable",changes:0});if((null===(s=Te=Object(D.a)(Object(D.a)({},Te),{},{title:Te.name.substring(0,Te.name.indexOf(g)-1),subtitle:Te.name.substring(Te.name.indexOf(g))}))||void 0===s?void 0:s.present)>(null===(r=Te)||void 0===r?void 0:r.previous))Te=Object(D.a)(Object(D.a)({},Te),{},{isIncreased:!0,changes:((null===(p=Te)||void 0===p?void 0:p.present)-(null===(h=Te)||void 0===h?void 0:h.previous))/(null===(x=Te)||void 0===x?void 0:x.previous)*100});else if((null===(c=Te)||void 0===c?void 0:c.present)<(null===(i=Te)||void 0===i?void 0:i.previous)){var C,w,S;Te=Object(D.a)(Object(D.a)({},Te),{},{isIncreased:!1,changes:((null===(C=Te)||void 0===C?void 0:C.present)-(null===(w=Te)||void 0===w?void 0:w.previous))/(null===(S=Te)||void 0===S?void 0:S.previous)*100})}else Te=Object(D.a)(Object(D.a)({},Te),{},{trend:"stable",changes:0});if((null===(l=Pe=Object(D.a)(Object(D.a)({},Pe),{},{title:Pe.name.substring(0,Pe.name.indexOf(g)-1),subtitle:Pe.name.substring(Pe.name.indexOf(g))}))||void 0===l?void 0:l.present)>(null===(o=Pe)||void 0===o?void 0:o.previous))Pe=Object(D.a)(Object(D.a)({},Pe),{},{isIncreased:!0,changes:((null===(v=Pe)||void 0===v?void 0:v.present)-(null===(O=Pe)||void 0===O?void 0:O.previous))/(null===(f=Pe)||void 0===f?void 0:f.previous)*100});else if((null===(d=Pe)||void 0===d?void 0:d.present)<(null===(u=Pe)||void 0===u?void 0:u.previous)){var I,k,T;Pe=Object(D.a)(Object(D.a)({},Pe),{},{isIncreased:!1,changes:((null===(I=Pe)||void 0===I?void 0:I.present)-(null===(k=Pe)||void 0===k?void 0:k.previous))/(null===(T=Pe)||void 0===T?void 0:T.previous)*100})}else Pe=Object(D.a)(Object(D.a)({},Pe),{},{trend:!0,changes:0})}();var De=function(e){var t=Math.abs(e);return t>=1e9?t=(t/1e9).toFixed(2)+"B \u20ab":t>=1e6?t=(t/1e6).toFixed(1)+"M \u20ab":t+" \u20ab"};return Object(I.jsx)("div",{className:Jc.a.wrapper,children:Object(I.jsx)(f.a,{container:!0,spacing:0,children:Object(I.jsx)(f.a,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,className:Jc.a.root,children:Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Jc.a.body,children:Object(I.jsx)(Y,{enter:{animation:"transition.slideUpBigIn"},children:Object(I.jsxs)(f.a,{container:!0,spacing:0,children:[P.roles[0]!==Ht&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(f.a,{item:!0,container:!0,spacing:3,xs:12,sm:12,md:12,lg:12,className:Jc.a.row,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,children:Object(I.jsx)(qr.a,{className:Jc.a.blockSales,variant:"elevation",elevation:10,children:Object(I.jsxs)(h.a,{display:"flex",flexDirection:"column",children:[Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",children:[Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",alignItems:"center",className:Jc.a.box1Block1,flexGrow:1,children:[Object(I.jsx)(qn.a,{className:Jc.a.avaBlock1,children:Object(I.jsx)(C.d,{className:Jc.a.iconBlock1})}),Object(I.jsxs)(h.a,{display:"flex",flexDirection:"column",children:[Object(I.jsx)(x.a,{className:Jc.a.titleBlock1,color:"textSecondary",children:null===(e=ke)||void 0===e?void 0:e.title}),Object(I.jsxs)("span",{className:Jc.a.subtitleBlock1,children:[Object(I.jsx)("span",{className:Jc.a.subtitle1Block1,children:null===(t=ke)||void 0===t?void 0:t.subtitle}),Object(I.jsx)("span",{className:Jc.a.subtitle2Block1,children:" \u2022 until "}),Object(I.jsx)("span",{className:Jc.a.subtitle1Block1,children:_e(new Date,"DD/MM/YYYY")})]})]})]}),(null===(a=ke)||void 0===a?void 0:a.isIncreased)?Object(I.jsxs)(h.a,{className:Jc.a.changesUpBlock1,children:["+",null===(n=ke)||void 0===n?void 0:n.changes.toFixed(1),"%\u25b2"]}):Object(I.jsxs)(h.a,{className:Jc.a.changesDownBlock1,children:[null===(r=ke)||void 0===r?void 0:r.changes.toFixed(1),"%\u25bc"]})]}),Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around",children:[Object(I.jsxs)(h.a,{display:"flex",flexDirection:"column",children:[Object(I.jsx)(x.a,{className:Jc.a.content1Block1,variant:"caption",color:"textSecondary",children:"Last year"}),Object(I.jsx)("span",{className:Jc.a.previousBlock1,children:De(null===(c=ke)||void 0===c?void 0:c.previous)})]}),Object(I.jsxs)(h.a,{display:"flex",flexDirection:"column",children:[Object(I.jsx)(x.a,{className:Jc.a.content1Block1,variant:"caption",color:"textSecondary",children:"Present"}),Object(I.jsx)("span",{className:Jc.a.presentBlock1,children:De(null===(i=ke)||void 0===i?void 0:i.present)})]})]})]})})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,children:Object(I.jsx)(qr.a,{className:Jc.a.blockSevices,variant:"elevation",elevation:10,children:Object(I.jsxs)(h.a,{display:"flex",flexDirection:"column",children:[Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",children:[Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",alignItems:"center",className:Jc.a.box1Block2,flexGrow:1,children:[Object(I.jsx)(qn.a,{className:Jc.a.avaBlock2,children:Object(I.jsx)(fe.c,{className:Jc.a.iconBlock2})}),Object(I.jsxs)(h.a,{display:"flex",flexDirection:"column",children:[Object(I.jsx)(x.a,{className:Jc.a.titleBlock2,color:"textSecondary",children:null===(l=Te)||void 0===l?void 0:l.title}),Object(I.jsxs)("span",{className:Jc.a.subtitleBlock2,children:[Object(I.jsx)("span",{className:Jc.a.subtitle1Block2,children:null===(u=Te)||void 0===u?void 0:u.subtitle}),Object(I.jsx)("span",{className:Jc.a.subtitle2Block2,children:" \u2022 until "}),Object(I.jsx)("span",{className:Jc.a.subtitle1Block2,children:_e(new Date,"DD/MM/YYYY")})]})]})]}),(null===(j=Te)||void 0===j?void 0:j.isIncreased)?Object(I.jsxs)(h.a,{className:Jc.a.changesUpBlock2,children:["+",null===(m=Te)||void 0===m?void 0:m.changes.toFixed(1),"%\u25b2"]}):Object(I.jsxs)(h.a,{className:Jc.a.changesDownBlock2,children:[null===(b=Te)||void 0===b?void 0:b.changes.toFixed(1),"%\u25bc"]})]}),Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around",children:[Object(I.jsxs)(h.a,{display:"flex",flexDirection:"column",children:[Object(I.jsx)(x.a,{className:Jc.a.content1Block2,variant:"caption",color:"textSecondary",children:"Last year"}),Object(I.jsxs)("span",{className:Jc.a.previousBlock2,children:[null===(p=Te)||void 0===p?void 0:p.previous," services"]})]}),Object(I.jsxs)(h.a,{display:"flex",flexDirection:"column",children:[Object(I.jsx)(x.a,{className:Jc.a.content1Block2,variant:"caption",color:"textSecondary",children:"Present"}),Object(I.jsxs)("span",{className:Jc.a.presentBlock2,children:[null===(v=Te)||void 0===v?void 0:v.present," services"]})]})]})]})})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,children:Object(I.jsx)(qr.a,{className:Jc.a.blockCustomers,variant:"elevation",elevation:10,children:Object(I.jsxs)(h.a,{display:"flex",flexDirection:"column",children:[Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",children:[Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",alignItems:"center",className:Jc.a.box1Block3,flexGrow:1,children:[Object(I.jsx)(qn.a,{className:Jc.a.avaBlock3,children:Object(I.jsx)(fe.d,{className:Jc.a.iconBlock3})}),Object(I.jsxs)(h.a,{display:"flex",flexDirection:"column",children:[Object(I.jsx)(x.a,{className:Jc.a.titleBlock3,color:"textSecondary",children:null===(O=Pe)||void 0===O?void 0:O.title}),Object(I.jsxs)("span",{className:Jc.a.subtitleBlock3,children:[Object(I.jsx)("span",{className:Jc.a.subtitle1Block3,children:null===(g=Pe)||void 0===g?void 0:g.subtitle}),Object(I.jsx)("span",{className:Jc.a.subtitle2Block3,children:" \u2022 until "}),Object(I.jsx)("span",{className:Jc.a.subtitle1Block3,children:_e(new Date,"DD/MM/YYYY")})]})]})]}),(null===(y=Pe)||void 0===y?void 0:y.isIncreased)?Object(I.jsxs)(h.a,{className:Jc.a.changesUpBlock3,children:["+",null===(_=Pe)||void 0===_?void 0:_.changes.toFixed(1),"%\u25b2"]}):Object(I.jsxs)(h.a,{className:Jc.a.changesDownBlock3,children:[null===(N=Pe)||void 0===N?void 0:N.changes.toFixed(1),"%\u25bc"]})]}),Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around",children:[Object(I.jsxs)(h.a,{display:"flex",flexDirection:"column",children:[Object(I.jsx)(x.a,{className:Jc.a.content1Block3,variant:"caption",color:"textSecondary",children:"Last year"}),Object(I.jsxs)("span",{className:Jc.a.previousBlock3,children:[null===(w=Pe)||void 0===w?void 0:w.previous," schools"]})]}),Object(I.jsxs)(h.a,{display:"flex",flexDirection:"column",children:[Object(I.jsx)(x.a,{className:Jc.a.content1Block3,variant:"caption",color:"textSecondary",children:"Present"}),Object(I.jsxs)("span",{className:Jc.a.presentBlock3,children:[null===(S=Pe)||void 0===S?void 0:S.present," schools"]})]})]})]})})})]}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Jc.a.rowt,children:Object(I.jsxs)(f.a,{item:!0,container:!0,spacing:3,xs:12,sm:12,md:12,lg:12,className:Jc.a.row,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:7,md:7,lg:7,children:Object(I.jsx)(qr.a,{className:Jc.a.panelServices,variant:"elevation",elevation:4,children:Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",className:Jc.a.toggleOptions,children:[Object(I.jsx)(x.a,{variant:"subtitle2",className:Jc.a.txtViewBy,children:"View by "}),Object(I.jsxs)(Nc.a,{value:he,exclusive:!0,onChange:function(e,t){t&&t!==he&&(xe(t),ie("column","Sales"===t?"DS":"SL"))},size:"small",color:"primary",classes:{root:k.btnToggles},children:[Object(I.jsx)(Cc.a,{value:T.serviceBarChart.ds,children:"Sales"}),Object(I.jsx)(Cc.a,{value:T.serviceBarChart.sl,children:"Quantity"})]})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:K&&re&&Object(I.jsx)(Kc,{values:K,years:re,option:he})})]})})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:5,md:5,lg:5,children:Object(I.jsx)(qr.a,{className:Jc.a.panelCustomers,variant:"elevation",elevation:4,children:Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",className:Jc.a.toggleOptions,children:[Object(I.jsx)(x.a,{variant:"subtitle2",className:Jc.a.txtViewBy,children:"View by "}),Object(I.jsxs)(Nc.a,{value:ge,exclusive:!0,onChange:function(e,t){null!==t&&t!==ge&&(ye(t),je("pie","status"===t?"school-status":"level"===t?"level":"type"===t?"school-type":"district"))},size:"small",color:"secondary",classes:{root:k.btnToggles},children:[Object(I.jsx)(Cc.a,{color:"secondary",value:"status",children:"Status"}),Object(I.jsx)(Cc.a,{color:"secondary",value:"level",children:"Level"}),Object(I.jsx)(Cc.a,{color:"secondary",value:"type",children:"Type"}),Object(I.jsx)(Cc.a,{color:"secondary",value:"district",children:"District"})]})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:K&&Object(I.jsx)(Ec,{values:U,labels:de,option:ge})})]})})})]})})]}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Jc.a.rowy,children:Object(I.jsxs)(f.a,{item:!0,container:!0,spacing:3,xs:12,sm:12,md:12,lg:12,className:Jc.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:8,children:Object(I.jsxs)(qr.a,{className:Jc.a.panelMap,variant:"elevation",elevation:4,children:[Object(I.jsxs)(x.a,{className:Jc.a.title,children:["Number of Customers by Districts in HCMC ",Object(I.jsx)("br",{}),"(until ",_e(new Date,"DD/MM/YYYY"),")"]}),Object(I.jsx)("div",{className:Jc.a.mapPanel,children:Object(I.jsx)(Yc,{})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,children:Object(I.jsx)(qr.a,{className:Jc.a.panelRanking,variant:"elevation",elevation:4,children:Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",className:Jc.a.toggleOptions,children:[Object(I.jsx)(x.a,{variant:"subtitle2",className:Jc.a.txtViewBy,children:"View by "}),Object(I.jsxs)(Nc.a,{value:Se,exclusive:!0,onChange:function(e,t){null!==t&&t!==Se&&(Ie(t),me("rank","month"===t?"month":"year"===t?"year":"all"))},size:"small",color:"primary",classes:{root:k.btnToggles},children:[Object(I.jsx)(Cc.a,{value:"month",children:"This month"}),Object(I.jsx)(Cc.a,{value:"year",children:"This year"}),Object(I.jsx)(Cc.a,{value:"all",children:"Whole time"})]})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsx)(Zc,{data:$,columns:["Rank","Salesman","Sales"]})})]})})})]})})]})})})})})})},ei=a(196),ti=a.n(ei),ai=[{code:400,message:"What is this? Is it a cake?",link:"",des:"Go back"},{code:401,message:"Who are you now?",link:"/",des:"Go back"},{code:403,message:"Sorry, this is THAT restricted area!",link:"/",des:"Go back"},{code:404,message:"Sorry, we could not find that page!",link:"",des:"Go back"},{code:500,message:"Well, you broke the Internet!",link:"",des:"Go back"}];function ni(e){return ai.filter((function(t){return t.code===e}))}var si=function(e){var t=e.defaultError,a=Object(o.i)(),n=Object(o.h)(),s="undefined"!==typeof a.state?ni(a.state.error):t;return Object(I.jsx)("div",{className:ti.a.root,children:s.map((function(e,t){return Object(I.jsxs)("div",{className:ti.a.main,children:[Object(I.jsx)(A,{animation:"transition.expandIn",delay:100,children:Object(I.jsx)(x.a,{variant:"h1",className:ti.a.code,children:e.code})}),Object(I.jsx)(A,{delay:500,children:Object(I.jsx)(x.a,{variant:"h5",className:ti.a.message,children:e.message})}),""!==e.link?Object(I.jsx)(l.b,{className:ti.a.link,to:e.link,children:e.des}):Object(I.jsx)(x.a,{className:ti.a.link,component:"a",onClick:function(){return n.goBack()},children:e.des})]},t)}))})},ri=(a.p,a.p+"static/media/logo-major-edu.0f6c111a.png"),ci=(a.p,a.p,a.p,a.p,a.p,a(251)),ii=a(786),li="Log In",oi="Username",di="Password",ui="Log In",ji="Forgot password?";function mi(){return(mi=Object(At.a)(Rt.a.mark((function e(t,a){var n,s;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.post("/access-tokens",{username:t,password:a});case 2:return n=e.sent,e.next=5,n.data;case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bi=a(130),pi=a.n(bi),hi=Dt.b().shape({username:Dt.d().required("Username is required"),password:Dt.d().required("Password is required")}),xi=[{type:"server",name:"username",message:null},{type:"server",name:"password",message:null},{type:"server",name:"credential",message:"Invalid username or password"}];var vi=function(){var e,t,a=gs().setUser,n=Object(o.h)(),s=Object(Tt.c)({resolver:Object(Pt.a)(hi)}),r=s.register,c=s.handleSubmit,i=s.errors,d=s.setError,u=s.clearErrors;return Object(I.jsx)("div",{className:pi.a.bg,children:Object(I.jsxs)("div",{className:pi.a.wrapper,children:[Object(I.jsx)("div",{className:pi.a.leftSection,children:Object(I.jsx)(ci.a,{className:pi.a.logo,variant:"outlined",children:Object(I.jsx)("img",{src:ri,alt:"major logo",className:pi.a.majorImg})})}),Object(I.jsxs)("div",{className:pi.a.rightSection,children:[Object(I.jsxs)("div",{className:pi.a.header,children:[Object(I.jsx)(qn.a,{className:pi.a.avatar,children:Object(I.jsx)(C.G,{})}),Object(I.jsx)(x.a,{component:"h1",variant:"h5",children:li})]}),Object(I.jsxs)("form",{className:pi.a.form,onSubmit:c((function(e){(function(e,t){return mi.apply(this,arguments)})(e.username,e.password).then((function(e){var t,n;Mt(va,e.token,7),Ya(Oa.token,(t=e.username,n=e.roles,{username:t,roles:n}),2),a(Ea(Oa.token))})).catch((function(e){e.response&&(console.log(e),403===e.response.status||500===e.response.status?xi.forEach((function(e){var t=e.name,a=e.type,n=e.message;return d(t,{type:a,message:n})})):n.push({pathname:"/errors",state:{error:e.response.status}}))}))})),noValidate:!0,children:[i.credential&&Object(I.jsx)(x.a,{color:"error",children:i.credential.message}),Object(I.jsx)(ce.a,{id:"username",name:"username",label:oi,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,autoFocus:!0,autoComplete:"username",inputRef:r,error:!!i.username,helperText:null===i||void 0===i||null===(e=i.username)||void 0===e?void 0:e.message,onClick:function(){return u(["username","credential"])}}),Object(I.jsx)(ce.a,{id:"password",name:"password",label:di,type:"password",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,autoComplete:"current-password",inputRef:r,error:!!i.password,helperText:null===i||void 0===i||null===(t=i.password)||void 0===t?void 0:t.message,onClick:function(){return u(["password","credential"])}}),Object(I.jsx)(O.a,{className:pi.a.submit,type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:ui})]}),Object(I.jsx)(ii.a,{component:l.b,className:pi.a.forgetPwd,to:"/password-reset/",variant:"body2",children:ji})]})]})})},Oi=["component"];var fi=function(e){var t=e.component,a=Object(bt.a)(e,Oi),n=!!gs().verifyCode;return Object(I.jsx)(o.c,Object(D.a)(Object(D.a)({},a),{},{render:function(e){return n?Object(I.jsx)(t,Object(D.a)({},e)):Object(I.jsx)(o.b,{to:"/"})}}))},gi=a(208),yi={reset:"Password Reset",msg1:"Enter the email associated with this account and we'll send you an email to reset your password",msg2:"Please enter the code from the email we just sent you to confirm your account",msg3:"Sweet! Your new password has now been set and you are logged in."},_i={submit:"Send",link:"Back to Log In"},Ni={username:"Username",email:"Email address",code:"Verify code",newPwd:"New Password",confirmPwd:"Confirm Password"},Ci={leave:"Leaving the page might cause any action you took to be repeated. Do you want to continue?"};function wi(){return(wi=Object(At.a)(Rt.a.mark((function e(t){var a;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.get("/recover-password?username=".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Si(){return(Si=Object(At.a)(Rt.a.mark((function e(t){var a;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.post("/recover-password",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ii(){return(Ii=Object(At.a)(Rt.a.mark((function e(t,a){var n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.patch("/recover-password/".concat(t),a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ki=a(182),Ti=a.n(ki),Pi=Dt.b().shape({username:Dt.d().trim().min(8,"Username must be at least 8 characters").max(30,"Username must be at most 30 characters").required("Username is required").matches(Ga,"Incorrect entry")}),Di=[{type:"server",name:"username",message:"Username does not exist"}];var Vi=function(){var e=yi,t=_i,a=Ni,n=Object(o.h)(),s=Object(Tt.c)({resolver:Object(Pt.a)(Pi),defaultValues:{username:""}}),r=s.control,c=s.errors,i=s.setError,d=s.handleSubmit,u=s.formState,j=s.reset;return Object(I.jsxs)("div",{className:Ti.a.container,children:[Object(I.jsxs)("div",{className:Ti.a.header,children:[Object(I.jsx)(qn.a,{className:Ti.a.avatar,children:Object(I.jsx)(gi.a,{})}),Object(I.jsx)(x.a,{component:"h1",variant:"h5",children:e.reset}),Object(I.jsx)(x.a,{variant:"body2",className:Ti.a.msg,children:e.msg1})]}),Object(I.jsxs)("form",{className:Ti.a.form,onSubmit:d((function(e){(function(e){return wi.apply(this,arguments)})(null===e||void 0===e?void 0:e.username).then((function(t){j({username:""}),n.push({pathname:"/password-reset/verify",state:{username:null===e||void 0===e?void 0:e.username}})})).catch((function(e){e.response&&(console.log(e),403===e.response.status||500===e.response.status?Di.forEach((function(e){var t=e.name,a=e.type,n=e.message;return i(t,{type:a,message:n})})):n.push({pathname:"/errors",state:{error:e.response.status}}))}))})),noValidate:!0,children:[Object(I.jsx)(Tt.a,{name:"username",control:r,render:function(e){var t,n=e.value,s=e.onChange;return Object(I.jsx)(ce.a,{label:a.username,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,autoFocus:!0,value:n,onChange:s,error:!!c.username,helperText:null===c||void 0===c||null===(t=c.username)||void 0===t?void 0:t.message})}}),Object(I.jsx)(O.a,{className:Ti.a.submit,type:"submit",variant:"contained",color:"primary",fullWidth:!0,disabled:!u.isDirty,children:t.submit})]}),Object(I.jsx)(ii.a,{className:Ti.a.login,component:l.b,to:"/",variant:"body2",children:t.link})]})},Ri=a(183),Ai=a.n(Ri),Bi=Dt.b().shape({code:Dt.d().trim().required("Verify code is required").matches(/^[a-zA-Z0-9]{10}$/g,"Invalid code")}),Mi=[{type:"server",name:"code",message:"Invalid code"}];var Fi=function(){var e,t=yi,a=_i,n=Ni,s=Object(o.h)(),r=Object(o.i)(),c=null===r||void 0===r||null===(e=r.state)||void 0===e?void 0:e.username,i=gs().setVerifyCode,d=Object(Tt.c)({resolver:Object(Pt.a)(Bi),defaultValues:{code:""}}),u=d.control,j=d.errors,m=d.setError,b=d.handleSubmit,p=d.formState,h=d.reset;return Object(I.jsxs)("div",{className:Ai.a.container,children:[Object(I.jsxs)("div",{className:Ai.a.header,children:[Object(I.jsx)(qn.a,{className:Ai.a.avatar,children:Object(I.jsx)(gi.a,{})}),Object(I.jsx)(x.a,{component:"h1",variant:"h5",children:t.reset}),Object(I.jsx)(x.a,{variant:"body2",className:Ai.a.msg,children:t.msg2})]}),Object(I.jsxs)("form",{className:Ai.a.form,onSubmit:b((function(e){(function(e){return Si.apply(this,arguments)})({privateToken:null===e||void 0===e?void 0:e.code,username:c}).then((function(e){e.data?(i(c),h({code:""}),s.push({pathname:"/password-reset/change",state:{username:c}})):Mi.forEach((function(e){var t=e.name,a=e.type,n=e.message;return m(t,{type:a,message:n})}))})).catch((function(e){e.response&&(console.log(e),s.push({pathname:"/errors",state:{error:e.response.status}}))}))})),noValidate:!0,children:[Object(I.jsx)(Tt.a,{name:"code",control:u,render:function(e){var t,a=e.value,s=e.onChange;return Object(I.jsx)(ce.a,{label:n.code,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,autoFocus:!0,value:a,onChange:s,error:!!j.code,helperText:null===j||void 0===j||null===(t=j.code)||void 0===t?void 0:t.message})}}),Object(I.jsx)(O.a,{className:Ai.a.submit,type:"submit",variant:"contained",color:"primary",fullWidth:!0,disabled:!p.isDirty,children:a.submit})]}),Object(I.jsx)(ii.a,{className:Ai.a.login,component:l.b,to:"/",variant:"body2",children:a.link})]})},Yi=a(222),Ei=a.n(Yi),Hi=Dt.b().shape({newPwd:Dt.d().matches(Za,"Password must contain 8 characters, 1 uppercase, 1 lowercase, 1 number and 1 special case character"),confirmPwd:Dt.d().oneOf([Dt.c("newPwd"),null],"Confirm password is not match").required("Confirm is required")});var Li=function(){var e,t=yi,a=_i,n=Ni,r=Ci,c=Object(o.h)(),i=Object(o.i)(),l=null===i||void 0===i||null===(e=i.state)||void 0===e?void 0:e.username,d=Object(Tt.c)({resolver:Object(Pt.a)(Hi),defaultValues:{newPwd:"",confirmPwd:""}}),u=d.control,j=d.errors,m=d.handleSubmit,b=d.formState,p=d.reset,h=function(e){e.preventDefault(),e.returnValue=""};return Object(s.useEffect)((function(){return window.addEventListener("beforeunload",h),function(){window.removeEventListener("beforeunload",h)}}),[]),Object(I.jsxs)("div",{className:Ei.a.container,children:[Object(I.jsxs)("div",{className:Ei.a.header,children:[Object(I.jsx)(qn.a,{className:Ei.a.avatar,children:Object(I.jsx)(gi.a,{})}),Object(I.jsx)(x.a,{component:"h1",variant:"h5",children:t.reset})]}),Object(I.jsxs)("form",{className:Ei.a.form,onSubmit:m((function(e){var t=Object(D.a)(Object(D.a)({},e),{},{username:l,password:null===e||void 0===e?void 0:e.confirmPwd});(function(e,t){return Ii.apply(this,arguments)})(l,t).then((function(e){p({newPwd:"",confirmPwd:""}),c.replace("/")})).catch((function(e){e.response&&(console.log(e),c.push({pathname:"/errors",state:{error:e.response.status}}))}))})),noValidate:!0,children:[Object(I.jsx)(Tt.a,{name:"newPwd",control:u,render:function(e){var t,a=e.value,s=e.onChange;return Object(I.jsx)(ce.a,{label:n.newPwd,variant:"outlined",type:"password",margin:"normal",required:!0,fullWidth:!0,autoFocus:!0,value:a,onChange:s,error:!!j.newPwd,helperText:null===j||void 0===j||null===(t=j.newPwd)||void 0===t?void 0:t.message})}}),Object(I.jsx)(Tt.a,{name:"confirmPwd",control:u,render:function(e){var t,a=e.value,s=e.onChange;return Object(I.jsx)(ce.a,{label:n.confirmPwd,variant:"outlined",type:"password",margin:"normal",required:!0,fullWidth:!0,value:a,onChange:s,error:!!j.confirmPwd,helperText:null===j||void 0===j||null===(t=j.confirmPwd)||void 0===t?void 0:t.message})}}),Object(I.jsx)(O.a,{className:Ei.a.submit,type:"submit",variant:"contained",color:"primary",fullWidth:!0,disabled:!b.isDirty,children:a.submit})]}),Object(I.jsx)(o.a,{message:function(){if(b.isDirty&&!b.isSubmitting)return r.leave}})]})},Ki=a(371),Wi=a.n(Ki);var qi=function(){var e=Object(o.k)().url;return Object(I.jsx)("div",{className:Wi.a.bg,children:Object(I.jsx)("div",{className:Wi.a.wrapper,children:Object(I.jsxs)(o.e,{children:[Object(I.jsx)(o.c,{exact:!0,path:"".concat(e,"/"),component:Vi}),Object(I.jsx)(o.c,{path:"".concat(e,"/verify"),component:Fi}),Object(I.jsx)(fi,{path:"".concat(e,"/change"),component:Li}),Object(I.jsx)(o.b,{from:"*",to:"/errors"})]})})})},zi=a(787),Ui=a(218);function Gi(){return(Gi=Object(At.a)(Rt.a.mark((function e(t){var a,n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.get("/users/".concat(t));case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zi(e,t){return Qi.apply(this,arguments)}function Qi(){return(Qi=Object(At.a)(Rt.a.mark((function e(t,a){var n,s;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.patch("/users/".concat(t),a);case 2:return n=e.sent,e.next=5,n.data;case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ji(){return(Ji=Object(At.a)(Rt.a.mark((function e(t,a,n){var s,r;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.post("/users/".concat(t),{newPassword:a,oldPassword:n});case 2:return s=e.sent,e.next=5,s.data;case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xi={child1:"Account Info",child2:"General Info"},$i={logout:"Log Out",cancel:"Clear",save:"Save",empty:"User not found!"},el={info:"",success:"Updated Successfully",error:"Updated Failed",warning:""},tl={username:{title:"Username"},password:{title:"Password",defaultValue:"12345678",labels:{old:"Old Password",new:"New Password",confirm:"Confirm Password"}},fullName:{title:"Full Name"},dob:{title:"Birthday",empty:"N/A"},isMale:{title:"Gender",male:{lb:"Male",value:"true"},female:{lb:"Female",value:"false"}},email:{title:"Email",label:"New Email"},phone:{title:"Phone Number",label:"New Number"},address:{title:"Address",label:"New Address"}},al=a(458),nl=a.n(al);function sl(e){var t=e.header;return Object(I.jsx)(ms.a,{className:nl.a.appBar,position:"static",elevation:0,children:Object(I.jsx)(bs.a,{children:Object(I.jsx)(x.a,{variant:"h5",children:t})})})}var rl=r.a.memo(sl),cl=a(197),il=a.n(cl);function ll(e){var t=e.title,a=e.detail,n=e.icon;return Object(I.jsx)("div",{className:il.a.cardText,children:Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsx)(f.a,{item:!0,sm:3,md:3,lg:3,children:Object(I.jsx)(x.a,{className:il.a.titles,children:t})}),Object(I.jsx)(f.a,{item:!0,sm:6,md:6,lg:6,children:function(e,t){return"none"===e?Object(I.jsxs)("div",{className:il.a.detailZone,children:[Object(I.jsx)(x.a,{className:il.a.details,children:t}),Object(I.jsx)(ve.a,{style:{display:e},children:t})]}):Object(I.jsxs)("div",{className:il.a.detailZone,children:[Object(I.jsx)(x.a,{className:il.a.details,children:t?"Male":"Female"}),Object(I.jsx)(ve.a,{style:{display:e},children:!0===t?Object(I.jsx)(Ui.a,{color:"#005BB5"}):Object(I.jsx)(Ui.b,{color:"#E26A89"})})]})}(n,a)})]})})}ll.defaultProps={icon:"none"};a(137),Dt.b().shape({oldPassword:Dt.d().min(8,"Invalid password").required("Field not null"),newPassword:Dt.d().min(8,"Invalid password").required("Field not null"),confirmPassword:Dt.d().oneOf([Dt.c("newPassword")],"Password's not match").required("Field not null"),email:Dt.d().email("Invalid email"),phone:Dt.d().required("Field not null").matches(/^0[0-9]{8}$/),address:Dt.d()});var ol=a(459),dl=a.n(ol),ul=a(30),jl=a.n(ul),ml=Dt.b().shape({oldPassword:Dt.d().required("Password is required"),newPassword:Dt.d().notOneOf([Dt.c("oldPassword"),null],"The new password you entered is the same as your old password. Please enter a different password").matches(Za,"Password must contain 8 characters, 1 uppercase, 1 lowercase, 1 number and 1 special case character"),confirmPassword:Dt.d().oneOf([Dt.c("newPassword"),null],"Confirm password is not match").required("Confirm is required")}),bl=Dt.b().shape({email:Dt.d().trim().email("Invalid email").required("Email is required")}),pl=Dt.b().shape({phone:Dt.d().required("Phone is required").max(10,"Phone number must be at most 10 digits and has the correct format").matches(Qa,"Phone number is in wrong format (03|5|7|9xxxxxxxx)")}),hl=Dt.b().shape({address:Dt.d().trim().required("Address is required")}),xl=[{type:"server",name:"oldPassword",message:null},{type:"server",name:"credential",message:"Invalid password"}];var vl=function(){var e,t,a,n,r,c=gs().user,i=Xi,l=$i,u=tl,j=el,h=Object(cn.b)().enqueueSnackbar,g=qa().setUserInfo,y=Object(o.i)(),_=Object(o.h)(),N=Object(o.j)().id,w=Object(s.useState)(null),S=Object(d.a)(w,2),k=S[0],T=S[1],P=Object(s.useState)(!1),D=Object(d.a)(P,2),V=D[0],R=D[1],B=Object(s.useState)(0),M=Object(d.a)(B,2),F=M[0],E=M[1],H=Object(s.useState)(0),L=Object(d.a)(H,2),K=L[0],W=L[1],q={address:"",latitude:F,longitude:K},z=Object(Tt.c)({resolver:Object(Pt.a)(ml),defaultValues:{oldPassword:"",newPassword:"",confirmPassword:""}}),U=z.handleSubmit,G=z.errors,Z=z.register,Q=z.reset,J=z.setError,X=z.formState,ee=Object(Tt.c)({resolver:Object(Pt.a)(bl),defaultValues:{email:""}}),te=ee.handleSubmit,ae=ee.errors,ne=ee.register,re=ee.reset,ie=ee.formState,le=Object(Tt.c)({resolver:Object(Pt.a)(pl),defaultValues:{phone:""}}),oe=le.handleSubmit,de=le.errors,ue=le.register,je=le.reset,me=le.formState,be=Object(Tt.c)({resolver:Object(Pt.a)(hl),defaultValues:q}),pe=be.handleSubmit,he=be.errors,Oe=be.reset,fe=be.formState,ge=be.control,_e=!0,Ne=function(){N===c.username&&function(e){return Gi.apply(this,arguments)}(c.username).then((function(e){_e&&(T(e),g(e))})).catch((function(e){e.response&&(console.log(e),_.push({pathname:"/errors",state:{error:e.response.status}}))}))};if(Object(s.useEffect)((function(){return Ne(),function(){_e=!1}}),[y.pathname]),!k)return N!==c.username?Object(I.jsx)($,{title:l.empty}):Object(I.jsx)(se,{});var Ce=k.username,we=k.fullName,Se=k.email,Ie=k.phone,ke=k.avatar,Te=k.isMale,Pe=k.address,De=k.birthDate,Ve=function(){var e=Object(At.a)(Rt.a.mark((function e(t){var a,n,s,r;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.files[0]){e.next=4;break}return h(j.error,{variant:"error"}),e.abrupt("return",!1);case 4:if(a.name.match(/\.(jpg|jpeg|png)$/)){e.next=7;break}return h(j.error,{variant:"error"}),e.abrupt("return",!1);case 7:return n=function(e){return new Promise((function(t){dl.a.imageFileResizer(e,300,300,"JPEG",100,0,(function(e){t(e)}),"file")}))},e.next=10,n(a);case 10:return s=e.sent,e.next=13,Re(s);case 13:r=e.sent,Ae(r),h(j.success,{variant:"success"});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(At.a)(Rt.a.mark((function e(t){return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){sn.ref("images/avatars/".concat(c.username,"-").concat(t.name)).put(t).on("stage_changed",(function(e){}),(function(e){console.log(e),a("Upload Image to firebase failed: "+e)}),(function(){sn.ref("images/avatars/").child("".concat(c.username,"-").concat(t.name)).getDownloadURL().then((function(t){e(t)}))}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(e){var t={attribute:"avatar",value:e};Zi(c.username,t).then((function(e){Ne()})).catch((function(e){e.response&&(console.log(e),_.push({pathname:"/errors",state:{error:e.response.status}}))}))},Be=function(e){return function(t,a){R(!!a&&e)}};return Object(I.jsxs)("div",{className:jl.a.wrapper,children:[Object(I.jsxs)("div",{className:jl.a.infoContent,children:[Object(I.jsxs)("div",{className:jl.a.infoAvatar,children:[Object(I.jsx)(A,{animation:"transition.expandIn",delay:300,children:ke?Object(I.jsx)(qn.a,{className:jl.a.avatar,alt:"user avatar",src:ke}):Object(I.jsx)(qn.a,{className:jl.a.avatar,children:Object(I.jsx)(x.a,{className:jl.a.avatarTxt,children:we.split(" ").pop()[0]})})}),Object(I.jsx)("input",{id:"icon-button-file",className:jl.a.inputAvatar,accept:"image/*",type:"file",onChange:function(e){return Ve(e)}}),Object(I.jsx)("label",{htmlFor:"icon-button-file",children:Object(I.jsx)(v.a,{title:"Upload avatar",children:Object(I.jsx)(ht.a,{className:jl.a.uploadBtn,component:"span",children:Object(I.jsx)(C.O,{})})})})]}),Object(I.jsx)(A,{animation:"transition.slideLeftIn",delay:300,children:Object(I.jsx)(x.a,{className:jl.a.infoName,variant:"h4",children:we})})]}),Object(I.jsxs)("div",{className:jl.a.about,children:[Object(I.jsx)(Y,{enter:{animation:"transition.slideUpBigIn"},children:Object(I.jsxs)(qr.a,{className:jl.a.account,elevation:1,children:[Object(I.jsx)(rl,{header:i.child1}),Object(I.jsxs)(Ur.a,{className:jl.a.cardContent,children:[Object(I.jsx)("div",{className:jl.a.cardText,children:Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsx)(f.a,{item:!0,sm:3,md:3,lg:3,children:Object(I.jsx)(x.a,{className:jl.a.titles,children:u.username.title})}),Object(I.jsx)(f.a,{item:!0,sm:6,md:6,lg:4,children:Object(I.jsx)("div",{className:jl.a.detailZone,children:Object(I.jsx)(x.a,{className:jl.a.details,children:Ce})})})]})}),Object(I.jsx)("form",{noValidate:!0,onSubmit:U((function(e){(function(e,t,a){return Ji.apply(this,arguments)})(c.username,e.newPassword,e.oldPassword).then((function(e){Ne(),h(j.success,{variant:"success"}),Q({oldPassword:"",newPassword:"",confirmPassword:""})})).catch((function(e){e.response&&(console.log(e),500===e.response.status?xl.forEach((function(e){var t=e.name,a=e.type,n=e.message;return J(t,{type:a,message:n})})):_.push({pathname:"/errors",state:{error:e.response.status}})),h(j.error,{variant:"error"})}))})),children:Object(I.jsxs)(m.a,{className:jl.a.accor,elevation:0,expanded:"password"===V,onChange:Be("password"),children:[Object(I.jsx)(b.a,{className:jl.a.accorSum,id:"password",expandIcon:Object(I.jsx)(C.r,{}),children:Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsx)(f.a,{item:!0,sm:3,md:3,lg:3,children:Object(I.jsx)(x.a,{className:jl.a.titles,children:u.password.title})}),Object(I.jsx)(f.a,{item:!0,sm:6,md:6,lg:4,children:Object(I.jsx)(ce.a,{className:Object(ds.a)(jl.a.details,jl.a.detailsAccor),type:"password",defaultValue:u.password.defaultValue,fullWidth:!0,disabled:!0,InputProps:{disableUnderline:!0}})})]})}),Object(I.jsx)(p.a,{className:jl.a.accorDetails,children:Object(I.jsx)(f.a,{container:!0,children:Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:[Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsx)(f.a,{item:!0,xs:1,sm:3,md:3,lg:3}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:6,md:6,lg:4,className:jl.a.inputZone,children:[G.credential&&Object(I.jsx)(x.a,{color:"error",children:G.credential.message}),Object(I.jsx)(ce.a,{className:jl.a.inputField,fullWidth:!0,autoFocus:!0,required:!0,name:"oldPassword",label:u.password.labels.old,variant:"outlined",type:"password",inputRef:Z,error:!!G.oldPassword,helperText:null===G||void 0===G||null===(e=G.oldPassword)||void 0===e?void 0:e.message})]})]}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsx)(f.a,{item:!0,xs:1,sm:3,md:3,lg:3}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:6,lg:4,className:jl.a.inputZone,children:Object(I.jsx)(ce.a,{className:jl.a.inputField,fullWidth:!0,required:!0,name:"newPassword",label:u.password.labels.new,variant:"outlined",type:"password",inputRef:Z,error:!!G.newPassword,helperText:null===G||void 0===G||null===(t=G.newPassword)||void 0===t?void 0:t.message})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsx)(f.a,{item:!0,xs:1,sm:3,md:3,lg:3}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:6,lg:4,className:jl.a.inputZone,children:Object(I.jsx)(ce.a,{className:jl.a.inputField,fullWidth:!0,required:!0,name:"confirmPassword",label:u.password.labels.confirm,variant:"outlined",type:"password",inputRef:Z,error:!!G.confirmPassword,helperText:null===G||void 0===G||null===(a=G.confirmPassword)||void 0===a?void 0:a.message})})]})})]})})}),Object(I.jsxs)(zi.a,{className:jl.a.accorActions,children:[Object(I.jsx)(O.a,{className:jl.a.saveBtn,size:"large",type:"submit",disabled:!X.isDirty,children:l.save}),Object(I.jsx)(O.a,{className:jl.a.cancelBtn,size:"large",onClick:function(){return Q({pwdErrors:!1,oldPassword:"",newPassword:"",confirmPassword:""})},children:l.cancel})]})]})})]})]})}),Object(I.jsx)(Y,{enter:{animation:"transition.slideUpBigIn"},children:Object(I.jsxs)(qr.a,{className:jl.a.me,elevation:1,children:[Object(I.jsx)(rl,{header:i.child2}),Object(I.jsxs)(Ur.a,{className:jl.a.cardContent,children:[Object(I.jsx)("div",{className:jl.a.cardText,children:Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsx)(f.a,{item:!0,sm:3,md:3,lg:3,children:Object(I.jsx)(x.a,{className:jl.a.titles,children:u.fullName.title})}),Object(I.jsx)(f.a,{item:!0,sm:6,md:6,lg:4,children:Object(I.jsx)("div",{className:jl.a.detailZone,children:Object(I.jsx)(x.a,{className:jl.a.details,children:we})})})]})}),Object(I.jsx)("div",{className:jl.a.cardText,children:Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsx)(f.a,{item:!0,sm:3,md:3,lg:3,children:Object(I.jsx)(x.a,{className:jl.a.titles,children:u.dob.title})}),Object(I.jsx)(f.a,{item:!0,sm:6,md:6,lg:4,children:Object(I.jsx)("div",{className:jl.a.detailZone,children:Object(I.jsx)(x.a,{className:jl.a.details,children:De?ye()(De).format("DD/MM/YYYY"):Object(I.jsx)("div",{children:u.dob.empty})})})})]})}),Object(I.jsx)("div",{className:jl.a.cardText,children:Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsx)(f.a,{item:!0,sm:3,md:3,lg:3,children:Object(I.jsx)(x.a,{className:jl.a.titles,children:u.isMale.title})}),Object(I.jsx)(f.a,{item:!0,sm:6,md:6,lg:4,children:Object(I.jsxs)("div",{className:jl.a.detailZone,children:[Object(I.jsx)(x.a,{className:jl.a.details,children:Te?u.isMale.male.lb:u.isMale.female.lb}),Object(I.jsx)(ve.a,{children:Te?Object(I.jsx)(Ui.a,{color:"#005BB5"}):Object(I.jsx)(Ui.b,{color:"#E26A89"})})]})})]})}),Object(I.jsx)("form",{noValidate:!0,onSubmit:te((function(e){var t={attribute:"email",value:null===e||void 0===e?void 0:e.email};Zi(c.username,t).then((function(e){Ne(),h(j.success,{variant:"success"}),re({email:""})})).catch((function(e){e.response&&(console.log(e),_.push({pathname:"/errors",state:{error:e.response.status}})),h(j.error,{variant:"error"})}))})),children:Object(I.jsxs)(m.a,{className:jl.a.accor,elevation:0,expanded:"email"===V,onChange:Be("email"),children:[Object(I.jsx)(b.a,{className:jl.a.accorSum,id:"email",expandIcon:Object(I.jsx)(C.r,{}),children:Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsx)(f.a,{item:!0,sm:3,md:3,lg:3,children:Object(I.jsx)(x.a,{className:jl.a.titles,children:u.email.title})}),Object(I.jsx)(f.a,{item:!0,sm:6,md:6,lg:4,children:Object(I.jsx)(ce.a,{className:Object(ds.a)(jl.a.details,jl.a.detailsAccor),type:"text",value:Se,fullWidth:!0,disabled:!0,InputProps:{disableUnderline:!0,className:jl.a.details}})})]})}),Object(I.jsx)(p.a,{className:jl.a.accorDetails,children:Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsx)(f.a,{item:!0,xs:1,sm:3,md:3,lg:3}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:6,lg:4,className:jl.a.inputZone,children:Object(I.jsx)(ce.a,{className:jl.a.inputField,fullWidth:!0,autoFocus:!0,required:!0,name:"email",label:u.email.label,variant:"outlined",type:"text",inputRef:ne,error:!!ae.email,helperText:null===ae||void 0===ae||null===(n=ae.email)||void 0===n?void 0:n.message})})]})}),Object(I.jsxs)(zi.a,{className:jl.a.accorActions,children:[Object(I.jsx)(O.a,{className:jl.a.saveBtn,size:"large",type:"submit",disabled:!ie.isDirty,children:l.save}),Object(I.jsx)(O.a,{className:jl.a.cancelBtn,size:"large",onClick:function(){return re({emailErrors:!1,email:""})},children:l.cancel})]})]})}),Object(I.jsx)("form",{noValidate:!0,onSubmit:oe((function(e){var t={attribute:"phone",value:null===e||void 0===e?void 0:e.phone};Zi(c.username,t).then((function(e){Ne(),h(j.success,{variant:"success"}),je({phone:""})})).catch((function(e){e.response&&(console.log(e),_.push({pathname:"/errors",state:{error:e.response.status}})),h(j.error,{variant:"error"})}))})),children:Object(I.jsxs)(m.a,{className:jl.a.accor,elevation:0,expanded:"phone"===V,onChange:Be("phone"),children:[Object(I.jsx)(b.a,{className:jl.a.accorSum,id:"phone",expandIcon:Object(I.jsx)(C.r,{}),children:Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsx)(f.a,{item:!0,sm:3,md:3,lg:3,children:Object(I.jsx)(x.a,{className:jl.a.titles,children:u.phone.title})}),Object(I.jsx)(f.a,{item:!0,sm:6,md:6,lg:4,children:Object(I.jsx)(ce.a,{className:Object(ds.a)(jl.a.details,jl.a.detailsAccor),type:"text",value:Ie,fullWidth:!0,disabled:!0,InputProps:{disableUnderline:!0,className:jl.a.details}})})]})}),Object(I.jsx)(p.a,{className:jl.a.accorDetails,children:Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsx)(f.a,{item:!0,xs:1,sm:3,md:3,lg:3}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:6,lg:4,className:jl.a.inputZone,children:Object(I.jsx)(ce.a,{className:jl.a.inputField,fullWidth:!0,autoFocus:!0,required:!0,name:"phone",label:u.phone.label,variant:"outlined",type:"text",inputRef:ue,error:!!de.phone,helperText:null===de||void 0===de||null===(r=de.phone)||void 0===r?void 0:r.message})})]})}),Object(I.jsxs)(zi.a,{className:jl.a.accorActions,children:[Object(I.jsx)(O.a,{className:jl.a.saveBtn,size:"large",type:"submit",disabled:!me.isDirty,children:l.save}),Object(I.jsx)(O.a,{className:jl.a.cancelBtn,size:"large",onClick:function(){return je({phoneErrors:!1,phone:""})},children:l.cancel})]})]})}),Object(I.jsx)("form",{noValidate:!0,onSubmit:pe((function(e){var t={attribute:"address",value:null===e||void 0===e?void 0:e.address,latitude:F,longitude:K};Zi(c.username,t).then((function(e){Ne(),h(j.success,{variant:"success"}),Oe({address:""})})).catch((function(e){e.response&&(console.log(e),_.push({pathname:"/errors",state:{error:e.response.status}})),h(j.error,{variant:"error"})}))})),children:Object(I.jsxs)(m.a,{className:jl.a.accor,elevation:0,expanded:"address"===V,onChange:Be("address"),children:[Object(I.jsx)(b.a,{className:jl.a.accorSum,id:"address",expandIcon:Object(I.jsx)(C.r,{}),children:Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsx)(f.a,{item:!0,sm:3,md:3,lg:3,children:Object(I.jsx)(x.a,{className:jl.a.titles,children:u.address.title})}),Object(I.jsx)(f.a,{item:!0,sm:9,md:9,lg:9,children:Object(I.jsx)(ce.a,{className:Object(ds.a)(jl.a.details,jl.a.detailsAccor),type:"text",value:Pe,fullWidth:!0,disabled:!0,InputProps:{disableUnderline:!0,className:jl.a.details}})})]})}),Object(I.jsx)(p.a,{className:jl.a.accorDetails,children:Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsx)(f.a,{item:!0,xs:1,sm:3,md:3,lg:3}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:9,md:9,lg:9,className:jl.a.inputZone,children:Object(I.jsx)(Tt.a,{className:jl.a.inputField,name:"address",control:ge,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(xe,{setLatitude:E,setLongitude:W,inputValue:a,setInputValue:n,error:!!he.address,helperText:null===he||void 0===he||null===(t=he.address)||void 0===t?void 0:t.message})}})})]})}),Object(I.jsxs)(zi.a,{className:jl.a.accorActions,children:[Object(I.jsx)(O.a,{className:jl.a.saveBtn,size:"large",type:"submit",disabled:!fe.isDirty,children:l.save}),Object(I.jsx)(O.a,{className:jl.a.cancelBtn,size:"large",onClick:function(){return Oe({address:""})},children:l.cancel})]})]})})]})]})})]})]})},Ol=a(762),fl=[{key:"no",name:"#",sortable:!1,width:"0%"},{key:"date",name:"Date",sortable:!0,width:"10%"},{key:"task.school.name",name:"School Name",sortable:!0,width:"20%"},{key:"task.user.fullName",name:"PIC",sortable:!0,width:"20%"},{key:"task.purpose.name",name:"Purpose",sortable:!0,width:"12%"},{key:"isSuccess",name:"Result",sortable:!0,width:"13%"},{key:"description",name:"Description",sortable:!0,width:"25%"},{key:"",name:"",sortable:!1,width:"0%"}],gl={back:"Reports"},yl={tab1:"Report Info",tab2:"Assign Info"},_l={notFound:"Report Not Found"},Nl={filter:"Filters",search:{placeholder:"Search..."},create:"Create"},Cl={pic:{title:"PICs",placeholder:"PIC's name"},purpose:{title:"Purposes",options:{all:"All"}},district:{title:"Districts",options:{all:"All"}},schoolYear:{title:"School Years",options:{all:"All"}},dateRange:{titleFrom:"From date",titleTo:"To date"},result:{title:"Result",options:{all:"All",success:"\u0110\xe3 g\u1eb7p HT/HP",failed:"Ch\u01b0a g\u1eb7p HT/HP"}}},wl=Object(u.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap"},ul:{maxWidth:810,overflowX:"auto",display:"flex",justifyContent:"flex-start",flexWrap:"nowrap",listStyle:"none",margin:0,paddingLeft:"0.5rem"},btnClear:{fontSize:"0.75rem"},chip:{margin:e.spacing(.5)}}}));function Sl(e){var t=wl(),a=e.chips,n=e.dispatch,r=e.handleChipsRemoved,c=Cl,i=Object(s.useState)(!1),l=Object(d.a)(i,2),o=(l[0],l[1]),u=function(e){return function(){switch(e.filterType){case Qe:n({type:Ie,payload:{filterType:Qe,filterValue:null}});break;case Je:n({type:ke,payload:{filterType:Je,filterValue:""}});break;case Xe:n({type:Te,payload:{filterType:Xe,filterValue:""}});break;case et:n({type:Re,payload:{filterType:et,filterValue:""}});break;case nt:n({type:Be,payload:{filterType:nt,filterValue:null}});break;case at:n({type:Me,payload:{filterType:at,filterValue:[null,null]}})}if(r){var t=[e.filterType];r(t)}}};return Object(I.jsx)("div",{children:6!==function(){var e=0;return a.forEach((function(t){(""===t.filterValue||null===t.filterValue||void 0===t.filterValue||t.filterType===at&&"string"!==typeof t.filterValue)&&e++})),e}()&&Object(I.jsxs)("div",{className:t.root,children:[Object(I.jsx)(O.a,{size:"small",className:t.btnClear,onClick:function(){(o(!1),r)&&(n({type:Ie,payload:{filterType:Qe,filterValue:null}}),n({type:ke,payload:{filterType:Je,filterValue:""}}),n({type:Te,payload:{filterType:Xe,filterValue:""}}),n({type:Re,payload:{filterType:et,filterValue:""}}),n({type:Be,payload:{filterType:nt,filterValue:null}}),n({type:Me,payload:{filterType:at,filterValue:[null,null]}}),r([Qe,Je,Xe,et,at,nt]))},children:"Clear all"}),Object(I.jsx)("ul",{className:t.ul,children:a.map((function(e){return Object(I.jsxs)("li",{children:[e.filterType===Qe&&e.filterValue&&Object(I.jsx)(Se.a,{label:e.filterValue.fullName,avatar:Object(I.jsx)(qn.a,{src:e.filterValue.avatar}),onDelete:u(e),className:t.chip,color:"secondary"}),e.filterType===at&&e.filterValue&&"string"===typeof e.filterValue&&Object(I.jsx)(Se.a,{label:e.filterValue,onDelete:u(e),className:t.chip,color:"secondary"}),e.filterType===nt&&null!==e.filterValue&&Object(I.jsx)(Se.a,{label:e.filterValue?"".concat(c.result.options.success):"".concat(c.result.options.failed),onDelete:u(e),className:t.chip,color:"secondary"}),e.filterType!==Qe&&e.filterType!==at&&e.filterType!==nt&&e.filterValue&&Object(I.jsx)(Se.a,{label:e.filterValue,onDelete:u(e),className:t.chip,color:"secondary"})]},e.filterType)}))})]})})}var Il=r.a.memo(Sl),kl=a(158),Tl=a(213),Pl=a(212),Dl=Object(u.a)((function(e){return{formControl:{width:130,margin:e.spacing(1)}}}));var Vl=function(e){var t=Dl(),a=e.handleDateRangeChange,n=Cl,s=Cs(),r=s.dateRange,c=s.setFilter;return Object(I.jsx)(kl.b,{dateAdapter:Pl.a,children:Object(I.jsx)(Tl.a,{className:t.picker,startText:n.dateRange.titleFrom,endText:n.dateRange.titleTo,disableFuture:!0,allowSameDateSelection:!0,showToolbar:!0,minDate:new Date("2010-01-01"),inputFormat:"dd/MM/yyyy",value:r,onChange:function(e){return c(at,t=e),void a(t);var t},renderInput:function(e,a){return Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:5,md:5,lg:5,children:Object(I.jsx)(g.a,{className:t.formControl,children:Object(I.jsx)(ce.a,Object(D.a)(Object(D.a)({},e),{},{variant:"standard"}))})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:5,md:5,lg:5,children:Object(I.jsx)(g.a,{className:t.formControl,children:Object(I.jsx)(ce.a,Object(D.a)(Object(D.a)({},a),{},{variant:"standard"}))})})]})}})})},Rl={create:"Create Reports",comment:"Comment on Report",confirm:"Confirm Remove",cannot:"Cannot Remove",child1:"Preview:"},Al={cancel:"Cancel",save:"Save",remove:"Remove",ok:"OK, I understood"},Bl={task:{name:"task",label:"School Name"},level:{name:"level"},id:{name:"taskId"},isSuccess:{name:"isSuccess",label:"Result"},description:{name:"description",label:"Description"},positivity:{name:"positivity",label:"Positivity"},difficulty:{name:"difficulty",label:"Difficulty"},futurePlan:{name:"futurePlan",label:"Future Plan"}},Ml=["#","School Name","Result","Description",""],Fl="isSuccess",Yl="description",El="positivity",Hl="difficulty",Ll="futurePlan";function Kl(){return Wl.apply(this,arguments)}function Wl(){return(Wl=Object(At.a)(Rt.a.mark((function e(){var t,a,n,s,r,c,i,l,o,d,u=arguments;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:0,a=u.length>1&&void 0!==u[1]?u[1]:10,n=u.length>2&&void 0!==u[2]?u[2]:"date",s=u.length>3&&void 0!==u[3]?u[3]:"desc",r=u.length>4&&void 0!==u[4]?u[4]:void 0,c=u.length>5?u[5]:void 0,i=u.length>6?u[6]:void 0,l="/reports?page=".concat(t,"&limit=").concat(a,"&column=").concat(n,"&direction=").concat(s),l=r?l.concat("&key=".concat(r)):l,c&&(l=c.schoolYear.filterValue?l.concat("&schoolYear=".concat(c.schoolYear.filterValue)):l,l=c.district.filterValue?l.concat("&district=".concat(c.district.filterValue)):l,l=c.PIC.filterValue?l.concat("&fullName=".concat(c.PIC.filterValue.fullName)):l,l=c.purpose.filterValue?l.concat("&purpose=".concat(c.purpose.filterValue)):l,l=null!==c.result.filterValue?l.concat("&isSuccess=".concat(c.result.filterValue)):l,l=c.dateRange.filterValue[0]?l.concat("&fromDate=".concat(c.dateRange.filterValue[0])):l,l=c.dateRange.filterValue[1]?l.concat("&toDate=".concat(c.dateRange.filterValue[1])):l),l=i?l.concat("&taskId=".concat(i)):l,e.next=13,ga.get(l);case 13:return o=e.sent,e.next=16,o.data;case 16:return d=e.sent,e.abrupt("return",d);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ql(){return(ql=Object(At.a)(Rt.a.mark((function e(t){var a,n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.get("/reports/".concat(t));case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zl(){return(zl=Object(At.a)(Rt.a.mark((function e(t,a){var n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.put("/reports/".concat(t),a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ul(){return(Ul=Object(At.a)(Rt.a.mark((function e(t,a){var n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.patch("/reports/".concat(t),a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gl(){return(Gl=Object(At.a)(Rt.a.mark((function e(t){var a,n,s;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ka.a.stringify(t),e.next=3,ga.get("/tasks?".concat(a));case 3:return n=e.sent,e.next=6,n.data;case 6:return s=e.sent,e.abrupt("return",s.list);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zl(){return(Zl=Object(At.a)(Rt.a.mark((function e(t){var a,n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.post("/reports",t);case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ql(){return(Ql=Object(At.a)(Rt.a.mark((function e(t){var a,n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.delete("/reports/".concat(t),{reportId:t});case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jl(e,t,a){for(var n=e.length;n--;)e[n]&&e[n].hasOwnProperty(t)&&arguments.length>2&&e[n][t]===a&&e.splice(n,1);return e}var Xl=a(87),$l=a.n(Xl),eo=Dt.b().shape({}),to={PaperProps:{style:{maxHeight:157}}},ao=Object(u.a)((function(e){return{formControl:{margin:e.spacing(1)},option:{fontSize:"0.875rem"},root:{},menuItemRoot:{"&$menuItemSelected":{backgroundColor:"rgba(0, 0, 0, 0.08)"},"&$menuItemSelected:focus":{backgroundColor:"rgba(0, 0, 0, 0.12)"},"&$menuItemSelected:hover":{backgroundColor:"rgba(0, 0, 0, 0.04);"}},menuItemSelected:{}}}));var no=function(e){var t,a=ao(),n=e.onClose,r=e.refreshAPI,c=(e.setNotify,Rl),i=Al,l=Bl,u=gs().user,j=Object(o.h)(),m=Object(cn.b)().enqueueSnackbar,b=Cs().params,p=b.listFilters,v=b.page,w=b.limit,S=b.column,k=b.direction,T=b.searchKey,P=Object(s.useRef)({}),V=Object(Tt.c)({resolver:Object(Pt.a)(eo)}),R=V.register,A=V.errors,B={avatar:"",district:"",fullName:"",id:-1,level:"",note:"",noteBy:"",purpose:"",reprEmail:"",reprIsMale:!1,reprName:"",reprPhone:"",schoolAddress:"",schoolId:-1,schoolName:"",schoolStatus:"",schoolType:"",schoolYear:"",userEmail:"",userPhone:"",username:""},M={isSuccess:!0,description:"",positivity:"",difficulty:"",futurePlan:""},F=Object(s.useState)(B),Y=Object(d.a)(F,2),E=Y[0],H=Y[1],L=Object(s.useState)([]),K=Object(d.a)(L,2),W=K[0],q=K[1],z=Object(s.useState)(M),U=Object(d.a)(z,2),G=U[0],Z=U[1],Q=function(e){(function(e){return Gl.apply(this,arguments)})({username:u.username,schoolYear:Ce(),key:e}).then((function(e){q(e)})).catch((function(e){e.response&&(console.log(e),j.push({pathname:"/errors",state:{error:e.response.status}}))}))};Object(s.useEffect)((function(){Q()}),[]);var J=function(e){P.current&&clearTimeout(P.current),P.current=setTimeout((function(){var t=e.target.value;t?Q(t):Q()}),300)},X=Object(s.useState)([]),$=Object(d.a)(X,2),ee=$[0],te=$[1],ae=function(e){te(Object(re.a)(Jl(ee,"taskId",e))),ne()},ne=function(){H(B),Z(M)},se=function(e,t){var a=e.target.value;switch(t){case Fl:Z(Object(D.a)(Object(D.a)({},G),{},{isSuccess:a}));break;case Yl:Z(Object(D.a)(Object(D.a)({},G),{},{description:a}));break;case El:Z(Object(D.a)(Object(D.a)({},G),{},{positivity:a}));break;case Hl:Z(Object(D.a)(Object(D.a)({},G),{},{difficulty:a}));break;case Ll:Z(Object(D.a)(Object(D.a)({},G),{},{futurePlan:a}))}},le=function(e,t){var a=oe(t.taskId);H(a),Z({isSuccess:null===t||void 0===t?void 0:t.isSuccess,description:null===t||void 0===t?void 0:t.description,positivity:null===t||void 0===t?void 0:t.positivity,difficulty:null===t||void 0===t?void 0:t.difficulty,futurePlan:null===t||void 0===t?void 0:t.futurePlan})},oe=function(e){var t=Object(D.a)({},B);return W.forEach((function(a){a.id===e&&(t=Object(D.a)({},a))})),t},de=function(){te([]),n()};return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={date:_e(new Date,"YYYY-MM-DD HH:mm:ss"),taskId:parseInt(E.id),schoolName:E.schoolName,level:E.level,isSuccess:G.isSuccess,description:G.description,positivity:G.positivity,difficulty:G.difficulty,futurePlan:G.futurePlan};ee.forEach((function(e){e.taskId===t.taskId&&ae(e.taskId)})),te([].concat(Object(re.a)(ee),[t])),ne()},children:[Object(I.jsx)(yt.a,{className:$l.a.wrapper,children:Object(I.jsxs)(f.a,{container:!0,spacing:4,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:5,children:Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,sm:8,md:7,lg:12,children:[Object(I.jsx)(ie.a,{autoComplete:!0,autoSelect:!0,autoHighlight:!0,clearOnEscape:!0,options:W||[],getOptionLabel:function(e){return(null===e||void 0===e?void 0:e.schoolName)?"".concat(null===e||void 0===e?void 0:e.level," ").concat(null===e||void 0===e?void 0:e.schoolName):""},value:E||B,renderInput:function(e){var t;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ce.a,Object(D.a)(Object(D.a)({},e),{},{label:l.task.label,variant:"outlined",name:l.task.name,required:!0,inputRef:R,error:!!A.task,helperText:null===A||void 0===A||null===(t=A.task)||void 0===t?void 0:t.message,className:$l.a.autoComplete,onChange:J})),Object(I.jsx)("input",{type:"hidden",name:l.level.name,value:null===E||void 0===E?void 0:E.level})]})},renderOption:function(e){return Object(I.jsx)("div",{className:$l.a.item,children:Object(I.jsx)(zn.a,{primary:(null===e||void 0===e?void 0:e.schoolName)?"".concat(null===e||void 0===e?void 0:e.level," ").concat(null===e||void 0===e?void 0:e.schoolName):"",secondary:(null===e||void 0===e?void 0:e.district)?null===e||void 0===e?void 0:e.district:"",classes:{primary:$l.a.itemTextPrimary,secondary:$l.a.itemTextSecondary}})})},onChange:function(e,t){return function(e,t){H(t||B)}(0,t)}}),Object(I.jsx)("input",{type:"hidden",name:l.id.name,value:null===E||void 0===E?void 0:E.id})]}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:6,lg:8,children:Object(I.jsxs)(g.a,{variant:"outlined",fullWidth:!0,required:!0,children:[Object(I.jsx)(y.a,{id:"isSuccess-label",children:l.isSuccess.label}),Object(I.jsxs)(_.a,{labelId:"isSuccess-label",label:l.isSuccess.label,value:G.isSuccess||!1,onChange:function(e,t){return se(e,Fl)},MenuProps:to,children:[Object(I.jsx)(N.a,{value:!0,className:a.option,classes:{root:a.menuItemRoot,selected:a.menuItemSelected},children:"\u0110\xe3 g\u1eb7p ng\u01b0\u1eddi \u0111\u1ea1i di\u1ec7n (HT/HP)"}),Object(I.jsx)(N.a,{value:!1,className:a.option,classes:{root:a.menuItemRoot,selected:a.menuItemSelected},children:"Ch\u01b0a g\u1eb7p ng\u01b0\u1eddi \u0111\u1ea1i di\u1ec7n (HT/HP)"})]})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsx)(ce.a,{label:l.description.label,name:l.description.name,className:"",variant:"outlined",type:"text",required:!0,multiline:!0,rows:3,fullWidth:!0,value:G.description||"",onChange:function(e,t){return se(e,Yl)},inputRef:R,error:!!A.description,helperText:null===A||void 0===A||null===(t=A.description)||void 0===t?void 0:t.message})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsx)(ce.a,{label:l.positivity.label,name:l.positivity.name,variant:"outlined",fullWidth:!0,value:G.positivity||"",onChange:function(e,t){return se(e,El)}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsx)(ce.a,{label:l.difficulty.label,name:l.difficulty.name,variant:"outlined",fullWidth:!0,value:G.difficulty||"",onChange:function(e,t){return se(e,Hl)}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsx)(ce.a,{label:l.futurePlan.label,name:l.futurePlan.name,variant:"outlined",fullWidth:!0,value:G.futurePlan||"",onChange:function(e,t){return se(e,Ll)}})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:7,children:Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",flexWrap:"nowrap",children:[Object(I.jsx)(h.a,{flexGrow:1,children:Object(I.jsx)(O.a,{variant:"contained",color:"secondary",type:"submit",disabled:G===M,children:Object(I.jsx)(C.b,{fontSize:"large"})})}),Object(I.jsx)(h.a,{children:Object(I.jsx)(x.a,{variant:"subtitle1",className:$l.a.title,children:_e(new Date,"dddd, DD/MM/YYYY")})})]})}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:[Object(I.jsx)(x.a,{variant:"subtitle1",children:c.child1}),Object(I.jsx)(En.a,{className:$l.a.container,component:"div",children:Object(I.jsxs)(Hn.a,{className:$l.a.table,stickyHeader:!0,size:"small",children:[Object(I.jsx)(Mn.a,{children:Object(I.jsx)(Fn.a,{className:$l.a.tHead,children:Ml.map((function(e){return Object(I.jsx)(Yn.a,{className:$l.a.tHeadCell,children:e},e)}))})}),Object(I.jsx)(Ln.a,{children:ee.map((function(e,t){return Object(I.jsxs)(Fn.a,{className:$l.a.tBodyRow,children:[Object(I.jsx)(Yn.a,{className:$l.a.tBodyCell,onClick:function(t,a){return le(0,e)},children:t+1}),Object(I.jsx)(Yn.a,{className:$l.a.tBodyCell,onClick:function(t,a){return le(0,e)},children:"".concat(e.level," ").concat(e.schoolName)}),Object(I.jsx)(Yn.a,{className:$l.a.tBodyCell,onClick:function(t,a){return le(0,e)},children:(null===e||void 0===e?void 0:e.isSuccess)?"\u0110\xe3 g\u1eb7p ng\u01b0\u1eddi \u0111\u1ea1i di\u1ec7n (HT/HP)":"Ch\u01b0a g\u1eb7p ng\u01b0\u1eddi \u0111\u1ea1i di\u1ec7n (HT/HP)"}),Object(I.jsx)(Yn.a,{className:$l.a.tBodyCell,onClick:function(t,a){return le(0,e)},children:(a=e.description,a?a.length>30?a.substring(0,27)+"...":a:"")}),Object(I.jsx)(Yn.a,{className:$l.a.tBodyCell,align:"right",children:Object(I.jsx)(ht.a,{size:"small",onClick:function(t){return ae(e.taskId)},children:Object(I.jsx)(C.o,{})})})]},e.taskId);var a}))})]})})]})]})})]})}),Object(I.jsxs)(wt.a,{className:"",children:[Object(I.jsx)(O.a,{className:$l.a.btnSave,disabled:ee.length<1,onClick:function(e){var t=[];if(0===ee.length){var a={date:_e(new Date,"YYYY-MM-DD HH:mm:ss"),taskId:parseInt(null===E||void 0===E?void 0:E.id),isSuccess:null===G||void 0===G?void 0:G.isSuccess,description:null===G||void 0===G?void 0:G.description,positivity:null===G||void 0===G?void 0:G.positivity,difficulty:null===G||void 0===G?void 0:G.difficulty,futurePlan:null===G||void 0===G?void 0:G.futurePlan};t.push(a)}else t=Object(re.a)(ee);(function(e){return Zl.apply(this,arguments)})(t).then((function(e){String(e).includes("already submitted")||String(e).includes("Created 0 records")?String(e).includes("already submitted")?m("Created Report failed. ${data} today.",{variant:"error"}):m("Created Report failed",{variant:"error"}):m("Created Report successfully",{variant:"success"}),r(v,w,S,k,T,p),de()})).catch((function(e){e.response&&(console.log(e),j.push({pathname:"/errors",state:{error:e.response.status}})),m("Created Report failed",{variant:"error"}),de()}))},children:i.save}),Object(I.jsx)(O.a,{onClick:de,children:i.cancel})]})]})})},so=["children","classes","onClose"],ro=Object(j.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,s=Object(bt.a)(e,so);return Object(I.jsxs)(pt.a,Object(D.a)(Object(D.a)({disableTypography:!0,className:a.root},s),{},{children:[Object(I.jsx)(x.a,{variant:"h6",children:t}),n?Object(I.jsx)(ht.a,{"aria-label":"close",className:a.closeButton,onClick:n,children:Object(I.jsx)(C.k,{})}):null]}))}));var co=function(e){var t=e.open,a=e.onClose,n=e.refreshAPI,s=e.setNotify,r=Rl;return Object(I.jsxs)(xt.a,{open:t,onClose:a,maxWidth:"lg",fullWidth:!0,className:$l.a.dialog,children:[Object(I.jsx)(ro,{onClose:a,children:r.create}),Object(I.jsx)(no,{onClose:a,refreshAPI:n,setNotify:s})]})},io=a(372),lo=a.n(io),oo={PaperProps:{style:{maxHeight:157}}},uo=Object(u.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:160},flexBox:{padding:0},flexItem:{padding:0},option:{fontSize:"0.875rem"},autoComplete:{width:260,marginLeft:"0.5rem"},btn:{padding:"0.5rem",margin:"0 0.3rem",borderRadius:"8px"},itemPIC:{display:"flex",flexDirection:"row",alignItems:"center",padding:0,margin:0},itemTextPrimary:{fontSize:"0.875rem"},paddingTop:{paddingTop:"0.3rem"},root:{},menuItemRoot:{"&$menuItemSelected":{backgroundColor:"rgba(0, 0, 0, 0.08)"},"&$menuItemSelected:focus":{backgroundColor:"rgba(0, 0, 0, 0.12)"},"&$menuItemSelected:hover":{backgroundColor:"rgba(0, 0, 0, 0.04);"}},menuItemSelected:{}}})),jo=Object(j.a)({root:{backgroundColor:"rgb(238, 238, 238)",borderRadius:"8px",marginBottom:"0.5rem",boxShadow:"none","&:not(:last-child)":{borderBottom:0,borderRadius:"8px"},"&:before":{display:"none"},"&$expanded":{margin:"auto",borderRadius:"8px"}},expanded:{}})(m.a),mo=Object(j.a)({root:{height:41.5,minHeight:35,maxWidth:120,backgroundColor:"rgb(255, 255, 255)",fontWeight:"bold",boxShadow:"0 4px 6px -6px #000",borderRadius:"8px",paddingButtom:0,"&$expanded":{minHeight:35,borderRadius:"8px"}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(b.a),bo=Object(j.a)((function(){return{root:{backgroundColor:"rgb(255, 255, 255)",margin:"0.2rem 0 0.5rem 0",padding:"0 0 0.3rem 1.5rem",borderRadius:"8px"}}}))(p.a);var po=function(e){var t,a,n,r,c=uo(),i=Nl,l=Cl,u=e.setTaskId,j=e.refreshAPI,m=gs().user,b=qa(),p=b.dists,w=b.schYears,S=b.salesPurps,k=Object(o.i)(),T=(null===k||void 0===k||null===(t=k.state)||void 0===t?void 0:t.schoolName)?null===k||void 0===k||null===(a=k.state)||void 0===a?void 0:a.schoolName:"",V=(null===k||void 0===k||null===(n=k.state)||void 0===n?void 0:n.PIC)?null===k||void 0===k||null===(r=k.state)||void 0===r?void 0:r.PIC:"",R=p||La(Oa.dists),A=w||La(Oa.schYears),B=S||La(Oa.salesPurps),M=Cs(),F=M.params,Y=M.dispatchParams,E=M.PICs,H=M.PIC,L=M.district,K=M.schoolYear,q=M.purpose,z=M.setFilter,U=M.getListPICs,G=M.result,Z=M.reportResults,Q=Object(s.useState)(T),J=Object(d.a)(Q,2),X=J[0],$=J[1],ee=Object(s.useState)(!1),te=Object(d.a)(ee,2),ae=te[0],ne=te[1],se=Object(s.useState)({isOpen:!1,message:"",type:""}),re=Object(d.a)(se,2),le=re[0],oe=re[1],de=Object(s.useRef)({}),ue=function(e){de.current&&clearTimeout(de.current),de.current=setTimeout((function(){var t,a=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value;a?U(a):U()}),300)},je=function(e,t){z(Qe,t),Y({type:Ie,payload:{filterType:Qe,filterValue:t||null}})},me=function(e){var t,a=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value;z(Je,a),Y({type:ke,payload:{filterType:Je,filterValue:a||""}})},be=function(e){var t,a=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value;z(Xe,a),Y({type:Te,payload:{filterType:Xe,filterValue:a||""}})},pe=function(e){var t,a=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value;z(et,a),Y({type:Re,payload:{filterType:et,filterValue:a||""}})},he=function(e){var t,a=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value;z(nt,a),Y({type:Be,payload:{filterType:nt,filterValue:a}})},xe=function(e){var t=e[0]?ye()(e[0]).format("YYYY-MM-DD"):null,a=e[1]?ye()(e[1]).format("YYYY-MM-DD"):null;z(at,[t,a]),Y({type:Me,payload:{filterType:at,filterValue:[t,a]}})},ve=function(e){$(e),Y({type:qe,payload:e}),u(0)};return Object(s.useEffect)((function(){V&&(me(null),be(null),pe(null),he(null),xe([null,null]),Na(V).then((function(e){je(0,e)})).catch((function(e){e.response&&console.log(e)})))}),[]),Object(I.jsxs)("div",{className:lo.a.wrapper,children:[Object(I.jsxs)(jo,{children:[Object(I.jsxs)(h.a,{display:"flex",flexWrap:"nowrap",className:c.flexBox,children:[Object(I.jsx)(h.a,{className:c.flexItem,children:Object(I.jsxs)(mo,{expandIcon:Object(I.jsx)(C.u,{}),children:[Object(I.jsx)(C.w,{className:lo.a.iconFilter})," ","\xa0",Object(I.jsx)(x.a,{children:i.filter})]})}),Object(I.jsx)(h.a,{flexGrow:1,className:c.flexItem,children:Object(I.jsx)(Il,{chips:function(e){var t=[],a=Object(D.a)({},e);for(var n in a){if(n===at){var s=ye()(a[n].filterValue[0]).format("MMM D, YYYY"),r=ye()(a[n].filterValue[1]).format("MMM D, YYYY");"Invalid date"!==s&&"Invalid date"!==r&&(a=Object(D.a)(Object(D.a)({},a),{},{dateRange:{filterType:at,filterValue:"".concat(s," \u279c ").concat(r)}}))}t.push(a[n])}return t}(F.listFilters),dispatch:Y,handleChipsRemoved:function(e){var t=0;e.forEach((function(e){switch(e){case Qe:z(Qe,null),u(0),t++;break;case Je:z(Je,""),t++;break;case Xe:z(Xe,""),t++;break;case et:z(et,""),t++;break;case nt:z(nt,null),t++;break;case at:z(at,[null,null]),t++}})),t===Object.keys(F.listFilters).length&&ve("")}})}),Object(I.jsx)(h.a,{className:c.flexItem,children:Object(I.jsx)(P,{searchValue:X,placeholder:i.search.placeholder,onChange:ve})}),(null===m||void 0===m?void 0:m.roles[0])===Ht&&Object(I.jsxs)(h.a,{className:c.flexItem,children:[Object(I.jsx)(v.a,{title:"Create Reports",children:Object(I.jsx)(O.a,{className:c.btn,variant:"contained",color:"secondary",onClick:function(){return ne(!0)},children:Object(I.jsx)(C.b,{fontSize:"large"})})}),Object(I.jsx)(co,{open:ae,onClose:function(){return ne(!1)},refreshAPI:j,setNotify:oe})]})]}),Object(I.jsx)(bo,{children:Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:4,lg:4,children:Object(I.jsxs)(g.a,{className:c.formControl,children:[Object(I.jsx)(y.a,{children:l.purpose.title}),Object(I.jsxs)(_.a,{value:q||"",onChange:pe,MenuProps:oo,children:[Object(I.jsx)(N.a,{value:"",className:c.option,classes:{root:c.menuItemRoot,selected:c.menuItemSelected},children:l.purpose.options.all}),null===B||void 0===B?void 0:B.map((function(e){return Object(I.jsx)(N.a,{value:e,className:c.option,classes:{root:c.menuItemRoot,selected:c.menuItemSelected},children:e},e)}))]})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:4,lg:4,children:Object(I.jsxs)(g.a,{className:c.formControl,children:[Object(I.jsx)(y.a,{children:l.district.title}),Object(I.jsxs)(_.a,{value:L||"",onChange:me,MenuProps:oo,children:[Object(I.jsx)(N.a,{value:"",className:c.option,classes:{root:c.menuItemRoot,selected:c.menuItemSelected},children:l.district.options.all}),null===R||void 0===R?void 0:R.map((function(e){return Object(I.jsx)(N.a,{value:e,className:c.option,classes:{root:c.menuItemRoot,selected:c.menuItemSelected},children:e},e)}))]})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:4,lg:4,children:Object(I.jsxs)(g.a,{className:c.formControl,children:[Object(I.jsx)(y.a,{children:l.schoolYear.title}),Object(I.jsxs)(_.a,{value:K||"",onChange:be,MenuProps:oo,children:[Object(I.jsx)(N.a,{value:"",className:c.option,classes:{root:c.menuItemRoot,selected:c.menuItemSelected},children:l.schoolYear.options.all}),null===A||void 0===A?void 0:A.map((function(e){return Object(I.jsx)(N.a,{value:e,className:c.option,classes:{root:c.menuItemRoot,selected:c.menuItemSelected},children:e},e)}))]})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:4,lg:4,children:Object(I.jsxs)(g.a,{className:c.formControl,children:[Object(I.jsx)(y.a,{children:l.result.title}),Object(I.jsx)(_.a,{value:null===G?"":G,onChange:he,MenuProps:oo,children:null===Z||void 0===Z?void 0:Z.map((function(e){return Object(I.jsx)(N.a,{value:e,className:c.option,classes:{root:c.menuItemRoot,selected:c.menuItemSelected},children:"".concat(null===e?l.result.options.all:e?l.result.options.success:l.result.options.failed)},e)}))})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:5,lg:4,children:Object(I.jsx)(ie.a,{autoComplete:!0,autoSelect:!0,autoHighlight:!0,clearOnEscape:!0,options:E||[],getOptionLabel:function(e){return e.fullName?e.fullName:""},value:H,renderInput:function(e){return Object(I.jsx)(ce.a,Object(D.a)(Object(D.a)({},e),{},{label:l.pic.title,margin:"normal",placeholder:l.pic.placeholder,onChange:ue,InputProps:Object(D.a)(Object(D.a)({},e.InputProps),{},{startAdornment:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Ol.a,{position:"start",children:Object(I.jsx)(C.a,{})}),e.InputProps.startAdornment]})})}))},renderOption:function(e){return Object(I.jsxs)("div",{className:c.itemPIC,children:[Object(I.jsx)(Wn.a,{children:Object(I.jsx)(qn.a,{src:e.avatar})}),Object(I.jsx)(zn.a,{primary:e.fullName?e.fullName:"",classes:{primary:c.itemTextPrimary}})]},e.username)},className:c.autoComplete,onChange:function(e,t){return je(0,t)}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:7,md:5,lg:4,children:Object(I.jsx)(Vl,{handleDateRangeChange:xe})})]})})]}),Object(I.jsx)(W,{notify:le,setNotify:oe})]})},ho=a(788),xo=a(373),vo=a.n(xo),Oo=["children","classes","onClose"],fo=Object(j.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,s=Object(bt.a)(e,Oo);return Object(I.jsxs)(pt.a,Object(D.a)(Object(D.a)({disableTypography:!0,className:a.root},s),{},{children:[Object(I.jsx)(x.a,{variant:"h6",children:t}),n?Object(I.jsx)(ht.a,{"aria-label":"close",className:a.closeButton,onClick:n,children:Object(I.jsx)(C.k,{})}):null]}))}));function go(e){var t,a,n,s=e.open,r=e.onClose,c=e.data,i=e.refreshAPI,l=Rl,o=Al,d=Object(cn.b)().enqueueSnackbar,u=Cs().params,j=u.listFilters,m=u.page,b=u.limit,p=u.column,h=u.direction,x=u.searchKey,v=function(e){(function(e){return Ql.apply(this,arguments)})(e).then((function(e){i(m,b,p,h,x,j),d("Removed report successfully",{variant:"success"})})).catch((function(e){e.response&&(console.log(e),d("Removed report failed",{variant:"error"}))})),r()};return Object(I.jsxs)(xt.a,{open:s,onClose:r,children:[Object(I.jsx)(fo,{onClose:r,children:l.confirm}),Object(I.jsx)(yt.a,{children:Object(I.jsx)(ho.a,{className:vo.a.dialogText,children:(t=null===c||void 0===c?void 0:c.educationalLevel,a=null===c||void 0===c?void 0:c.schoolName,n=null===c||void 0===c?void 0:c.date,Object(I.jsxs)(I.Fragment,{children:["Do you really want to remove report of school",Object(I.jsx)("strong",{children:Object(I.jsxs)("em",{children:[" ",t," ",a," "]})}),"on ",Object(I.jsx)("strong",{children:_e(n,"DD/MM/YYYY")}),"?",Object(I.jsx)("br",{}),"This process cannot be undone."]}))})}),Object(I.jsxs)(wt.a,{children:[Object(I.jsx)(O.a,{className:vo.a.btnRemove,onClick:function(){return v(null===c||void 0===c?void 0:c.id)},autoFocus:!0,children:o.remove}),Object(I.jsx)(O.a,{onClick:r,children:o.cancel})]})]})}var yo=r.a.memo(go),_o=a(461),No=a.n(_o),Co=["children","classes","onClose"],wo=Object(j.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,s=Object(bt.a)(e,Co);return Object(I.jsxs)(pt.a,Object(D.a)(Object(D.a)({disableTypography:!0,className:a.root},s),{},{children:[Object(I.jsx)(x.a,{variant:"h6",children:t}),n?Object(I.jsx)(ht.a,{"aria-label":"close",className:a.closeButton,onClick:n,children:Object(I.jsx)(C.k,{})}):null]}))}));function So(e){var t,a,n,s,r=e.open,c=e.onClose,i=e.data,l=Rl,o=Al;return Object(I.jsxs)(xt.a,{open:r,onClose:c,children:[Object(I.jsx)(wo,{onClose:c,children:l.cannot}),Object(I.jsx)(yt.a,{children:Object(I.jsx)(ho.a,{className:No.a.dialogText,children:(t=null===i||void 0===i?void 0:i.educationalLevel,a=null===i||void 0===i?void 0:i.schoolName,n=null===i||void 0===i?void 0:i.date,s=null===i||void 0===i?void 0:i.commentedPerson,Object(I.jsxs)(I.Fragment,{children:["You cannot remove the report of school",Object(I.jsx)("strong",{children:Object(I.jsxs)("em",{children:[" ",t," ",a," "]})}),"on ",Object(I.jsx)("strong",{children:_e(n,"DD/MM/YYYY")}),".",Object(I.jsx)("br",{}),"This report is already commented by"," ",Object(I.jsx)("strong",{children:s}),"."]}))})}),Object(I.jsx)(wt.a,{children:Object(I.jsx)(O.a,{disableElevation:!0,autoFocus:!0,onClick:c,children:o.ok})})]})}var Io=r.a.memo(So),ko=a(198),To=a.n(ko);function Po(e){var t=e.data,a=e.refreshAPI,n=Object(s.useState)(null),r=Object(d.a)(n,2),c=r[0],i=r[1],u=Object(s.useState)(!1),j=Object(d.a)(u,2),m=j[0],b=j[1],p=gs().user,h=Object(o.k)().url,x=Cs().params,O={model:t,params:x,pathName:"".concat(h,"/").concat(t.id)},f=function(){i(null)},g=function(){i(null),b(!0)};return Object(I.jsxs)("div",{children:[Object(I.jsx)(v.a,{title:"Actions",children:Object(I.jsx)(ht.a,{color:"primary",onClick:function(e){i(e.currentTarget)},children:Object(I.jsx)(C.K,{})})}),Object(I.jsx)(Gn.a,{anchorEl:c,keepMounted:!0,open:!!c,onClose:f,children:function(e){switch(e){case Yt:case Et:return Object(I.jsx)("div",{children:Object(I.jsxs)(N.a,{onClick:f,component:l.b,to:{pathname:"".concat(h,"/").concat(t.id),state:{data:O}},children:[Object(I.jsx)(Zn.a,{className:To.a.itemIcon,children:Object(I.jsx)(C.A,{fontSize:"large"})}),Object(I.jsx)(zn.a,{className:To.a.itemText,children:"View details"})]})});case Ht:return Object(I.jsxs)("div",{children:[Object(I.jsxs)(N.a,{onClick:f,component:l.b,to:{pathname:"".concat(h,"/").concat(t.id),state:{data:O}},children:[Object(I.jsx)(Zn.a,{className:To.a.itemIcon,children:Object(I.jsx)(C.A,{fontSize:"large"})}),Object(I.jsx)(zn.a,{className:To.a.itemText,children:"View details"})]}),p.username===(null===t||void 0===t?void 0:t.username)&&Object(I.jsxs)("div",{children:[Object(I.jsxs)(N.a,{onClick:g,children:[Object(I.jsx)(Zn.a,{className:To.a.itemIcon,children:Object(I.jsx)(C.o,{fontSize:"large"})}),Object(I.jsx)(zn.a,{className:To.a.itemText,children:"Remove"})]}),(null===t||void 0===t?void 0:t.contextComments)?Object(I.jsx)(Io,{open:m,onClose:function(){return b(!1)},data:t}):Object(I.jsx)(yo,{open:m,onClose:function(){return b(!1)},data:t,refreshAPI:a})]})]})}}(p.roles[0])})]})}var Do=r.a.memo(Po),Vo=a(70),Ro=a.n(Vo);function Ao(e){var t=Object(An.a)(),a=e.count,n=e.page,s=e.rowsPerPage,r=e.totalPage,c=e.onChangePage;return Object(I.jsxs)("div",{className:Ro.a.paging,children:[Object(I.jsx)(ht.a,{onClick:function(e){c(e,0)},disabled:0===n,"aria-label":"first page",children:"rtl"===t.direction?Object(I.jsx)(C.E,{}):Object(I.jsx)(C.x,{})}),Object(I.jsx)(ht.a,{onClick:function(e){c(e,n-1)},disabled:0===n,"aria-label":"previous page",children:"rtl"===t.direction?Object(I.jsx)(C.D,{}):Object(I.jsx)(C.C,{})}),Object(I.jsxs)("span",{children:[n+1," / ",r]}),Object(I.jsx)(ht.a,{onClick:function(e){c(e,n+1)},disabled:n>=Math.ceil(a/s)-1,"aria-label":"next page",children:"rtl"===t.direction?Object(I.jsx)(C.C,{}):Object(I.jsx)(C.D,{})}),Object(I.jsx)(ht.a,{onClick:function(e){c(e,Math.ceil(a/s)-1)},disabled:n>=Math.ceil(a/s)-1,"aria-label":"last page",children:"rtl"===t.direction?Object(I.jsx)(C.x,{}):Object(I.jsx)(C.E,{})})]})}function Bo(e){var t=e.columns,a=e.direction,n=e.column,s=e.onRequestSort,r=Object(j.a)({root:{color:"white !important","&:hover":{color:"white !important"},"&$active":{color:"white !important"}},active:{},icon:{color:"white !important"}})(Bn.a);return Object(I.jsx)(Mn.a,{children:Object(I.jsx)(Fn.a,{className:Ro.a.tHead,children:t.map((function(e){return Object(I.jsx)(Yn.a,{className:Ro.a.tHeadCell,sortDirection:n===e.key&&a,width:e.width,children:(null===e||void 0===e?void 0:e.sortable)?Object(I.jsx)(r,{active:n===e.key,direction:n===e.key?a:"asc",onClick:function(){return function(e,t){s(e,t)}(e,a)},children:e.name}):e.name},e.key)}))})})}var Mo=Object(u.a)((function(){return{itemPIC:{padding:0,margin:0},itemTextLarge:{fontSize:"0.95rem"},itemTextMedium:{fontSize:"0.875rem"},itemTextSmall:{fontSize:"0.8rem"}}}));function Fo(e){var t=Mo(),a=e.columns,n=e.rows,s=e.totalRecord,r=e.totalPage,c=e.refreshAPI,i=Cs(),l=i.params,o=i.dispatchParams,d=i.limit,u=i.direction,j=i.column,m=i.setColumn,b=i.setLimit,p=i.setPage,h=i.setDirection,x=function(e,t){p(t),o({type:Ue,payload:{page:t,limit:l.limit}})},v=function(e){switch(e){case ha.purp1:return Object(I.jsx)(Se.a,{label:e,className:Ro.a.chipSalesMoi});case ha.purp3:return Object(I.jsx)(Se.a,{label:e,className:Ro.a.chipChamSoc});case ha.purp4:return Object(I.jsx)(Se.a,{label:e,className:Ro.a.chipTaiKy});case ha.purp5:return Object(I.jsx)(Se.a,{label:e,className:Ro.a.chipKyMoi});default:return Object(I.jsx)(Se.a,{label:e})}};return Object(I.jsxs)("div",{className:Ro.a.wrapper,children:[Object(I.jsx)(En.a,{className:Ro.a.container,component:"div",children:Object(I.jsxs)(Hn.a,{className:Ro.a.table,stickyHeader:!0,size:"small","aria-label":"sticky table",children:[Object(I.jsx)(Bo,{columns:a,direction:u,column:j,onRequestSort:function(e,t){e.sortable&&(h("desc"===t?"asc":"desc"),m(e.key),o({type:ze,payload:{column:e.key,direction:t}}))}}),Object(I.jsx)(Ln.a,{className:Ro.a.tBody,children:(null===n||void 0===n?void 0:n.length)>0?n.map((function(e,a){return Object(I.jsxs)(Fn.a,{className:Ro.a.tBodyRow,children:[Object(I.jsx)(Yn.a,{className:Ro.a.tableCell,align:"center",children:l.page*l.limit+a+1}),Object(I.jsxs)(Yn.a,{className:Ro.a.tBodyCell,children:[_e(null===e||void 0===e?void 0:e.date,"DD/MM/YYYY")," \xa0",(null===e||void 0===e?void 0:e.contextComments)&&Object(I.jsx)(js.a,{color:"secondary",variant:"dot",children:Object(I.jsx)(C.e,{})})]}),Object(I.jsx)(Yn.a,{className:Ro.a.tBodyCell,children:Object(I.jsx)(zn.a,{primary:Object(I.jsxs)(I.Fragment,{children:["".concat(null===e||void 0===e?void 0:e.level," "),Object(I.jsx)(es.a,{highlightClassName:"YourHighlightClass",searchWords:[l.searchKey],autoEscape:!0,textToHighlight:(null===e||void 0===e?void 0:e.schoolName)||""})]}),secondary:null===e||void 0===e?void 0:e.district,classes:{primary:t.itemTextLarge,secondary:t.itemTextMedium}})}),Object(I.jsx)(Yn.a,{className:Ro.a.tBodyCell,children:Object(I.jsxs)(Kn.a,{className:t.itemPIC,children:[Object(I.jsx)(Wn.a,{children:Object(I.jsx)(qn.a,{src:null===e||void 0===e?void 0:e.avatar})}),Object(I.jsx)(zn.a,{className:Ro.a.picName,primary:Object(I.jsx)(es.a,{highlightClassName:"YourHighlightClass",searchWords:[l.searchKey],autoEscape:!0,textToHighlight:(null===e||void 0===e?void 0:e.fullName)||""}),secondary:Object(I.jsx)(es.a,{highlightClassName:"YourHighlightClass",searchWords:[l.searchKey],autoEscape:!0,textToHighlight:(null===e||void 0===e?void 0:e.username)||""}),classes:{primary:t.itemTextMedium,secondary:t.itemTextSmall}})]})}),Object(I.jsx)(Yn.a,{className:Ro.a.tBodyCell,children:(null===e||void 0===e?void 0:e.purpose)&&v(null===e||void 0===e?void 0:e.purpose)}),Object(I.jsx)(Yn.a,{className:Ro.a.tBodyCell,children:Object(I.jsx)("span",{className:(null===e||void 0===e?void 0:e.isSuccess)?Ro.a.rpDaGap:Ro.a.rpChuaGap,children:(null===e||void 0===e?void 0:e.isSuccess)?"\u0110\xe3 g\u1eb7p HT/HP":"Ch\u01b0a g\u1eb7p HT/HP"})}),Object(I.jsx)(Yn.a,{className:Ro.a.tBodyCell,children:Object(I.jsx)(es.a,{highlightClassName:"YourHighlightClass",searchWords:[l.searchKey],autoEscape:!0,textToHighlight:(n=null===e||void 0===e?void 0:e.description,(n?n.length>60?n.substring(0,57)+"...":n:"")||"")})}),Object(I.jsx)(Yn.a,{className:Ro.a.tBodyCell,align:"right",children:Object(I.jsx)(Do,{data:e,refreshAPI:c})})]},null===e||void 0===e?void 0:e.id);var n})):Object(I.jsx)(Fn.a,{className:Ro.a.tBodyRow,children:Object(I.jsx)(Yn.a,{className:Ro.a.noRecord,component:"td",colSpan:"100%",children:"No records found."})})})]})}),Object(I.jsx)(Un.a,{rowsPerPageOptions:[10,20,50],component:"div",count:s||0,rowsPerPage:d,page:l.page,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:x,onChangeRowsPerPage:function(e){b(parseInt(e.target.value,10)),p(0),o({type:Ue,payload:{page:0,limit:parseInt(e.target.value,10)}})},ActionsComponent:function(){return Object(I.jsx)(Ao,{count:s||0,page:l.page,rowsPerPage:l.limit,totalPage:r,onChangePage:x})}})]})}var Yo=r.a.memo(Fo),Eo=a(462),Ho=a.n(Eo);var Lo=function(){var e,t,a=Object(o.h)(),n=Object(o.i)(),r=Object(s.useState)((null===n||void 0===n||null===(e=n.state)||void 0===e?void 0:e.taskId)?null===n||void 0===n||null===(t=n.state)||void 0===t?void 0:t.taskId:0),c=Object(d.a)(r,2),i=c[0],l=c[1],u=Cs().params,j=u.listFilters,m=u.page,b=u.limit,p=u.column,h=u.direction,x=u.searchKey,v=Object(s.useState)(null),O=Object(d.a)(v,2),f=O[0],g=O[1],y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"date",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"desc",r=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0;Kl(e,t,n,s,r,c,i).then((function(e){g(e)})).catch((function(e){e.response&&(console.log(e),a.push({pathname:"/errors",state:{error:e.response.status}}))}))};return Object(s.useEffect)((function(){y(m,b,p,h,x,j,i)}),[u,i]),f?Object(I.jsxs)("div",{className:Ho.a.panel,children:[Object(I.jsx)(po,{setTaskId:l,refreshAPI:y}),Object(I.jsx)(Yo,{columns:fl,rows:f.list,totalRecord:f.totalElements,totalPage:f.totalPage,refreshAPI:y})]}):Object(I.jsx)(se,{})},Ko={child1:"Report detail",child2:"Manager comment",child3:"Comment"},Wo={cancel:"Cancel",save:"Save"},qo={info:"",success:"Updated Successfully",error:"Updated Failed",warning:""},zo={rs:{title:"Result"},des:{title:"Description"},pos:{title:"Positivity"},diffic:{title:"Difficulty"},futPl:{title:"Future Plan"},cmt:{hasCmt:"Last comment by",noCmt:"No comments yet"}},Uo=a(42),Go=a.n(Uo),Zo=Dt.b().shape({isSuccess:Dt.d().trim().required("Result is required"),description:Dt.d().trim().required("Description is required"),positivity:Dt.d().trim(),difficulty:Dt.d().trim(),futurePlan:Dt.d().trim()}),Qo=Dt.b().shape({contextComments:Dt.d().trim()}),Jo={PaperProps:{style:{maxHeight:157}}},Xo=Object(u.a)((function(e){return{inputRoot:{"&$disabled":{color:"black"}},disabled:{},option:{fontSize:"0.875rem"},root:{},menuItemRoot:{"&$menuItemSelected":{backgroundColor:"rgba(0, 0, 0, 0.08)"},"&$menuItemSelected:focus":{backgroundColor:"rgba(0, 0, 0, 0.12)"},"&$menuItemSelected:hover":{backgroundColor:"rgba(0, 0, 0, 0.04);"}},menuItemSelected:{}}}));var $o=function(e){var t,a=Xo(),n=e.report,r=e.refreshPage,c=Ko,i=Wo,l=zo,d=qo,u=Object(cn.b)().enqueueSnackbar,j=gs().user,m=qa().userInfo,b=Object(o.h)(),p={id:null===n||void 0===n?void 0:n.id,isSuccess:null===n||void 0===n?void 0:n.isSuccess,description:(null===n||void 0===n?void 0:n.description)?null===n||void 0===n?void 0:n.description:"",positivity:(null===n||void 0===n?void 0:n.positivity)?null===n||void 0===n?void 0:n.positivity:"",difficulty:(null===n||void 0===n?void 0:n.difficulty)?null===n||void 0===n?void 0:n.difficulty:"",futurePlan:(null===n||void 0===n?void 0:n.futurePlan)?null===n||void 0===n?void 0:n.futurePlan:""},h={id:null===n||void 0===n?void 0:n.id,contextComments:(null===n||void 0===n?void 0:n.contextComments)?null===n||void 0===n?void 0:n.contextComments:""},v=Object(Tt.c)({resolver:Object(Pt.a)(Zo),defaultValues:p}),C=v.control,w=v.errors,S=v.handleSubmit,k=v.formState,T=v.reset,P=Object(Tt.c)({resolver:Object(Pt.a)(Qo),defaultValues:h}),V=P.control,R=P.errors,A=P.handleSubmit,B=P.formState,M=P.reset;return Object(s.useEffect)((function(){T({id:null===n||void 0===n?void 0:n.id,isSuccess:null===n||void 0===n?void 0:n.isSuccess,description:(null===n||void 0===n?void 0:n.description)?null===n||void 0===n?void 0:n.description:"",positivity:(null===n||void 0===n?void 0:n.positivity)?null===n||void 0===n?void 0:n.positivity:"",difficulty:(null===n||void 0===n?void 0:n.difficulty)?null===n||void 0===n?void 0:n.difficulty:"",futurePlan:(null===n||void 0===n?void 0:n.futurePlan)?null===n||void 0===n?void 0:n.futurePlan:""})}),[n]),Object(s.useEffect)((function(){M({id:null===n||void 0===n?void 0:n.id,contextComments:(null===n||void 0===n?void 0:n.contextComments)?n.contextComments:""})}),[n]),n?Object(I.jsx)("div",{className:Go.a.panel,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Go.a.body,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Go.a.content,children:j.username===(null===n||void 0===n?void 0:n.username)&&null===(null===n||void 0===n?void 0:n.commentedPerson)&&null===(null===n||void 0===n?void 0:n.contextComments)?Object(I.jsx)("form",{onSubmit:S((function(e){var t=Object(D.a)(Object(D.a)({},e),{},{date:_e(null===n||void 0===n?void 0:n.date,"YYYY-MM-DD HH:mm:ss"),isSuccess:""!==(null===e||void 0===e?void 0:e.isSuccess)&&"true"===(null===e||void 0===e?void 0:e.isSuccess)});(function(e,t){return zl.apply(this,arguments)})(e.id,t).then((function(t){r(e.id),u(d.success,{variant:"success"})})).catch((function(e){e.response&&(console.log(e),b.push({pathname:"/errors",state:{error:e.response.status}})),u(d.error,{variant:"error"})}))})),noValidate:!0,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Go.a.wrapper,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Go.a.row,children:Object(I.jsx)(x.a,{color:"inherit",className:Go.a.header,children:c.child1})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:9,lg:8,className:Go.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:6,lg:6,className:Go.a.row,children:[Object(I.jsx)(Tt.a,{name:"id",control:C,render:function(e){var t=e.value;return Object(I.jsx)("input",{type:"hidden",name:"id",value:t})}}),Object(I.jsxs)(g.a,{variant:"outlined",fullWidth:!0,required:!0,children:[Object(I.jsx)(y.a,{id:"isSuccess-label",children:l.rs.title}),Object(I.jsx)(Tt.a,{name:"isSuccess",control:C,render:function(e){var t=e.value,n=e.onChange;return Object(I.jsxs)(_.a,{labelId:"isSuccess-label",label:l.rs.title,value:t,onChange:n,MenuProps:Jo,children:[Object(I.jsx)(N.a,{value:!0,className:a.option,classes:{root:a.menuItemRoot,selected:a.menuItemSelected},children:"\u0110\xe3 g\u1eb7p ng\u01b0\u1eddi \u0111\u1ea1i di\u1ec7n (HT/HP)"}),Object(I.jsx)(N.a,{value:!1,className:a.option,classes:{root:a.menuItemRoot,selected:a.menuItemSelected},children:"Ch\u01b0a g\u1eb7p ng\u01b0\u1eddi \u0111\u1ea1i di\u1ec7n (HT/HP)"})]})}})]})]}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:10,lg:10,className:Go.a.row,children:Object(I.jsx)(Tt.a,{name:"description",control:C,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:l.des.title,variant:"outlined",required:!0,fullWidth:!0,multiline:!0,rows:3,value:a,onChange:n,error:!!w.description,helperText:null===w||void 0===w||null===(t=w.description)||void 0===t?void 0:t.message})}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:10,lg:10,className:Go.a.row,children:Object(I.jsx)(Tt.a,{name:"positivity",control:C,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:l.pos.title,variant:"outlined",fullWidth:!0,value:a,onChange:n,error:!!w.positivity,helperText:null===w||void 0===w||null===(t=w.positivity)||void 0===t?void 0:t.message})}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:10,lg:10,className:Go.a.row,children:Object(I.jsx)(Tt.a,{name:"difficulty",control:C,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:l.diffic.title,variant:"outlined",fullWidth:!0,value:a,onChange:n,error:!!w.difficulty,helperText:null===w||void 0===w||null===(t=w.difficulty)||void 0===t?void 0:t.message})}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:10,lg:10,className:Go.a.row,children:Object(I.jsx)(Tt.a,{name:"futurePlan",control:C,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:l.futPl.title,variant:"outlined",fullWidth:!0,value:a,onChange:n,error:!!w.futurePlan,helperText:null===w||void 0===w||null===(t=w.futurePlan)||void 0===t?void 0:t.message})}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:10,lg:10,className:Go.a.action,children:Object(I.jsx)(O.a,{className:Go.a.submit,disabled:!k.isDirty,type:"submit",children:i.save})})]})})]})}):Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Go.a.wrapper,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Go.a.row,children:Object(I.jsx)(x.a,{color:"inherit",className:Go.a.header,children:c.child1})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Go.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Go.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Go.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:Go.a.title,children:l.rs.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:8,lg:6,className:Go.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:(!0===(null===n||void 0===n?void 0:n.isSuccess)||!1===(null===n||void 0===n?void 0:n.isSuccess))&&(t=null===n||void 0===n?void 0:n.isSuccess,!0===t?Object(I.jsx)(Se.a,{label:"\u0110\xe3 g\u1eb7p ng\u01b0\u1eddi \u0111\u1ea1i di\u1ec7n (HT/HP)",className:Go.a.chipSuccess}):!1===t?Object(I.jsx)(Se.a,{label:"Ch\u01b0a g\u1eb7p ng\u01b0\u1eddi \u0111\u1ea1i di\u1ec7n (HT/HP)",className:Go.a.chipFailed}):void 0)})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Go.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Go.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Go.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:Go.a.title,children:l.des.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:8,lg:6,className:Go.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:null===n||void 0===n?void 0:n.description})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Go.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Go.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Go.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:Go.a.title,children:l.pos.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:8,lg:6,className:Go.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:null===n||void 0===n?void 0:n.positivity})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Go.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Go.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Go.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:Go.a.title,children:l.diffic.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:8,lg:6,className:Go.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:null===n||void 0===n?void 0:n.difficulty})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Go.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Go.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Go.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:Go.a.title,children:l.futPl.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:8,lg:6,className:Go.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:null===n||void 0===n?void 0:n.futurePlan})})]})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Go.a.content,children:j.roles[0]===Ht||j.roles[0]!==Ht&&j.username===(null===n||void 0===n?void 0:n.username)?Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Go.a.wrapper,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Go.a.row,children:Object(I.jsx)(x.a,{color:"inherit",className:Go.a.header,children:c.child2})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:9,lg:8,className:Go.a.row,children:Object(I.jsx)(f.a,{container:!0,spacing:0,className:Go.a.rowx,children:Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:10,lg:10,className:Go.a.row,children:Object(I.jsx)(Tt.a,{name:"contextComments",control:V,render:function(e){var t=e.value;return Object(I.jsx)(ce.a,{label:(null===n||void 0===n?void 0:n.commentedPerson)?"".concat(l.cmt.hasCmt," ").concat(null===n||void 0===n?void 0:n.commentedPerson):l.cmt.noCmt,variant:"outlined",fullWidth:!0,multiline:!0,rows:4,disabled:!0,InputProps:{classes:{root:a.inputRoot,disabled:a.disabled}},value:t})}})})})})]}):Object(I.jsx)("form",{onSubmit:A((function(e){var t=Object(D.a)(Object(D.a)({},e),{},{commentedPerson:j.username});(function(e,t){return Ul.apply(this,arguments)})(e.id,t).then((function(t){var a;r(e.id),u(d.success,{variant:"success"}),a=e,new Promise((function(e,t){rn.database().ref("notify").child(n.username).push({avatar:m.avatar,actor:j.username,type:"report",timestamp:ye()(new Date).format("YYYY-MM-DD HH:mm:ss"),content:"You've just received a message from Manager.",uid:a.id,isSeen:!1})}))})).catch((function(e){e.response&&(console.log(e),b.push({pathname:"/errors",state:{error:e.response.status}})),u(d.error,{variant:"error"})}))})),noValidate:!0,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Go.a.wrapper,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Go.a.row,children:Object(I.jsx)(x.a,{color:"inherit",className:Go.a.header,children:c.child2})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:9,lg:8,className:Go.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:10,lg:10,className:Go.a.row,children:[Object(I.jsx)(Tt.a,{name:"id",control:V,render:function(e){var t=e.value;return Object(I.jsx)("input",{type:"hidden",name:"id",value:t})}}),Object(I.jsx)(Tt.a,{name:"contextComments",control:V,render:function(e){var t,a=e.value,s=e.onChange;return Object(I.jsx)(ce.a,{label:(null===n||void 0===n?void 0:n.commentedPerson)?"".concat(l.cmt.hasCmt," ").concat(null===n||void 0===n?void 0:n.commentedPerson):l.cmt.noCmt,variant:"outlined",fullWidth:!0,multiline:!0,rows:5,value:a,onChange:s,error:!!R.contextComments,helperText:null===R||void 0===R||null===(t=R.contextComments)||void 0===t?void 0:t.message})}})]}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:10,lg:10,className:Go.a.action,children:Object(I.jsx)(O.a,{className:Go.a.submit,variant:"contained",disabled:!B.isDirty,type:"submit",children:i.save})})]})})]})})})]})}):Object(I.jsx)(se,{})},ed={child1:"Assign detail",child2:"School detail"},td={name:{title:"School Name"},addr:{title:"Address"},dist:{title:"District"},eduLvl:{title:"Educational Level"},type:{title:"School Type"},salesStatus:{title:"School Status"},tel:{title:"Tel"},reprName:{title:"Principal Name"},pic:{title:"PIC"},purpose:{title:"Sales Purpose"},schlYear:{title:"School Year"},empty:{title:"N/A"},duration:{title:"Duration"}},ad=a(38),nd=a.n(ad);var sd=function(e){var t=e.report,a=ed,n=td,r=Object(s.useState)(null),c=Object(d.a)(r,2),i=c[0],l=c[1];return Object(s.useEffect)((function(){Bs(null===t||void 0===t?void 0:t.taskId).then((function(e){l(e)})).catch((function(e){console.log(e.response.data.message)}))}),[]),t&&i?Object(I.jsx)("div",{className:nd.a.panel,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:nd.a.body,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:nd.a.content,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:nd.a.wrapper,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:nd.a.row,children:Object(I.jsx)(x.a,{color:"inherit",className:nd.a.header,children:a.child1})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:nd.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:nd.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:4,lg:3,className:nd.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:nd.a.title,children:n.pic.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:8,lg:6,className:nd.a.rowx,children:Object(I.jsxs)("div",{className:nd.a.user,children:[(null===t||void 0===t?void 0:t.avatar)?Object(I.jsx)(qn.a,{className:nd.a.avatar,alt:"user avatar",src:null===t||void 0===t?void 0:t.avatar}):Object(I.jsx)(qn.a,{className:nd.a.avatar,children:null===t||void 0===t?void 0:t.fullName.split(" ").pop()[0]}),Object(I.jsxs)("div",{className:nd.a.info,children:[Object(I.jsx)(x.a,{component:"span",className:nd.a.fullName,children:null===t||void 0===t?void 0:t.fullName}),Object(I.jsx)(x.a,{className:nd.a.username,children:null===t||void 0===t?void 0:t.username})]})]})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:nd.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:nd.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:4,lg:3,className:nd.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:nd.a.title,children:n.schlYear.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:8,lg:6,className:nd.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:null===t||void 0===t?void 0:t.schoolYear})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:nd.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:nd.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:4,lg:3,className:nd.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:nd.a.title,children:n.duration.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:8,lg:6,className:nd.a.rowx,children:Object(I.jsxs)(x.a,{color:"inherit",children:[_e(null===i||void 0===i?void 0:i.assignDate,"DD-MM-YYYY"),"\xa0 \u279c \xa0",_e(null===i||void 0===i?void 0:i.endDate,"DD-MM-YYYY")]})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:nd.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:nd.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:4,lg:3,className:nd.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:nd.a.title,children:n.purpose.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:8,lg:6,className:nd.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:(null===t||void 0===t?void 0:t.purpose)&&function(e){switch(e){case ha.purp1:return Object(I.jsx)(Se.a,{label:e,className:nd.a.chipSalesMoi});case ha.purp3:return Object(I.jsx)(Se.a,{label:e,className:nd.a.chipChamSoc});case ha.purp4:return Object(I.jsx)(Se.a,{label:e,className:nd.a.chipTaiKy});case ha.purp5:return Object(I.jsx)(Se.a,{label:e,className:nd.a.chipKyMoi});default:return Object(I.jsx)(Se.a,{label:e})}}(null===t||void 0===t?void 0:t.purpose)})})]})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:nd.a.content,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:nd.a.wrapper,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:nd.a.row,children:Object(I.jsx)(x.a,{color:"inherit",className:nd.a.header,children:a.child2})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:nd.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:nd.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:4,lg:3,className:nd.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:nd.a.title,children:n.name.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:8,lg:6,className:nd.a.rowx,children:Object(I.jsxs)(x.a,{color:"inherit",children:[null===t||void 0===t?void 0:t.level," ",null===t||void 0===t?void 0:t.schoolName]})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:nd.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:nd.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:4,lg:3,className:nd.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:nd.a.title,children:n.addr.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:8,lg:6,className:nd.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:null===t||void 0===t?void 0:t.address})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:nd.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:nd.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:4,lg:3,className:nd.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:nd.a.title,children:n.dist.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:8,lg:6,className:nd.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:null===t||void 0===t?void 0:t.district})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:nd.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:nd.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:4,lg:3,className:nd.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:nd.a.title,children:n.reprName.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:8,lg:6,className:nd.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:(null===t||void 0===t?void 0:t.reprName)?"".concat((null===t||void 0===t?void 0:t.reprIsMale)?"Mr. ":"Ms. "," ").concat(null===t||void 0===t?void 0:t.reprName):n.empty.title})})]})})]})})]})}):Object(I.jsx)(se,{})};var rd=function(){var e=gl,t=yl,a=_l,n=Object(s.useState)(0),r=Object(d.a)(n,2),c=r[0],i=r[1],l=Object(o.j)().id,u=(Object(o.i)(),Object(o.h)()),j=Object(s.useState)(null),m=Object(d.a)(j,2),b=m[0],p=m[1],h=Object(s.useState)(!0),x=Object(d.a)(h,2),v=x[0],O=x[1],f=!0,g=function(e){(function(e){return ql.apply(this,arguments)})(e).then((function(e){f&&p(e)})).catch((function(e){e.response&&(console.log(e),403===e.response.status?O(!1):u.push({pathname:"/errors",state:{error:e.response.status}}))}))};return Object(s.useEffect)((function(){return g(l),function(){f=!1}}),[]),b?Object(I.jsxs)(oc,{linkBack:e.back,header:"".concat(null===b||void 0===b?void 0:b.level," ").concat(null===b||void 0===b?void 0:b.schoolName),subHeader:_e(null===b||void 0===b?void 0:b.date,"DD/MM/YYYY"),tabs:[t.tab1,t.tab2],tabValue:c,handleChangeTab:function(e,t){i(t)},children:[0===c&&Object(I.jsx)($o,{report:b,refreshPage:g}),1===c&&Object(I.jsx)(sd,{report:b})]}):v?Object(I.jsx)(se,{}):Object(I.jsx)($,{title:a.notFound})};Object(u.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap"},ul:{maxWidth:810,overflowX:"auto",display:"flex",justifyContent:"flex-start",flexWrap:"nowrap",listStyle:"none",margin:0,paddingLeft:"0.5rem"},btnClear:{fontSize:"0.75rem"},chip:{margin:e.spacing(.5)}}}));a(374),Object(u.a)((function(){return{formControl:{margin:"0.3rem 0",minWidth:160},flexBox:{padding:0},flexItem:{padding:0},option:{fontSize:"0.875rem"},btn:{padding:"0.5rem",marginLeft:"0.5rem",borderRadius:"8px"},root:{},menuItemRoot:{"&$menuItemSelected":{backgroundColor:"rgba(0, 0, 0, 0.08)"},"&$menuItemSelected:focus":{backgroundColor:"rgba(0, 0, 0, 0.12)"},"&$menuItemSelected:hover":{backgroundColor:"rgba(0, 0, 0, 0.04);"}},menuItemSelected:{}}})),Object(j.a)({root:{backgroundColor:"rgb(238, 238, 238)",borderRadius:"8px",marginBottom:"0.5rem",boxShadow:"none","&:not(:last-child)":{borderBottom:0,borderRadius:"8px"},"&:before":{display:"none"},"&$expanded":{margin:"auto",borderRadius:"8px"}},expanded:{}})(m.a),Object(j.a)({root:{height:41.5,minHeight:35,maxWidth:120,backgroundColor:"rgb(255, 255, 255)",fontWeight:"bold",boxShadow:"0 4px 6px -6px #000",borderRadius:"8px",paddingButtom:0,"&$expanded":{minHeight:35,borderRadius:"8px"}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(b.a),Object(j.a)((function(e){return{root:{backgroundColor:"rgb(255, 255, 255)",margin:"0.5rem 0",padding:"0.3rem 0 1rem 2rem",borderRadius:"8px"}}}))(p.a);a(375);a(61);a(323);a(93),Dt.b().shape({phone:Dt.d().required("Phone is required").max(10,"Phone must be at most 10 digits and has the correct format").matches(Qa,"Phone number is in wrong format (03|5|7|9xxxxxxxx)")}),Object(u.a)((function(e){return{root:{},menuItemRoot:{"&$menuItemSelected":{backgroundColor:"rgba(0, 0, 0, 0.08)"},"&$menuItemSelected:focus":{backgroundColor:"rgba(0, 0, 0, 0.12)"},"&$menuItemSelected:hover":{backgroundColor:"rgba(0, 0, 0, 0.04);"}},menuItemSelected:{},inputRoot:{"&$disabled":{color:"black"}},disabled:{}}}));var cd=Object(u.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap"},ul:{maxWidth:810,overflowX:"auto",display:"flex",justifyContent:"flex-start",flexWrap:"nowrap",listStyle:"none",margin:0,paddingLeft:"0.5rem"},btnClear:{fontSize:"0.75rem"},chip:{margin:e.spacing(.5)}}}));function id(e){var t=cd(),a=e.chips,n=e.dispatch,r=e.handleChipsRemoved,c=Object(s.useState)(!1),i=Object(d.a)(c,2),l=(i[0],i[1]),o=function(e){return function(){switch(e.filterType){case Je:n({type:ke,payload:{filterType:Je,filterValue:""}});break;case st:n({type:Pe,payload:{filterType:st,filterValue:""}});break;case rt:n({type:De,payload:{filterType:rt,filterValue:""}});break;case $e:n({type:Ve,payload:{filterType:$e,filterValue:""}});break;case Ge:n({type:Ye,payload:{filterType:Ge,filterValue:null}})}if(r){var t=[e.filterType];r(t)}}};return Object(I.jsx)("div",{children:5!==function(){var e=0;return a.forEach((function(t){""!==t.filterValue&&null!==t.filterValue&&void 0!==t.filterValue||e++})),e}()&&Object(I.jsxs)("div",{className:t.root,children:[Object(I.jsx)(O.a,{size:"small",className:t.btnClear,onClick:function(){(l(!1),r)&&(n({type:ke,payload:{filterType:Je,filterValue:""}}),n({type:Pe,payload:{filterType:st,filterValue:""}}),n({type:De,payload:{filterType:rt,filterValue:""}}),n({type:Ve,payload:{filterType:$e,filterValue:""}}),n({type:Ye,payload:{filterType:Ge,filterValue:null}}),r([Je,st,rt,$e,Ge]))},children:"Clear all"}),Object(I.jsx)("ul",{className:t.ul,children:a.map((function(e){return Object(I.jsxs)("li",{children:[e.filterType!==Ge&&e.filterValue&&Object(I.jsx)(Se.a,{label:e.filterValue,onDelete:o(e),className:t.chip,color:"secondary"}),e.filterType===Ge&&null!==e.filterValue&&Object(I.jsx)(Se.a,{label:e.filterValue?"Active":"Inactive",onDelete:o(e),className:t.chip,color:"secondary"})]},e.filterType)}))})]})})}var ld=r.a.memo(id),od=a(707),dd=a(817);function ud(){return jd.apply(this,arguments)}function jd(){return(jd=Object(At.a)(Rt.a.mark((function e(){var t,a,n,s,r,c,i,l,o,d=arguments;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:0,a=d.length>1&&void 0!==d[1]?d[1]:10,n=d.length>2&&void 0!==d[2]?d[2]:"schoolId",s=d.length>3&&void 0!==d[3]?d[3]:"asc",r=d.length>4&&void 0!==d[4]?d[4]:void 0,c=d.length>5&&void 0!==d[5]?d[5]:void 0,i=d.length>6?d[6]:void 0,l="/schools?page=".concat(t,"&limit=").concat(a,"&column=").concat(n,"&direction=").concat(s),l=r?l.concat("&key=".concat(r)):l,c&&(l=c.district.filterValue?l.concat("&district=".concat(c.district.filterValue)):l,l=c.type.filterValue?l.concat("&type=".concat(c.type.filterValue)):l,l=c.level.filterValue?l.concat("&level=".concat(c.level.filterValue)):l,l=c.status.filterValue?l.concat("&status=".concat(c.status.filterValue)):l,l=i===Ft?null!==c.isActive.filterValue?l.concat("&active=".concat(c.isActive.filterValue)):l:l.concat("&active=true")),e.next=12,ga.get(l);case 12:return o=e.sent,e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function md(){return(md=Object(At.a)(Rt.a.mark((function e(t){var a,n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.get("/schools/".concat(t));case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bd(){return(bd=Object(At.a)(Rt.a.mark((function e(t){var a;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.post("/schools/",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pd(){return(pd=Object(At.a)(Rt.a.mark((function e(t){var a;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.post("/schools/import",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hd(e,t){return xd.apply(this,arguments)}function xd(){return(xd=Object(At.a)(Rt.a.mark((function e(t,a){var n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.put("/schools/".concat(t),a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vd(){return(vd=Object(At.a)(Rt.a.mark((function e(t){var a,n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.get("/schools/timeline/".concat(t));case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Od={child1:"Create School",child2:"Import File"},fd={cancel:"Cancel",save:"Save",WithData:"With Representative"},gd={info:"",success:"Created Successfully",error:"Created Failed",warning:""},yd={name:{title:"School Name"},addr:{title:"Address"},dist:{title:"District"},status:{title:"School Active"},eduLvl:{title:"Educational Level"},type:{title:"School Type"},salesStatus:{title:"School Status"},des:{title:"Description"},tel:{title:"Tel"},repName:{title:"Full Name"},repGender:{title:"Gender",male:{lb:"Male",value:"true"},female:{lb:"Female",value:"false"}},repEmail:{title:"Email"},repPhone:{title:"Phone Number"}},_d={name:"T\xean tr\u01b0\u1eddng",educationalLevel:"C\u1ea5p h\u1ecdc",phone:"S\u0110T tr\u01b0\u1eddng",district:"Qu\u1eadn/Huy\u1ec7n",address:"\u0110\u1ecba ch\u1ec9 (t\u1ed3n t\u1ea1i duy nh\u1ea5t)",reprName:"Hi\u1ec7u tr\u01b0\u1edfng/Hi\u1ec7u ph\xf3",isMale:"Gi\u1edbi t\xednh",reprPhone:"S\u0110T HT/HP",reprEmail:"Email HT/HP",type:"Lo\u1ea1i h\xecnh",status:"T\xecnh tr\u1ea1ng",description:"Th\xf4ng tin chi ti\u1ebft",isMaleValue:"Nam"},Nd="To import file to this system, please select a file in your device. The system only accepts ",Cd=" xlsx, xls, csv ",wd="file format.",Sd="to download an import sample file.",Id="Click here ",kd="Total rows will be inserted  \u2014 ",Td={warning:"Warning",success:"Checked",error:"Error"},Pd="documents/Import_Sample.xlsx",Dd=a(246),Vd=a.n(Dd),Rd=Dt.b().shape({name:Dt.d().trim().min(3,"Name must be at least 3 characters").max(30,"Name must be at most 30 characters").required("Name is required"),phone:Dt.d().max(11,"Tel must be at most 11 digits and has the correct format").matches(Ja,{message:"Telephone number is in wrong format (02xxxxxxxxx)",excludeEmptyString:!0}),reprName:Dt.d().trim().min(4,"Name must be at least 4 characters").max(30,"Name must be at most 30 characters"),reprPhone:Dt.d().max(10,"Phone must be at most 10 digits").matches(Qa,{message:"Phone number is in wrong format (03|5|7|9xxxxxxxx)",excludeEmptyString:!0}),reprEmail:Dt.d().trim().email("Invalid email")}),Ad=[{type:"server",name:"address",message:"School address already exists"}],Bd={PaperProps:{style:{maxHeight:120}},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null},Md=Object(u.a)((function(e){return{root:{},menuItemRoot:{"&$menuItemSelected":{backgroundColor:"rgba(0, 0, 0, 0.08)"},"&$menuItemSelected:focus":{backgroundColor:"rgba(0, 0, 0, 0.12)"},"&$menuItemSelected:hover":{backgroundColor:"rgba(0, 0, 0, 0.04);"}},menuItemSelected:{},formControl:{width:200}}}));var Fd=function(e){var t=e.onClose,a=e.refreshPage,n=fd,r=yd,c=gd,i=Md(),l=Object(cn.b)().enqueueSnackbar,u=qa(),j=u.dists,m=u.schEduLvls,b=u.schTypes,p=u.schStatus,h=Ts().params,x=h.page,v=h.limit,g=h.column,C=h.direction,w=h.searchKey,S=h.listFilters,k=j||La(Oa.dists),T=m||La(Oa.eduLvls),P=b||La(Oa.types),V=p||La(Oa.status),R=Object(o.h)(),A=Object(s.useState)(0),B=Object(d.a)(A,2),M=B[0],F=B[1],Y=Object(s.useState)(0),E=Object(d.a)(Y,2),H=E[0],L=E[1],K="",W={name:"",address:"",district:k[0],phone:"",educationalLevel:T[0],type:P[0],showRep:!1},q=Object(Tt.c)({mode:"onBlur",resolver:Object(Pt.a)(Rd),defaultValues:W}),z=q.control,U=q.handleSubmit,G=q.errors,Z=q.setError,Q=q.formState,J=q.reset,X=(0,q.watch)("showRep"),$=Object(s.useState)(""),ee=Object(d.a)($,2),te=ee[0],ae=ee[1],ne=function(e){if(ae(""),!e)return F(0),L(0),ae("Address is required"),!1;if(e.includes("Th\xe0nh ph\u1ed1 H\u1ed3 Ch\xed Minh")){if(e.includes("Qu\u1eadn")){var t=e.substring(e.lastIndexOf("Qu\u1eadn"));return K=t.substring(0,t.indexOf(", ")),ae(""),!0}var a=e.substring(0,e.lastIndexOf(", Th\xe0nh ph\u1ed1 H\u1ed3 Ch\xed Minh"));return K=a.substring(a.lastIndexOf(", ")+1).trim(),ae(""),!(!K||K.includes("H\u1ed3 Ch\xed Minh"))||(ae("Please input exactly address"),!1)}return e?(ae("Please choose address locates in Ho Chi Minh City"),!1):void 0};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(yt.a,{className:Vd.a.dialogCont,children:Object(I.jsx)("form",{noValidate:!0,children:Object(I.jsxs)(f.a,{container:!0,spacing:2,className:Vd.a.wrapper,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:8,children:Object(I.jsx)(Tt.a,{name:"name",control:z,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:r.name.title,variant:"outlined",required:!0,fullWidth:!0,autoFocus:!0,value:a,onChange:n,error:!!G.name,helperText:null===G||void 0===G||null===(t=G.name)||void 0===t?void 0:t.message})}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsx)(Tt.a,{name:"address",control:z,render:function(e){var t=e.value,a=e.onChange;return Object(I.jsx)(xe,{setLatitude:F,setLongitude:L,inputValue:t,setInputValue:a,onBlur:function(){return ne(t)},errText:Q.isDirty?te:""})}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:6,lg:6,children:Object(I.jsx)(Tt.a,{name:"phone",control:z,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:r.tel.title,variant:"outlined",value:a,onChange:n,error:!!G.phone,helperText:null===G||void 0===G||null===(t=G.phone)||void 0===t?void 0:t.message})}})}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:7,md:7,lg:7,children:[Object(I.jsx)(y.a,{children:r.eduLvl.title}),Object(I.jsx)(Tt.a,{name:"educationalLevel",control:z,render:function(e){var t=e.value,a=e.onChange;return Object(I.jsx)(_.a,{value:t,onChange:a,MenuProps:Bd,disableUnderline:!0,children:T.map((function(e){return Object(I.jsx)(N.a,{value:e,classes:{root:i.menuItemRoot,selected:i.menuItemSelected},children:e},e)}))})}})]}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:5,md:5,lg:5,children:[Object(I.jsx)(y.a,{children:r.type.title}),Object(I.jsx)(Tt.a,{name:"type",control:z,render:function(e){var t=e.value,a=e.onChange;return Object(I.jsx)(_.a,{value:t,onChange:a,MenuProps:Bd,disableUnderline:!0,children:P.map((function(e){return Object(I.jsx)(N.a,{value:e,classes:{root:i.menuItemRoot,selected:i.menuItemSelected},children:e},e)}))})}})]}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:[Object(I.jsx)(od.a,{children:n.WithData}),Object(I.jsx)(Tt.a,{name:"showRep",control:z,render:function(e){var t=e.value,a=e.onChange;return Object(I.jsx)(dd.a,{onChange:function(e){return a(e.target.checked)},checked:t})}})]}),X&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsx)(Tt.a,{name:"reprName",control:z,defaultValue:"",render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:r.repName.title,variant:"outlined",fullWidth:!0,value:a,onChange:n,error:!!G.reprName,helperText:null===G||void 0===G||null===(t=G.reprName)||void 0===t?void 0:t.message})}})}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:[Object(I.jsx)(y.a,{children:r.repGender.title}),Object(I.jsx)(Tt.a,{name:"reprIsMale",control:z,defaultValue:String(!0),render:function(e){var t=e.value,a=e.onChange;return Object(I.jsxs)(_t.a,{value:t,onChange:a,row:!0,children:[Object(I.jsx)(Nt.a,{label:r.repGender.male.lb,value:r.repGender.male.value,control:Object(I.jsx)(Ct.a,{})}),Object(I.jsx)(Nt.a,{label:r.repGender.female.lb,value:r.repGender.female.value,control:Object(I.jsx)(Ct.a,{})})]})}})]}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:6,lg:6,children:Object(I.jsx)(Tt.a,{name:"reprPhone",control:z,defaultValue:"",render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:r.repPhone.title,variant:"outlined",fullWidth:!0,value:a,onChange:n,error:!!G.reprPhone,helperText:null===G||void 0===G||null===(t=G.reprPhone)||void 0===t?void 0:t.message})}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsx)(Tt.a,{name:"reprEmail",control:z,defaultValue:"",render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:r.repEmail.title,variant:"outlined",fullWidth:!0,value:a,onChange:n,error:!!G.reprEmail,helperText:null===G||void 0===G||null===(t=G.reprEmail)||void 0===t?void 0:t.message})}})})]})]})})}),Object(I.jsxs)(wt.a,{className:Vd.a.dialogAct,children:[Object(I.jsx)(O.a,{className:Vd.a.btnSave,disabled:!Q.isDirty,onClick:U((function(e){if(ne(e.address)){var n=Object(D.a)(Object(D.a)({},e),{},{status:V[0],district:K,latitude:M,longitude:H});delete n.showRep,function(e){return bd.apply(this,arguments)}(n).then((function(e){l(c.success,{variant:"success"}),a(x,v,g,C,w,S),t()})).catch((function(e){e.response&&(console.log(e),409===e.response.status?Ad.forEach((function(e){var t=e.name,a=e.type,n=e.message;return Z(t,{type:a,message:n})})):R.push({pathname:"/errors",state:{error:e.response.status}}),l(c.error,{variant:"error"}))}))}})),children:n.save}),Object(I.jsx)(O.a,{onClick:function(){J({errors:!1,name:"",address:"",district:k[0],phone:"",educationalLevel:T[0],type:P[0],showRep:!1}),t()},children:n.cancel})]})]})},Yd=["children","classes","onClose"],Ed=Object(j.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,s=Object(bt.a)(e,Yd);return Object(I.jsxs)(pt.a,Object(D.a)(Object(D.a)({disableTypography:!0,className:a.root},s),{},{children:[Object(I.jsx)(x.a,{variant:"h6",children:t}),n?Object(I.jsx)(ht.a,{"aria-label":"close",className:a.closeButton,onClick:n,children:Object(I.jsx)(C.k,{})}):null]}))}));var Hd=function(e){var t=e.open,a=e.onClose,n=e.refreshPage,s=Od;return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(xt.a,{open:t,onClose:a,maxWidth:"xs",children:[Object(I.jsx)(Ed,{onClose:a,children:s.child1}),Object(I.jsx)(Fd,{onClose:a,refreshPage:n})]})})},Ld=a(789),Kd=a(376),Wd=a(223),qd=a.n(Wd),zd=["children","classes","onClose"],Ud=Object(j.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,s=Object(bt.a)(e,zd);return Object(I.jsxs)(pt.a,Object(D.a)(Object(D.a)({disableTypography:!0,className:a.root},s),{},{children:[Object(I.jsx)(x.a,{variant:"h6",children:t}),n?Object(I.jsx)(ht.a,{"aria-label":"close",className:a.closeButton,onClick:n,children:Object(I.jsx)(C.k,{})}):null]}))}));var Gd=function(e){var t=Object(s.useState)([]),a=Object(d.a)(t,2),n=a[0],c=a[1],i=Object(s.useState)({isOpen:!1,message:"",type:""}),l=Object(d.a)(i,2),o=l[0],u=l[1],j=e.open,m=e.onClose,b=e.refreshAPI,p=Od,h=_d,x=Nd,v=wd,f=Cd,g=Id,y=Sd,_=Td,N=Pd,C=kd,w=Ts().params,S=w.listFilters,k=w.page,T=w.limit,P=w.column,D=w.direction,V=w.searchKey,R=r.a.useState(""),A=Object(d.a)(R,2),B=A[0],M=A[1],F=r.a.useState(0),Y=Object(d.a)(F,2),E=Y[0],L=Y[1],K=r.a.useState(""),q=Object(d.a)(K,2),z=q[0],U=q[1],G=r.a.useState(!0),Z=Object(d.a)(G,2),Q=Z[0],J=Z[1],X=function(){M(""),L(0),J(!0),m(!1)};return r.a.useEffect((function(){return new Promise((function(e,t){sn.ref(N).getDownloadURL().then((function(e){U(e)}))}))}),[]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(xt.a,{open:j,onClose:X,maxWidth:"xs",scroll:"body",children:[Object(I.jsx)(Ud,{onClose:X,children:p.child2}),Object(I.jsxs)(yt.a,{children:[Object(I.jsxs)(ho.a,{children:[x,Object(I.jsx)("strong",{children:f}),v]}),Object(I.jsxs)(H.a,{variant:"outlined",severity:"info",children:[Object(I.jsxs)(ii.a,{underline:"always",href:z,children:[g," "]})," ",y]}),Object(I.jsx)("label",{className:qd.a.customfileupload,children:Object(I.jsxs)(ht.a,{className:qd.a.uploadBtn,component:"span",children:[Object(I.jsx)(fe.b,{})," \xa0\xa0",Object(I.jsx)("input",{id:"icon-button-file",className:qd.a.inputFile,accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",type:"file",onChange:function(e){return function(e){var t=e.target.files[0];return M(null===t||void 0===t?void 0:t.name),(null===t||void 0===t?void 0:t.name.match(/\.(xlsx|xls|csv|xml|xslx)$/))?(null===t||void 0===t?void 0:t.size)>1572864?(u({isOpen:!0,message:"Error file too large, only accept file less than 1.5Mb ",type:"warning"}),e.target.value="",M(""),L(0),!1):void new Promise((function(e,a){var n=new FileReader;n.readAsArrayBuffer(t),n.onload=function(t){var a=t.target.result,n=Kd.read(a,{type:"buffer"}),s=n.SheetNames[0],r=n.Sheets[s],c=Kd.utils.sheet_to_json(r);e(c)},n.onerror=function(e){a(e)}})).then((function(t){var a=[];t.forEach((function(t){if(!t[h.name]||!t[h.address]||!t[h.educationalLevel]||!t[h.type]||!t[h.district])return u({isOpen:!0,message:"Information is invalid",type:"warning"}),e.target.value="",M(""),L(0),!1;a.push({name:t[h.name],educationalLevel:t[h.educationalLevel],phone:t[h.phone],district:t[h.district],address:t[h.address],reprName:t[h.reprName],reprIsMale:"Nam"===h.isMaleValue,reprPhone:t[h.reprPhone],reprEmail:t[h.reprEmail],type:t[h.type]})})),console.log(a),L(a.length),a.length<1?J(!0):(J(!1),c(a))})):(u({isOpen:!0,message:"Error file type",type:"warning"}),e.target.value="",M(""),L(0),!1)}(e)}}),"Choose file"]})}),Object(I.jsxs)("label",{children:[B," "]}),Object(I.jsxs)(H.a,{severity:0===E?"warning":"success",className:qd.a.alert,children:[Object(I.jsx)(Ld.a,{children:0===E?_.waring:_.success}),C,Object(I.jsxs)("strong",{children:["[",E,"] row(s)"]})]})]}),Object(I.jsxs)(wt.a,{children:[Object(I.jsx)(O.a,{onClick:function(e){(function(e){return pd.apply(this,arguments)})(n).then((function(e){b(k,T,P,D,V,S),u({isOpen:!0,message:"Created Successfully",type:"success"}),X()})).catch((function(e){e.response&&(console.log(e.response),console.log(e.response.data.message),u({isOpen:!0,message:e.response.data.message,type:"error"}))}))},color:"primary",disabled:Q,className:qd.a.btnSave,children:"Save"}),Object(I.jsx)(O.a,{onClick:X,children:"Cancel"})]})]}),Object(I.jsx)(W,{notify:o,setNotify:u})]})},Zd=[{key:"no",name:"#",sortable:!1,width:"2%"},{key:"name",name:"School Name",sortable:!0,width:"20%"},{key:"address",name:"Address",sortable:!1,width:"42%"},{key:"reprName",name:"Principal",sortable:!0,width:"18%"},{key:"schoolStatus.name",name:"Status",sortable:!0,width:"14%"},{key:"",name:"",sortable:!1,width:"2%"}],Qd={back:"Schools"},Jd={tab1:"General Info",tab2:"Principal Info",tab3:"Timeline"},Xd={notFound:"School Not Found"},$d={filter:"Filters",search:{placeholder:"Search..."},selectCreateOptions:"Create",create:"Create",import:"Import"},eu={district:{title:"Districts"},schoolStatus:{title:"School Status"},schoolType:{title:"School Types"},schoolLevel:{title:"School Levels"},workingStatus:{title:"Working Status",options:{all:"All",active:"Active",inactive:"Inactive"}}},tu={notFound:"No records found."},au={details:{title:"View details"}},nu=a(377),su=a.n(nu),ru={PaperProps:{style:{maxHeight:157}}},cu=Object(u.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:160},flexBox:{padding:0},flexItem:{padding:0},option:{fontSize:"0.875rem"},btn:{padding:"0.5rem",margin:"0 0.3rem",borderRadius:"8px"},root:{},menuItemRoot:{"&$menuItemSelected":{backgroundColor:"rgba(0, 0, 0, 0.08)"},"&$menuItemSelected:focus":{backgroundColor:"rgba(0, 0, 0, 0.12)"},"&$menuItemSelected:hover":{backgroundColor:"rgba(0, 0, 0, 0.04);"}},menuItemSelected:{}}})),iu=Object(j.a)({root:{backgroundColor:"rgb(238, 238, 238)",borderRadius:"8px",marginBottom:"0.5rem",boxShadow:"none","&:not(:last-child)":{borderBottom:0,borderRadius:"8px"},"&:before":{display:"none"},"&$expanded":{margin:"auto",borderRadius:"8px"}},expanded:{}})(m.a),lu=Object(j.a)({root:{height:41.5,minHeight:35,maxWidth:120,backgroundColor:"rgb(255, 255, 255)",fontWeight:"bold",boxShadow:"0 4px 6px -6px #000",borderRadius:"8px",paddingButtom:0,"&$expanded":{minHeight:35,borderRadius:"8px"}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(b.a),ou=Object(j.a)((function(e){return{root:{backgroundColor:"rgb(255, 255, 255)",margin:"0.5rem 0",padding:"0.3rem 0 1rem 2rem",borderRadius:"8px"}}}))(p.a);var du=function(e){var t=cu(),a=$d,n=eu,c=gs().user,i=qa(),l=i.dists,o=i.schTypes,u=i.schEduLvls,j=i.schStatus,m=l||La(Oa.dists),b=o||La(Oa.types),p=u||La(Oa.eduLvls),w=j||La(Oa.status),S=Ts(),k=S.params,T=S.dispatchParams,D=S.district,V=S.schoolType,R=S.schoolLevel,A=S.schoolStatus,B=S.isActive,M=S.workingStatuses,F=S.setFilter,Y=Object(s.useState)(!1),E=Object(d.a)(Y,2),H=E[0],L=E[1],K=Object(s.useState)(!1),W=Object(d.a)(K,2),q=W[0],z=W[1],U=r.a.useState(null),G=Object(d.a)(U,2),Z=G[0],Q=G[1];return Object(I.jsx)("div",{className:su.a.wrapper,children:Object(I.jsxs)(iu,{children:[Object(I.jsxs)(h.a,{display:"flex",flexWrap:"nowrap",className:t.flexBox,children:[Object(I.jsx)(h.a,{className:t.flexItem,children:Object(I.jsxs)(lu,{expandIcon:Object(I.jsx)(C.u,{}),children:[Object(I.jsx)(C.w,{className:su.a.iconFilter})," ","\xa0",Object(I.jsx)(x.a,{children:a.filter})]})}),Object(I.jsx)(h.a,{flexGrow:1,className:t.flexItem,children:Object(I.jsx)(ld,{chips:function(e){var t=[];for(var a in e)t.push(e[a]);return t}(k.listFilters),dispatch:T,handleChipsRemoved:function(e){e.forEach((function(e){switch(e){case Je:F(Je,"");break;case st:F(st,"");break;case rt:F(rt,"");break;case $e:F($e,"");break;case Ge:F(Ge,null)}}))}})}),Object(I.jsx)(h.a,{className:t.flexItem,children:Object(I.jsx)(P,{placeholder:a.search.placeholder,onChange:function(e){T({type:qe,payload:e})}})}),c.roles[0]===Ft&&Object(I.jsxs)(h.a,{className:t.flexItem,children:[Object(I.jsx)(v.a,{title:a.selectCreateOptions,children:Object(I.jsx)(O.a,{className:t.btn,variant:"contained",color:"secondary",onClick:function(e){return Q(e.currentTarget)},children:Object(I.jsx)(C.b,{fontSize:"large"})})}),Object(I.jsxs)(Gn.a,{anchorEl:Z,keepMounted:!0,open:Boolean(Z),onClose:function(){return Q(null)},children:[Object(I.jsx)(v.a,{title:"Input form manually",placement:"left",children:Object(I.jsxs)(N.a,{onClick:function(){return Q(null),void L(!0)},children:[Object(I.jsx)(C.l,{style:{color:"#616161"}})," \xa0 \xa0 ",a.create]})}),Object(I.jsx)(v.a,{title:"Import file Excel",placement:"left",children:Object(I.jsxs)(N.a,{onClick:function(){return Q(null),void z(!0)},children:[Object(I.jsx)(fe.b,{style:{color:"#616161"}})," \xa0 \xa0 ",a.import]})})]}),Object(I.jsx)(Hd,{open:H,onClose:function(){return L(!1)},refreshPage:e.refreshAPI}),Object(I.jsx)(Gd,{open:q,onClose:function(){return z(!1)},refreshAPI:e.refreshAPI})]})]}),Object(I.jsx)(ou,{children:Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsx)(f.a,{item:!0,xs:6,sm:4,md:4,lg:4,children:Object(I.jsxs)(g.a,{className:t.formControl,children:[Object(I.jsx)(y.a,{children:n.district.title}),Object(I.jsxs)(_.a,{value:D||"",onChange:function(e){var t=e.target.value;F(Je,t),T({type:ke,payload:{filterType:Je,filterValue:t||""}})},MenuProps:ru,children:[Object(I.jsx)(N.a,{value:"",className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:"All"}),null===m||void 0===m?void 0:m.map((function(e){return Object(I.jsx)(N.a,{value:e,className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:e},e)}))]})]})}),Object(I.jsx)(f.a,{item:!0,xs:6,sm:4,md:4,lg:4,children:Object(I.jsxs)(g.a,{className:t.formControl,children:[Object(I.jsx)(y.a,{children:n.schoolType.title}),Object(I.jsxs)(_.a,{value:V||"",onChange:function(e){var t=e.target.value;F(st,t),T({type:Pe,payload:{filterType:st,filterValue:t||""}})},MenuProps:ru,children:[Object(I.jsx)(N.a,{value:"",className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:"All"}),null===b||void 0===b?void 0:b.map((function(e){return Object(I.jsx)(N.a,{value:e,className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:e},e)}))]})]})}),Object(I.jsx)(f.a,{item:!0,xs:6,sm:4,md:4,lg:4,children:Object(I.jsxs)(g.a,{className:t.formControl,children:[Object(I.jsx)(y.a,{children:n.schoolLevel.title}),Object(I.jsxs)(_.a,{value:R||"",onChange:function(e){var t=e.target.value;F(rt,t),T({type:De,payload:{filterType:rt,filterValue:t||""}})},MenuProps:ru,children:[Object(I.jsx)(N.a,{value:"",className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:"All"}),null===p||void 0===p?void 0:p.map((function(e){return Object(I.jsx)(N.a,{value:e,className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:e},e)}))]})]})}),c.roles[0]===Ft?Object(I.jsx)(f.a,{item:!0,xs:6,sm:4,md:4,lg:4,children:Object(I.jsxs)(g.a,{className:t.formControl,children:[Object(I.jsx)(y.a,{children:n.workingStatus.title}),Object(I.jsx)(_.a,{value:null===B?"":B,onChange:function(e){var t=e.target.value;F(Ge,t),T({type:Ye,payload:{filterType:Ge,filterValue:t}})},MenuProps:ru,children:M.map((function(e){return Object(I.jsx)(N.a,{value:e,className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:"".concat(null===e?n.workingStatus.options.all:e?n.workingStatus.options.active:n.workingStatus.options.inactive)},e)}))})]})}):Object(I.jsx)(f.a,{item:!0,xs:6,sm:4,md:4,lg:4,children:Object(I.jsxs)(g.a,{className:t.formControl,children:[Object(I.jsx)(y.a,{children:n.schoolStatus.title}),Object(I.jsxs)(_.a,{value:A||"",onChange:function(e){var t=e.target.value;F($e,t),T({type:Ve,payload:{filterType:$e,filterValue:t||""}})},MenuProps:ru,children:[Object(I.jsx)(N.a,{value:"",className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:"All"}),null===w||void 0===w?void 0:w.map((function(e){return Object(I.jsx)(N.a,{value:e,className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:e},e)}))]})]})})]})})]})})},uu=a(463),ju=a(378),mu=a.n(ju);function bu(e){var t=e.data,a=au,n=Ts().params,r=Object(o.k)().url,c=Object(s.useState)(null),i=Object(d.a)(c,2),u=i[0],j=i[1],m={model:t,params:n},b=function(){j(null)};return Object(I.jsxs)("div",{children:[Object(I.jsx)(v.a,{title:"Actions",children:Object(I.jsx)(ht.a,{color:"primary",onClick:function(e){j(e.currentTarget)},children:Object(I.jsx)(C.K,{})})}),Object(I.jsx)(Gn.a,{anchorEl:u,keepMounted:!0,open:!!u,onClose:b,children:Object(I.jsxs)(N.a,{onClick:b,component:l.b,to:{pathname:"".concat(r,"/").concat(t.schoolId),state:{data:m}},children:[Object(I.jsx)(Zn.a,{className:mu.a.itemIcon,children:Object(I.jsx)(C.A,{fontSize:"large"})}),Object(I.jsx)(zn.a,{className:mu.a.itemText,children:a.details.title})]})})]})}var pu=r.a.memo(bu),hu=a(71),xu=a.n(hu);function vu(e){var t=Object(An.a)(),a=e.count,n=e.page,s=e.rowsPerPage,r=e.totalPage,c=e.onChangePage;return Object(I.jsxs)("div",{className:xu.a.paging,children:[Object(I.jsx)(ht.a,{onClick:function(e){c(e,0)},disabled:0===n,"aria-label":"first page",children:"rtl"===t.direction?Object(I.jsx)(C.E,{}):Object(I.jsx)(C.x,{})}),Object(I.jsx)(ht.a,{onClick:function(e){c(e,n-1)},disabled:0===n,"aria-label":"previous page",children:"rtl"===t.direction?Object(I.jsx)(C.D,{}):Object(I.jsx)(C.C,{})}),Object(I.jsxs)("span",{children:[n+1," / ",r]}),Object(I.jsx)(ht.a,{onClick:function(e){c(e,n+1)},disabled:n>=Math.ceil(a/s)-1,"aria-label":"next page",children:"rtl"===t.direction?Object(I.jsx)(C.C,{}):Object(I.jsx)(C.D,{})}),Object(I.jsx)(ht.a,{onClick:function(e){c(e,Math.ceil(a/s)-1)},disabled:n>=Math.ceil(a/s)-1,"aria-label":"last page",children:"rtl"===t.direction?Object(I.jsx)(C.x,{}):Object(I.jsx)(C.E,{})})]})}function Ou(e){var t=e.columns,a=e.direction,n=e.column,s=e.onRequestSort,r=Object(j.a)({root:{color:"white !important","&:hover":{color:"white !important"},"&$active":{color:"white !important"}},active:{},icon:{color:"white !important"}})(Bn.a);return Object(I.jsx)(Mn.a,{children:Object(I.jsx)(Fn.a,{className:xu.a.tHead,children:t.map((function(e){return Object(I.jsx)(Yn.a,{className:xu.a.tHeadCell,sortDirection:n===e.key&&a,align:"no"===e.key?"center":"left",width:e.width,children:(null===e||void 0===e?void 0:e.sortable)?Object(I.jsx)(r,{active:n===e.key,direction:n===e.key?a:"asc",onClick:function(){return function(e,t){s(e,t)}(e,a)},children:e.name}):e.name},e.key)}))})})}function fu(e){var t=e.columns,a=e.rows,n=e.totalRecord,s=e.totalPage,r=tu,c=gs().user,i=Ts(),l=i.params,o=i.dispatchParams,d=i.limit,u=i.direction,j=i.column,m=i.setColumn,b=i.setLimit,p=i.setPage,x=i.setDirection,O=function(e,t){p(t),o({type:Ue,payload:{page:t,limit:l.limit}})},f=function(e){switch(e){case Wt:return Object(I.jsx)(Se.a,{label:e,className:xu.a.chipLead});case qt:return Object(I.jsx)(Se.a,{label:e,className:xu.a.chipCustomer});case zt:return Object(I.jsx)(Se.a,{label:e});case Ut:return Object(I.jsx)(Se.a,{label:e,className:xu.a.chipPotential})}};return Object(I.jsxs)("div",{className:xu.a.wrapper,children:[Object(I.jsx)(En.a,{className:xu.a.container,component:"div",children:Object(I.jsxs)(Hn.a,{className:xu.a.table,stickyHeader:!0,size:"small","aria-label":"sticky table",children:[Object(I.jsx)(Ou,{columns:t,direction:u,column:j,onRequestSort:function(e,t){e.sortable&&(x("desc"===t?"asc":"desc"),m(e.key),o({type:ze,payload:{column:e.key,direction:t}}))}}),Object(I.jsx)(Ln.a,{className:xu.a.tBody,children:(null===a||void 0===a?void 0:a.length)>0?a.map((function(e,t){return Object(I.jsxs)(Fn.a,{className:xu.a.tBodyRow,children:[Object(I.jsx)(Yn.a,{className:xu.a.tableCell,align:"center",children:l.page*l.limit+t+1}),Object(I.jsx)(Yn.a,{className:(null===e||void 0===e?void 0:e.active)?xu.a.tCellSchoolName:xu.a.tCellInactiveSchoolName,children:Object(I.jsx)(es.a,{highlightClassName:"YourHighlightClass",searchWords:[l.searchKey],autoEscape:!0,textToHighlight:"".concat(null===e||void 0===e?void 0:e.educationalLevel," ").concat(null===e||void 0===e?void 0:e.name)})}),Object(I.jsx)(Yn.a,{className:(null===e||void 0===e?void 0:e.active)?xu.a.tBodyCell:xu.a.tCellInactive,children:Object(I.jsx)(zn.a,{primary:Object(I.jsx)(es.a,{highlightClassName:"YourHighlightClass",searchWords:[l.searchKey],autoEscape:!0,textToHighlight:(null===e||void 0===e?void 0:e.address)?null===e||void 0===e?void 0:e.address:""}),secondary:null===e||void 0===e?void 0:e.district,classes:{primary:xu.a.itemText,secondary:xu.a.itemText}})}),c.roles[0]===Ft?Object(I.jsx)(Yn.a,{className:(null===e||void 0===e?void 0:e.active)?xu.a.tBodyCell:xu.a.tCellInactive,children:Object(I.jsxs)(I.Fragment,{children:[(null===e||void 0===e?void 0:e.reprName)?(null===e||void 0===e?void 0:e.reprIsMale)?"Mr. ":"Ms. ":"",Object(I.jsx)(es.a,{highlightClassName:"YourHighlightClass",searchWords:[l.searchKey],autoEscape:!0,textToHighlight:(null===e||void 0===e?void 0:e.reprName)?null===e||void 0===e?void 0:e.reprName:""})]})}):Object(I.jsx)(Yn.a,{className:xu.a.tBodyCell,children:Object(I.jsxs)(h.a,{display:"flex",children:[Object(I.jsx)(h.a,{p:1,children:(null===e||void 0===e?void 0:e.status)&&f(null===e||void 0===e?void 0:e.status,null===e||void 0===e||e.active)}),Object(I.jsx)(h.a,{p:1,children:(null===e||void 0===e?void 0:e.hasTimeline)&&Object(I.jsx)(v.a,{title:"View timeline in detail",placement:"top",children:Object(I.jsx)(ve.a,{children:Object(I.jsx)(uu.a,{className:xu.a.iconTimeline})})})})]})}),Object(I.jsx)(Yn.a,{className:xu.a.tBodyCell,align:"right",children:Object(I.jsx)(pu,{data:e})})]},null===e||void 0===e?void 0:e.schoolId)})):Object(I.jsx)(Fn.a,{className:xu.a.tBodyRow,children:Object(I.jsx)(Yn.a,{className:xu.a.noRecord,component:"td",colSpan:"100%",children:r.notFound})})})]})}),Object(I.jsx)(Un.a,{rowsPerPageOptions:[10,20,50],component:"div",count:n||0,rowsPerPage:d,page:l.page,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:O,onChangeRowsPerPage:function(e){b(parseInt(e.target.value,10)),p(0),o({type:Ue,payload:{page:0,limit:parseInt(e.target.value,10)}})},ActionsComponent:function(){return Object(I.jsx)(vu,{count:n||0,page:l.page,rowsPerPage:l.limit,totalPage:s,onChangePage:O})}})]})}var gu=r.a.memo(fu),yu=a(324),_u=a.n(yu);var Nu=function(){var e=Object(o.h)(),t=gs().user,a=function(e){var t=Zd[0],a=Zd[1],n=Zd[2],s=Zd[3],r=Zd[4],c=Zd[5];switch(e){case Ft:return[t,a,n,s,c];case Yt:case Et:return[t,a,n,r,c]}}(t.roles[0]),n=Ts().params,r=n.listFilters,c=n.page,i=n.limit,l=n.column,u=n.direction,j=n.searchKey,m=Object(s.useState)(null),b=Object(d.a)(m,2),p=b[0],h=b[1],x=!0,v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"schoolId",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"asc",r=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0;ud(t,a,n,s,r,c,i).then((function(e){x&&h(e.data)})).catch((function(t){t.response&&(console.log(t),e.push({pathname:"/errors",state:{error:t.response.status}}))}))};return Object(s.useEffect)((function(){return v(c,i,l,u,j,r,t.roles[0]),function(){x=!1}}),[n]),p?Object(I.jsxs)("div",{className:_u.a.panel,children:[Object(I.jsx)(du,{className:_u.a.filter,refreshAPI:v}),Object(I.jsx)(gu,{className:_u.a.table,columns:a,rows:null===p||void 0===p?void 0:p.list,totalRecord:p.totalElements,totalPage:p.totalPage,refreshAPI:v})]}):Object(I.jsx)(se,{})},Cu={child1:"School Detail",child2:"Principal Detail"},wu={cancel:"Cancel",save:"Save"},Su={info:"",success:"Updated Successfully",error:"Updated Failed",warning:""},Iu={name:{title:"School Name"},addr:{title:"Address"},dist:{title:"District"},status:{title:"School Active"},eduLvl:{title:"Educational Level"},type:{title:"School Type"},salesStatus:{title:"School Status"},des:{title:"Description"},tel:{title:"Tel"},empty:{title:"N/A"},reprName:{title:"Full Name"},reprEmail:{title:"Email"},reprPhone:{title:"Phone Number"}},ku=a(43),Tu=a.n(ku),Pu=Dt.b().shape({name:Dt.d().trim().min(3,"Name must be at least 3 characters").max(30,"Name must be at most 30 characters").required("Name is required"),address:Dt.d().trim().required("Address is required"),phone:Dt.d().max(11,"Tel must be at most 11 digits and has the correct format").matches(Ja,{message:"Telephone number is in wrong format (02xxxxxxxxx)",excludeEmptyString:!0})}),Du={PaperProps:{style:{maxHeight:120}},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null},Vu=Object(u.a)((function(e){return{root:{},menuItemRoot:{"&$menuItemSelected":{backgroundColor:"rgba(0, 0, 0, 0.08)"},"&$menuItemSelected:focus":{backgroundColor:"rgba(0, 0, 0, 0.12)"},"&$menuItemSelected:hover":{backgroundColor:"rgba(0, 0, 0, 0.04);"}},menuItemSelected:{}}}));var Ru=function(e){var t=e.school,a=e.refreshPage,n=e.userRole,r=Cu,c=wu,i=Iu,l=Su,u=Vu(),j=Object(cn.b)().enqueueSnackbar,m=Object(o.h)(),b=qa(),p=b.dists,h=b.schEduLvls,v=b.schTypes,g=p||La(Oa.dists),C=h||La(Oa.eduLvls),w=v||La(Oa.types),S=Object(s.useState)(0),k=Object(d.a)(S,2),T=k[0],P=k[1],V=Object(s.useState)(0),R=Object(d.a)(V,2),A=R[0],B=R[1],M={id:null===t||void 0===t?void 0:t.schoolId,name:(null===t||void 0===t?void 0:t.name)?null===t||void 0===t?void 0:t.name:"",address:(null===t||void 0===t?void 0:t.address)?null===t||void 0===t?void 0:t.address:"",district:(null===t||void 0===t?void 0:t.district)?null===t||void 0===t?void 0:t.district:g[0],latitude:(null===t||void 0===t?void 0:t.latitude)?null===t||void 0===t?void 0:t.latitude:T,longitude:(null===t||void 0===t?void 0:t.longitude)?null===t||void 0===t?void 0:t.longitude:A,educationalLevel:(null===t||void 0===t?void 0:t.educationalLevel)?null===t||void 0===t?void 0:t.educationalLevel:C[0],type:(null===t||void 0===t?void 0:t.type)?null===t||void 0===t?void 0:t.type:w[0],phone:(null===t||void 0===t?void 0:t.phone)?null===t||void 0===t?void 0:t.phone:"",active:null===t||void 0===t?void 0:t.active},F=Object(Tt.c)({resolver:Object(Pt.a)(Pu),defaultValues:M}),Y=F.control,E=F.errors,H=F.setError,L=F.handleSubmit,K=F.formState,W=F.reset;if(Object(s.useEffect)((function(){W({id:null===t||void 0===t?void 0:t.schoolId,name:(null===t||void 0===t?void 0:t.name)?null===t||void 0===t?void 0:t.name:"",address:(null===t||void 0===t?void 0:t.address)?null===t||void 0===t?void 0:t.address:"",district:(null===t||void 0===t?void 0:t.district)?null===t||void 0===t?void 0:t.district:g[0],latitude:(null===t||void 0===t?void 0:t.latitude)?null===t||void 0===t?void 0:t.latitude:T,longitude:(null===t||void 0===t?void 0:t.longitude)?null===t||void 0===t?void 0:t.longitude:A,educationalLevel:(null===t||void 0===t?void 0:t.educationalLevel)?null===t||void 0===t?void 0:t.educationalLevel:C[0],type:(null===t||void 0===t?void 0:t.type)?null===t||void 0===t?void 0:t.type:w[0],phone:(null===t||void 0===t?void 0:t.phone)?null===t||void 0===t?void 0:t.phone:"",active:null===t||void 0===t?void 0:t.active})}),[t]),!g)return Object(I.jsx)(se,{});if(!C)return Object(I.jsx)(se,{});if(!w)return Object(I.jsx)(se,{});if(!t)return Object(I.jsx)(se,{});var q="",z=function(e){if(function(e){if(!e)return P(0),B(0),!1;if(e.includes("Th\xe0nh ph\u1ed1 H\u1ed3 Ch\xed Minh")){if(e.includes("Qu\u1eadn")){var t=e.substring(e.lastIndexOf("Qu\u1eadn"));return q=t.substring(0,t.indexOf(", ")),!0}var a=e.substring(0,e.lastIndexOf(", Th\xe0nh ph\u1ed1 H\u1ed3 Ch\xed Minh"));return!(!(q=a.substring(a.lastIndexOf(", ")+1).trim())||q.includes("H\u1ed3 Ch\xed Minh"))||(H("address",{type:"manual",message:"Please input exactly address"}),!1)}return e?(H("address",{type:"manual",message:"Please choose address locates in Ho Chi Minh City"}),!1):void 0}(null===e||void 0===e?void 0:e.address)){var n=Object(D.a)(Object(D.a)({},e),{},{district:q,latitude:(null===t||void 0===t?void 0:t.latitude)?null===t||void 0===t?void 0:t.latitude:T,longitude:(null===t||void 0===t?void 0:t.longitude)?null===t||void 0===t?void 0:t.longitude:A,status:null===t||void 0===t?void 0:t.status,reprName:null===t||void 0===t?void 0:t.reprName,reprIsMale:null===t||void 0===t?void 0:t.reprIsMale,reprPhone:null===t||void 0===t?void 0:t.reprPhone,reprEmail:null===t||void 0===t?void 0:t.reprEmail});hd(e.id,n).then((function(t){a(e.id),j(l.success,{variant:"success"})})).catch((function(e){e.response&&(console.log(e),m.push({pathname:"/errors",state:{error:e.response.status}}),j(l.error,{variant:"error"}))}))}};return Object(I.jsx)("div",{className:Tu.a.panel,children:Object(I.jsx)(f.a,{container:!0,spacing:0,className:Tu.a.body,children:n===Ft?Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Tu.a.content,children:Object(I.jsx)("form",{onSubmit:L(z),noValidate:!0,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Tu.a.wrapper,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Tu.a.row,children:Object(I.jsx)(x.a,{color:"inherit",className:Tu.a.header,children:r.child1})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:9,lg:8,className:Tu.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:Tu.a.row,children:[Object(I.jsx)(Tt.a,{name:"id",control:Y,render:function(e){var t=e.value;return Object(I.jsx)("input",{type:"hidden",name:"id",value:t})}}),Object(I.jsx)(Tt.a,{name:"name",control:Y,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:i.name.title,variant:"outlined",required:!0,fullWidth:!0,autoFocus:!0,value:a,onChange:n,error:!!E.name,helperText:null===E||void 0===E||null===(t=E.name)||void 0===t?void 0:t.message})}})]}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Tu.a.row,children:Object(I.jsx)(Tt.a,{name:"address",control:Y,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(xe,{setLatitude:P,setLongitude:B,inputValue:a,setInputValue:n,error:!!E.address,helperText:null===E||void 0===E||null===(t=E.address)||void 0===t?void 0:t.message})}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Tu.a.row,children:Object(I.jsx)(Tt.a,{name:"phone",control:Y,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:i.tel.title,variant:"outlined",value:a,onChange:n,error:!!E.phone,helperText:null===E||void 0===E||null===(t=E.phone)||void 0===t?void 0:t.message})}})}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:5,md:5,lg:5,className:Tu.a.row,children:[Object(I.jsx)(y.a,{children:i.eduLvl.title}),Object(I.jsx)(Tt.a,{name:"educationalLevel",control:Y,render:function(e){var t=e.value,a=e.onChange;return Object(I.jsx)(_.a,{value:t,onChange:a,MenuProps:Du,disableUnderline:!0,children:C.map((function(e){return Object(I.jsx)(N.a,{value:e,classes:{root:u.menuItemRoot,selected:u.menuItemSelected},children:e},e)}))})}})]}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:Tu.a.row,children:[Object(I.jsx)(y.a,{children:i.type.title}),Object(I.jsx)(Tt.a,{name:"type",control:Y,render:function(e){var t=e.value,a=e.onChange;return Object(I.jsx)(_.a,{value:t,onChange:a,MenuProps:Du,disableUnderline:!0,children:w.map((function(e){return Object(I.jsx)(N.a,{value:e,classes:{root:u.menuItemRoot,selected:u.menuItemSelected},children:e},e)}))})}})]}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Tu.a.row,children:[Object(I.jsx)(y.a,{required:!0,children:i.status.title}),Object(I.jsx)(Tt.a,{name:"active",control:Y,render:function(e){var t=e.value,a=e.onChange;return Object(I.jsx)(dc.a,{checked:t,onChange:function(e){return a(e.target.checked)}})}})]}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Tu.a.action,children:Object(I.jsx)(O.a,{className:Tu.a.submit,variant:"contained",disabled:!K.isDirty,type:"submit",children:c.save})})]})})]})})}):Object(I.jsxs)(f.a,{container:!0,spacing:0,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Tu.a.content,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Tu.a.wrapper,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Tu.a.row,children:Object(I.jsx)(x.a,{color:"inherit",className:Tu.a.header,children:r.child1})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Tu.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Tu.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Tu.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:Tu.a.title,children:i.name.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:9,lg:8,className:Tu.a.rowx,children:Object(I.jsxs)(x.a,{color:"inherit",children:[null===t||void 0===t?void 0:t.educationalLevel," ",null===t||void 0===t?void 0:t.name]})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Tu.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Tu.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Tu.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:Tu.a.title,children:i.addr.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:9,lg:8,className:Tu.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:null===t||void 0===t?void 0:t.address})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Tu.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Tu.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Tu.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:Tu.a.title,children:i.dist.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:9,lg:8,className:Tu.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:null===t||void 0===t?void 0:t.district})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Tu.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Tu.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Tu.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:Tu.a.title,children:i.type.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:9,lg:8,className:Tu.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:null===t||void 0===t?void 0:t.type})})]})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Tu.a.content,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Tu.a.wrapper,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Tu.a.row,children:Object(I.jsx)(x.a,{color:"inherit",className:Tu.a.header,children:r.child2})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Tu.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Tu.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Tu.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:Tu.a.title,children:i.reprName.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:9,lg:8,className:Tu.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:(null===t||void 0===t?void 0:t.reprName)?"".concat((null===t||void 0===t?void 0:t.reprIsMale)?"Mr. ":"Ms. "," ").concat(null===t||void 0===t?void 0:t.reprName):i.empty.title})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Tu.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Tu.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Tu.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:Tu.a.title,children:i.reprPhone.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:9,lg:8,className:Tu.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:(null===t||void 0===t?void 0:t.reprPhone)?null===t||void 0===t?void 0:t.reprPhone:i.empty.title})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Tu.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Tu.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Tu.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:Tu.a.title,children:i.reprEmail.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:9,lg:8,className:Tu.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:(null===t||void 0===t?void 0:t.reprEmail)?null===t||void 0===t?void 0:t.reprEmail:i.empty.title})})]})})]})})]})})})},Au={child1:"Principal Detail"},Bu={cancel:"Cancel",save:"Save"},Mu={info:"",success:"Updated Successfully",error:"Updated Failed",warning:""},Fu={fullName:{title:"Full Name"},reprIsMale:{title:"Gender *",male:{lb:"Male",value:"true"},female:{lb:"Female",value:"false"}},email:{title:"Email"},phone:{title:"Phone Number"}},Yu=a(109),Eu=a.n(Yu),Hu=Dt.b().shape({reprName:Dt.d().trim().min(4,"Name must be at least 4 characters").max(30,"Name must be at most 30 characters"),reprPhone:Dt.d().max(10,"Phone must be at most 10 digits and has the correct format").matches(Qa,{message:"Phone number is in wrong format (03|5|7|9xxxxxxxx)",excludeEmptyString:!0}),reprEmail:Dt.d().trim().email("Invalid email")});var Lu=function(e){var t=e.school,a=e.refreshPage,n=Au,r=Bu,c=Fu,i=Mu,l=Object(o.h)(),d=Object(cn.b)().enqueueSnackbar,u={id:null===t||void 0===t?void 0:t.schoolId,reprName:(null===t||void 0===t?void 0:t.reprName)?null===t||void 0===t?void 0:t.reprName:"",reprIsMale:String(null===t||void 0===t?void 0:t.reprIsMale)?String(null===t||void 0===t?void 0:t.reprIsMale):String(!0),reprPhone:(null===t||void 0===t?void 0:t.reprPhone)?null===t||void 0===t?void 0:t.reprPhone:"",reprEmail:(null===t||void 0===t?void 0:t.reprEmail)?null===t||void 0===t?void 0:t.reprEmail:""},j=Object(Tt.c)({resolver:Object(Pt.a)(Hu),defaultValues:u}),m=j.control,b=j.errors,p=j.handleSubmit,h=j.formState,v=j.reset;return Object(s.useEffect)((function(){v(u)}),[t]),t?Object(I.jsx)("div",{className:Eu.a.panel,children:Object(I.jsx)(f.a,{container:!0,spacing:0,className:Eu.a.body,children:Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Eu.a.content,children:Object(I.jsx)("form",{onSubmit:p((function(e){var n=Object(D.a)(Object(D.a)({},e),{},{reprPhone:(null===e||void 0===e?void 0:e.reprPhone)?null===e||void 0===e?void 0:e.reprPhone:null,reprEmail:(null===e||void 0===e?void 0:e.reprEmail)?null===e||void 0===e?void 0:e.reprEmail:null,reprIsMale:"true"===(null===e||void 0===e?void 0:e.reprIsMale),id:null===t||void 0===t?void 0:t.schoolId,name:null===t||void 0===t?void 0:t.name,address:null===t||void 0===t?void 0:t.address,district:null===t||void 0===t?void 0:t.district,latitude:(null===t||void 0===t?void 0:t.latitude)?null===t||void 0===t?void 0:t.latitude:0,longitude:(null===t||void 0===t?void 0:t.longitude)?null===t||void 0===t?void 0:t.longitude:0,educationalLevel:null===t||void 0===t?void 0:t.educationalLevel,type:null===t||void 0===t?void 0:t.type,phone:null===t||void 0===t?void 0:t.phone,status:null===t||void 0===t?void 0:t.status,active:null===t||void 0===t?void 0:t.active});hd(e.id,n).then((function(t){a(e.id),d(i.success,{variant:"success"})})).catch((function(e){e.response&&(console.log(e),l.push({pathname:"/errors",state:{error:e.response.status}})),d(i.error,{variant:"error"})}))})),noValidate:!0,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Eu.a.wrapper,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Eu.a.row,children:Object(I.jsx)(x.a,{color:"inherit",className:Eu.a.header,children:n.child1})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:9,lg:8,className:Eu.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:Eu.a.row,children:[Object(I.jsx)(Tt.a,{name:"id",control:m,render:function(e){var t=e.value;return Object(I.jsx)("input",{type:"hidden",name:"id",value:t})}}),Object(I.jsx)(Tt.a,{name:"reprName",control:m,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:c.fullName.title,variant:"outlined",fullWidth:!0,autoFocus:!0,value:a,onChange:n,error:!!b.reprName,helperText:null===b||void 0===b||null===(t=b.reprName)||void 0===t?void 0:t.message})}})]}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Eu.a.row,children:[Object(I.jsx)(y.a,{children:c.reprIsMale.title}),Object(I.jsx)(Tt.a,{name:"reprIsMale",control:m,render:function(e){var t=e.value,a=e.onChange;return Object(I.jsxs)(_t.a,{value:t,onChange:a,row:!0,children:[Object(I.jsx)(Nt.a,{label:c.reprIsMale.male.lb,value:c.reprIsMale.male.value,control:Object(I.jsx)(Ct.a,{})}),Object(I.jsx)(Nt.a,{label:c.reprIsMale.female.lb,value:c.reprIsMale.female.value,control:Object(I.jsx)(Ct.a,{})})]})}})]}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Eu.a.row,children:Object(I.jsx)(Tt.a,{name:"reprPhone",control:m,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:c.phone.title,variant:"outlined",value:a,onChange:n,error:!!b.reprPhone,helperText:null===b||void 0===b||null===(t=b.reprPhone)||void 0===t?void 0:t.message})}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:6,lg:6,className:Eu.a.row,children:Object(I.jsx)(Tt.a,{name:"reprEmail",control:m,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:c.email.title,variant:"outlined",fullWidth:!0,value:a,onChange:n,error:!!b.reprEmail,helperText:null===b||void 0===b||null===(t=b.reprEmail)||void 0===t?void 0:t.message})}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Eu.a.action,children:Object(I.jsx)(O.a,{className:Eu.a.submit,variant:"contained",disabled:!h.isDirty,type:"submit",children:r.save})})]})})]})})})})}):Object(I.jsx)(se,{})},Ku=a(790),Wu=a(791),qu=a(792),zu=a(793),Uu=a(794),Gu=a(795),Zu=a(796),Qu={child1:"Timeline"},Ju={schoolYear:"School year:",startDate:"Start date:",endDate:"End date:",services:"Services:",result:"Result:"},Xu=a(64),$u=a.n(Xu);var ej=function(){var e=Qu,t=Ju,a=Object(o.h)(),n=Object(o.k)().url,r=n.substring(0,5),c=n.substring(n.lastIndexOf("/")+1),i=Object(s.useState)(null),u=Object(d.a)(i,2),j=u[0],m=u[1],b=!0;if(Object(s.useEffect)((function(){return function(e){return vd.apply(this,arguments)}(c).then((function(e){b&&m(e)})).catch((function(e){e.response&&(console.log(e),a.push({pathname:"/errors",state:{error:e.response.status}}))})),function(){b=!1}}),[]),!j)return Object(I.jsx)(se,{});var p=function(e){switch(e){case ha.purp1:return Object(I.jsx)(Se.a,{label:e,className:$u.a.chipSalesMoi});case ha.purp3:return Object(I.jsx)(Se.a,{label:e,className:$u.a.chipChamSoc});case ha.purp4:return Object(I.jsx)(Se.a,{label:e,className:$u.a.chipTaiKy});case ha.purp5:return Object(I.jsx)(Se.a,{label:e,className:$u.a.chipKyMoi});default:return Object(I.jsx)(Se.a,{label:e})}};return Object(I.jsx)("div",{className:$u.a.panel,children:Object(I.jsx)(f.a,{container:!0,spacing:0,className:$u.a.body,children:Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:$u.a.content,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:$u.a.wrapper,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:2,lg:2,className:$u.a.row,children:Object(I.jsxs)(x.a,{color:"inherit",className:$u.a.header,children:[e.child1," "]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:10,lg:8,className:$u.a.row,children:j.length>0?Object(I.jsx)(Ku.a,{className:$u.a.timeline,children:j.map((function(e,a){return Object(I.jsxs)(Wu.a,{children:[Object(I.jsx)(qu.a,{className:$u.a.tlnLeft,children:Object(I.jsx)("div",{className:$u.a.tlnOpsContent,children:Object(I.jsx)(x.a,{variant:"body1",children:Object(I.jsx)("strong",{children:null===e||void 0===e?void 0:e.schoolYear})})})}),Object(I.jsxs)(zu.a,{children:[Object(I.jsx)(Uu.a,{color:e!==j.slice(-1).pop()?"primary":"secondary"}),Object(I.jsx)(Gu.a,{className:e!==j.slice(-1).pop()?$u.a.primaryTail:$u.a.secondaryTail})]}),Object(I.jsx)(Zu.a,{className:$u.a.tlnRight,children:Object(I.jsx)(l.b,{to:{pathname:"".concat(r,"/tasks/").concat(null===e||void 0===e?void 0:e.taskId),state:{tabNo:2}},className:$u.a.linkCard,children:Object(I.jsxs)("div",{className:null===(null===e||void 0===e?void 0:e.result)?$u.a.tlnContent:(null===e||void 0===e?void 0:e.result)?$u.a.tlnContentSuccess:$u.a.tlnContentFailed,children:[Object(I.jsxs)("div",{className:$u.a.tlnContentChild,children:[Object(I.jsxs)("div",{className:$u.a.picZone,children:[Object(I.jsx)(Wn.a,{className:$u.a.picAvatar,children:Object(I.jsx)(qn.a,{src:null===e||void 0===e?void 0:e.avatar})}),Object(I.jsx)(zn.a,{primary:null===e||void 0===e?void 0:e.fullName,className:$u.a.picName})]}),(null===e||void 0===e?void 0:e.purpose)&&p(null===e||void 0===e?void 0:e.purpose)]}),((null===e||void 0===e?void 0:e.purpose)===ha.purp1||(null===e||void 0===e?void 0:e.purpose)===ha.purp4||(null===e||void 0===e?void 0:e.purpose)===ha.purp5)&&Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:$u.a.tlnContentChild,children:Object(I.jsxs)(x.a,{variant:"subtitle2",color:"textSecondary",children:[Object(I.jsxs)("b",{children:[t.result," "]}),"TBD"!==(null===e||void 0===e?void 0:e.result)&&"successful"===(null===e||void 0===e?void 0:e.result)&&Object(I.jsx)("span",{className:$u.a.rsSuccess,children:"Successful"}),"TBD"!==(null===e||void 0===e?void 0:e.result)&&"failed"===(null===e||void 0===e?void 0:e.result)&&Object(I.jsx)("span",{className:$u.a.rsFailed,children:"Failed"})]})}),Object(I.jsx)("div",{className:$u.a.tlnContentChild,children:Object(I.jsxs)(x.a,{variant:"subtitle2",color:"textSecondary",children:[Object(I.jsxs)("b",{children:[t.services," "]}),(null===e||void 0===e?void 0:e.services)?null===e||void 0===e?void 0:e.services:"(none)"]})})]})]})})})]},a)}))}):Object(I.jsx)(x.a,{children:"This school has not had any activities yet."})})]})})})})};var tj=function(){var e=Qd,t=Jd,a=Xd,n=Object(s.useState)(0),r=Object(d.a)(n,2),c=r[0],i=r[1],l=gs().user,u=Object(o.j)().id,j=(Object(o.i)(),Object(o.h)()),m=Object(s.useState)(null),b=Object(d.a)(m,2),p=b[0],h=b[1],x=Object(s.useState)(!0),v=Object(d.a)(x,2),O=v[0],f=v[1],g=!0,y=function(e){(function(e){return md.apply(this,arguments)})(e).then((function(e){g&&h(e)})).catch((function(e){e.response&&(console.log(e),403===e.response.status?f(!1):j.push({pathname:"/errors",state:{error:e.response.status}}))}))};return Object(s.useEffect)((function(){return y(u),function(){g=!1}}),[]),p?Object(I.jsx)(oc,{linkBack:e.back,header:"".concat(null===p||void 0===p?void 0:p.educationalLevel," ").concat(null===p||void 0===p?void 0:p.name),subHeader:function(e){switch(e){case Ft:return(null===p||void 0===p?void 0:p.active)?"Active":"Inactive";case Et:return null===p||void 0===p?void 0:p.status}}(l.roles[0]),isStatus:!0,tabs:function(e){switch(e){case Ft:return[t.tab1,t.tab2];case Yt:case Et:return[t.tab1,t.tab3]}}(l.roles[0]),tabValue:c,handleChangeTab:function(e,t){i(t)},children:function(e,t){switch(e){case Ft:switch(t){case 0:return Object(I.jsx)(Ru,{school:p,refreshPage:y,userRole:e});case 1:return Object(I.jsx)(Lu,{school:p,refreshPage:y})}break;case Yt:case Et:switch(t){case 0:return Object(I.jsx)(Ru,{school:p,refreshPage:y,userRole:e});case 1:return Object(I.jsx)(ej,{})}}}(l.roles[0],c)}):O?Object(I.jsx)(se,{}):Object(I.jsx)($,{title:a.notFound})},aj=[{key:"no",name:"#",sortable:!1,width1:"1%",width2:"1%"},{key:"schoolName",name:"School Name",sortable:!0,width1:"24%",width2:"28%"},{key:"user.fullName",name:"PIC",sortable:!0,width1:"20%",width2:"0%"},{key:"purpose",name:"Purpose",sortable:!0,width1:"14%",width2:"18%"},{key:"duration",name:"Duration",sortable:!1,width1:"28%",width2:"30%"},{key:"result",name:"Task Status",sortable:!1,width1:"14%",width2:"15%"},{key:"",name:"",sortable:!1,width1:"1%",width2:"1%"}];var nj={back:"Tasks"},sj={tab1:"School Info",tab2:"Task Info",tab3:"Timeline"},rj={notFound:"Task Not Found"},cj={operations:{filter:"Filters",search:{placeholder:"Search..."},create:"Create Tasks",assign:"Assign Tasks"},filters:{pic:{title:"PICs",placeholder:"PIC's name"},district:{title:"Districts",options:{all:"All"}},schoolYear:{title:"School Years",options:{all:"All"}},purpose:{title:"Purposes",options:{all:"All"}},status:{title:"School Status",options:{all:"All"}},schoolType:{title:"School Types",options:{all:"All"}},schoolLevel:{title:"School Levels",options:{all:"All"}},isAssigned:{title:"Assigned status",options:{all:"All",assigned:"Assigned",notAssigned:"Not assigned"}},taskStatus:{title:"Task Status",options:{all:"All",ongoing:ea,success:ta,failed:aa}}},messages:{notFound:"No records found."},menuItems:{details:{title:"View details"},reports:{title:"View reports"},remove:{title:"Remove"},services:{title:"Submit Services"},assign:{title:"Assign"},unassign:{title:"Unassign"}}},ij=Object(u.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap"},ul:{maxWidth:810,overflowX:"auto",display:"flex",justifyContent:"flex-start",flexWrap:"nowrap",listStyle:"none",margin:0,paddingLeft:"0.5rem"},btnClear:{fontSize:"0.75rem"},chip:{margin:e.spacing(.5)}}}));function lj(e){var t=ij(),a=e.chips,n=e.dispatch,r=e.handleChipsRemoved,c=cj.filters,i=Object(s.useState)(!1),l=Object(d.a)(i,2),o=(l[0],l[1]),u=function(e){return function(){switch(e.filterType){case Xe:n({type:Te,payload:{filterType:Xe,filterValue:""}});break;case Je:n({type:ke,payload:{filterType:Je,filterValue:""}});break;case st:n({type:Pe,payload:{filterType:st,filterValue:""}});break;case rt:n({type:De,payload:{filterType:rt,filterValue:""}});break;case Qe:n({type:Ie,payload:{filterType:Qe,filterValue:null}});break;case et:n({type:Re,payload:{filterType:et,filterValue:""}});break;case $e:n({type:Ve,payload:{filterType:$e,filterValue:""}});break;case tt:n({type:Ae,payload:{filterType:tt,filterValue:null}});break;case ct:n({type:Fe,payload:{filterType:ct,filterValue:""}})}if(r){var t=[e.filterType];r(t)}}};return Object(I.jsx)("div",{children:9!==function(){var e=0;return a.forEach((function(t){""!==t.filterValue&&null!==t.filterValue&&void 0!==t.filterValue||e++})),e}()&&Object(I.jsxs)("div",{className:t.root,children:[Object(I.jsx)(O.a,{size:"small",className:t.btnClear,onClick:function(){(o(!1),r)&&(n({type:Te,payload:{filterType:Xe,filterValue:""}}),n({type:ke,payload:{filterType:Je,filterValue:""}}),n({type:Pe,payload:{filterType:st,filterValue:""}}),n({type:De,payload:{filterType:rt,filterValue:""}}),n({type:Ie,payload:{filterType:Qe,filterValue:null}}),n({type:Re,payload:{filterType:et,filterValue:""}}),n({type:Ve,payload:{filterType:$e,filterValue:""}}),n({type:Ae,payload:{filterType:tt,filterValue:null}}),n({type:Fe,payload:{filterType:ct,filterValue:""}}),r([Xe,Je,st,rt,Qe,et,$e,tt,ct]))},children:"Clear all"}),Object(I.jsx)("ul",{className:t.ul,children:a.map((function(e){return Object(I.jsxs)("li",{children:[e.filterType===Qe&&e.filterValue&&Object(I.jsx)(Se.a,{label:e.filterValue.fullName,avatar:Object(I.jsx)(qn.a,{src:e.filterValue.avatar}),onDelete:u(e),className:t.chip,color:"secondary"}),e.filterType===tt&&null!==e.filterValue&&Object(I.jsx)(Se.a,{label:e.filterValue?"".concat(c.isAssigned.options.assigned):"".concat(c.isAssigned.options.notAssigned),onDelete:u(e),className:t.chip,color:"secondary"}),e.filterType!==Qe&&e.filterType!==tt&&e.filterValue&&Object(I.jsx)(Se.a,{label:e.filterValue,onDelete:u(e),className:t.chip,color:"secondary"})]},e.filterType)}))})]})})}var oj=r.a.memo(lj),dj=a(464),uj=a.n(dj),jj=["children","classes","onClose"],mj=Object(j.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,s=Object(bt.a)(e,jj);return Object(I.jsxs)(pt.a,Object(D.a)(Object(D.a)({disableTypography:!0,className:a.root},s),{},{children:[Object(I.jsx)(x.a,{variant:"h6",children:t}),n?Object(I.jsx)(ht.a,{"aria-label":"close",className:a.closeButton,onClick:n,children:Object(I.jsx)(C.k,{})}):null]}))}));function bj(e){var t=e.open,a=e.onClose;return Object(I.jsxs)(xt.a,{open:t,onClose:a,children:[Object(I.jsx)(mj,{onClose:a,children:"Notify"}),Object(I.jsx)(yt.a,{children:Object(I.jsxs)(ho.a,{className:uj.a.dialogText,children:['In the table "Tasks", please choose tasks you want to assign.',Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)("i",{children:[Object(I.jsx)("b",{children:"Tips:"})," Filters and search box may help you find schools faster."]})]})}),Object(I.jsx)(wt.a,{children:Object(I.jsx)(O.a,{onClick:a,autoFocus:!0,children:"OK, I understood"})})]})}var pj=r.a.memo(bj),hj=a(69),xj=a.n(hj),vj={headers:{create:"Create Tasks",assign:"Assign Salesmen to Tasks",confirmUnassign:"Confirm Unassign",confirm:"Confirm Remove",cannot:"Cannot Remove",updateStatus:"Confirm Update Status",confirmUpdate:"Confirm Update School Status",createServices:"Services for",confirmCreateTask:"Confirm Create Tasks",confirmCompleteTask:"Confirm Task Complete",confirmFailTask:"Confirm Task Fail"},operations:{cancel:"Cancel",save:"Save",remove:"Remove",ok:"OK, I understood",yes:"OK",showCreate:"Submit a Service?",filter:"Filters",search:{placeholder:"Search..."},complete:"Complete",fail:"Fail"},messages:{createdInfo:"",createdSuccess:"Created Successfully",createdError:"Created Failed",createdwarning:"",updatedInfo:"",updatedSuccess:"Updated Successfully",updatedError:"Updated Failed",updatedwarning:"",notFound:"No records found."},filters:{district:{title:"Districts"},purpose:{title:"Purposes"},schoolStatus:{title:"School Status"},isPotential:{title:Ut},schoolType:{title:"School Types"},schoolLevel:{title:"School Levels"}},fields:{purpose:{name:"purpose",label:"Purposes",options:{none:"None"}},duration:{title:"Duaration"},date:{tittle:"Created date:"},service:{title:"Service types *"},note:{title:"Note"},classNo:{title:"No. of applied classes",adornment:"classes",helper:"Min: 1 class.  Max: 100 classes"},studentNumber:{title:"Students per classes",adornment:"students/class",helper:"Min: 1 student.  Max: 100 students"},slotNumber:{title:"Periods per week",adornment:"periods/week",helper:"Min: 1 period. Max: 10 periods"},price:{title:"Price floor",adornment:"VND/period",helper:"100.000VND - 2.000.000VND"},revenue:{formula:"Price floor * Periods per week * No. of classes * 4 weeks * Duration (in months)"}}},Oj=[{key:"no",name:"#",width:"1%",align:"center"},{key:"schoolName",name:"School Name",width:"30%",align:"left"},{key:"pic",name:"PIC",width:"35%",align:"left"},{key:"note",name:"Note",width:"25%",align:"left"},{key:"",name:"",width:"1%",align:"left"}],fj=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}),gj=function(){return Object(I.jsx)("div",{className:xj.a.criInfoPanel,children:Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsxs)(f.a,{item:!0,children:[Object(I.jsx)(x.a,{variant:"overline",children:"Criteria description"}),Object(I.jsx)("br",{}),Object(I.jsx)(x.a,{variant:"caption",className:xj.a.txtCriInfoHeader,children:"1/ Price floor per period"}),Object(I.jsxs)("div",{className:xj.a.txtCriInfo,children:[Object(I.jsxs)("span",{className:xj.a.txtCriInfoHeader,children:[sa,":"]}),Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsxs)(f.a,{item:!0,container:!0,xs:6,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" - ",Gt,":"]}),Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" \xa0 ",fj.format(7e5),"/period"]})]}),Object(I.jsxs)(f.a,{item:!0,container:!0,xs:6,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" - ",Zt," & ",Qt,":"]}),Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" \xa0 ",fj.format(8e5),"/period"]})]})]})]}),Object(I.jsxs)("p",{className:xj.a.txtCriInfo,children:[Object(I.jsxs)("span",{className:xj.a.txtCriInfoHeader,children:[ra,":"]}),Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsxs)(f.a,{item:!0,container:!0,xs:6,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" - ",Gt,":"]}),Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" \xa0 ",fj.format(6e5),"/period"]})]}),Object(I.jsxs)(f.a,{item:!0,container:!0,xs:6,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" - ",Zt," & ",Qt,":"]}),Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" \xa0 ",fj.format(7e5),"/period"]})]})]})]}),Object(I.jsxs)("p",{className:xj.a.txtCriInfo,children:[Object(I.jsxs)("span",{className:xj.a.txtCriInfoHeader,children:[ca,":"]}),Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsxs)(f.a,{item:!0,container:!0,xs:6,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" - ",Gt,":"]}),Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" \xa0 ",fj.format(15e5),"/period"]})]}),Object(I.jsxs)(f.a,{item:!0,container:!0,xs:6,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" - ",Zt," & ",Qt,":"]}),Object(I.jsx)(f.a,{item:!0,xs:12,children:" \xa0 (N/A)"})]})]})]}),Object(I.jsxs)("p",{className:xj.a.txtCriInfo,children:[Object(I.jsxs)("span",{className:xj.a.txtCriInfoHeader,children:[ia,":"]}),Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsxs)(f.a,{item:!0,container:!0,xs:6,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" - ",Gt,":"]}),Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" \xa0 ",fj.format(1e6),"/period"]})]}),Object(I.jsxs)(f.a,{item:!0,container:!0,xs:6,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" - ",Zt," & ",Qt,":"]}),Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" \xa0 ",fj.format(18e5),"/period"]})]})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)(x.a,{variant:"caption",className:xj.a.txtCriInfoHeader,children:"2/ Number of periods per week"}),Object(I.jsxs)("div",{className:xj.a.txtCriInfo,children:[Object(I.jsxs)(f.a,{container:!0,spacing:1,children:[Object(I.jsx)(f.a,{item:!0,xs:1}),Object(I.jsxs)(f.a,{item:!0,xs:11,children:[Object(I.jsxs)("span",{className:xj.a.txtCriInfoHeader,children:["\u2022 \xa0",sa,":"]}),"\u20032 periods/week"]})]}),Object(I.jsxs)(f.a,{container:!0,spacing:1,children:[Object(I.jsx)(f.a,{item:!0,xs:1}),Object(I.jsxs)(f.a,{item:!0,xs:11,children:[Object(I.jsxs)("span",{className:xj.a.txtCriInfoHeader,children:["\u2022 \xa0",ra,":"]}),"\u20031 period/week"]})]}),Object(I.jsxs)(f.a,{container:!0,spacing:1,children:[Object(I.jsx)(f.a,{item:!0,xs:1}),Object(I.jsxs)(f.a,{item:!0,xs:11,children:[Object(I.jsxs)("span",{className:xj.a.txtCriInfoHeader,children:["\u2022 \xa0",ca,":"]}),"\u20032 periods/week"]})]}),Object(I.jsxs)(f.a,{container:!0,spacing:1,children:[Object(I.jsx)(f.a,{item:!0,xs:1}),Object(I.jsxs)(f.a,{item:!0,xs:11,children:[Object(I.jsxs)("span",{className:xj.a.txtCriInfoHeader,children:["\u2022 \xa0",ia,":"]}),"\u20032 periods/week"]})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)(x.a,{variant:"caption",className:xj.a.txtCriInfoHeader,children:"3/ Number of classes"}),Object(I.jsxs)("div",{className:xj.a.txtCriInfo,children:[Object(I.jsx)("i",{children:"Number of classes applying this service"}),Object(I.jsx)("br",{}),Object(I.jsxs)(f.a,{container:!0,spacing:1,children:[Object(I.jsx)(f.a,{item:!0,xs:1}),Object(I.jsxs)(f.a,{item:!0,xs:11,children:[Object(I.jsxs)("span",{className:xj.a.txtCriInfoHeader,children:["\u2022 \xa0",sa,":"]}),"\u2003\u2265 8 classes"]})]}),Object(I.jsxs)(f.a,{container:!0,spacing:1,children:[Object(I.jsx)(f.a,{item:!0,xs:1}),Object(I.jsxs)(f.a,{item:!0,xs:11,children:[Object(I.jsxs)("span",{className:xj.a.txtCriInfoHeader,children:["\u2022 \xa0",ra,":"]}),"\u2003\u2265 8 classes"]})]}),Object(I.jsxs)(f.a,{container:!0,spacing:1,children:[Object(I.jsx)(f.a,{item:!0,xs:1}),Object(I.jsxs)(f.a,{item:!0,xs:11,children:[Object(I.jsxs)("span",{className:xj.a.txtCriInfoHeader,children:["\u2022 \xa0",ca,":"]}),"\u2003\u2265 2 classes"]})]}),Object(I.jsxs)(f.a,{container:!0,spacing:1,children:[Object(I.jsx)(f.a,{item:!0,xs:1}),Object(I.jsxs)(f.a,{item:!0,xs:11,children:[Object(I.jsxs)("span",{className:xj.a.txtCriInfoHeader,children:["\u2022 \xa0",ia,":"]}),"\u2003\u2265 2 classes"]})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)(x.a,{variant:"caption",className:xj.a.txtCriInfoHeader,children:"4/ Average class size"}),Object(I.jsxs)("p",{className:xj.a.txtCriInfo,children:[Object(I.jsx)("i",{children:"Average number of students per class:"}),Object(I.jsx)("br",{})," \xa0 \xa0 \xa0 ",Object(I.jsx)("strong",{children:"\u2265 40"})," students"]}),Object(I.jsx)("br",{}),Object(I.jsx)(x.a,{variant:"caption",className:xj.a.txtCriInfoHeader,children:"5/ Duration"}),Object(I.jsxs)("p",{className:xj.a.txtCriInfo,children:[Object(I.jsx)("i",{children:"Amount of time the service takes effective:"}),Object(I.jsx)("br",{})," \xa0 \xa0 \xa0 ",Object(I.jsx)("strong",{children:"\u2265 7"})," months"]}),Object(I.jsx)("br",{})]}),Object(I.jsx)("hr",{style:{width:"85%",height:"0%",textAlign:"center",margin:"0 auto"}}),Object(I.jsxs)(f.a,{item:!0,children:[Object(I.jsx)(x.a,{variant:"overline",children:"Sales estimation formula"}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{style:{border:"1px solid",textAlign:"center",margin:"0 0 0 0.35rem",padding:"0 0.5rem"},children:Object(I.jsxs)("p",{style:{fontSize:"0.75rem",fontWeight:100},children:["Sales = ",Object(I.jsx)("br",{}),"Price floor * Periods per week * 4 weeks * No. of classes * Duration (in months)"]})})]})]})})},yj=function(e){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("b",{children:Object(I.jsx)("i",{children:"School Year: "})}),"\xa0",e]})},_j=a(798),Nj=a(709),Cj=a(465),wj=a(831),Sj=a(797),Ij=a(110),kj=a.n(Ij),Tj=Object(j.a)({root:{fontWeight:500,color:"#388e3c",borderColor:"#4caf50","&:hover":{backgroundColor:"rgb(230, 250, 231)"}}})(Se.a),Pj=Object(u.a)((function(e){return{root:{width:320},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},title:{fontSize:"0.9rem",fontWeight:600},subheader:{fontSize:"0.85rem",fontWeight:500}}}));var Dj=function(e){var t=Pj(),a=e.open,n=e.anchorEl,r=e.onClose,c=e.salesman,i=e.setSelectedSalesman,l=Object(s.useState)(!1),o=Object(d.a)(l,2),u=o[0],j=o[1],m=function(){var e=[],t=[],a=String(null===c||void 0===c?void 0:c.content);a.includes(",")?a.split(",").forEach((function(a){a.includes(xa)?(e.push(xa),t.push(a)):e.push(a)})):e.push(a);return{reasons:e,expContents:t}}(),b=m.reasons;return m.expContents,Object(I.jsx)(Er.a,{open:a,anchorEl:n,onClose:r,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"center",horizontal:"left"},children:Object(I.jsxs)(qr.a,{className:t.root,children:[Object(I.jsx)(zr.a,{avatar:Object(I.jsx)(qn.a,{src:null===c||void 0===c?void 0:c.avatar,variant:"rounded",className:kj.a.avatar}),action:Object(I.jsx)(O.a,{variant:"contained",color:"primary",size:"small",onClick:function(){i({username:null===c||void 0===c?void 0:c.username,fullName:null===c||void 0===c?void 0:c.fullName,avatar:(null===c||void 0===c?void 0:c.avatar)?c.avatar:null}),r()},children:"Select"}),title:null===c||void 0===c?void 0:c.fullName,subheader:null===c||void 0===c?void 0:c.username,classes:{title:t.title,subheader:t.subheader}}),Object(I.jsx)(Ur.a,{children:Object(I.jsx)(f.a,{container:!0,children:Object(I.jsxs)(f.a,{item:!0,container:!0,spacing:1,xs:12,sm:12,md:12,lg:12,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:2,md:2,lg:2,className:kj.a.iconDes,children:Object(I.jsx)(v.a,{title:"Number of assigned tasks",children:Object(I.jsx)(ve.a,{style:{padding:0,margin:0},children:Object(I.jsx)(fe.f,{fontSize:"large"})})})}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:9,md:9,lg:9,className:kj.a.row,children:[null===c||void 0===c?void 0:c.numberOfTask," ",Object(I.jsx)("b",{children:"/ 50"})]}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:2,md:2,lg:2,className:kj.a.iconDes,children:Object(I.jsx)(v.a,{title:"Distance from salesman to school(s)",children:Object(I.jsx)(ve.a,{style:{padding:0,margin:0},children:Object(I.jsx)(wc.a,{fontSize:"large"})})})}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:9,md:9,lg:9,children:[Object(I.jsxs)("b",{children:[parseFloat(null===c||void 0===c?void 0:c.distance).toFixed(2)," "]}),"km"]}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:2,md:2,lg:2,className:kj.a.iconDes,children:Object(I.jsx)(v.a,{title:"Salesman's address",children:Object(I.jsx)(ve.a,{style:{padding:0,margin:0},children:Object(I.jsx)(C.z,{fontSize:"large"})})})}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:10,md:10,lg:10,children:[null===c||void 0===c?void 0:c.address,Object(I.jsx)("br",{})]}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsx)("div",{className:kj.a.chipContainer,children:b.map((function(e,t){return Object(I.jsx)(Tj,{variant:"outlined",size:"small",icon:Object(I.jsx)(C.f,{style:{color:"#388e3c",marginLeft:"0.2rem"}}),label:e,className:kj.a.chipReason},t)}))})})]})})}),Object(I.jsx)(Sj.a,{disableSpacing:!0,children:Object(I.jsx)(ht.a,{className:Object(ds.a)(t.expand,Object(w.a)({},t.expandOpen,u)),onClick:function(){return j(!u)},"aria-expanded":u,"aria-label":"show barem",children:Object(I.jsx)(C.u,{})})}),Object(I.jsx)(Nj.a,{in:u,timeout:"auto",unmountOnExit:!0,children:Object(I.jsx)(Ur.a,{children:Object(I.jsxs)(f.a,{container:!0,spacing:1,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsx)(x.a,{variant:"button",style:{fontSize:""},children:"Barem of Plus Point"})}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:[Object(I.jsx)(x.a,{variant:"body2",className:kj.a.txtCriInfoHeader,children:"1/ Experiences"}),Object(I.jsx)("div",{className:kj.a.txtCriInfo,children:Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsxs)(f.a,{item:!0,container:!0,xs:12,children:[Object(I.jsx)(f.a,{item:!0,xs:1}),Object(I.jsx)(f.a,{item:!0,xs:8,children:"First time:"}),Object(I.jsx)(f.a,{item:!0,xs:3,children:Object(I.jsx)("span",{style:{color:"#4caf50",fontWeight:500},children:"+3"})})]}),Object(I.jsxs)(f.a,{item:!0,container:!0,xs:12,children:[Object(I.jsx)(f.a,{item:!0,xs:1}),Object(I.jsx)(f.a,{item:!0,xs:8,children:"From the 2nd time:"}),Object(I.jsx)(f.a,{item:!0,xs:3,children:Object(I.jsx)("span",{style:{color:"#4caf50",fontWeight:500},children:"+1"})})]})]})})]}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:[Object(I.jsx)(x.a,{variant:"body2",className:kj.a.txtCriInfoHeader,children:"2/ Distance"}),Object(I.jsx)("div",{className:kj.a.txtCriInfo,children:Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsxs)(f.a,{item:!0,container:!0,xs:12,children:[Object(I.jsx)(f.a,{item:!0,xs:1}),Object(I.jsx)(f.a,{item:!0,xs:8,children:"In same ward:"}),Object(I.jsx)(f.a,{item:!0,xs:3,children:Object(I.jsx)("span",{style:{color:"#4caf50",fontWeight:500},children:"+2"})})]}),Object(I.jsxs)(f.a,{item:!0,container:!0,xs:12,children:[Object(I.jsx)(f.a,{item:!0,xs:1}),Object(I.jsx)(f.a,{item:!0,xs:8,children:"In same district:"}),Object(I.jsx)(f.a,{item:!0,xs:3,children:Object(I.jsx)("span",{style:{color:"#4caf50",fontWeight:500},children:"+1.5"})})]}),Object(I.jsxs)(f.a,{item:!0,container:!0,xs:12,children:[Object(I.jsx)(f.a,{item:!0,xs:1}),Object(I.jsx)(f.a,{item:!0,xs:8,children:"Nearly:"}),Object(I.jsx)(f.a,{item:!0,xs:3,children:Object(I.jsx)("span",{style:{color:"#4caf50",fontWeight:500},children:"+1"})})]})]})})]}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:[Object(I.jsx)(x.a,{variant:"body2",className:kj.a.txtCriInfoHeader,children:"3/ Number of assigned tasks"}),Object(I.jsx)("div",{className:kj.a.txtCriInfo,children:Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsxs)(f.a,{item:!0,container:!0,xs:12,children:[Object(I.jsx)(f.a,{item:!0,xs:1}),Object(I.jsx)(f.a,{item:!0,xs:8,children:"\u2264 5 tasks:"}),Object(I.jsx)(f.a,{item:!0,xs:3,children:Object(I.jsx)("span",{style:{color:"#4caf50",fontWeight:500},children:"+3"})})]}),Object(I.jsxs)(f.a,{item:!0,container:!0,xs:12,children:[Object(I.jsx)(f.a,{item:!0,xs:1}),Object(I.jsx)(f.a,{item:!0,xs:8,children:"\u2264 20 tasks:"}),Object(I.jsx)(f.a,{item:!0,xs:3,children:Object(I.jsx)("span",{style:{color:"#4caf50",fontWeight:500},children:"+1"})})]}),Object(I.jsxs)(f.a,{item:!0,container:!0,xs:12,children:[Object(I.jsx)(f.a,{item:!0,xs:1}),Object(I.jsx)(f.a,{item:!0,xs:8,children:"\u2264 49 tasks:"}),Object(I.jsx)(f.a,{item:!0,xs:3,children:Object(I.jsx)("span",{style:{color:"#4caf50",fontWeight:500},children:"+0.5"})})]})]})})]})]})})})]})})},Vj=a(58),Rj=a.n(Vj),Aj=Object(u.a)((function(e){return{formControl:{marginTop:"0.8rem",minWidth:160},option:{fontSize:"0.875rem"},root:{},menuItemRoot:{"&$menuItemSelected":{backgroundColor:"rgba(0, 0, 0, 0.08)"},"&$menuItemSelected:focus":{backgroundColor:"rgba(0, 0, 0, 0.12)"},"&$menuItemSelected:hover":{backgroundColor:"rgba(0, 0, 0, 0.04);"}},menuItemSelected:{},autoComplete:{width:270,marginLeft:"0.5rem"},itemPIC:{padding:0,margin:0},divItemPIC:{display:"flex",flexDirection:"row",alignItems:"center",padding:0,margin:0},itemTextPrimary:{fontSize:"0.875rem",fontWeight:600},itemTextSecondary:{fontSize:"0.8rem",fontWeight:500},itemTextPrimary2:{fontSize:"0.9rem",fontWeight:600}}}));var Bj=function(e){var t=Aj(),a=e.onClose,n=e.rows,r=e.setRows,c=e.refreshAPI,i=e.setNotify,l=vj.operations,u=Object(o.h)(),j=Object(s.useState)(!0),m=Object(d.a)(j,2),b=m[0],p=m[1],g=Object(s.useState)(null),y=Object(d.a)(g,2),_=y[0],N=y[1],w=Object(s.useState)(null),S=Object(d.a)(w,2),k=S[0],T=S[1],P=Object(s.useState)(null),V=Object(d.a)(P,2),R=V[0],A=V[1],B=Object(s.useState)(n),M=Object(d.a)(B,2),F=M[0],Y=M[1],E=Object(s.useState)(null),L=Object(d.a)(E,2),K=L[0],W=L[1],q=ar(),z=q.PICs,U=q.getListPICs,G=q.params,Z=G.listFilters,Q=G.page,J=G.limit,X=G.column,$=G.direction,ee=G.searchKey,te=gs().user,ae=Object(s.useState)(null),ne=Object(d.a)(ae,2),le=ne[0],oe=ne[1],de=Object(s.useRef)({}),ue=Object(s.useState)(null),je=Object(d.a)(ue,2),me=je[0],be=je[1],pe=function(e){(function(e){return zs.apply(this,arguments)})(Object(re.a)(function(e){var t=[];return e.forEach((function(e){t.push(null===e||void 0===e?void 0:e.schoolId)})),t}(e))).then((function(e){he&&be(e)})).catch((function(e){e.response&&(console.log(e),u.push({pathname:"/errors",state:{error:e.response.status}}))}))},he=!0;if(Object(s.useEffect)((function(){return pe(F),function(){he=!1}}),[]),!me)return Object(I.jsx)(se,{});var xe=Boolean(R),ve=function(e){de.current&&clearTimeout(de.current),de.current=setTimeout((function(){var t=e.target.value;t?U(t):U()}),300)},fe=function(e){var t=e.split(" ");return[t[t.length-2],t[t.length-1]].join(" ")};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(yt.a,{className:Rj.a.wrapper,children:Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,children:Object(I.jsx)(ie.a,{autoComplete:!0,autoSelect:!0,autoHighlight:!0,clearOnEscape:!0,options:z||[],getOptionLabel:function(e){return(null===e||void 0===e?void 0:e.fullName)?e.fullName:""},value:le,renderInput:function(e){return Object(I.jsx)(ce.a,Object(D.a)(Object(D.a)({},e),{},{label:"PICs",name:"PIC",margin:"normal",placeholder:"PIC will be assigned",onChange:ve,InputProps:Object(D.a)(Object(D.a)({},e.InputProps),{},{startAdornment:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Ol.a,{position:"start",children:Object(I.jsx)(C.a,{})}),e.InputProps.startAdornment]})})}))},renderOption:function(e){return Object(I.jsxs)("div",{className:t.divItemPIC,children:[Object(I.jsx)(Wn.a,{children:Object(I.jsx)(qn.a,{src:e.avatar})}),Object(I.jsx)(zn.a,{primary:e.fullName?e.fullName:"",classes:{primary:Rj.a.itemTextPrimary}})]},e.username)},className:t.autoComplete,onChange:function(e,t){return function(e,t){oe(t)}(0,t)}})}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:8,md:8,lg:8,className:Rj.a.suggestionContainer,children:[Object(I.jsx)(h.a,{display:"flex",children:Object(I.jsx)(h.a,{flexGrow:1,children:Object(I.jsx)(x.a,{variant:"button",className:Rj.a.suggestionTitle,children:"Salesman Suggestions"})})}),me&&(null===me||void 0===me?void 0:me.length)>0?Object(I.jsxs)("div",{className:Rj.a.cardContainer,children:[me.map((function(e,a){return Object(I.jsx)("div",{className:Rj.a.cardCover,onClick:function(t,a){return function(e,t){N(e.currentTarget),T(t)}(t,e)},children:Object(I.jsxs)(qr.a,{className:Rj.a.quickCard,children:[Object(I.jsx)(_j.a,{className:Rj.a.quickCardAvatar,image:null===e||void 0===e?void 0:e.avatar}),Object(I.jsxs)(Ur.a,{className:Rj.a.content,children:[Object(I.jsx)(Kn.a,{dense:!0,alignItems:"flex-start",className:Rj.a.listItem,children:Object(I.jsx)(zn.a,{className:Rj.a.listItemText,primary:fe(null===e||void 0===e?void 0:e.fullName),secondary:null===e||void 0===e?void 0:e.username,classes:{primary:t.itemTextPrimary2,secondary:t.itemTextSecondary}})}),Object(I.jsxs)("div",{className:Rj.a.subInfo,children:[Object(I.jsxs)("div",{className:Rj.a.starPoint,children:[Object(I.jsx)(wj.a,{defaultValue:1,max:1,size:"small",readOnly:!0}),Object(I.jsx)(x.a,{className:Rj.a.point,children:(null===e||void 0===e?void 0:e.point)>=10?10:e.point})]}),Object(I.jsxs)("div",{className:Rj.a.distancePoint,children:[Object(I.jsx)(C.F,{className:Rj.a.iconLocation}),Object(I.jsxs)(x.a,{className:Rj.a.distance,children:[parseFloat(null===e||void 0===e?void 0:e.distance).toFixed(1),"km"]})]})]})]})]})},a)})),Object(I.jsx)(Dj,{open:!!_,anchorEl:_,onClose:function(){return N(null)},salesman:k,setSelectedSalesman:oe})]}):Object(I.jsxs)("div",{className:Rj.a.alertContainer,children:[!b&&Object(I.jsxs)(x.a,{variant:"body2",className:Rj.a.noSalesman,children:[Object(I.jsx)("i",{children:"No salesman suggested in this case"})," ",Object(I.jsx)("br",{}),Object(I.jsx)("b",{children:"Reason: "}),"The distance between selected schools are too far."]}),Object(I.jsx)(Nj.a,{in:b,children:Object(I.jsxs)(H.a,{severity:"warning",icon:Object(I.jsx)(Cj.a,{}),action:Object(I.jsx)(ht.a,{color:"inherit",size:"small",onClick:function(){return p(!1)},children:Object(I.jsx)(C.k,{fontSize:"inherit"})}),children:[Object(I.jsx)(Ld.a,{children:"Whoosp..."}),"No salesman suggested in this case. ",Object(I.jsx)("br",{}),Object(I.jsxs)("i",{children:[Object(I.jsx)("b",{children:"Reason: "}),"The distance between selected schools are too far."]})]})})]})]})]})}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:[Object(I.jsx)(x.a,{variant:"subtitle1",children:"List of assigned schools:"}),Object(I.jsx)(En.a,{className:Rj.a.container,component:ci.a,children:Object(I.jsxs)(Hn.a,{className:Rj.a.table,stickyHeader:!0,size:"small",children:[Object(I.jsx)(Mn.a,{children:Object(I.jsx)(Fn.a,{className:Rj.a.tHead,children:Oj.map((function(e){return Object(I.jsx)(Yn.a,{className:Rj.a.tHeadCell,align:e.align,width:e.width,children:e.name},e.key)}))})}),Object(I.jsxs)(Ln.a,{className:Rj.a.tBody,children:[F.map((function(e,t){return Object(I.jsxs)(Fn.a,{children:[Object(I.jsx)(Yn.a,{children:t+1}),Object(I.jsx)(Yn.a,{className:Rj.a.tBodyCell,children:Object(I.jsx)(zn.a,{primary:"".concat(e.level," ").concat(e.schoolName),secondary:e.district,classes:{primary:Rj.a.itemTextPrimary,secondary:Rj.a.itemTextSecondary}})}),Object(I.jsx)(Yn.a,{className:Rj.a.tBodyCell,children:le&&Object(I.jsxs)(Kn.a,{className:Rj.a.itemPIC,children:[Object(I.jsx)(Wn.a,{children:Object(I.jsx)(qn.a,{src:le.avatar})}),Object(I.jsx)(zn.a,{primary:le.fullName,secondary:le.username,classes:{primary:Rj.a.itemTextPrimary,secondary:Rj.a.itemTextSecondary}})]})}),Object(I.jsx)(Yn.a,{className:Rj.a.tBodyCell,children:Object(I.jsx)(v.a,{title:"Note",children:Object(I.jsx)(ht.a,{onClick:function(t){return function(e,t){A(e.currentTarget),W(t)}(t,e)},children:Object(I.jsx)(js.a,{invisible:!e.note,color:"secondary",variant:"dot",children:Object(I.jsx)(Oe.a,{})})})})}),Object(I.jsx)(Yn.a,{children:Object(I.jsx)(v.a,{title:"Remove",children:Object(I.jsx)(ht.a,{onClick:function(t){return function(e,t){var n=[],s=F.indexOf(t);0===s?n=n.concat(F.slice(1)):s===F.length-1?n=n.concat(F.slice(0,-1)):s>0&&(n=n.concat(F.slice(0,s),F.slice(s+1))),Y(n),pe(n),0===n.length&&a()}(0,e)},children:Object(I.jsx)(C.k,{})})})})]},e.id)})),Object(I.jsx)(Er.a,{open:xe,onClose:function(){return A(null)},anchorEl:R,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},children:Object(I.jsx)(ce.a,{onBlur:function(e){return function(e,t){var a;if((null===(a=e.target.value)||void 0===a?void 0:a.length)>250)i({isOpen:!0,message:"Note length is shorter than 250 letters",type:"warning"});else{var n=F.findIndex((function(e){return e.id===t.id})),s=[null];(s=Object(re.a)(F))[n]=Object(D.a)(Object(D.a)({},s[n]),{},{note:e.target.value?e.target.value:null,noteBy:e.target.value?te.username:null}),Y(s)}}(e,K)},onChange:function(e){return W(Object(D.a)(Object(D.a)({},K),{},{note:e.target.value}))},value:(null===K||void 0===K?void 0:K.note)?null===K||void 0===K?void 0:K.note:"",multiline:!0,autoFocus:!0,rows:4,placeholder:"Type note here",variant:"outlined"})})]})]})})]})]})}),Object(I.jsxs)(wt.a,{children:[Object(I.jsx)(O.a,{type:"submit",onClick:function(){var e=[];F.map((function(t){t=Object(D.a)(Object(D.a)({},t),{},{username:null===le||void 0===le?void 0:le.username,assignDate:_e(new Date,"YYYY-MM-DD HH:mm:ss")}),e.push(t)})),function(e){return Us.apply(this,arguments)}(e).then((function(e){var t;i({isOpen:!0,message:"Assigned successfully",type:"success"}),r([]),c(Q,J,X,$,ee,Z),t=null===le||void 0===le?void 0:le.username,new Promise((function(e,a){rn.database().ref("notify").child(t).push({actor:null===te||void 0===te?void 0:te.username,type:"task",content:"You have just been assigned in new tasks.",timestamp:_e(new Date,"YYYY-MM-DD HH:mm:ss"),uid:0,isSeen:!1})}))})).catch((function(e){e.response&&(console.log(e),i({isOpen:!0,message:"Assigned failed",type:"error"}))})),a()},disabled:!le,className:Rj.a.btnSave,children:l.save}),Object(I.jsx)(O.a,{onClick:a,children:l.cancel})]})]})},Mj=["children","classes","onClose"],Fj=Object(j.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,s=Object(bt.a)(e,Mj);return Object(I.jsxs)(pt.a,Object(D.a)(Object(D.a)({disableTypography:!0,className:a.root},s),{},{children:[Object(I.jsx)(x.a,{variant:"h6",children:t}),n?Object(I.jsx)(ht.a,{"aria-label":"close",className:a.closeButton,onClick:n,children:Object(I.jsx)(C.k,{})}):null]}))}));var Yj=function(e){var t=e.open,a=e.onClose,n=e.rows,s=e.setRows,r=e.refreshAPI,c=e.setNotify,i=vj.headers;return Object(I.jsxs)(xt.a,{open:t,onClose:a,maxWidth:"md",fullWidth:!0,component:"form",className:Rj.a.dialog,children:[Object(I.jsx)(Fj,{onClose:a,children:i.assign}),Object(I.jsx)(Bj,{onClose:a,setNotify:c,rows:n,setRows:s,refreshAPI:r})]})},Ej=a(303),Hj=function(e,t){var a=t.type,n=t.payload,s=e.listFilters;switch(a){case ke:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{district:n})});case Pe:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{type:n})});case De:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{level:n})});case Ve:return Object(D.a)(Object(D.a)({},e),{},{page:0,listFilters:Object(D.a)(Object(D.a)({},s),{},{status:n})});case qe:return Object(D.a)(Object(D.a)({},e),{},{page:0,searchKey:n});case ze:return Object(D.a)(Object(D.a)({},e),{},{column:n.column,direction:n.direction});case Ue:return Object(D.a)(Object(D.a)({},e),{},{page:n.page,limit:n.limit});default:return e}},Lj=Object(s.createContext)();function Kj(){return Object(s.useContext)(Lj)}var Wj={district:{filterType:Je,filterValue:""},type:{filterType:st,filterValue:""},level:{filterType:rt,filterValue:""},status:{filterType:$e,filterValue:Wt}};var qj=function(e){var t=e.children,a=function(){var e,t=Object(s.useReducer)(Hj,{listFilters:Wj,searchKey:"",page:0,limit:10,column:"schoolId",direction:"asc"}),a=Object(d.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)(n.page),i=Object(d.a)(c,2),l=i[0],o=i[1],u=Object(s.useState)(n.limit),j=Object(d.a)(u,2),m=j[0],b=j[1],p=Object(s.useState)(n.column),h=Object(d.a)(p,2),x=h[0],v=h[1],O=Object(s.useState)(n.direction),f=Object(d.a)(O,2),g=f[0],y=f[1],_=Object(s.useState)(""),N=Object(d.a)(_,2),C=N[0],w=N[1],S=Object(s.useState)(""),I=Object(d.a)(S,2),k=I[0],T=I[1],P=Object(s.useState)(""),D=Object(d.a)(P,2),V=D[0],R=D[1],A=Object(s.useState)(null===Wj||void 0===Wj||null===(e=Wj.status)||void 0===e?void 0:e.filterValue),B=Object(d.a)(A,2),M=B[0],F=B[1],Y=Object(s.useState)(!1),E=Object(d.a)(Y,2),H=E[0],L=E[1];return{params:n,dispatchParams:r,page:l,setPage:o,limit:m,setLimit:b,direction:g,setDirection:y,column:x,setColumn:v,district:C,setDistrict:w,schoolType:k,setSchoolType:T,schoolLevel:V,setSchoolLevel:R,schoolStatus:M,setSchoolStatus:F,checkedPotential:H,setCheckedPotential:L,resetFormFilters:function(){var e,t,a,n;w(null===Wj||void 0===Wj||null===(e=Wj.district)||void 0===e?void 0:e.filterValue),T(null===Wj||void 0===Wj||null===(t=Wj.type)||void 0===t?void 0:t.filterValue),R(null===Wj||void 0===Wj||null===(a=Wj.level)||void 0===a?void 0:a.filterValue),F(null===Wj||void 0===Wj||null===(n=Wj.status)||void 0===n?void 0:n.filterValue),L(!1)}}}();return Object(I.jsx)(Lj.Provider,{value:a,children:t})},zj=[{key:"name",name:"School Name",sortable:!0,width:"28%"},{key:"address",name:"Address",sortable:!0,width:"32%"},{key:"reprName",name:"Principal",sortable:!0,width:"20%"},{key:"schoolStatus.id",name:"Status",sortable:!0,width:"20%"}],Uj=[{key:"no",name:"#",align:"center",width:"1%"},{key:"name",name:"School Name",align:"left",width:"30%"},{key:"status",name:"Status",align:"left",width:"16%"},{key:"purpose",name:"Purpose",align:"left",width:"22%"},{key:"endDate",name:"Deadline",align:"left",width:"23%"},{key:"",name:"",align:"right",width:"1%"}],Gj=a(466),Zj=a.n(Gj),Qj=["children","classes","onClose"],Jj=Object(j.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,s=Object(bt.a)(e,Qj);return Object(I.jsxs)(pt.a,Object(D.a)(Object(D.a)({disableTypography:!0,className:a.root},s),{},{children:[Object(I.jsx)(x.a,{variant:"h6",children:t}),n?Object(I.jsx)(ht.a,{"aria-label":"close",className:a.closeButton,onClick:n,children:Object(I.jsx)(C.k,{})}):null]}))}));function Xj(e){var t=e.open,a=e.onClose;return Object(I.jsxs)(xt.a,{open:t,onClose:a,children:[Object(I.jsx)(Jj,{onClose:a,children:"Notify"}),Object(I.jsx)(yt.a,{children:Object(I.jsx)(ho.a,{className:Zj.a.dialogText,children:"Please choose schools before creating list of tasks."})}),Object(I.jsx)(wt.a,{children:Object(I.jsx)(O.a,{onClick:a,autoFocus:!0,children:"OK, I understood"})})]})}var $j=r.a.memo(Xj),em=a(379),tm=a.n(em),am={PaperProps:{style:{maxHeight:157}}},nm=Object(u.a)((function(e){return{formControl:{marginBottom:e.spacing(1),minWidth:170},formControlCheckbox:{marginTop:e.spacing(2)},flexBox:{padding:0},flexItem:{padding:"0 0.2rem"},option:{fontSize:"0.875rem"},root:{},menuItemRoot:{"&$menuItemSelected":{backgroundColor:"rgba(0, 0, 0, 0.08)"},"&$menuItemSelected:focus":{backgroundColor:"rgba(0, 0, 0, 0.12)"},"&$menuItemSelected:hover":{backgroundColor:"rgba(0, 0, 0, 0.04);"}},menuItemSelected:{}}}));var sm=function(e){var t=nm(),a=qa(),n=a.dists,r=a.schTypes,c=a.schEduLvls,i=Kj(),l=i.dispatchParams,o=i.district,u=i.setDistrict,j=i.schoolType,m=i.setSchoolType,b=i.schoolLevel,p=i.setSchoolLevel,x=i.checkedPotential,w=i.setCheckedPotential,S=vj.operations,k=vj.filters,T=Object(s.useState)(!1),D=Object(d.a)(T,2),V=D[0],R=D[1];return Object(I.jsxs)("div",{className:tm.a.filtersZone,children:[Object(I.jsxs)(h.a,{display:"flex",flexWrap:"nowrap",className:t.flexBox,children:[Object(I.jsx)(h.a,{flexGrow:1}),Object(I.jsx)(h.a,{className:t.flexItem,children:Object(I.jsx)(P,{placeholder:S.search.placeholder,onChange:function(e){l({type:qe,payload:e})}})}),Object(I.jsxs)(h.a,{className:t.flexItem,children:[Object(I.jsx)(v.a,{title:"Create Tasks",children:Object(I.jsx)(O.a,{onClick:function(t){var a;(null===(a=e.rows)||void 0===a?void 0:a.length)<1?R(!0):e.setOpen(!0)},color:"secondary",variant:"contained",className:tm.a.btnAdd,children:Object(I.jsx)(C.b,{fontSize:"large"})})}),Object(I.jsx)($j,{open:V,onClose:function(){return R(!1)}})]})]}),Object(I.jsxs)(f.a,{container:!0,item:!0,xs:12,sm:12,md:12,lg:12,children:[Object(I.jsx)(f.a,{item:!0,xs:6,sm:4,md:3,lg:3,children:Object(I.jsxs)(g.a,{className:t.formControl,children:[Object(I.jsx)(y.a,{children:k.district.title}),Object(I.jsxs)(_.a,{value:o||"",onChange:function(e){var t=e.target.value;u(t),l({type:ke,payload:{filterType:Je,filterValue:t||""}})},MenuProps:am,children:[Object(I.jsx)(N.a,{value:"",className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:"All"}),null===n||void 0===n?void 0:n.map((function(e){return Object(I.jsx)(N.a,{value:e,className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:e},e)}))]})]})}),Object(I.jsx)(f.a,{item:!0,xs:6,sm:4,md:3,lg:3,children:Object(I.jsxs)(g.a,{className:t.formControl,children:[Object(I.jsx)(y.a,{children:k.schoolType.title}),Object(I.jsxs)(_.a,{value:j||"",onChange:function(e){var t=e.target.value;m(t),l({type:Pe,payload:{filterType:st,filterValue:t||""}})},MenuProps:am,children:[Object(I.jsx)(N.a,{value:"",className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:"All"}),null===r||void 0===r?void 0:r.map((function(e){return Object(I.jsx)(N.a,{value:e,className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:e},e)}))]})]})}),Object(I.jsx)(f.a,{item:!0,xs:6,sm:4,md:3,lg:3,children:Object(I.jsxs)(g.a,{className:t.formControl,children:[Object(I.jsx)(y.a,{children:k.schoolLevel.title}),Object(I.jsxs)(_.a,{value:b||"",onChange:function(e){var t=e.target.value;p(t),l({type:De,payload:{filterType:rt,filterValue:t||""}})},MenuProps:am,children:[Object(I.jsx)(N.a,{value:"",className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:"All"}),null===c||void 0===c?void 0:c.map((function(e){return Object(I.jsx)(N.a,{value:e,className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:e},e)}))]})]})}),Object(I.jsx)(f.a,{item:!0,xs:6,sm:4,md:3,lg:3,children:Object(I.jsx)(g.a,{className:t.formControlCheckbox,children:Object(I.jsx)(Nt.a,{value:x,control:Object(I.jsx)(dd.a,{color:"secondary",checked:x,onChange:function(e){var t=e.target.checked;console.log(t),w(t),l({type:Ve,payload:{filterType:$e,filterValue:t?Ut:Wt}})}}),label:k.isPotential.title,labelPlacement:"end"})})})]})]})},rm=a(81),cm=a.n(rm);function im(e){var t=Object(An.a)(),a=e.count,n=e.page,s=e.rowsPerPage,r=e.totalPage,c=e.onChangePage;return Object(I.jsxs)("div",{className:cm.a.paging,children:[Object(I.jsx)(ht.a,{onClick:function(e){c(e,0)},disabled:0===n,"aria-label":"first page",children:"rtl"===t.direction?Object(I.jsx)(C.E,{}):Object(I.jsx)(C.x,{})}),Object(I.jsx)(ht.a,{onClick:function(e){c(e,n-1)},disabled:0===n,"aria-label":"previous page",children:"rtl"===t.direction?Object(I.jsx)(C.D,{}):Object(I.jsx)(C.C,{})}),Object(I.jsxs)("span",{children:[n+1," / ",r]}),Object(I.jsx)(ht.a,{onClick:function(e){c(e,n+1)},disabled:n>=Math.ceil(a/s)-1,"aria-label":"next page",children:"rtl"===t.direction?Object(I.jsx)(C.C,{}):Object(I.jsx)(C.D,{})}),Object(I.jsx)(ht.a,{onClick:function(e){c(e,Math.ceil(a/s)-1)},disabled:n>=Math.ceil(a/s)-1,"aria-label":"last page",children:"rtl"===t.direction?Object(I.jsx)(C.x,{}):Object(I.jsx)(C.E,{})})]})}function lm(e){var t=e.columns,a=e.direction,n=e.column,s=e.onRequestSort,r=e.numSelected,c=e.rowCount,i=e.onSelectAllClick,l=Object(j.a)({root:{color:"white !important","&:hover":{color:"white !important"},"&$active":{color:"white !important"}},active:{},icon:{color:"white !important"}})(Bn.a);return Object(I.jsx)(Mn.a,{children:Object(I.jsxs)(Fn.a,{className:cm.a.tHead,children:[Object(I.jsx)(Yn.a,{padding:"checkbox",className:cm.a.tHeadCell,children:Object(I.jsx)(dd.a,{indeterminate:r>0&&r<c,checked:c>0&&r===c,onChange:i})}),t.map((function(e){return Object(I.jsx)(Yn.a,{className:cm.a.tHeadCell,sortDirection:n===e.key&&a,width:e.width,children:(null===e||void 0===e?void 0:e.sortable)?Object(I.jsx)(l,{active:n===e.key,direction:n===e.key?a:"asc",onClick:function(){return function(e,t){s(e,t)}(e,a)},children:e.name}):e.name},e.key)}))]})})}function om(e){var t,a=e.selectedRows,n=e.setSelectedRows,s=e.columns,r=e.rows,c=e.totalRecord,i=e.totalPage,l=vj.messages,o=Kj(),d=o.params,u=o.dispatchParams,j=o.limit,m=o.direction,b=o.column,p=o.setColumn,h=o.setLimit,x=o.setPage,v=o.setDirection,O=function(e){return-1!==a.indexOf(e)},f=function(e,t){x(t),u({type:Ue,payload:{page:t,limit:d.limit}})},g=function(e){switch(e){case Wt:return Object(I.jsx)(Se.a,{label:e,className:cm.a.chipLead});case qt:return Object(I.jsx)(Se.a,{label:e,className:cm.a.chipCustomer});case Ut:return Object(I.jsx)(Se.a,{label:e,className:cm.a.chipPotential});default:return Object(I.jsx)(Se.a,{label:e})}};return Object(I.jsxs)("div",{className:cm.a.wrapper,children:[Object(I.jsx)(En.a,{className:cm.a.container,component:"div",children:Object(I.jsxs)(Hn.a,{className:cm.a.table,stickyHeader:!0,size:"small","aria-label":"sticky table",children:[Object(I.jsx)(lm,{columns:s,direction:m,column:b,onRequestSort:function(e,t){e.sortable&&(v("desc"===t?"asc":"desc"),p(e.key),u({type:ze,payload:{column:e.key,direction:t}}))},onSelectAllClick:function(e){if(e.target.checked){var t=r.filter((function(e){return!(null===e||void 0===e?void 0:e.username)}));n(t)}else n([])},rowCount:null===r||void 0===r||null===(t=r.filter((function(e){return!e.username})))||void 0===t?void 0:t.length,numSelected:null===a||void 0===a?void 0:a.length}),Object(I.jsx)(Ln.a,{className:cm.a.tBody,children:(null===r||void 0===r?void 0:r.length)>0?r.map((function(e){return Object(I.jsxs)(Fn.a,{className:cm.a.tBodyRow,children:[Object(I.jsx)(Yn.a,{padding:"checkbox",width:"1%",onClick:function(t){!(null===e||void 0===e?void 0:e.username)&&function(e,t){var s=a.indexOf(t),r=[];-1===s?r=r.concat(a,t):0===s?r=r.concat(a.slice(1)):s===a.length-1?r=r.concat(a.slice(0,-1)):s>0&&(r=r.concat(a.slice(0,s),a.slice(s+1))),n(r)}(0,e)},children:Object(I.jsx)(dd.a,{checked:!(null===e||void 0===e?void 0:e.username)&&O(e),disabled:!!(null===e||void 0===e?void 0:e.username)})}),Object(I.jsxs)(Yn.a,{className:cm.a.tCellSchoolName,children:["".concat(null===e||void 0===e?void 0:e.educationalLevel," "),Object(I.jsx)(es.a,{highlightClassName:"YourHighlightClass",searchWords:[d.searchKey],autoEscape:!0,textToHighlight:(null===e||void 0===e?void 0:e.name)?null===e||void 0===e?void 0:e.name:""}),(null===e||void 0===e?void 0:e.status)===Ut&&Object(I.jsxs)(I.Fragment,{children:["\xa0",Object(I.jsx)(wj.a,{defaultValue:1,max:1})]})]}),Object(I.jsx)(Yn.a,{className:cm.a.tBodyCell,children:Object(I.jsx)(zn.a,{primary:Object(I.jsx)(es.a,{highlightClassName:"YourHighlightClass",searchWords:[d.searchKey],autoEscape:!0,textToHighlight:(null===e||void 0===e?void 0:e.address)?(t=null===e||void 0===e?void 0:e.address,t?t.length>45?t.substring(0,42)+"...":t:""):""}),secondary:null===e||void 0===e?void 0:e.district,classes:{primary:cm.a.itemText,secondary:cm.a.itemText}})}),Object(I.jsx)(Yn.a,{className:cm.a.tBodyCell,children:Object(I.jsx)(zn.a,{primary:Object(I.jsxs)(I.Fragment,{children:[(null===e||void 0===e?void 0:e.reprName)?(null===e||void 0===e?void 0:e.reprIsMale)?"Mr. ":"Ms. ":"",Object(I.jsx)(es.a,{highlightClassName:"YourHighlightClass",searchWords:[d.searchKey],autoEscape:!0,textToHighlight:(null===e||void 0===e?void 0:e.reprName)?null===e||void 0===e?void 0:e.reprName:""})]}),secondary:null===e||void 0===e?void 0:e.reprPhone,classes:{primary:cm.a.itemText,secondary:cm.a.itemText}})}),Object(I.jsx)(Yn.a,{children:(null===e||void 0===e?void 0:e.status)&&g(null===e||void 0===e?void 0:e.status)})]},null===e||void 0===e?void 0:e.id);var t})):Object(I.jsx)(Fn.a,{className:cm.a.tBodyRow,children:Object(I.jsx)(Yn.a,{className:cm.a.noRecord,component:"td",colSpan:"100%",children:l.notFound})})})]})}),Object(I.jsx)(Un.a,{rowsPerPageOptions:[10,20,50],component:"div",count:c||0,rowsPerPage:j,page:d.page,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:f,onChangeRowsPerPage:function(e){h(parseInt(e.target.value,10)),x(0),u({type:Ue,payload:{page:0,limit:parseInt(e.target.value,10)}})},ActionsComponent:function(){return Object(I.jsx)(im,{count:c||0,page:d.page,rowsPerPage:d.limit,totalPage:i,onChangePage:f})}})]})}var dm=r.a.memo(om);function um(e,t){var a=t;switch(e){case Wt:return[a[0]];case qt:return[a[1],a[2],a[3]];case zt:default:return a}}var jm=a(76),mm=a.n(jm),bm={PaperProps:{style:{maxHeight:157}}},pm=Object(u.a)((function(e){return{formControl:{marginTop:"0.5rem",minWidth:180},option:{fontSize:"0.875rem"},root:{},menuItemRoot:{"&$menuItemSelected":{backgroundColor:"rgba(0, 0, 0, 0.08)"},"&$menuItemSelected:focus":{backgroundColor:"rgba(0, 0, 0, 0.12)"},"&$menuItemSelected:hover":{backgroundColor:"rgba(0, 0, 0, 0.04);"}},menuItemSelected:{},autoComplete:{width:260,marginLeft:"0.5rem"},itemPIC:{padding:0,margin:0},divItemPIC:{display:"flex",flexDirection:"row",alignItems:"center",padding:0,margin:0},itemTextPrimary:{fontSize:"0.875rem"},itemTextSecondary:{fontSize:"0.8rem"}}}));var hm=function(e){var t=pm(),a=e.onClose,n=e.schoolStatus,c=e.refreshAPI,i=vj.fields,l=vj.operations,o=r.a.useState(e.rows),u=Object(d.a)(o,2),j=u[0],m=u[1],b=r.a.useState(null),p=Object(d.a)(b,2),w=(p[0],p[1],Object(s.useState)(null)),S=Object(d.a)(w,2),k=S[0],T=S[1],P=qa().salesPurps,V=Kj().params,R=V.page,A=V.limit,B=V.column,M=V.direction,F=V.searchKey,Y=V.listFilters,E=Ce(),H=um(n,P||La(Oa.salesPurps));console.log("Preview Dialog:   rowsState = ",j);var L=function(e){switch(e){case Wt:return Object(I.jsx)(Se.a,{label:e,className:mm.a.chipLead});case qt:return Object(I.jsx)(Se.a,{label:e,className:mm.a.chipCustomer});case Ut:return Object(I.jsx)(Se.a,{label:e,className:mm.a.chipPotential})}},K=function(e){switch(e){case ha.purp1:return Object(I.jsx)(Se.a,{label:e,className:mm.a.chipSalesMoi});case ha.purp3:return Object(I.jsx)(Se.a,{label:e,className:mm.a.chipChamSoc});case ha.purp4:return Object(I.jsx)(Se.a,{label:e,className:mm.a.chipTaiKy});case ha.purp5:return Object(I.jsx)(Se.a,{label:e,className:mm.a.chipKyMoi});default:return Object(I.jsx)(Se.a,{label:e})}};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(yt.a,{className:mm.a.wrapper,children:Object(I.jsxs)(f.a,{container:!0,spacing:4,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",flexWrap:"nowrap",children:[Object(I.jsx)(h.a,{flexGrow:1,children:Object(I.jsxs)(g.a,{className:t.formControl,children:[Object(I.jsx)(y.a,{children:i.purpose.label}),Object(I.jsxs)(_.a,{value:k||"",onChange:function(e){return T(e.target.value)},MenuProps:bm,children:[Object(I.jsx)(N.a,{value:"",className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:i.purpose.options.none}),null===H||void 0===H?void 0:H.map((function(e){return Object(I.jsx)(N.a,{value:e,className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:e},e)}))]})]})}),Object(I.jsx)(h.a,{children:Object(I.jsx)(x.a,{variant:"subtitle1",className:mm.a.title,children:yj(E)})})]})}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:[Object(I.jsx)(x.a,{variant:"subtitle1",children:"List of assigned schools:"}),Object(I.jsx)(En.a,{className:mm.a.container,component:ci.a,children:Object(I.jsxs)(Hn.a,{className:mm.a.table,stickyHeader:!0,size:"small",children:[Object(I.jsx)(Mn.a,{children:Object(I.jsx)(Fn.a,{className:mm.a.tHead,children:Uj.map((function(e){return Object(I.jsx)(Yn.a,{className:mm.a.tHeadCell,align:e.align,width:e.width,children:e.name},e.key)}))})}),Object(I.jsx)(Ln.a,{className:mm.a.tBody,children:null===j||void 0===j?void 0:j.map((function(e,t){return Object(I.jsxs)(Fn.a,{children:[Object(I.jsx)(Yn.a,{className:mm.a.tBodyCell,children:t+1}),Object(I.jsx)(Yn.a,{className:mm.a.tBodyCell,children:Object(I.jsx)(zn.a,{primary:"".concat(null===e||void 0===e?void 0:e.educationalLevel," ").concat(null===e||void 0===e?void 0:e.name),secondary:null===e||void 0===e?void 0:e.district,classes:{primary:mm.a.itemTextPrimary,secondary:mm.a.itemTextSecondary}})}),Object(I.jsx)(Yn.a,{className:mm.a.tBodyCell,children:(null===e||void 0===e?void 0:e.status)&&L(null===e||void 0===e?void 0:e.status)}),Object(I.jsx)(Yn.a,{className:mm.a.tBodyCell,children:k&&K(k)}),Object(I.jsx)(Yn.a,{className:mm.a.tBodyCell,children:Object(I.jsx)(St.a,{utils:kt.a,children:Object(I.jsx)(It.a,{format:"dd/MM/yyyy",minDate:new Date((new Date).getTime()+864e5),disablePast:!0,allowKeyboardControl:!0,disableToolbar:!0,variant:"inline",value:(null===e||void 0===e?void 0:e.endDate)?null===e||void 0===e?void 0:e.endDate:new Date((new Date).getFullYear(),8,30),onChange:function(t){return function(e,t){var a=j.findIndex((function(e){return e.schoolId===t.schoolId})),n=Object(re.a)(j);n[a]=Object(D.a)(Object(D.a)({},n[a]),{},{endDate:e}),m(n)}(t,e)}})})}),Object(I.jsx)(Yn.a,{className:mm.a.tBodyCell,children:Object(I.jsx)(v.a,{title:"Remove",children:Object(I.jsx)(ht.a,{onClick:function(t){return function(e,t){var n=[],s=j.indexOf(t);0===s?n=n.concat(j.slice(1)):s===j.length-1?n=n.concat(j.slice(0,-1)):s>0&&(n=n.concat(j.slice(0,s),j.slice(s+1))),m(n),0===n.length&&a()}(0,e)},children:Object(I.jsx)(C.k,{})})})})]},null===e||void 0===e?void 0:e.schoolId)}))})]})})]})]})}),Object(I.jsxs)(wt.a,{className:"",children:[Object(I.jsx)(O.a,{type:"submit",onClick:function(){var e=[];console.log("handleSubmit(): rowsState = ",j),j.map((function(t){var a,n;t=Object(D.a)(Object(D.a)({},t),{},{purpose:k,schoolYear:E,endDate:_e((null===(a=t)||void 0===a?void 0:a.endDate)?null===(n=t)||void 0===n?void 0:n.endDate:new Date((new Date).getFullYear(),8,30),"YYYY-MM-DD HH:mm:ss")}),e.push(t)})),console.log("handleSubmit(): array = ",e),function(e){return Ks.apply(this,arguments)}(e).then((function(e){m([]),c(E,R,A,B,M,F,Y),a()}))},disabled:!k,className:mm.a.btnSave,children:l.save}),Object(I.jsx)(O.a,{onClick:a,children:l.cancel})]})]})},xm=["children","classes","onClose"],vm=Object(j.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,s=Object(bt.a)(e,xm);return Object(I.jsxs)(pt.a,Object(D.a)(Object(D.a)({disableTypography:!0,className:a.root},s),{},{children:[Object(I.jsx)(x.a,{variant:"h6",children:t}),n?Object(I.jsx)(ht.a,{"aria-label":"close",className:a.closeButton,onClick:n,children:Object(I.jsx)(C.k,{})}):null]}))}));var Om=function(e){var t=e.open,a=e.onClose,n=e.rows,s=e.setRows,c=e.refreshAPI,i=e.schoolStatus,l=e.schoolYear,o=vj.headers,u=r.a.useState({isOpen:!1,message:"",type:""}),j=Object(d.a)(u,2),m=j[0],b=j[1];return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(xt.a,{open:t,onClose:a,maxWidth:"md",fullWidth:!0,component:"form",children:[Object(I.jsx)(vm,{onClose:a,children:o.confirmCreateTask}),Object(I.jsx)(hm,{onClose:a,notify:m,setNotify:b,rows:n,setRows:s,refreshAPI:c,schoolStatus:i,schoolYear:l})]})})},fm=a(165),gm=a.n(fm),ym=Object(u.a)((function(e){return{indicator:{backgroundColor:"#2a4865"}}}));function _m(e){var t=ym(),a=e.data,n=e.refreshAPI,r=e.schoolYear,c=qa().schStatus,i=Object(s.useState)(!1),l=Object(d.a)(i,2),o=l[0],u=l[1],j=Object(s.useState)([]),m=Object(d.a)(j,2),b=m[0],p=m[1],h=Object(s.useState)(0),x=Object(d.a)(h,2),v=x[0],O=x[1],g=Object(s.useState)(c[0]),y=Object(d.a)(g,2),_=y[0],N=y[1],C=Kj(),w=C.params,S=C.dispatchParams,k=C.resetFormFilters,T=w.listFilters,P=w.page,D=w.limit,V=w.column,R=w.direction,A=w.searchKey;return Object(s.useEffect)((function(){n(r,P,D,V,R,A,T)}),[v]),Object(I.jsxs)("div",{className:gm.a.root,children:[Object(I.jsx)("div",{className:gm.a.container,children:Object(I.jsx)("div",{className:gm.a.content,children:Object(I.jsxs)("div",{className:gm.a.body,children:[Object(I.jsxs)(nc.a,{className:gm.a.tabs,value:v,onChange:function(e,t){p([]);var a=c[t];O(t||0),N(a||c[0]),S({type:Ve,payload:{filterType:$e,filterValue:a||c[0]}})},variant:"scrollable",scrollButtons:"auto",classes:{root:t.root,indicator:t.indicator},children:[Object(I.jsx)(sc.a,{label:c[0],classes:{textColorInherit:t.textColorInherit,disabled:t.disabled}}),Object(I.jsx)(sc.a,{label:c[1],classes:{textColorInherit:t.textColorInherit,disabled:t.disabled}})]}),Object(I.jsx)("div",{className:gm.a.wrapper,children:Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsx)(sm,{rows:b,setOpen:u,className:gm.a.filter})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsx)(dm,{className:gm.a.table,columns:zj,rows:null===a||void 0===a?void 0:a.list,totalRecord:null===a||void 0===a?void 0:a.totalElements,totalPage:null===a||void 0===a?void 0:a.totalPage,selectedRows:b,setSelectedRows:p})})]})})]})})}),Object(I.jsx)(Om,{open:o,onClose:function(){u(!1),k()},rows:b,setRows:p,schoolStatus:_,refreshAPI:n})]})}var Nm=r.a.memo(_m),Cm=Object(u.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),wm=r.a.forwardRef((function(e,t){return Object(I.jsx)(Ej.a,Object(D.a)({direction:"up",ref:t},e))}));var Sm=function(e){var t=e.open,a=e.onClose,n=e.refreshTaskPage,r=vj.headers,c=Object(o.h)(),i=Kj().params,l=ar().params,u=Cm(),j=Object(s.useState)(null),m=Object(d.a)(j,2),b=m[0],p=m[1],h=Ce(),v=!0,O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"schoolId",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"asc",r=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0;Hs(e,t,a,n,s,r,i).then((function(e){v&&(p(e),console.log("getSchoolsForTasks: ",e))})).catch((function(e){e.response&&(console.log(e),c.push({pathname:"/errors",state:{error:e.response.status}}))}))};Object(s.useEffect)((function(){return O(h,i.page,i.limit,i.column,i.direction,i.searchKey,i.listFilters),function(){v=!1}}),[i]);var f=function(){n(l.page,l.limit,l.column,l.direction,l.searchKey,l.listFilters),a()};return Object(I.jsxs)(xt.a,{fullScreen:!0,open:t,onClose:f,TransitionComponent:wm,PaperProps:{style:{backgroundColor:"#eeeeee"}},children:[Object(I.jsx)(ms.a,{className:u.appBar,children:Object(I.jsxs)(bs.a,{children:[Object(I.jsx)(ht.a,{edge:"start",color:"inherit",onClick:f,"aria-label":"close",children:Object(I.jsx)(C.k,{})}),Object(I.jsx)(x.a,{variant:"h6",className:u.title,children:r.create})]})}),Object(I.jsx)("div",{className:u.body,children:Object(I.jsx)(Nm,{data:b,setData:p,refreshAPI:O,schoolYear:h})})]})},Im=a(380),km=a.n(Im),Tm=Object(u.a)((function(e){return{formControl1:{width:130,margin:e.spacing(1)},formControl2:{width:200}}}));var Pm=function(e){var t=Tm(),a=e.dateRange,n=e.handleDateRangeChange,r=e.startLabel,c=e.endLabel,i=e.isFilter,l=Object(s.useState)(a),o=Object(d.a)(l,2),u=o[0],j=o[1];return Object(I.jsx)(kl.b,{dateAdapter:Pl.a,children:Object(I.jsx)(Tl.a,{startText:r,endText:c,showToolbar:!0,disablePast:!i,inputFormat:"dd/MM/yyyy",value:u,onChange:function(e){return j(t=e),void n(t);var t},renderInput:function(e,a){return Object(I.jsx)(I.Fragment,{children:i?Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsx)(f.a,{item:!0,xs:6,sm:5,md:5,lg:5,children:Object(I.jsx)(g.a,{className:t.formControl1,children:Object(I.jsx)(ce.a,Object(D.a)(Object(D.a)({},e),{},{variant:"standard",fullWidth:!0}))})}),Object(I.jsx)(f.a,{item:!0,xs:6,sm:5,md:5,lg:5,children:Object(I.jsx)(g.a,{className:t.formControl1,children:Object(I.jsx)(ce.a,Object(D.a)(Object(D.a)({},a),{},{variant:"standard",fullWidth:!0}))})})]}):Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:6,lg:6,children:Object(I.jsx)(g.a,{className:t.formControl2,children:Object(I.jsx)(ce.a,Object(D.a)(Object(D.a)({},e),{},{variant:"outlined",value:u[0]}))})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:6,lg:6,children:Object(I.jsx)(g.a,{className:t.formControl2,children:Object(I.jsx)(ce.a,Object(D.a)(Object(D.a)({},a),{},{variant:"outlined",value:u[1]}))})})]})})}})})},Dm={PaperProps:{style:{maxHeight:157}}},Vm=Object(u.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:160},flexBox:{padding:0},flexItem:{padding:0},option:{fontSize:"0.875rem"},btn:{padding:"0.5rem",margin:"0 0.3rem",borderRadius:"8px"},root:{},menuItemRoot:{"&$menuItemSelected":{backgroundColor:"rgba(0, 0, 0, 0.08)"},"&$menuItemSelected:focus":{backgroundColor:"rgba(0, 0, 0, 0.12)"},"&$menuItemSelected:hover":{backgroundColor:"rgba(0, 0, 0, 0.04);"}},menuItemSelected:{},autoComplete:{width:250,marginLeft:"0.5rem"},itemPIC:{display:"flex",flexDirection:"row",alignItems:"center",padding:0,margin:0},itemTextPrimary:{fontSize:"0.875rem"},paddingTop:{paddingTop:"0.3rem"}}})),Rm=Object(j.a)({root:{backgroundColor:"rgb(238, 238, 238)",borderRadius:"8px",marginBottom:"0.5rem",boxShadow:"none","&:not(:last-child)":{borderBottom:0,borderRadius:"8px"},"&:before":{display:"none"},"&$expanded":{margin:"auto",borderRadius:"8px"}},expanded:{}})(m.a),Am=Object(j.a)({root:{height:41.5,minHeight:35,maxWidth:120,backgroundColor:"rgb(255, 255, 255)",fontWeight:"bold",boxShadow:"0 4px 6px -6px #000",borderRadius:"8px",paddingButtom:0,"&$expanded":{minHeight:35,borderRadius:"8px"}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(b.a),Bm=Object(j.a)((function(e){return{root:{backgroundColor:"rgb(255, 255, 255)",margin:"0.5rem 0",padding:"0 0 1rem 1.5rem",borderRadius:"8px"}}}))(p.a);function Mm(e){var t=Vm(),a=cj.operations,n=cj.filters,c=e.selectedRows,i=e.setSelectedRows,l=e.refreshAPI,o=r.a.useState({isOpen:!1,message:"",type:""}),u=Object(d.a)(o,2),j=u[0],m=u[1],b=gs().user,p=qa(),w=p.schYears,S=p.dists,k=p.schTypes,T=p.schEduLvls,V=p.salesPurps,R=p.schStatus,A=ar(),B=A.params,M=A.dispatchParams,F=A.PICs,Y=A.schoolYear,E=A.district,H=A.schoolType,L=A.schoolLevel,K=A.PIC,q=A.purpose,z=A.schoolStatus,U=A.isAssigned,G=A.assignedStatuses,Z=A.taskStatus,Q=A.taskStatuses,J=A.setFilter,X=A.getListPICs,$=w||La(Oa.schYears),ee=S||La(Oa.dists),te=k||La(Oa.types),ae=T||La(Oa.eduLvls),ne=um(z,V||La(Oa.salesPurps)),se=Object(s.useRef)({}),re=Object(s.useState)(!1),le=Object(d.a)(re,2),oe=le[0],de=le[1],ue=Object(s.useState)(!1),je=Object(d.a)(ue,2),me=je[0],be=je[1],pe=Object(s.useState)(!1),he=Object(d.a)(pe,2),xe=he[0],ve=he[1],Oe=function(e){se.current&&clearTimeout(se.current),se.current=setTimeout((function(){var t=e.target.value;t?X(t):X()}),300)};return Object(I.jsxs)("div",{className:km.a.wrapper,children:[Object(I.jsxs)(Rm,{children:[Object(I.jsxs)(h.a,{display:"flex",flexWrap:"nowrap",className:t.flexBox,children:[Object(I.jsx)(h.a,{className:t.flexItem,children:Object(I.jsxs)(Am,{expandIcon:Object(I.jsx)(C.u,{}),children:[Object(I.jsx)(C.w,{className:km.a.iconFilter})," ","\xa0",Object(I.jsx)(x.a,{children:a.filter})," "]})}),Object(I.jsx)(h.a,{flexGrow:1,className:t.flexItem,children:Object(I.jsx)(oj,{chips:function(e){var t=[];for(var a in e)t.push(e[a]);return t}(B.listFilters),dispatch:M,handleChipsRemoved:function(e){e.forEach((function(e){switch(e){case Xe:J(Xe,"");break;case Je:J(Je,"");break;case st:J(st,"");break;case rt:J(rt,"");break;case Qe:J(Qe,null);break;case et:J(et,"");break;case $e:J($e,"");break;case tt:J(tt,null);break;case ct:J(ct,"")}}))}})}),Object(I.jsx)(h.a,{className:t.flexItem,children:Object(I.jsx)(P,{placeholder:a.search.placeholder,onChange:function(e){M({type:qe,payload:e})}})}),b.roles[0]!==Ht&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(h.a,{className:t.flexItem,children:[Object(I.jsx)(v.a,{title:a.create,children:Object(I.jsx)(O.a,{className:t.btn,variant:"contained",color:"secondary",onClick:function(){ve(!0)},children:Object(I.jsx)(C.b,{fontSize:"large"})})}),xe?Object(I.jsx)(qj,{children:Object(I.jsx)(Sm,{open:xe,onClose:function(){return ve(!1)},refreshTaskPage:l})}):null]}),Object(I.jsxs)(h.a,{className:t.flexItem,children:[Object(I.jsx)(v.a,{title:a.assign,children:Object(I.jsx)(O.a,{className:t.btn,variant:"contained",color:"secondary",onClick:function(){c.length>0?be(!0):(be(!1),de(!0))},children:Object(I.jsx)(C.N,{fontSize:"large"})})}),c.length>0?Object(I.jsx)(Yj,{open:me,onClose:function(){return be(!1)},rows:c,setRows:i,refreshAPI:l,setNotify:m}):Object(I.jsx)(pj,{open:oe,onClose:function(){return de(!1)}})]})]})]}),Object(I.jsx)(Bm,{children:Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(I.jsxs)(g.a,{className:t.formControl,children:[Object(I.jsx)(y.a,{children:n.status.title}),Object(I.jsxs)(_.a,{value:z||"",onChange:function(e){var t=e.target.value;J($e,t),M({type:Ve,payload:{filterType:$e,filterValue:t||""}})},MenuProps:Dm,children:[Object(I.jsx)(N.a,{value:"",className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:n.status.options.all}),null===R||void 0===R?void 0:R.map((function(e){return Object(I.jsx)(N.a,{value:e,className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:e},e)}))]})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(I.jsxs)(g.a,{className:t.formControl,children:[Object(I.jsx)(y.a,{children:n.purpose.title}),Object(I.jsxs)(_.a,{value:q||"",onChange:function(e){var t=e.target.value;J(et,t),M({type:Re,payload:{filterType:et,filterValue:t||""}})},MenuProps:Dm,children:[Object(I.jsx)(N.a,{value:"",className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:n.purpose.options.all}),null===ne||void 0===ne?void 0:ne.map((function(e){return Object(I.jsx)(N.a,{value:e,className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:e},e)}))]})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(I.jsxs)(g.a,{className:t.formControl,children:[Object(I.jsx)(y.a,{children:n.district.title}),Object(I.jsxs)(_.a,{value:E||"",onChange:function(e){var t=e.target.value;J(Je,t),M({type:ke,payload:{filterType:Je,filterValue:t||""}})},MenuProps:Dm,children:[Object(I.jsx)(N.a,{value:"",className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:n.district.options.all}),null===ee||void 0===ee?void 0:ee.map((function(e){return Object(I.jsx)(N.a,{value:e,className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:e},e)}))]})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(I.jsxs)(g.a,{className:t.formControl,children:[Object(I.jsx)(y.a,{children:n.schoolYear.title}),Object(I.jsxs)(_.a,{value:Y||"",onChange:function(e){var t=e.target.value;J(Xe,t),M({type:Te,payload:{filterType:Xe,filterValue:t||""}})},MenuProps:Dm,children:[Object(I.jsx)(N.a,{value:"",className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:n.schoolYear.options.all}),null===$||void 0===$?void 0:$.map((function(e){return Object(I.jsx)(N.a,{value:e,className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:e},e)}))]})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(I.jsxs)(g.a,{className:t.formControl,children:[Object(I.jsx)(y.a,{children:n.schoolType.title}),Object(I.jsxs)(_.a,{value:H||"",onChange:function(e){var t=e.target.value;J(st,t),M({type:Pe,payload:{filterType:st,filterValue:t||""}})},MenuProps:Dm,children:[Object(I.jsx)(N.a,{value:"",className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:n.schoolType.options.all}),null===te||void 0===te?void 0:te.map((function(e){return Object(I.jsx)(N.a,{value:e,className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:e},e)}))]})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(I.jsxs)(g.a,{className:t.formControl,children:[Object(I.jsx)(y.a,{children:n.schoolLevel.title}),Object(I.jsxs)(_.a,{value:L||"",onChange:function(e){var t=e.target.value;J(rt,t),M({type:De,payload:{filterType:rt,filterValue:t||""}})},MenuProps:Dm,children:[Object(I.jsx)(N.a,{value:"",className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:n.schoolLevel.options.all}),null===ae||void 0===ae?void 0:ae.map((function(e){return Object(I.jsx)(N.a,{value:e,className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:e},e)}))]})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(I.jsxs)(g.a,{className:t.formControl,children:[Object(I.jsx)(y.a,{children:n.taskStatus.title}),Object(I.jsx)(_.a,{value:Z||"",onChange:function(e){var t=e.target.value;J(ct,t),M({type:Fe,payload:{filterType:ct,filterValue:t||""}})},MenuProps:Dm,children:null===Q||void 0===Q?void 0:Q.map((function(e){return Object(I.jsx)(N.a,{value:e,className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:e},e)}))})]})}),b.roles[0]!==Ht&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:4,lg:3,className:t.paddingTop,children:Object(I.jsxs)(g.a,{className:t.formControl,children:[Object(I.jsx)(y.a,{children:n.isAssigned.title}),Object(I.jsx)(_.a,{value:null===U?"":U,onChange:function(e){var t=e.target.value;J(tt,t),M({type:Ae,payload:{filterType:tt,filterValue:t}})},MenuProps:Dm,children:null===G||void 0===G?void 0:G.map((function(e){return Object(I.jsx)(N.a,{value:e,className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:"".concat(null===e?n.isAssigned.options.all:e?n.isAssigned.options.assigned:n.isAssigned.options.notAssigned)},e)}))})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:4,lg:4,children:Object(I.jsx)(ie.a,{autoComplete:!0,autoSelect:!0,autoHighlight:!0,clearOnEscape:!0,options:F||[],getOptionLabel:function(e){return e.fullName?e.fullName:""},value:K,renderInput:function(e){return Object(I.jsx)(ce.a,Object(D.a)(Object(D.a)({},e),{},{label:n.pic.title,margin:"normal",placeholder:n.pic.placeholder,ref:e.InputProps.ref,onChange:Oe,InputProps:Object(D.a)(Object(D.a)({},e.InputProps),{},{startAdornment:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Ol.a,{position:"start",children:Object(I.jsx)(C.a,{})}),e.InputProps.startAdornment]})})}))},renderOption:function(e){return Object(I.jsxs)("div",{className:t.itemPIC,children:[Object(I.jsx)(Wn.a,{children:Object(I.jsx)(qn.a,{src:e.avatar})}),Object(I.jsx)(zn.a,{primary:e.fullName?e.fullName:"",classes:{primary:t.itemTextPrimary}})]},e.username)},className:t.autoComplete,onChange:function(e,t){return function(e,t){J(Qe,t),M({type:Ie,payload:{filterType:Qe,filterValue:t||null}})}(0,t)}})})]})]})})]}),Object(I.jsx)(W,{notify:j,setNotify:m})]})}var Fm=r.a.memo(Mm),Ym=a(147),Em=a(381),Hm=a.n(Em),Lm=["children","classes","onClose"],Km=Object(j.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,s=Object(bt.a)(e,Lm);return Object(I.jsxs)(pt.a,Object(D.a)(Object(D.a)({disableTypography:!0,className:a.root},s),{},{children:[Object(I.jsx)(x.a,{variant:"h6",children:t}),n?Object(I.jsx)(ht.a,{"aria-label":"close",className:a.closeButton,onClick:n,children:Object(I.jsx)(C.k,{})}):null]}))}));function Wm(e){var t,a,n,s=e.open,r=e.onClose,c=e.data,i=e.refreshAPI,l=e.setNotify,o=vj.headers,d=vj.operations,u=ar().params,j=u.listFilters,m=u.page,b=u.limit,p=u.column,h=u.direction,x=u.searchKey,v=function(e){(function(e){return Es.apply(this,arguments)})(e).then((function(e){i(m,b,p,h,x,j),l({isOpen:!0,message:"Removed successfully",type:"success"}),r()})).catch((function(e){e.response&&(console.log(e),l({isOpen:!1,message:"Removed failed",type:"error"}))}))};return Object(I.jsxs)(xt.a,{open:s,onClose:r,children:[Object(I.jsx)(Km,{onClose:r,children:o.confirm}),Object(I.jsx)(yt.a,{children:Object(I.jsx)(ho.a,{className:Hm.a.dialogText,children:(t=null===c||void 0===c?void 0:c.level,a=null===c||void 0===c?void 0:c.schoolName,n=null===c||void 0===c?void 0:c.schoolYear,Object(I.jsxs)(I.Fragment,{children:["Do you really want to remove",Object(I.jsx)("strong",{children:Object(I.jsxs)("em",{children:[" ",t," ",a," "]})}),"from list of tasks in ",Object(I.jsx)("strong",{children:n}),"?",Object(I.jsx)("br",{}),"This process cannot be undone."]}))})}),Object(I.jsxs)(wt.a,{children:[Object(I.jsx)(O.a,{className:Hm.a.btnRemove,onClick:function(){return v(null===c||void 0===c?void 0:c.id)},autoFocus:!0,children:d.remove}),Object(I.jsx)(O.a,{onClick:r,children:d.cancel})]})]})}var qm=r.a.memo(Wm),zm=a(467),Um=a.n(zm),Gm=["children","classes","onClose"],Zm=Object(j.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,s=Object(bt.a)(e,Gm);return Object(I.jsxs)(pt.a,Object(D.a)(Object(D.a)({disableTypography:!0,className:a.root},s),{},{children:[Object(I.jsx)(x.a,{variant:"h6",children:t}),n?Object(I.jsx)(ht.a,{"aria-label":"close",className:a.closeButton,onClick:n,children:Object(I.jsx)(C.k,{})}):null]}))}));function Qm(e){var t,a,n,s,r=e.open,c=e.onClose,i=e.data,l=vj.headers,o=vj.operations;return Object(I.jsxs)(xt.a,{open:r,onClose:c,children:[Object(I.jsx)(Zm,{onClose:c,children:l.cannot}),Object(I.jsx)(yt.a,{children:Object(I.jsx)(ho.a,{className:Um.a.dialogText,children:(t=null===i||void 0===i?void 0:i.level,a=null===i||void 0===i?void 0:i.schoolName,n=null===i||void 0===i?void 0:i.schoolYear,s=null===i||void 0===i?void 0:i.fullName,Object(I.jsxs)(I.Fragment,{children:["You cannot remove",Object(I.jsx)("strong",{children:Object(I.jsxs)("em",{children:[" ",t," ",a," "]})}),"from list of tasks in ",Object(I.jsx)("strong",{children:n}),".",Object(I.jsx)("br",{}),"This task has been assigning to ",Object(I.jsx)("strong",{children:s}),"."]}))})}),Object(I.jsx)(wt.a,{children:Object(I.jsx)(O.a,{disableElevation:!0,autoFocus:!0,onClick:c,children:o.ok})})]})}var Jm=r.a.memo(Qm),Xm=a(382),$m=a.n(Xm),eb=["children","classes","onClose"],tb=Object(j.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,s=Object(bt.a)(e,eb);return Object(I.jsxs)(pt.a,Object(D.a)(Object(D.a)({disableTypography:!0,className:a.root},s),{},{children:[Object(I.jsx)(x.a,{variant:"h6",children:t}),n?Object(I.jsx)(ht.a,{"aria-label":"close",className:a.closeButton,onClick:n,children:Object(I.jsx)(C.k,{})}):null]}))}));function ab(e){var t,a,n,s=e.open,r=e.onClose,c=e.data,i=e.refreshAPI,l=e.setNotify,o=vj.headers,d=vj.operations,u=ar().params,j=u.listFilters,m=u.page,b=u.limit,p=u.column,h=u.direction,x=u.searchKey;return Object(I.jsxs)(xt.a,{open:s,onClose:r,children:[Object(I.jsx)(tb,{onClose:r,children:o.confirmUnassign}),Object(I.jsx)(yt.a,{children:Object(I.jsx)(ho.a,{className:$m.a.dialogText,children:(t=null===c||void 0===c?void 0:c.fullName,a=null===c||void 0===c?void 0:c.level,n=null===c||void 0===c?void 0:c.schoolName,Object(I.jsxs)(I.Fragment,{children:["Do you really want to unassign",Object(I.jsxs)("strong",{children:[" ",t," "]})," for",Object(I.jsx)("strong",{children:Object(I.jsxs)("em",{children:[" ",a," ",n," "]})}),"?",Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),"This process cannot be undone."]}))})}),Object(I.jsxs)(wt.a,{children:[Object(I.jsx)(O.a,{className:$m.a.btnOK,onClick:function(){(function(e){return Gs.apply(this,arguments)})(null===c||void 0===c?void 0:c.id).then((function(e){i(m,b,p,h,x,j),l({isOpen:!0,message:"Unassigned successfully",type:"success"}),r()})).catch((function(e){l({isOpen:!1,message:"Unassigned failed",type:"error"})}))},autoFocus:!0,children:d.save}),Object(I.jsx)(O.a,{onClick:r,children:d.cancel})]})]})}var nb=r.a.memo(ab),sb=a(700),rb=a(713),cb=a(708),ib=2e6,lb=function(e,t){var a=[];if(t([]),e>0&&e<10)a.push(1e5*e),1e6*e<=ib&&a.push(1e6*e),a.push(ib),t(a);else if(e>=10&&e<100)console.log("10 <= inputPrice < 100"),a.push(1e4*e),1e5*e<=ib&&a.push(1e5*e),a.push(ib),t(a);else if(e>=100&&e<1e3)console.log("100 < inputPrice <= 1000"),a.push(1e3*e),1e4*e<=ib&&a.push(1e4*e),a.push(ib),t(a);else if(e>=1e3&&e<1e4){console.log("1000 < inputPrice <= 10.000");var n=parseInt(String(e).substring(0,3));a.push(1e3*n),1e3*e<=ib&&a.push(1e3*e),a.push(ib),t(a)}else if(e>=1e4&&e<2e4){console.log("10.000 < inputPrice <= 20.000");var s=parseInt(String(e).substring(0,3)),r=parseInt(String(e).substring(0,4));a.push(1e3*s),1e3*r<=ib&&a.push(1e3*r),a.push(ib),t(a)}else if(e>=2e4){console.log("inputPrice > 20.000");var c=parseInt(String(e).charAt(0)),i=parseInt(String(e).substring(0,3)),l=parseInt(String(e).substring(0,4));c>2||2===c?(a.push(1e5*c),1e5*c!==1e3*i&&a.push(1e3*i),a.push(ib)):1===c&&(a.push(1e5*c),1e5*c!==1e3*l&&a.push(1e3*l),a.push(ib)),t(a)}else a.push(1e6),a.push(15e5),a.push(ib),t(a)},ob=a(310),db=a(153),ub=a.n(db),jb=Dt.b().shape({classNumber:Dt.a("Number of classes must be a number").integer("Number of classes must be an integer").min(1,"Minimum 1 class").max(100,"Maximum 100 classes").required("Number of classes is required"),studentNumber:Dt.a("Number of students must be a number").integer("Number of students must be an integer").min(1,"Minimum 1 student").max(100,"Maximum 100 students").required("Number of students is required"),slotNumber:Dt.a("Number of periods must be a number").integer("Number of periods must be an integer").min(1,"Minimum 1 period").max(10,"Maximum 10 periods").required("Number of periods is required"),pricePerSlot:Dt.a("Price floor must be a number").min(1e5,"Minimum price is 100.000VND").max(2e6,"Maximum price is 2.000.000VND").required("Price floor is required"),note:Dt.d().trim()});new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"});var mb=function(e){var t=e.onClose,a=e.taskId,n=(e.schoolId,e.schoolLevel),r=(e.schoolStatus,e.refreshPage),c=vj.operations,i=vj.fields,l=gs().user,u=qa().userInfo,j=Object(cn.b)().enqueueSnackbar,m=Object(o.h)(),b=ar(),p=b.serviceTypes,_=b.params,N=_.listFilters,C=_.page,w=_.limit,S=_.column,k=_.direction,T=_.searchKey,P=Object(s.useState)([]),V=Object(d.a)(P,2),R=V[0],A=V[1],B=Object(s.useState)(!1),M=Object(d.a)(B,2),F=M[0],Y=M[1],E=Object(s.useState)([]),H=Object(d.a)(E,2),L=H[0],K=H[1],W={startDate:new Date,endDate:new Date((new Date).getFullYear((new Date).getFullYear()+1)),serviceType:sa,classNumber:0,studentNumber:0,slotNumber:0,pricePerSlot:1e5,note:""},q=Object(Tt.c)({resolver:Object(Pt.a)(jb),defaultValues:W}),z=q.control,U=q.errors,G=q.handleSubmit,Z=q.formState,Q=q.reset;q.getValues,Object(s.useEffect)((function(){$s().then((function(e){return A(e.list)}))}),[]);var J=function(e){var t=Object(re.a)(p);return e!==Gt&&t.splice(t.indexOf(ca),1),t}(n);return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(yt.a,{className:ub.a.dialogCont,children:Object(I.jsx)("form",{noValidate:!0,children:Object(I.jsxs)(f.a,{container:!0,spacing:2,className:ub.a.wrapper,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:[Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",children:[Object(I.jsx)(h.a,{flexGrow:1,display:"flex",flexDirection:"row",children:Object(I.jsx)(v.a,{title:'Service "To\xe1n Khoa" only available for schools which are "Ti\u1ec3u h\u1ecdc"',placement:"right-end",children:Object(I.jsx)(y.a,{children:i.service.title})})}),Object(I.jsx)(h.a,{children:Object(I.jsx)(sb.a,{onClickAway:function(){return Y(!1)},children:Object(I.jsx)(v.a,{interactive:!0,title:gj(),placement:"bottom-end",open:F,onClose:function(){return Y(!1)},disableFocusListener:!0,disableHoverListener:!0,children:Object(I.jsx)("div",{onClick:function(){return Y(!0)},children:Object(I.jsx)(Ym.a,{className:ub.a.iconInfo})})})})})]}),Object(I.jsx)(Tt.a,{name:"serviceType",control:z,render:function(e){var t=e.value,a=e.onChange;return Object(I.jsx)(_t.a,{value:t,onChange:a,row:!0,children:Object(I.jsx)(f.a,{container:!0,xs:12,sm:12,md:12,lg:12,children:J.map((function(e){return Object(I.jsx)(f.a,{item:!0,xs:3,sm:3,md:3,lg:3,children:Object(I.jsx)(Nt.a,{control:Object(I.jsx)(Ct.a,{}),label:e,value:e})},e)}))})})}})]}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsx)(Tt.a,{name:"duration",control:z,defaultValue:[new Date,new Date((new Date).setFullYear((new Date).getFullYear()+1))],render:function(e){var t=e.value,a=e.onChange;return Object(I.jsx)(Pm,{dateRange:t,handleDateRangeChange:a,startLabel:"Valid from",endLabel:"Valid until",isFilter:!1})}})}),Object(I.jsx)(f.a,{item:!0,xs:7,sm:6,md:6,lg:6,children:Object(I.jsx)(Tt.a,{name:"classNumber",control:z,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:i.classNo.title,variant:"outlined",type:"number",required:!0,value:a,onChange:n,InputProps:{endAdornment:Object(I.jsx)(Ol.a,{position:"end",children:i.classNo.adornment}),inputProps:{min:1,max:100}},error:!!U.classNumber,helperText:(null===U||void 0===U?void 0:U.classNumber)?null===U||void 0===U||null===(t=U.classNumber)||void 0===t?void 0:t.message:i.classNo.helper})}})}),Object(I.jsx)(f.a,{item:!0,xs:7,sm:6,md:6,lg:6,children:Object(I.jsx)(Tt.a,{name:"studentNumber",control:z,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:i.studentNumber.title,variant:"outlined",type:"number",required:!0,value:a,onChange:n,InputProps:{endAdornment:Object(I.jsx)(Ol.a,{position:"end",children:i.studentNumber.adornment}),inputProps:{min:1,max:100}},error:!!U.studentNumber,helperText:(null===U||void 0===U?void 0:U.studentNumber)?null===U||void 0===U||null===(t=U.studentNumber)||void 0===t?void 0:t.message:i.studentNumber.helper})}})}),Object(I.jsx)(f.a,{item:!0,xs:7,sm:6,md:6,lg:6,children:Object(I.jsx)(g.a,{errors:!0,children:Object(I.jsx)(Tt.a,{name:"pricePerSlot",control:z,render:function(t){var a,n=t.value,s=t.onChange;return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsxs)(g.a,{variant:"outlined",required:!0,children:[Object(I.jsx)(y.a,{htmlFor:"component-disabled",children:i.price.title}),Object(I.jsx)(ob.a,Object(D.a)(Object(D.a)({},e),{},{id:"component-disabled",value:n,customInput:rb.a,isNumericString:!0,type:"text",thousandSeparator:".",decimalSeparator:",",onValueChange:function(e){var t=e.floatValue;s(t),lb(t,K)}})),Object(I.jsx)(cb.a,{className:(null===U||void 0===U?void 0:U.pricePerSlot)?ub.a.helper:ub.a.normal,children:(null===U||void 0===U?void 0:U.pricePerSlot)?null===U||void 0===U||null===(a=U.pricePerSlot)||void 0===a?void 0:a.message:i.price.helper})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:L.map((function(e,t){return Object(I.jsx)(O.a,{variant:"outlined",size:"small",color:"secondary",onClick:function(t){return s(e)},className:ub.a.suggestions,children:new Intl.NumberFormat("vi-VN").format(e)},t)}))})]})})}})})}),Object(I.jsx)(f.a,{item:!0,xs:7,sm:6,md:6,lg:6,children:Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsx)(Tt.a,{name:"slotNumber",control:z,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:i.slotNumber.title,variant:"outlined",type:"number",required:!0,value:a,onChange:function(e){return n(e.target.value)},InputProps:{endAdornment:Object(I.jsx)(Ol.a,{position:"end",children:i.slotNumber.adornment}),inputProps:{min:0,max:10}},error:!!U.slotNumber,helperText:(null===U||void 0===U?void 0:U.slotNumber)?null===U||void 0===U||null===(t=U.slotNumber)||void 0===t?void 0:t.message:i.slotNumber.helper})}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsx)(v.a,{title:Object(I.jsx)(x.a,{variant:"caption",children:i.revenue.formula}),arrow:!0,interactive:!0,children:Object(I.jsx)(x.a,{variant:"body1",children:Object(I.jsx)("span",{className:ub.a.txtRevenue})})})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsx)(Tt.a,{name:"note",control:z,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:i.note.title,variant:"outlined",fullWidth:!0,multiline:!0,rows:5,value:a,onChange:n,error:!!U.note,helperText:null===U||void 0===U||null===(t=U.note)||void 0===t?void 0:t.message})}})})]})})}),Object(I.jsxs)(wt.a,{className:ub.a.dialogAct,children:[Object(I.jsx)(O.a,{className:ub.a.btnSave,disabled:!Z.isDirty,onClick:G((function(e){console.log("duration = ",null===e||void 0===e?void 0:e.duration);var n=Object(D.a)(Object(D.a)({},e),{},{taskId:a,submitDate:_e(new Date,"YYYY-MM-DD HH:mm:ss"),startDate:(null===e||void 0===e?void 0:e.duration[0])?_e(null===e||void 0===e?void 0:e.duration[0],"YYYY-MM-DD HH:mm:ss"):_e(new Date,"YYYY-MM-DD HH:mm:ss"),endDate:(null===e||void 0===e?void 0:e.duration[1])?_e(null===e||void 0===e?void 0:e.duration[1],"YYYY-MM-DD HH:mm:ss"):_e(new Date((new Date).getFullYear((new Date).getFullYear()+1)),"YYYY-MM-DD HH:mm:ss"),serviceType:(null===e||void 0===e?void 0:e.serviceType)?null===e||void 0===e?void 0:e.serviceType:sa,classNumber:parseInt((null===e||void 0===e?void 0:e.classNumber)?null===e||void 0===e?void 0:e.classNumber:"0",10),studentNumber:parseInt((null===e||void 0===e?void 0:e.studentNumber)?null===e||void 0===e?void 0:e.studentNumber:"0",10),slotNumber:parseInt((null===e||void 0===e?void 0:e.slotNumber)?null===e||void 0===e?void 0:e.slotNumber:"0",10),pricePerSlot:parseFloat((null===e||void 0===e?void 0:e.pricePerSlot)?null===e||void 0===e?void 0:e.pricePerSlot:"0.0")});delete n.duration;Js(n).then((function(e){var a;r(C,w,S,k,T,N,l.username),j("Created service successfully",{variant:"success"}),a=e.data,R&&(null===R||void 0===R?void 0:R.length)>0&&new Promise((function(e,t){var n;rn.database().ref("notify").child(null===(n=R[0])||void 0===n?void 0:n.username).push({avatar:(null===u||void 0===u?void 0:u.avatar)?null===u||void 0===u?void 0:u.avatar:"",actor:null===l||void 0===l?void 0:l.username,type:"service",timestamp:ye()(new Date).format("YYYY-MM-DD HH:mm:ss"),content:"A service has just been submited.",uid:a,isSeen:!1})})),t()})).catch((function(e){e.response&&(console.log(e),m.push({pathname:"/errors",state:{error:e.response.status}})),j("Created service failed",{variant:"error"})}))})),children:c.save}),Object(I.jsx)(O.a,{onClick:function(){Q({errors:!1}),t()},children:c.cancel})]})]})},bb=["children","classes","onClose"],pb=Object(j.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,s=Object(bt.a)(e,bb);return Object(I.jsxs)(pt.a,Object(D.a)(Object(D.a)({disableTypography:!0,className:a.root},s),{},{children:[Object(I.jsx)(x.a,{variant:"h6",children:t}),n?Object(I.jsx)(ht.a,{className:a.closeButton,onClick:n,children:Object(I.jsx)(C.k,{})}):null]}))}));var hb=function(e){var t=e.open,a=e.onClose,n=e.refreshPage,s=e.taskId,r=e.schoolId,c=e.schoolName,i=e.schoolLevel,l=e.schoolStatus,o=vj.headers;return Object(I.jsxs)(xt.a,{open:t,onClose:a,maxWidth:"sm",children:[Object(I.jsx)(pb,{onClose:a,children:"".concat(o.createServices," ").concat(i," ").concat(c)}),Object(I.jsx)(mb,{onClose:a,taskId:s,schoolId:r,schoolLevel:i,schoolStatus:l,schoolName:c,refreshPage:n})]})},xb=a(138),vb=a.n(xb);var Ob=function(e){var t=e.data,a=e.refreshAPI,n=e.setNotify,r=cj.menuItems,c=Object(s.useState)(null),i=Object(d.a)(c,2),u=i[0],j=i[1],m=Object(s.useState)(!1),b=Object(d.a)(m,2),p=b[0],h=b[1],x=Object(s.useState)(!1),O=Object(d.a)(x,2),f=O[0],g=O[1],y=Object(s.useState)(!1),_=Object(d.a)(y,2),w=_[0],S=_[1],k=Object(s.useState)(!1),T=Object(d.a)(k,2),P=T[0],D=T[1],V=Object(s.useState)([t]),R=Object(d.a)(V,2),A=R[0],B=R[1],M=gs().user,F=ar().params,Y=Object(o.k)().url,E={model:t,params:F};console.log("task data: ",t);var H=function(){j(null)},L=function(){return(null===t||void 0===t?void 0:t.fullName)?Object(I.jsx)(nb,{setNotify:n,open:w,onClose:function(){return S(!1)},data:t,refreshAPI:a}):(null===t||void 0===t?void 0:t.fullName)?void 0:Object(I.jsx)(Yj,{setNotify:n,open:f,onClose:function(){return g(!1)},rows:A,setRows:B,refreshAPI:a})};return Object(I.jsxs)("div",{children:[Object(I.jsx)(v.a,{title:"Actions",children:Object(I.jsx)(ht.a,{color:"primary",onClick:function(e){j(e.currentTarget)},children:Object(I.jsx)(C.K,{})})}),Object(I.jsxs)(Gn.a,{anchorEl:u,keepMounted:!0,open:!!u,onClose:H,children:[Object(I.jsxs)(N.a,{onClick:H,component:l.b,to:{pathname:"".concat(Y,"/").concat(t.id),state:{data:E}},children:[Object(I.jsx)(Zn.a,{className:vb.a.itemIcon,children:Object(I.jsx)(C.A,{fontSize:"large"})}),Object(I.jsx)(zn.a,{className:vb.a.itemText,children:r.details.title})]}),M.roles[0]===Ht&&(null===t||void 0===t?void 0:t.schoolStatus)!==zt&&(null===t||void 0===t?void 0:t.purpose)!==ha.purp3&&"TBD"===(null===t||void 0===t?void 0:t.result)&&Object(I.jsxs)("div",{children:[Object(I.jsxs)(N.a,{onClick:function(){D(!0),j(null)},children:[Object(I.jsx)(Zn.a,{className:vb.a.itemIcon,children:Object(I.jsx)(C.L,{fontSize:"large"})}),Object(I.jsx)(zn.a,{className:vb.a.itemText,children:r.services.title})]}),Object(I.jsx)(hb,{open:P,onClose:function(){return D(!1)},refreshPage:a,taskId:null===t||void 0===t?void 0:t.id,schoolId:null===t||void 0===t?void 0:t.schoolId,schoolLevel:null===t||void 0===t?void 0:t.level,schoolName:null===t||void 0===t?void 0:t.schoolName,schoolStatus:null===t||void 0===t?void 0:t.schoolStatus,setNotify:n})]}),M.roles[0]!==Ht&&Object(I.jsxs)("div",{children:[Object(I.jsxs)(N.a,{onClick:function(){j(null),h(!0)},children:[Object(I.jsx)(Zn.a,{className:vb.a.itemIcon,children:Object(I.jsx)(C.o,{fontSize:"large"})}),Object(I.jsx)(zn.a,{className:vb.a.itemText,children:r.remove.title})]}),(null===t||void 0===t?void 0:t.fullName)?Object(I.jsx)(Jm,{open:p,onClose:function(){return h(!1)},data:t}):Object(I.jsx)(qm,{open:p,onClose:function(){return h(!1)},data:t,refreshAPI:a,setNotify:n})]}),M.roles[0]!==Ht&&(null===t||void 0===t?void 0:t.fullName)&&Object(I.jsxs)("div",{children:[Object(I.jsxs)(N.a,{onClick:function(){S(!0),j(null)},children:[Object(I.jsx)(Zn.a,{className:vb.a.itemIcon,children:Object(I.jsx)(Ym.c,{})}),Object(I.jsx)(zn.a,{className:vb.a.itemText,children:r.unassign.title})]}),L()]}),M.roles[0]!==Ht&&!(null===t||void 0===t?void 0:t.fullName)&&Object(I.jsxs)("div",{children:[Object(I.jsxs)(N.a,{onClick:function(){g(!0),j(null)},children:[Object(I.jsx)(Zn.a,{className:vb.a.itemIcon,children:Object(I.jsx)(C.N,{})}),Object(I.jsx)(zn.a,{className:vb.a.itemText,children:r.assign.title})]}),L()]})]})]})},fb=a(67),gb=a.n(fb);function yb(e){var t=e.user,a=e.columns,n=e.direction,s=e.column,r=e.onRequestSort,c=e.numSelected,i=e.rowCount,l=e.onSelectAllClick,o=Object(j.a)({root:{color:"white !important","&:hover":{color:"white !important"},"&$active":{color:"white !important"}},active:{},icon:{color:"white !important"}})(Bn.a);return Object(I.jsx)(Mn.a,{children:Object(I.jsxs)(Fn.a,{className:gb.a.tHead,children:[t.roles[0]!==Ht&&Object(I.jsx)(Yn.a,{padding:"checkbox",className:gb.a.tHeadCell,children:Object(I.jsx)(dd.a,{indeterminate:c>0&&c<i,checked:i>0&&c===i,onChange:l})}),a.map((function(e){return Object(I.jsx)(Yn.a,{className:gb.a.tHeadCell,sortDirection:s===e.key&&n,align:"no"===e.key||"user.fullName"===e.key?"center":"left",width:t.roles[0]!==Ht?e.width1:e.width2,children:(null===e||void 0===e?void 0:e.sortable)?Object(I.jsx)(o,{active:s===e.key,direction:s===e.key?n:"asc",onClick:function(){return function(e,t){r(e,t)}(e,n)},children:e.name}):e.name},e.key)}))]})})}function _b(e){var t=Object(An.a)(),a=e.count,n=e.page,s=e.rowsPerPage,r=e.totalPage,c=e.onChangePage;return Object(I.jsxs)("div",{className:gb.a.paging,children:[Object(I.jsx)(ht.a,{onClick:function(e){c(e,0)},disabled:0===n,"aria-label":"first page",children:"rtl"===t.direction?Object(I.jsx)(C.E,{}):Object(I.jsx)(C.x,{})}),Object(I.jsx)(ht.a,{onClick:function(e){c(e,n-1)},disabled:0===n,"aria-label":"previous page",children:"rtl"===t.direction?Object(I.jsx)(C.D,{}):Object(I.jsx)(C.C,{})}),Object(I.jsxs)("span",{children:[n+1," / ",r]}),Object(I.jsx)(ht.a,{onClick:function(e){c(e,n+1)},disabled:n>=Math.ceil(a/s)-1,"aria-label":"next page",children:"rtl"===t.direction?Object(I.jsx)(C.C,{}):Object(I.jsx)(C.D,{})}),Object(I.jsx)(ht.a,{onClick:function(e){c(e,Math.ceil(a/s)-1)},disabled:n>=Math.ceil(a/s)-1,"aria-label":"last page",children:"rtl"===t.direction?Object(I.jsx)(C.x,{}):Object(I.jsx)(C.E,{})})]})}var Nb=Object(u.a)((function(){return{itemPIC:{padding:0,margin:0},itemTextLarge:{fontSize:"1rem"},itemTextMedium:{fontSize:"0.875rem"},itemTextSmall:{fontSize:"0.8rem"}}}));function Cb(e){var t,a=Nb(),n=e.selectedRows,s=e.setSelectedRows,c=e.rows,i=e.totalRecord,l=e.totalPage,o=e.refreshAPI,u=cj.messages,j=r.a.useState({isOpen:!1,message:"",type:""}),m=Object(d.a)(j,2),b=m[0],p=m[1],h=ar(),x=h.params,v=h.dispatchParams,O=h.limit,f=h.direction,g=h.column,y=h.setColumn,_=h.setLimit,N=h.setPage,C=h.setDirection,w=gs().user,S=function(e){var t=aj[0],a=aj[1],n=aj[2],s=aj[3],r=aj[4],c=aj[5],i=aj[6];switch(e){case Yt:case Et:return[t,a,n,s,r,c,i];case Ht:return[t,a,s,r,c,i]}}(null===w||void 0===w?void 0:w.roles[0]),k=function(e){return-1!==n.indexOf(e)},T=function(e,t){s([]),N(t),v({type:Ue,payload:{page:t,limit:x.limit}})},P=function(e){switch(e){case ha.purp1:return Object(I.jsx)(Se.a,{label:e,className:gb.a.chipSalesMoi});case ha.purp3:return Object(I.jsx)(Se.a,{label:e,className:gb.a.chipChamSoc});case ha.purp4:return Object(I.jsx)(Se.a,{label:e,className:gb.a.chipTaiKy});case ha.purp5:return Object(I.jsx)(Se.a,{label:e,className:gb.a.chipKyMoi});default:return Object(I.jsx)(Se.a,{label:e})}},D=function(e,t){if(!t)return Object(I.jsx)(Se.a,{label:na});switch(e){case Xt:return Object(I.jsx)(Se.a,{label:ta,className:gb.a.chipSuccess});case Jt:return Object(I.jsx)(Se.a,{label:ea,className:gb.a.chipOnGoing});case $t:return Object(I.jsx)(Se.a,{label:aa,className:gb.a.chipFailed})}};return Object(I.jsxs)("div",{className:gb.a.wrapper,children:[Object(I.jsx)(En.a,{className:gb.a.container,component:"div",children:Object(I.jsxs)(Hn.a,{className:gb.a.table,stickyHeader:!0,size:"small","aria-label":"sticky table",children:[Object(I.jsx)(yb,{user:w,columns:S,direction:f,column:g,onRequestSort:function(e,t){e.sortable&&(C("desc"===t?"asc":"desc"),y(e.key),v({type:ze,payload:{column:e.key,direction:t}}))},onSelectAllClick:function(e){if(e.target.checked){var t=c.filter((function(e){return!(null===e||void 0===e?void 0:e.username)}));s(t)}else s([])},rowCount:null===c||void 0===c||null===(t=c.filter((function(e){return!e.username})))||void 0===t?void 0:t.length,numSelected:null===n||void 0===n?void 0:n.length}),Object(I.jsx)(Ln.a,{className:gb.a.tBody,children:(null===c||void 0===c?void 0:c.length)>0?c.map((function(e,t){return Object(I.jsxs)(Fn.a,{className:gb.a.tBodyRow,role:"checkbox","aria-checked":k(e),tabIndex:-1,selected:k(e),children:[w.roles[0]!==Ht&&Object(I.jsx)(Yn.a,{padding:"checkbox",onClick:function(t){!(null===e||void 0===e?void 0:e.username)&&function(e,t){var a=n.indexOf(t),r=[];-1===a?r=r.concat(n,t):0===a?r=r.concat(n.slice(1)):a===n.length-1?r=r.concat(n.slice(0,-1)):a>0&&(r=r.concat(n.slice(0,a),n.slice(a+1))),s(r)}(0,e)},children:Object(I.jsx)(dd.a,{checked:!(null===e||void 0===e?void 0:e.username)&&k(e),disabled:!!(null===e||void 0===e?void 0:e.username)})}),Object(I.jsx)(Yn.a,{className:gb.a.tBodyCell,align:"center",children:x.page*x.limit+t+1}),Object(I.jsx)(Yn.a,{className:gb.a.tBodyCell,children:Object(I.jsx)(zn.a,{primary:Object(I.jsxs)(I.Fragment,{children:["".concat(null===e||void 0===e?void 0:e.level," "),Object(I.jsx)(es.a,{highlightClassName:"YourHighlightClass",searchWords:[x.searchKey],autoEscape:!0,textToHighlight:(null===e||void 0===e?void 0:e.schoolName)||""})]}),secondary:null===e||void 0===e?void 0:e.district,classes:{primary:a.itemTextLarge,secondary:a.itemTextMedium}})}),w.roles[0]!==Ht&&Object(I.jsx)(Yn.a,{className:gb.a.tBodyCell,children:(null===e||void 0===e?void 0:e.fullName)&&Object(I.jsxs)(Kn.a,{className:gb.a.itemPIC,children:[Object(I.jsx)(Wn.a,{children:Object(I.jsx)(qn.a,{src:null===e||void 0===e?void 0:e.avatar})}),Object(I.jsx)(zn.a,{className:gb.a.picName,primary:Object(I.jsx)(es.a,{highlightClassName:"YourHighlightClass",searchWords:[x.searchKey],autoEscape:!0,textToHighlight:(null===e||void 0===e?void 0:e.fullName)||""}),secondary:Object(I.jsx)(es.a,{highlightClassName:"YourHighlightClass",searchWords:[x.searchKey],autoEscape:!0,textToHighlight:(null===e||void 0===e?void 0:e.username)||""}),classes:{primary:a.itemTextMedium,secondary:a.itemTextSmall}})]})}),Object(I.jsx)(Yn.a,{className:gb.a.tBodyCell,children:(null===e||void 0===e?void 0:e.purpose)&&P(null===e||void 0===e?void 0:e.purpose)}),Object(I.jsx)(Yn.a,{className:gb.a.tBodyCellDuration,children:(null===e||void 0===e?void 0:e.result)===Jt?Object(I.jsx)(we,{startDate:null===e||void 0===e?void 0:e.assignDate,endDate:null===e||void 0===e?void 0:e.endDate,marker:new Date}):Object(I.jsxs)(I.Fragment,{children:[(null===e||void 0===e?void 0:e.assignDate)?_e(null===e||void 0===e?void 0:e.assignDate,"DD-MM-YYYY"):"?","\u279c \xa0",_e(null===e||void 0===e?void 0:e.endDate,"DD-MM-YYYY")]})}),Object(I.jsx)(Yn.a,{className:gb.a.tBodyCell,children:D(null===e||void 0===e?void 0:e.result,null===e||void 0===e?void 0:e.username)}),Object(I.jsx)(Yn.a,{className:gb.a.tBodyCell,align:"right",children:Object(I.jsx)(Ob,{data:e,notify:b,setNotify:p,refreshAPI:o})})]},null===e||void 0===e?void 0:e.id)})):Object(I.jsx)(Fn.a,{className:gb.a.tBodyRow,children:Object(I.jsx)(Yn.a,{className:gb.a.noRecord,component:"td",colSpan:"100%",children:u.notFound})})})]})}),Object(I.jsx)(Un.a,{rowsPerPageOptions:[10,20,50],component:"div",count:i||0,rowsPerPage:O,page:x.page,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:T,onChangeRowsPerPage:function(e){_(parseInt(e.target.value,10)),N(0),v({type:Ue,payload:{page:0,limit:parseInt(e.target.value,10)}})},ActionsComponent:function(){return Object(I.jsx)(_b,{count:i||0,page:x.page,rowsPerPage:x.limit,totalPage:l,onChangePage:T})}}),Object(I.jsx)(W,{notify:b,setNotify:p})]})}var wb=r.a.memo(Cb),Sb=a(383),Ib=a.n(Sb);var kb=function(){var e=Object(o.h)(),t=r.a.useState([]),a=Object(d.a)(t,2),n=a[0],c=a[1],i=ar().params,l=i.listFilters,u=i.page,j=i.limit,m=i.column,b=i.direction,p=i.searchKey,h=gs().user,x=Object(s.useState)(null),v=Object(d.a)(x,2),O=v[0],f=v[1];function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"assignDate",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"desc",r=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0;Rs(t,a,n,s,r,c,i).then((function(e){f(e)})).catch((function(t){t.response&&(console.log(t),e.push({pathname:"/errors",state:{error:t.response.status}}))}))}return Object(s.useEffect)((function(){h.roles[0]===Ht?g(u,j,m,b,p,l,h.username):g(u,j,m,b,p,l)}),[i]),O?Object(I.jsxs)("div",{className:Ib.a.panel,children:[Object(I.jsx)(Fm,{className:Ib.a.filter,selectedRows:n,setSelectedRows:c,refreshAPI:g}),Object(I.jsx)(wb,{selectedRows:n,setSelectedRows:c,rows:O.list,totalRecord:O.totalElements,totalPage:O.totalPage,refreshAPI:g})]}):Object(I.jsx)(se,{})},Tb={child1:"School Detail",child2:"School Status",child3:"Principal Detail",child4:"Salesman Note"},Pb={cancel:"Cancel",save:"Save"},Db={empty:{title:"N/A"},name:{title:"School Name"},addr:{title:"Address"},dist:{title:"District"},eduLvl:{title:"Educational Level"},type:{title:"School Type"},salesStatus:{title:"School Status"},tel:{title:"Tel"},des:{title:"Description"},reprName:{title:"Full Name"},reprIsMale:{title:"Gender",male:{lb:"Male",value:"true"},female:{lb:"Female",value:"false"}},reprEmail:{title:"Email"},reprPhone:{title:"Phone"},pic:{title:"PIC"},purpose:{title:"Sales Purpose"},schlYear:{title:"School Year"},note:{title:"Manager Note",hasNote:"Last note by",noNote:"No notes yet"}},Vb=a(31),Rb=a.n(Vb),Ab=Dt.b().shape({reprName:Dt.d().trim().min(4,"Full name must be at least 4 characters").max(30,"Name must be at most 30 characters"),reprPhone:Dt.d().max(10,"Phone must be at most 10 digits").matches(Qa,{message:"Phone number is in wrong format (03|5|7|9xxxxxxxx)",excludeEmptyString:!0}),reprEmail:Dt.d().trim().email("Invalid email")}),Bb=Object(u.a)((function(e){return{root:{},menuItemRoot:{"&$menuItemSelected":{backgroundColor:"rgba(0, 0, 0, 0.08)"},"&$menuItemSelected:focus":{backgroundColor:"rgba(0, 0, 0, 0.12)"},"&$menuItemSelected:hover":{backgroundColor:"rgba(0, 0, 0, 0.04);"}},menuItemSelected:{}}}));var Mb=function(e){var t=e.task,a=e.refreshPage,n=Tb,r=Pb,c=Db,i=(Bb(),gs().user),l=qa().schStatus,u=l||La(Oa.status),j=Object(o.h)(),m=Object(s.useState)(null===t||void 0===t?void 0:t.schoolStatus),b=Object(d.a)(m,2),p=(b[0],b[1],Object(s.useState)(!1)),h=Object(d.a)(p,2),v=(h[0],h[1],Object(s.useState)(!1)),g=Object(d.a)(v,2),_=(g[0],g[1],Object(s.useState)({isOpen:!1,message:"",type:""})),N=Object(d.a)(_,2),C=N[0],w=N[1],S={reprName:(null===t||void 0===t?void 0:t.reprName)?null===t||void 0===t?void 0:t.reprName:"",reprIsMale:String(null===t||void 0===t?void 0:t.reprIsMale)?String(null===t||void 0===t?void 0:t.reprIsMale):String(!0),reprPhone:(null===t||void 0===t?void 0:t.reprPhone)?null===t||void 0===t?void 0:t.reprPhone:"",reprEmail:(null===t||void 0===t?void 0:t.reprEmail)?null===t||void 0===t?void 0:t.reprEmail:""},k={schoolStatus:(null===t||void 0===t?void 0:t.schoolStatus)?null===t||void 0===t?void 0:t.schoolStatus:u[0]},T=Object(Tt.c)({resolver:Object(Pt.a)(Ab),defaultValues:S}),P=T.control,V=T.errors,R=T.handleSubmit,A=T.formState,B=T.reset,M=Object(Tt.c)({defaultValues:k}),F=(M.control,M.handleSubmit,M.reset);return M.setValue,Object(s.useEffect)((function(){B({reprName:(null===t||void 0===t?void 0:t.reprName)?null===t||void 0===t?void 0:t.reprName:"",reprIsMale:String(null===t||void 0===t?void 0:t.reprIsMale)?String(null===t||void 0===t?void 0:t.reprIsMale):String(!0),reprPhone:(null===t||void 0===t?void 0:t.reprPhone)?null===t||void 0===t?void 0:t.reprPhone:"",reprEmail:(null===t||void 0===t?void 0:t.reprEmail)?null===t||void 0===t?void 0:t.reprEmail:""})}),[t]),Object(s.useEffect)((function(){F({schoolStatus:(null===t||void 0===t?void 0:t.schoolStatus)?null===t||void 0===t?void 0:t.schoolStatus:u[0]})}),[t]),l&&t?Object(I.jsxs)("div",{className:Rb.a.panel,children:[Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Rb.a.body,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Rb.a.content,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Rb.a.wrapper,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Rb.a.row,children:Object(I.jsx)(x.a,{color:"inherit",className:Rb.a.header,children:n.child1})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Rb.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Rb.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Rb.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:Rb.a.title,children:c.name.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:9,lg:8,className:Rb.a.rowx,children:Object(I.jsxs)(x.a,{color:"inherit",children:[null===t||void 0===t?void 0:t.level," ",null===t||void 0===t?void 0:t.schoolName]})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Rb.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Rb.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Rb.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:Rb.a.title,children:c.addr.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:9,lg:8,className:Rb.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:null===t||void 0===t?void 0:t.schoolAddress})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Rb.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Rb.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Rb.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:Rb.a.title,children:c.dist.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:9,lg:8,className:Rb.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:null===t||void 0===t?void 0:t.district})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Rb.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Rb.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Rb.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:Rb.a.title,children:c.type.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:9,lg:8,className:Rb.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:null===t||void 0===t?void 0:t.schoolType})})]})})]})})," ",(null===t||void 0===t?void 0:t.schoolStatus)!==zt?i.roles[0]!==Ht||i.roles[0]===Ht&&i.username!==(null===t||void 0===t?void 0:t.username)?Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Rb.a.content,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Rb.a.wrapper,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Rb.a.row,children:Object(I.jsx)(x.a,{color:"inherit",className:Rb.a.header,children:n.child3})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Rb.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Rb.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Rb.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:Rb.a.title,children:c.reprName.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:9,lg:8,className:Rb.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:(null===t||void 0===t?void 0:t.reprName)?"".concat((null===t||void 0===t?void 0:t.reprIsMale)?"Mr. ":"Ms. "," ").concat(null===t||void 0===t?void 0:t.reprName):c.empty.title})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Rb.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Rb.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Rb.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:Rb.a.title,children:c.reprPhone.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:9,lg:8,className:Rb.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:(null===t||void 0===t?void 0:t.reprPhone)?null===t||void 0===t?void 0:t.reprPhone:c.empty.title})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Rb.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Rb.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Rb.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:Rb.a.title,children:c.reprEmail.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:9,lg:8,className:Rb.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:(null===t||void 0===t?void 0:t.reprEmail)?null===t||void 0===t?void 0:t.reprEmail:c.empty.title})})]})})]})}):Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Rb.a.content,children:Object(I.jsx)("form",{onSubmit:R((function(e){var n=Object(D.a)(Object(D.a)({},e),{},{reprIsMale:"true"===e.reprIsMale});(function(e,t){return Fs.apply(this,arguments)})(null===t||void 0===t?void 0:t.schoolId,n).then((function(e){a(null===t||void 0===t?void 0:t.id),w({isOpen:!0,message:"Updated Successfully",type:"success"})})).catch((function(e){e.response&&(console.log(e),j.push({pathname:"/errors",state:{error:e.response.status}})),w({isOpen:!0,message:"Updated failed",type:"error"})}))})),noValidate:!0,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Rb.a.wrapper,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Rb.a.row,children:Object(I.jsx)(x.a,{color:"inherit",className:Rb.a.header,children:n.child3})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:9,lg:8,className:Rb.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:6,lg:6,className:Rb.a.row,children:Object(I.jsx)(Tt.a,{name:"reprName",control:P,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:c.reprName.title,variant:"outlined",fullWidth:!0,value:a,onChange:n,error:!!V.reprName,helperText:null===V||void 0===V||null===(t=V.reprName)||void 0===t?void 0:t.message})}})}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Rb.a.row,children:[Object(I.jsx)(y.a,{children:c.reprIsMale.title}),Object(I.jsx)(Tt.a,{name:"reprIsMale",control:P,render:function(e){var t=e.value,a=e.onChange;return Object(I.jsxs)(_t.a,{value:t,onChange:a,row:!0,children:[Object(I.jsx)(Nt.a,{label:"Male",value:"true",control:Object(I.jsx)(Ct.a,{})}),Object(I.jsx)(Nt.a,{label:"Female",value:"false",control:Object(I.jsx)(Ct.a,{})})]})}})]}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Rb.a.row,children:Object(I.jsx)(Tt.a,{name:"reprPhone",control:P,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:c.reprPhone.title,variant:"outlined",value:a,onChange:n,error:!!V.reprPhone,helperText:null===V||void 0===V||null===(t=V.reprPhone)||void 0===t?void 0:t.message})}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:6,lg:6,className:Rb.a.row,children:Object(I.jsx)(Tt.a,{name:"reprEmail",control:P,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:c.reprEmail.title,variant:"outlined",fullWidth:!0,value:a,onChange:n,error:!!V.reprEmail,helperText:null===V||void 0===V||null===(t=V.reprEmail)||void 0===t?void 0:t.message})}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Rb.a.action,children:Object(I.jsx)(O.a,{className:Rb.a.submit,variant:"contained",disabled:!A.isDirty,type:"submit",children:r.save})})]})})]})})}):Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Rb.a.content,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Rb.a.wrapper,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Rb.a.row,children:Object(I.jsx)(x.a,{color:"inherit",className:Rb.a.header,children:n.child3})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Rb.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Rb.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Rb.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:Rb.a.title,children:c.reprName.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:9,lg:8,className:Rb.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:(null===t||void 0===t?void 0:t.reprName)?"".concat((null===t||void 0===t?void 0:t.reprIsMale)?"Mr. ":"Ms. "," ").concat(null===t||void 0===t?void 0:t.reprName):c.empty.title})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Rb.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Rb.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Rb.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:Rb.a.title,children:c.reprPhone.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:9,lg:8,className:Rb.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:(null===t||void 0===t?void 0:t.reprPhone)?null===t||void 0===t?void 0:t.reprPhone:c.empty.title})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Rb.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:Rb.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:Rb.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:Rb.a.title,children:c.reprEmail.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:9,lg:8,className:Rb.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:(null===t||void 0===t?void 0:t.reprEmail)?null===t||void 0===t?void 0:t.reprEmail:c.empty.title})})]})})]})})]}),Object(I.jsx)(W,{notify:C,setNotify:w})]}):Object(I.jsx)(se,{})},Fb=(a(94),["children","classes","onClose"]);Dt.b().shape({duration:Dt.d().required("Duartion is required").min(1,"Duartion must be at least 1 digit").max(2,"Duartion must be at most 2 digits").matches(/^([1-9])[\d]*$/g,"Invalid entry"),note:Dt.d().trim()}),Object(u.a)((function(e){return{inputRoot:{"&$disabled":{color:"black"}},disabled:{}}})),Object(j.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,s=Object(bt.a)(e,Fb);return Object(I.jsxs)(pt.a,Object(D.a)(Object(D.a)({disableTypography:!0,className:a.root},s),{},{children:[Object(I.jsx)(x.a,{variant:"h6",children:t}),n?Object(I.jsx)(ht.a,{className:a.closeButton,onClick:n,children:Object(I.jsx)(C.k,{})}):null]}))}));a(53);var Yb={child1:"Task Detail"},Eb={cancel:"Cancel",save:"Save",empty:"Not assigned yet!",restriction:"Sorry, you can't view this!",purpWarning:"New school status has been applied",complete:"Mark as completed",fail:"Mark as failed"},Hb={name:{title:"School Name"},addr:{title:"Address"},dist:{title:"District"},eduLvl:{title:"Educational Level"},type:{title:"School Type"},salesStatus:{title:"School Status"},tel:{title:"Tel"},des:{title:"Description"},reprName:{title:"Principal Name"},reprIsMale:{title:"Principal Gender"},pic:{title:"PIC"},purpose:{title:"Sales Purpose"},schlYear:{title:"School Year"},duration:{title:"Duration"},note:{title:"Manager Note",hasNote:"Last note by",noNote:"No notes yet"}},Lb=a(89),Kb=a.n(Lb),Wb=["children","classes","onClose"],qb=Dt.b().shape({classNumber:Dt.a("Number of classes must be a number").integer("Number of classes must be an integer").min(1,"Minimum 1 class").max(100,"Maximum 100 classes").required("Number of classes is required"),studentNumber:Dt.a("Number of students must be a number").integer("Number of students must be an integer").min(1,"Minimum 1 student").max(100,"Maximum 100 students").required("Number of students is required"),slotNumber:Dt.a("Number of periods must be a number").integer("Number of periods must be an integer").min(1,"Minimum 1 period").max(10,"Maximum 10 periods").required("Number of periods is required"),pricePerSlot:Dt.a("Price floor must be a number").min(1e5,"Minimum price is 100.000VND").max(2e6,"Maximum price is 2.000.000VND").required("Price floor is required"),note:Dt.d().trim()}),zb=(new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}),Object(j.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,s=Object(bt.a)(e,Wb);return Object(I.jsxs)(pt.a,Object(D.a)(Object(D.a)({disableTypography:!0,className:a.root},s),{},{children:[Object(I.jsx)(x.a,{variant:"h6",children:t}),n?Object(I.jsx)(ht.a,{"aria-label":"close",className:a.closeButton,onClick:n,children:Object(I.jsx)(C.k,{})}):null]}))})));var Ub=function(e){var t=e.open,a=e.onClose,n=e.task,r=e.refreshPage,c=vj.headers,i=vj.operations,l=vj.fields,u=Object(cn.b)().enqueueSnackbar,j=gs().user,m=qa().userInfo,b=Object(o.h)(),p=ar().serviceTypes,_=Object(s.useState)(!1),N=Object(d.a)(_,2),C=N[0],w=N[1],S=Object(s.useState)([]),k=Object(d.a)(S,2),T=k[0],P=k[1],V={startDate:new Date,endDate:new Date((new Date).getFullYear((new Date).getFullYear()+1)),serviceType:sa,classNumber:0,studentNumber:0,slotNumber:0,pricePerSlot:1e5,note:""},R=Object(Tt.c)({resolver:Object(Pt.a)(qb),defaultValues:V}),A=R.control,B=R.errors,M=R.handleSubmit,F=R.formState,Y=R.reset,E=(R.getValues,Object(s.useState)([])),H=Object(d.a)(E,2),L=H[0],K=H[1];Object(s.useEffect)((function(){$s().then((function(e){return K(e.list)}))}),[]);var W=function(e){var t=Object(re.a)(p);return e!==Gt&&t.splice(t.indexOf(ca),1),t}(null===n||void 0===n?void 0:n.level);return console.log("listManagers: ",L),Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(xt.a,{open:t,onClose:a,maxWidth:"sm",children:[Object(I.jsx)(zb,{onClose:a,children:c.confirmCompleteTask}),Object(I.jsx)(yt.a,{className:Kb.a.dialogCont,children:Object(I.jsx)("form",{noValidate:!0,children:Object(I.jsxs)(ho.a,{className:Kb.a.dialogText,children:[Object(I.jsxs)(I.Fragment,{children:["To mark this task as completed, please submit a",Object(I.jsx)("strong",{children:Object(I.jsx)("em",{children:" Service"})})," in the form below."]}),Object(I.jsx)(Wc.a,{style:{margin:"1.1rem 5rem"}}),Object(I.jsxs)(f.a,{container:!0,spacing:2,className:Kb.a.wrapper,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Kb.a.rowx,children:[Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",children:[Object(I.jsx)(h.a,{flexGrow:1,display:"flex",flexDirection:"row",children:Object(I.jsx)(v.a,{title:'Service "To\xe1n Khoa" only available for schools which are "Ti\u1ec3u h\u1ecdc"',placement:"right-end",children:Object(I.jsx)(y.a,{children:l.service.title})})}),Object(I.jsx)(h.a,{children:Object(I.jsx)(sb.a,{onClickAway:function(){return w(!1)},children:Object(I.jsx)(v.a,{interactive:!0,title:gj(),placement:"bottom-end",open:C,onClose:function(){return w(!1)},disableFocusListener:!0,disableHoverListener:!0,children:Object(I.jsx)("div",{onClick:function(){return w(!0)},children:Object(I.jsx)(Ym.a,{className:Kb.a.iconInfo})})})})})]}),Object(I.jsx)(Tt.a,{name:"serviceType",control:A,render:function(e){var t=e.value,a=e.onChange;return Object(I.jsx)(_t.a,{value:t,onChange:a,row:!0,children:Object(I.jsx)(f.a,{container:!0,xs:12,sm:12,md:12,lg:12,children:W.map((function(e){return Object(I.jsx)(f.a,{item:!0,xs:3,sm:3,md:3,lg:3,children:Object(I.jsx)(Nt.a,{control:Object(I.jsx)(Ct.a,{}),label:e,value:e})},e)}))})})}})]}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Kb.a.rowx,children:Object(I.jsx)(Tt.a,{name:"duration",control:A,defaultValue:[new Date,new Date((new Date).setFullYear((new Date).getFullYear()+1))],render:function(e){var t=e.value,a=e.onChange;return Object(I.jsx)(Pm,{dateRange:t,handleDateRangeChange:a,startLabel:"Valid from",endLabel:"Valid until",isFilter:!1})}})}),Object(I.jsx)(f.a,{item:!0,xs:7,sm:6,md:6,lg:6,className:Kb.a.rowx,children:Object(I.jsx)(Tt.a,{name:"classNumber",control:A,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{className:Kb.a.txtNumber,label:l.classNo.title,variant:"outlined",type:"number",required:!0,value:a,onChange:n,InputProps:{endAdornment:Object(I.jsx)(Ol.a,{position:"end",children:l.classNo.adornment}),inputProps:{min:1,max:100}},error:!!B.classNumber,helperText:(null===B||void 0===B?void 0:B.classNumber)?null===B||void 0===B||null===(t=B.classNumber)||void 0===t?void 0:t.message:l.classNo.helper})}})}),Object(I.jsx)(f.a,{item:!0,xs:7,sm:6,md:6,lg:6,className:Kb.a.rowx,children:Object(I.jsx)(Tt.a,{name:"studentNumber",control:A,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{className:Kb.a.txtNumber,label:l.studentNumber.title,variant:"outlined",type:"number",required:!0,value:a,onChange:n,InputProps:{endAdornment:Object(I.jsx)(Ol.a,{position:"end",children:l.studentNumber.adornment}),inputProps:{min:1,max:100}},error:!!B.studentNumber,helperText:(null===B||void 0===B?void 0:B.studentNumber)?null===B||void 0===B||null===(t=B.studentNumber)||void 0===t?void 0:t.message:l.studentNumber.helper})}})}),Object(I.jsx)(f.a,{item:!0,xs:7,sm:6,md:6,lg:6,className:Kb.a.rowx,children:Object(I.jsx)(Tt.a,{name:"pricePerSlot",control:A,render:function(t){var a,n=t.value,s=t.onChange;return Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsxs)(g.a,{variant:"outlined",required:!0,children:[Object(I.jsx)(y.a,{htmlFor:"component-disabled",children:l.price.title}),Object(I.jsx)(ob.a,Object(D.a)(Object(D.a)({},e),{},{id:"component-disabled",value:n,customInput:rb.a,isNumericString:!0,type:"text",thousandSeparator:".",decimalSeparator:",",onValueChange:function(e){var t=e.floatValue;s(t),lb(t,P)}})),Object(I.jsx)(cb.a,{className:(null===B||void 0===B?void 0:B.pricePerSlot)?Kb.a.helper:Kb.a.normal,children:(null===B||void 0===B?void 0:B.pricePerSlot)?null===B||void 0===B||null===(a=B.pricePerSlot)||void 0===a?void 0:a.message:l.price.helper})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:T.map((function(e){return Object(I.jsx)(O.a,{variant:"outlined",size:"small",color:"secondary",onClick:function(t){s(e)},className:Kb.a.suggestions,children:new Intl.NumberFormat("vi-VN").format(e)})}))})]})}})}),Object(I.jsx)(f.a,{item:!0,xs:7,sm:6,md:6,lg:6,className:Kb.a.rowx,children:Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsx)(Tt.a,{name:"slotNumber",control:A,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{className:Kb.a.txtNumber,label:l.slotNumber.title,variant:"outlined",type:"number",required:!0,value:a,onChange:function(e){return n(e.target.value)},InputProps:{endAdornment:Object(I.jsx)(Ol.a,{position:"end",children:l.slotNumber.adornment}),inputProps:{min:1,max:10}},error:!!B.slotNumber,helperText:(null===B||void 0===B?void 0:B.slotNumber)?null===B||void 0===B||null===(t=B.slotNumber)||void 0===t?void 0:t.message:l.slotNumber.helper})}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsx)(v.a,{title:Object(I.jsx)(x.a,{variant:"caption",children:l.revenue.formula}),arrow:!0,interactive:!0,children:Object(I.jsx)(x.a,{variant:"body1"})})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:Kb.a.rowx,children:Object(I.jsx)(Tt.a,{name:"note",control:A,defaultValue:"",render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(ce.a,{label:l.note.title,variant:"outlined",fullWidth:!0,multiline:!0,rows:4,value:a,onChange:n,error:!!B.note,helperText:null===B||void 0===B||null===(t=B.note)||void 0===t?void 0:t.message})}})})]})]})})}),Object(I.jsxs)(wt.a,{className:Kb.a.dialogAct,children:[Object(I.jsx)(O.a,{className:Kb.a.btnSave,disabled:!F.isDirty,onClick:M((function(e){var t=Object(D.a)(Object(D.a)({},e),{},{taskId:null===n||void 0===n?void 0:n.id,submitDate:_e(new Date,"YYYY-MM-DD HH:mm:ss"),startDate:(null===e||void 0===e?void 0:e.duration[0])?_e(null===e||void 0===e?void 0:e.duration[0],"YYYY-MM-DD HH:mm:ss"):_e(new Date,"YYYY-MM-DD HH:mm:ss"),endDate:(null===e||void 0===e?void 0:e.duration[1])?_e(null===e||void 0===e?void 0:e.duration[1],"YYYY-MM-DD HH:mm:ss"):_e(new Date((new Date).getFullYear((new Date).getFullYear()+1)),"YYYY-MM-DD HH:mm:ss"),serviceType:(null===e||void 0===e?void 0:e.serviceType)?null===e||void 0===e?void 0:e.serviceType:sa,classNumber:parseInt((null===e||void 0===e?void 0:e.classNumber)?null===e||void 0===e?void 0:e.classNumber:"0",10),studentNumber:parseInt((null===e||void 0===e?void 0:e.studentNumber)?null===e||void 0===e?void 0:e.studentNumber:"0",10),slotNumber:parseInt((null===e||void 0===e?void 0:e.slotNumber)?null===e||void 0===e?void 0:e.slotNumber:"0",10),pricePerSlot:parseFloat((null===e||void 0===e?void 0:e.pricePerSlot)?null===e||void 0===e?void 0:e.pricePerSlot:"0.0")});delete t.duration,Js(t).then((function(e){var t;t=e.data,L&&(null===L||void 0===L?void 0:L.length)>0&&new Promise((function(e,a){var n;console.log({avatar:(null===m||void 0===m?void 0:m.avatar)?null===m||void 0===m?void 0:m.avatar:"",actor:null===j||void 0===j?void 0:j.username,type:"service",timestamp:ye()(new Date).format("YYYY-MM-DD HH:mm:ss"),content:"A service has just been submited.",uid:t,isSeen:!1}),rn.database().ref("notify").child(null===(n=L[0])||void 0===n?void 0:n.username).push({avatar:(null===m||void 0===m?void 0:m.avatar)?null===m||void 0===m?void 0:m.avatar:"",actor:null===j||void 0===j?void 0:j.username,type:"service",timestamp:ye()(new Date).format("YYYY-MM-DD HH:mm:ss"),content:"A service has just been submited.",uid:t,isSeen:!1})})),r(null===n||void 0===n?void 0:n.id),u("Created service successfully",{variant:"success"}),a()})).catch((function(e){e.response&&(console.log(e),b.push({pathname:"/errors",state:{error:e.response.status}})),u("Created service failed",{variant:"error"})}))})),children:i.save}),Object(I.jsx)(O.a,{onClick:function(){Y({errors:!1}),a()},children:i.cancel})]})]})})},Gb=a(384),Zb=a.n(Gb),Qb=["children","classes","onClose"],Jb=Object(j.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,s=Object(bt.a)(e,Qb);return Object(I.jsxs)(pt.a,Object(D.a)(Object(D.a)({disableTypography:!0,className:a.root},s),{},{children:[Object(I.jsx)(x.a,{variant:"h6",children:t}),n?Object(I.jsx)(ht.a,{"aria-label":"close",className:a.closeButton,onClick:n,children:Object(I.jsx)(C.k,{})}):null]}))}));function Xb(e){var t=e.open,a=e.onClose,n=e.taskId,s=e.refreshPage,r=vj.headers,c=vj.operations,i=Object(o.h)(),l=Object(cn.b)().enqueueSnackbar;return Object(I.jsxs)(xt.a,{open:t,onClose:a,children:[Object(I.jsx)(Jb,{onClose:a,children:r.confirmFailTask}),Object(I.jsx)(yt.a,{children:Object(I.jsx)(ho.a,{className:Zb.a.dialogText,children:Object(I.jsxs)(I.Fragment,{children:["Are you sure to mark this task as ",Object(I.jsx)("b",{children:"failed"}),"?",Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),"This process cannot be undone."]})})}),Object(I.jsxs)(wt.a,{children:[Object(I.jsx)(O.a,{className:Zb.a.btnYes,onClick:function(){(function(e){return qs.apply(this,arguments)})(n).then((function(e){s(n),l("Updated task's status successfully",{variant:"success"})})).catch((function(e){e.response&&(console.log(e),i.push({pathname:"/errors",state:{error:e.response.status}})),l("Updated task's status failed",{variant:"error"})})),a()},children:c.yes}),Object(I.jsx)(O.a,{onClick:a,children:c.cancel})]})]})}var $b=r.a.memo(Xb),ep=a(385),tp=a.n(ep),ap=["children","classes","onClose"],np=Object(j.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,s=Object(bt.a)(e,ap);return Object(I.jsxs)(pt.a,Object(D.a)(Object(D.a)({disableTypography:!0,className:a.root},s),{},{children:[Object(I.jsx)(x.a,{variant:"h6",children:t}),n?Object(I.jsx)(ht.a,{"aria-label":"close",className:a.closeButton,onClick:n,children:Object(I.jsx)(C.k,{})}):null]}))}));function sp(e){var t=e.open,a=e.onClose,n=e.refreshPage,s=e.taskId,r=vj.headers,c=vj.operations,i=Object(o.h)(),l=Object(cn.b)().enqueueSnackbar;return Object(I.jsxs)(xt.a,{open:t,onClose:a,children:[Object(I.jsx)(np,{onClose:a,children:r.confirmCompleteTask}),Object(I.jsx)(yt.a,{children:Object(I.jsx)(ho.a,{className:tp.a.dialogText,children:Object(I.jsxs)(I.Fragment,{children:["Are you sure to mark this task as ",Object(I.jsx)("b",{children:"completed"}),"?",Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),"This process cannot be undone."]})})}),Object(I.jsxs)(wt.a,{children:[Object(I.jsx)(O.a,{className:tp.a.btnYes,onClick:function(){(function(e){return Ws.apply(this,arguments)})(s).then((function(e){n(s),l("Updated task's status successfully",{variant:"success"})})).catch((function(e){e.response&&(console.log(e),i.push({pathname:"/errors",state:{error:e.response.status}})),l("Updated task's status failed",{variant:"error"})})),a()},children:c.yes}),Object(I.jsx)(O.a,{onClick:a,children:c.cancel})]})]})}var rp=r.a.memo(sp),cp=a(24),ip=a.n(cp),lp=Dt.b().shape({note:Dt.d().trim()}),op={PaperProps:{style:{maxHeight:120}},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null},dp=Object(u.a)((function(e){return{root:{},menuItemRoot:{"&$menuItemSelected":{backgroundColor:"rgba(0, 0, 0, 0.08)"},"&$menuItemSelected:focus":{backgroundColor:"rgba(0, 0, 0, 0.12)"},"&$menuItemSelected:hover":{backgroundColor:"rgba(0, 0, 0, 0.04);"}},menuItemSelected:{},inputRoot:{"&$disabled":{color:"#616161"}},disabled:{}}}));var up=function(e){var t,a=e.task,n=e.refreshPage,r=Yb,c=Eb,i=Hb,l=dp(),u=gs().user,j=Object(o.h)(),m=Object(cn.b)().enqueueSnackbar,b=Object(s.useState)(!1),p=Object(d.a)(b,2),v=p[0],g=p[1],y=Object(s.useState)(!1),w=Object(d.a)(y,2),S=w[0],k=w[1],T=Object(s.useState)(!1),P=Object(d.a)(T,2),V=P[0],R=P[1],A=qa().salesPurps,B=A||La(Oa.salesPurps),M=um(null===a||void 0===a?void 0:a.schoolStatus,B),F=(t=null===a||void 0===a?void 0:a.purpose,!!M.find((function(e){return e===t}))),Y={purpose:(null===a||void 0===a?void 0:a.purpose)?null===a||void 0===a?void 0:a.purpose:M[0],note:(null===a||void 0===a?void 0:a.note)?null===a||void 0===a?void 0:a.note:""},E=Object(Tt.c)({resolver:Object(Pt.a)(lp),defaultValues:Y}),H=E.control,L=E.errors,K=E.handleSubmit,W=E.formState,q=E.reset;if(Object(s.useEffect)((function(){q({purpose:(null===a||void 0===a?void 0:a.purpose)?null===a||void 0===a?void 0:a.purpose:M[0],note:(null===a||void 0===a?void 0:a.note)?null===a||void 0===a?void 0:a.note:""})}),[a]),!a)return Object(I.jsx)(se,{});if(!(null===a||void 0===a?void 0:a.username))return Object(I.jsx)($,{title:c.empty});var z=function(e){switch(e){case Xt:return Object(I.jsx)(Se.a,{label:ta,variant:"outlined",className:ip.a.chipSuccess});case Jt:return Object(I.jsx)(Se.a,{label:ea,variant:"outlined",className:ip.a.chipOnGoing});case $t:return Object(I.jsx)(Se.a,{label:aa,variant:"outlined",className:ip.a.chipFailed})}};return Object(I.jsx)("div",{className:ip.a.panel,children:Object(I.jsx)(f.a,{container:!0,spacing:0,className:ip.a.body,children:(null===a||void 0===a?void 0:a.schoolStatus)!==zt?u.roles[0]!==Ht?Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:ip.a.content,children:Object(I.jsx)("form",{onSubmit:K((function(e){var t=Object(D.a)(Object(D.a)({},e),{},{noteBy:u.username});(function(e,t){return Ys.apply(this,arguments)})(null===a||void 0===a?void 0:a.id,t).then((function(e){n(null===a||void 0===a?void 0:a.id),m("Updated task successfully",{variant:"success"})})).catch((function(e){e.response&&(console.log(e),j.push({pathname:"/errors",state:{error:e.response.status}})),m("Updated task failed",{variant:"error"})}))})),noValidate:!0,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:ip.a.wrapper,children:[Object(I.jsxs)(f.a,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,className:ip.a.row,children:[Object(I.jsx)(f.a,{item:!0,xs:6,sm:4,md:4,lg:3,children:Object(I.jsx)(x.a,{color:"inherit",className:ip.a.header,children:r.child1})}),Object(I.jsx)(f.a,{item:!0,xs:6,sm:8,md:8,lg:6,children:Object(I.jsx)(h.a,{display:"flex",flexDirection:"row-reverse",children:z(null===a||void 0===a?void 0:a.result)})})]}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:ip.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:ip.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:4,lg:3,className:ip.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:ip.a.title,children:i.pic.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:8,lg:6,className:ip.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:Object(I.jsxs)("div",{className:ip.a.user,children:[(null===a||void 0===a?void 0:a.avatar)?Object(I.jsx)(qn.a,{className:ip.a.avatar,alt:"user avatar",src:null===a||void 0===a?void 0:a.avatar}):Object(I.jsx)(qn.a,{className:ip.a.avatar,children:null===a||void 0===a?void 0:a.fullName.split(" ").pop()[0]}),Object(I.jsxs)("div",{className:ip.a.info,children:[Object(I.jsx)(x.a,{component:"span",className:ip.a.fullName,children:null===a||void 0===a?void 0:a.fullName}),Object(I.jsx)(x.a,{className:ip.a.username,children:null===a||void 0===a?void 0:a.username})]})]})})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:ip.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:ip.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:4,lg:3,className:ip.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:ip.a.title,children:i.schlYear.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:8,lg:6,className:ip.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:null===a||void 0===a?void 0:a.schoolYear})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:ip.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:ip.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:4,lg:3,className:ip.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:ip.a.title,children:i.duration.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:8,lg:6,className:ip.a.rowx,children:(null===a||void 0===a?void 0:a.result)===Jt?Object(I.jsx)(we,{startDate:null===a||void 0===a?void 0:a.assignDate,endDate:null===a||void 0===a?void 0:a.endDate,marker:new Date,type:"task"}):Object(I.jsxs)(x.a,{color:"inherit",children:[_e(null===a||void 0===a?void 0:a.assignDate,"DD-MM-YYYY"),"\xa0 \u279c \xa0",_e(null===a||void 0===a?void 0:a.endDate,"DD-MM-YYYY")]})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:ip.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:ip.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:4,lg:3,className:ip.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:ip.a.title,children:i.purpose.title})}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:8,lg:6,className:ip.a.rowx,children:[Object(I.jsx)(Tt.a,{name:"purpose",control:H,render:function(e){var t=e.value,a=e.onChange;return Object(I.jsx)(_.a,{value:t,onChange:a,MenuProps:op,disableUnderline:!0,children:M.map((function(e){return Object(I.jsx)(N.a,{value:e,classes:{root:l.menuItemRoot,selected:l.menuItemSelected},children:e},e)}))})}}),!F&&Object(I.jsx)(Se.a,{variant:"outlined",icon:Object(I.jsx)(C.R,{color:"#d9534f"}),label:c.purpWarning,className:ip.a.purpWarning})]})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:ip.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:ip.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:4,lg:3,className:ip.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:ip.a.title,children:i.note.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:8,lg:6,className:ip.a.rowx,children:Object(I.jsx)(Tt.a,{name:"note",control:H,render:function(e){var t,n=e.value,s=e.onChange;return Object(I.jsx)(ce.a,{label:(null===a||void 0===a?void 0:a.noteBy)?"".concat(i.note.hasNote," ").concat(null===a||void 0===a?void 0:a.noteBy):i.note.noNote,variant:"outlined",fullWidth:!0,multiline:!0,rows:5,value:n,onChange:s,error:!!L.note,helperText:null===L||void 0===L||null===(t=L.note)||void 0===t?void 0:t.message})}})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:ip.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:ip.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:4,lg:3}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:8,lg:6,className:ip.a.action,children:Object(I.jsx)(O.a,{className:ip.a.submit,variant:"contained",disabled:!W.isDirty,type:"submit",children:c.save})})]})})]})})}):u.username===(null===a||void 0===a?void 0:a.username)?Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:ip.a.content,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:ip.a.wrapper,children:[Object(I.jsxs)(f.a,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,className:ip.a.row,children:[Object(I.jsx)(f.a,{item:!0,xs:6,sm:4,md:4,lg:3,children:Object(I.jsx)(x.a,{color:"inherit",className:ip.a.header,children:r.child1})}),Object(I.jsx)(f.a,{item:!0,xs:6,sm:8,md:8,lg:6,children:Object(I.jsx)(h.a,{display:"flex",flexDirection:"row-reverse",children:z(null===a||void 0===a?void 0:a.result,null===a||void 0===a||a.endDate)})})]}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:ip.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:ip.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:3,className:ip.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:ip.a.title,children:i.schlYear.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:6,className:ip.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:null===a||void 0===a?void 0:a.schoolYear})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:ip.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:ip.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:4,lg:3,className:ip.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:ip.a.title,children:i.duration.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:8,lg:6,className:ip.a.rowx,children:(null===a||void 0===a?void 0:a.result)===Jt?Object(I.jsx)(we,{startDate:null===a||void 0===a?void 0:a.assignDate,endDate:null===a||void 0===a?void 0:a.endDate,marker:new Date,type:"task"}):Object(I.jsxs)(x.a,{color:"inherit",children:[_e(null===a||void 0===a?void 0:a.assignDate,"DD-MM-YYYY"),"\xa0 \u279c \xa0",_e(null===a||void 0===a?void 0:a.endDate,"DD-MM-YYYY")]})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:ip.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:ip.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:3,className:ip.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:ip.a.title,children:i.purpose.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:6,className:ip.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:(null===a||void 0===a?void 0:a.purpose)&&function(e){switch(e){case ha.purp1:return Object(I.jsx)(Se.a,{label:e,className:ip.a.chipSalesMoi});case ha.purp3:return Object(I.jsx)(Se.a,{label:e,className:ip.a.chipChamSoc});case ha.purp4:return Object(I.jsx)(Se.a,{label:e,className:ip.a.chipTaiKy});case ha.purp5:return Object(I.jsx)(Se.a,{label:e,className:ip.a.chipKyMoi});default:return Object(I.jsx)(Se.a,{label:e})}}(null===a||void 0===a?void 0:a.purpose)})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:ip.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:ip.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:4,lg:3,className:ip.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:ip.a.title,children:i.note.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:8,lg:6,className:ip.a.rowx,children:Object(I.jsx)(Tt.a,{name:"note",control:H,render:function(e){var t=e.value;return Object(I.jsx)(ce.a,{label:(null===a||void 0===a?void 0:a.noteBy)?"".concat(i.note.hasNote," ").concat(null===a||void 0===a?void 0:a.noteBy):i.note.noNote,variant:"outlined",fullWidth:!0,multiline:!0,rows:5,disabled:!0,InputProps:{classes:{root:l.inputRoot,disabled:l.disabled}},value:t})}})})]})}),(null===a||void 0===a?void 0:a.result)===Jt&&new Date<=new Date(null===a||void 0===a?void 0:a.endDate)&&Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:ip.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:ip.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:4,lg:3,className:ip.a.rowx}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:8,lg:6,className:ip.a.rowx,children:[Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",justifyContent:"flex-end",className:ip.a.btnChangeTaskStatus,children:[Object(I.jsx)(O.a,{order:1,variant:"contained",className:ip.a.btnComplete,onClick:function(){(null===a||void 0===a?void 0:a.purpose)===ha.purp1||(null===a||void 0===a?void 0:a.purpose)===ha.purp4||(null===a||void 0===a?void 0:a.purpose)===ha.purp5?g(!0):k(!0)},children:function(e,t){var a="Submit a service";if(e===ha.purp1||e===ha.purp4||e===ha.purp5){if(t){var n=t.filter((function(e){return e.status===la})).length;console.log("count = ",n),n>0&&(a="Submit more services")}}else a="Mark as completed";return a}(null===a||void 0===a?void 0:a.purpose,null===a||void 0===a?void 0:a.services)}),Object(I.jsx)(O.a,{order:2,variant:"contained",className:ip.a.btnFail,onClick:function(){return R(!0)},children:"Mark as failed"}),function(e){switch(e){case ha.purp1:case ha.purp4:case ha.purp5:if(v)return Object(I.jsx)(Ub,{open:v,onClose:function(){return g(!1)},task:a,refreshPage:n});case ha.purp3:if(S)return Object(I.jsx)(rp,{open:S,onClose:function(){return k(!1)},taskId:null===a||void 0===a?void 0:a.id,refreshPage:n})}}(null===a||void 0===a?void 0:a.purpose),function(){if(V)return Object(I.jsx)($b,{open:V,onClose:function(){return R(!1)},taskId:null===a||void 0===a?void 0:a.id,refreshPage:n})}()]}),Object(I.jsx)(x.a,{variant:"subtitle1",style:{textAlign:"right",fontStyle:"italic"},color:"textSecondary",children:function(e){if(e){var t=e.filter((function(e){return e.status===la})).length;if(t>0)return"You are having ".concat(t," pending services")}}(null===a||void 0===a?void 0:a.services)})]})]})})]})}):Object(I.jsx)("div",{className:ip.a.notFound,children:Object(I.jsx)($,{title:c.restriction})}):Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:ip.a.content,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:ip.a.wrapper,children:[Object(I.jsxs)(f.a,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,className:ip.a.row,children:[Object(I.jsx)(f.a,{item:!0,xs:6,sm:4,md:4,lg:3,children:Object(I.jsx)(x.a,{color:"inherit",className:ip.a.header,children:r.child1})}),Object(I.jsx)(f.a,{item:!0,xs:6,sm:8,md:8,lg:6,children:Object(I.jsx)(h.a,{display:"flex",flexDirection:"row-reverse",children:z(null===a||void 0===a?void 0:a.result,null===a||void 0===a||a.endDate)})})]}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:ip.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:ip.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:3,className:ip.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:ip.a.title,children:i.pic.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:6,className:ip.a.rowx,children:Object(I.jsxs)("div",{className:ip.a.user,children:[(null===a||void 0===a?void 0:a.avatar)?Object(I.jsx)(qn.a,{className:ip.a.avatar,alt:"user avatar",src:null===a||void 0===a?void 0:a.avatar}):Object(I.jsx)(qn.a,{className:ip.a.avatar,children:null===a||void 0===a?void 0:a.fullName.split(" ").pop()[0]}),Object(I.jsxs)("div",{className:ip.a.info,children:[Object(I.jsx)(x.a,{component:"span",className:ip.a.fullName,children:null===a||void 0===a?void 0:a.fullName}),Object(I.jsx)(x.a,{className:ip.a.username,children:null===a||void 0===a?void 0:a.username})]})]})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:ip.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:ip.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:3,className:ip.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:ip.a.title,children:i.schlYear.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:6,className:ip.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:null===a||void 0===a?void 0:a.schoolYear})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:ip.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:ip.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:4,lg:3,className:ip.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:ip.a.title,children:i.duration.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:8,lg:6,className:ip.a.rowx,children:(null===a||void 0===a?void 0:a.result)===Jt?Object(I.jsx)(we,{startDate:null===a||void 0===a?void 0:a.assignDate,endDate:null===a||void 0===a?void 0:a.endDate,marker:new Date,type:"task"}):Object(I.jsxs)(x.a,{color:"inherit",children:[_e(null===a||void 0===a?void 0:a.assignDate,"DD-MM-YYYY"),"\xa0 \u279c \xa0",_e(null===a||void 0===a?void 0:a.endDate,"DD-MM-YYYY")]})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:ip.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:ip.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:3,className:ip.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:ip.a.title,children:i.purpose.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:6,className:ip.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:null===a||void 0===a?void 0:a.purpose})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:ip.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:ip.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:4,lg:3,className:ip.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:ip.a.title,children:i.note.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:8,lg:6,className:ip.a.rowx,children:Object(I.jsx)(Tt.a,{name:"note",control:H,render:function(e){var t=e.value;return Object(I.jsx)(ce.a,{label:(null===a||void 0===a?void 0:a.noteBy)?"".concat(i.note.hasNote," ").concat(null===a||void 0===a?void 0:a.noteBy):i.note.noNote,variant:"outlined",fullWidth:!0,multiline:!0,rows:5,disabled:!0,InputProps:{classes:{root:l.inputRoot,disabled:l.disabled}},value:t})}})})]})})]})})})})},jp={child1:"Timeline"},mp={schoolYear:"School year:",reason:"Reason:",services:"Successfully collaborated on ",duration:"Duration:",startDate:"Start date:",endDate:"End date:",status:"Status: ",result:"Result:",pending:"Pending for approval",approvedOn:"Approved on ",rejectedOn:"Rejected on ",submitOn:"Submited on "},bp=a(56),pp=a.n(bp);var hp=function(e){var t=jp,a=mp,n=Object(o.h)(),r=Object(o.k)().url,c=r.substring(0,5),i=e.task,u=r.substring(r.lastIndexOf("/")+1),j=Object(s.useState)(null),m=Object(d.a)(j,2),b=m[0],p=m[1];console.log("cannot get task id from: ",r),console.log("taskId: ",u);var h=!0;if(Object(s.useEffect)((function(){return function(e){return Zs.apply(this,arguments)}(u).then((function(e){h&&(p(e),console.log("TaskDetail - getTimeline: ",e))})).catch((function(e){e.response&&(console.log(e),n.push({pathname:"/errors",state:{error:e.response.status}}))})),function(){h=!1}}),[]),!b)return Object(I.jsx)(se,{});var v=function(e){switch(e){case oa:return Object(I.jsx)(Se.a,{label:e,className:pp.a.chipApproved});case da:return Object(I.jsx)(Se.a,{label:e,className:pp.a.chipRejected});case la:return Object(I.jsx)(Se.a,{label:e,className:pp.a.chipPending})}},O=function(e){return Object(I.jsxs)("div",{className:(null===e||void 0===e?void 0:e.isSuccess)?pp.a.tlnContentSuccess:pp.a.tlnContentFailed,children:[Object(I.jsx)("div",{className:pp.a.tlnContentChild,children:Object(I.jsx)(x.a,{variant:"subtitle1",children:null===e||void 0===e?void 0:e.reportDescription})}),Object(I.jsx)("div",{className:pp.a.tlnContentChild,children:Object(I.jsxs)(x.a,{variant:"subtitle2",color:"textSecondary",children:[Object(I.jsx)("b",{children:a.result}),(null===e||void 0===e?void 0:e.isSuccess)?Object(I.jsx)("span",{className:pp.a.rpDaGap,children:"\u0110\xe3 g\u1eb7p HT/HP"}):Object(I.jsx)("span",{className:pp.a.rpChuaGap,children:"Ch\u01b0a g\u1eb7p HT/HP"})]})})]})};return Object(I.jsx)("div",{className:pp.a.panel,children:Object(I.jsx)(f.a,{container:!0,spacing:0,className:pp.a.body,children:Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:pp.a.content,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:pp.a.wrapper,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:2,lg:2,className:pp.a.row,children:Object(I.jsxs)(x.a,{color:"inherit",className:pp.a.header,children:[t.child1," "]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:10,lg:9,className:pp.a.row,children:b.length>0||(null===i||void 0===i?void 0:i.username)?Object(I.jsxs)(Ku.a,{children:[Object(I.jsxs)(Wu.a,{children:[Object(I.jsx)(qu.a,{children:Object(I.jsxs)("div",{className:pp.a.tlnOpsContent,children:[Object(I.jsx)(x.a,{variant:"body1",children:Object(I.jsx)("strong",{children:_e(null===i||void 0===i?void 0:i.assignDate,"DD-MM-yyyy")})}),Object(I.jsxs)(x.a,{variant:"subtitle2",color:"textSecondary",children:[a.schoolYear," ",Object(I.jsx)("em",{children:null===i||void 0===i?void 0:i.schoolYear})]})]})}),Object(I.jsxs)(zu.a,{children:[Object(I.jsx)(Uu.a,{color:"secondary",children:Object(I.jsx)(Ym.b,{fontSize:"large"})}),Object(I.jsx)(Gu.a,{className:pp.a.secondaryTail})]}),Object(I.jsx)(Zu.a,{children:Object(I.jsx)("div",{className:pp.a.tlnContent,children:Object(I.jsxs)("div",{className:pp.a.tlnContentChild,children:[Object(I.jsxs)("div",{className:pp.a.picZone,children:[Object(I.jsx)(Wn.a,{className:pp.a.picAvatar,children:Object(I.jsx)(qn.a,{src:null===i||void 0===i?void 0:i.avatar})}),Object(I.jsx)(zn.a,{primary:null===i||void 0===i?void 0:i.fullName,className:pp.a.picName})]}),(null===i||void 0===i?void 0:i.purpose)&&function(e){switch(e){case ha.purp1:return Object(I.jsx)(Se.a,{label:e,className:pp.a.chipSalesMoi});case ha.purp2:return Object(I.jsx)(Se.a,{label:e,className:pp.a.chipTheoDoi});case ha.purp3:return Object(I.jsx)(Se.a,{label:e,className:pp.a.chipChamSoc});case ha.purp4:return Object(I.jsx)(Se.a,{label:e,className:pp.a.chipTaiKy});case ha.purp5:return Object(I.jsx)(Se.a,{label:e,className:pp.a.chipKyMoi});default:return Object(I.jsx)(Se.a,{label:e})}}(null===i||void 0===i?void 0:i.purpose)]})})})]}),b.map((function(e,t){return Object(I.jsxs)("div",{children:["report"===(null===e||void 0===e?void 0:e.type)&&Object(I.jsxs)(Wu.a,{children:[Object(I.jsx)(qu.a,{children:Object(I.jsx)("div",{className:pp.a.tlnOpsContent,children:Object(I.jsx)(x.a,{variant:"body1",children:_e(null===e||void 0===e?void 0:e.date,"DD-MM-yyyy")})})}),Object(I.jsxs)(zu.a,{children:[Object(I.jsx)(Uu.a,{color:"primary",children:Object(I.jsx)(C.p,{fontSize:"large"})}),Object(I.jsx)(Gu.a,{className:pp.a.primaryTail})]}),Object(I.jsx)(Zu.a,{children:(null===i||void 0===i?void 0:i.username)?Object(I.jsx)(l.b,{to:{pathname:"".concat(c,"/reports/").concat(null===e||void 0===e?void 0:e.id)},onClick:function(){return console.log(u)},className:pp.a.linkCard,children:O(e)}):O(e)})]}),"service"===(null===e||void 0===e?void 0:e.type)&&Object(I.jsxs)(Wu.a,{children:[Object(I.jsx)(qu.a,{children:Object(I.jsx)(l.b,{to:{pathname:"".concat(c,"/services/").concat(null===e||void 0===e?void 0:e.id)},onClick:function(){return console.log(u)},className:pp.a.linkCard,children:Object(I.jsxs)("div",{className:(null===e||void 0===e?void 0:e.status)===oa?pp.a.tlnServiceAppproved:pp.a.tlnServiceRejected,children:[Object(I.jsxs)(x.a,{variant:"subtitle1",children:[a.services," ",Object(I.jsxs)("strong",{children:[" ",null===e||void 0===e?void 0:e.service," "]})]}),Object(I.jsxs)(x.a,{variant:"subtitle2",color:"textSecondary",children:[Object(I.jsxs)("b",{children:[a.duration," "]}),_e(null===e||void 0===e?void 0:e.startDate,"DD-MM-YYYY")," \u279c \xa0",_e(null===e||void 0===e?void 0:e.endDate,"DD-MM-YYYY")]}),(null===e||void 0===e?void 0:e.status)&&v(null===e||void 0===e?void 0:e.status)]})})}),Object(I.jsx)(zu.a,{children:Object(I.jsx)(Uu.a,{className:pp.a.ternary,children:Object(I.jsx)(fe.c,{fontSize:"large"})})}),Object(I.jsx)(Zu.a,{children:(null===e||void 0===e?void 0:e.approvedDate)?Object(I.jsxs)("div",{className:pp.a.tlnOpsContent,children:[Object(I.jsxs)(x.a,{variant:"body1",children:[(null===e||void 0===e?void 0:e.status)===oa&&Object(I.jsxs)(I.Fragment,{children:[a.approvedOn," ",Object(I.jsx)("strong",{style:{color:"#4caf50"},children:_e(null===e||void 0===e?void 0:e.approvedDate,"DD-MM-YYYY")})]}),(null===e||void 0===e?void 0:e.status)===da&&Object(I.jsxs)(I.Fragment,{children:[a.rejectedOn," ",Object(I.jsx)("strong",{style:{color:"#ee3e38"},children:_e(null===e||void 0===e?void 0:e.approvedDate,"DD-MM-YYYY")})]})]}),Object(I.jsxs)(x.a,{variant:"subtitle2",color:"textSecondary",children:[a.submitOn," ",Object(I.jsx)("em",{children:_e(null===e||void 0===e?void 0:e.date,"DD-MM-YYYY")})]})]}):Object(I.jsxs)("div",{className:pp.a.tlnOpsContent,children:[Object(I.jsx)(x.a,{variant:"body1",children:Object(I.jsx)("strong",{children:_e(null===e||void 0===e?void 0:e.date,"DD-MM-YYYY")})}),Object(I.jsx)(x.a,{variant:"subtitle2",color:"textSecondary",children:Object(I.jsx)("em",{children:a.pending})})]})})]})]},t)}))]}):Object(I.jsx)(x.a,{children:"This task has not had any activities yet."})})]})})})})};var xp=function(){var e,t,a,n=nj,r=sj,c=rj,i=(gs().user,Object(o.j)().id),l=Object(o.i)(),u=Object(o.h)(),j=Object(s.useState)((null===l||void 0===l||null===(e=l.state)||void 0===e?void 0:e.tabNo)?null===l||void 0===l||null===(t=l.state)||void 0===t?void 0:t.tabNo:0),m=Object(d.a)(j,2),b=m[0],p=m[1],h=null===l||void 0===l||null===(a=l.state)||void 0===a?void 0:a.data,x=Object(s.useState)(null===h||void 0===h?void 0:h.model),v=Object(d.a)(x,2),O=v[0],f=v[1],g=Object(s.useState)(!0),y=Object(d.a)(g,2),_=y[0],N=y[1],C=!0,w=function(e){Bs(e).then((function(e){C&&f(e)})).catch((function(e){e.response&&(console.log(e),403===e.response.status?N(!1):u.push({pathname:"/errors",state:{error:e.response.status}}))}))};return Object(s.useEffect)((function(){return w(i),function(){C=!1}}),[]),O?Object(I.jsxs)(oc,{linkBack:n.back,header:"".concat(null===O||void 0===O?void 0:O.level," ").concat(null===O||void 0===O?void 0:O.schoolName),subHeader:null===O||void 0===O?void 0:O.schoolStatus,isStatus:!0,tabs:[r.tab2,r.tab1,r.tab3],tabValue:b,handleChangeTab:function(e,t){p(t)},children:[0===b&&Object(I.jsx)(up,{task:O,refreshPage:w}),1===b&&Object(I.jsx)(Mb,{task:O,refreshPage:w}),2===b&&Object(I.jsx)(hp,{task:O})]}):_?Object(I.jsx)(se,{}):Object(I.jsx)($,{title:c.notFound})},vp=Object(u.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap"},ul:{maxWidth:810,overflowX:"auto",display:"flex",justifyContent:"flex-start",flexWrap:"nowrap",listStyle:"none",margin:0,paddingLeft:"0.5rem"},btnClear:{fontSize:"0.75rem"},chip:{margin:e.spacing(.5)}}}));function Op(e){var t=vp(),a=e.chips,n=e.dispatch,r=e.handleChipsRemoved,c=Object(s.useState)(!1),i=Object(d.a)(c,2),l=(i[0],i[1]),o=function(e){return function(){switch(e.filterType){case lt:n({type:Le,payload:{filterType:lt,filterValue:""}});break;case it:n({type:He,payload:{filterType:it,filterValue:""}});break;case Xe:n({type:Te,payload:{filterType:Xe,filterValue:""}});break;case Qe:n({type:Ie,payload:{filterType:Qe,filterValue:null}});break;case ot:n({type:Ke,payload:{filterType:ot,filterValue:null}});break;case at:n({type:Me,payload:{filterType:at,filterValue:[null,null]}})}if(r){var t=[e.filterType];r(t)}}},u=function(e){return e.filterType===Qe?Object(I.jsx)(Se.a,{label:e.filterValue.fullName,avatar:Object(I.jsx)(qn.a,{src:e.filterValue.avatar}),onDelete:o(e),className:t.chip,color:"secondary"}):e.filterType!==at||"string"===typeof e.filterValue?Object(I.jsx)(Se.a,{label:e.filterValue,onDelete:o(e),className:t.chip,color:"secondary"}):void 0};return Object(I.jsx)("div",{children:6!==function(){var e=0;return a.forEach((function(t){(""===t.filterValue||null===t.filterValue||void 0===t.filterValue||t.filterType===at&&"string"!==typeof t.filterValue)&&e++})),e}()&&Object(I.jsxs)("div",{className:t.root,children:[Object(I.jsx)(O.a,{size:"small",className:t.btnClear,onClick:function(){(l(!1),r)&&(n({type:Le,payload:{filterType:lt,filterValue:""}}),n({type:He,payload:{filterType:it,filterValue:""}}),n({type:Te,payload:{filterType:Xe,filterValue:""}}),n({type:Ie,payload:{filterType:Qe,filterValue:null}}),n({type:Ke,payload:{filterType:ot,filterValue:null}}),n({type:Me,payload:{filterType:at,filterValue:[null,null]}}),r([lt,it,Xe,ot,at]))},children:"Clear all"}),Object(I.jsx)("ul",{className:t.ul,children:a.map((function(e){return Object(I.jsx)("div",{children:e.filterValue&&Object(I.jsx)("li",{children:u(e)})},e.filterType)}))})]})})}var fp=r.a.memo(Op),gp=[{key:"no",name:"#",sortable:!1,width1:"1%",width2:"5%"},{key:"serviceType",name:"Service Type",sortable:!0,width1:"13%",width2:"18%"},{key:"task.school.schoolId",name:"School Name",sortable:!0,width1:"20%",width2:"25%"},{key:"task.user.username",name:"PIC",sortable:!0,width1:"23%",width2:"0%"},{key:"status",name:"Status",sortable:!0,width1:"12%",width2:"15%"},{key:"",name:"",sortable:!1,width1:"1%",width2:"1%"}],yp={back:"Services"},_p={tab1:"Service Info"},Np={notFound:"Service Not Found"},Cp={filter:"Filters",search:{placeholder:"Search..."},create:"Insert"},wp={serviceType:{title:"Service Types"},serviceStatus:{title:"Service Statuses"},schoolYear:{title:"School Years"},expiredStatus:{title:"Expired Statuses",options:{all:"All",expired:"Expired",valid:"Valid / Effective"}},pic:{title:"PICs"}},Sp={notFound:"No records found."},Ip={details:{title:"View details"}},kp=a(386),Tp=a.n(kp),Pp={PaperProps:{style:{maxHeight:157}}},Dp=Object(u.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:160},flexBox:{padding:0},flexItem:{padding:0},option:{fontSize:"0.875rem"},btn:{padding:"0.5rem",margin:"0 0.3rem",borderRadius:"8px"},root:{},menuItemRoot:{"&$menuItemSelected":{backgroundColor:"rgba(0, 0, 0, 0.08)"},"&$menuItemSelected:focus":{backgroundColor:"rgba(0, 0, 0, 0.12)"},"&$menuItemSelected:hover":{backgroundColor:"rgba(0, 0, 0, 0.04);"}},menuItemSelected:{},autoComplete:{width:260,marginLeft:"0.5rem"},itemPIC:{display:"flex",flexDirection:"row",alignItems:"center",padding:0,margin:0},itemTextPrimary:{fontSize:"0.875rem"}}})),Vp=Object(j.a)({root:{backgroundColor:"rgb(238, 238, 238)",borderRadius:"8px",marginBottom:"0.5rem",boxShadow:"none","&:not(:last-child)":{borderBottom:0,borderRadius:"8px"},"&:before":{display:"none"},"&$expanded":{margin:"auto",borderRadius:"8px"}},expanded:{}})(m.a),Rp=Object(j.a)({root:{height:41.5,minHeight:35,maxWidth:120,backgroundColor:"rgb(255, 255, 255)",fontWeight:"bold",boxShadow:"0 4px 6px -6px #000",borderRadius:"8px",paddingButtom:0,"&$expanded":{minHeight:35,borderRadius:"8px"}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(b.a),Ap=Object(j.a)((function(e){return{root:{backgroundColor:"rgb(255, 255, 255)",margin:"0.5rem 0",padding:"0.3rem 0 1rem 2rem",borderRadius:"8px"}}}))(p.a);var Bp=function(){var e=Dp(),t=Cp,a=wp,n=qa().schYears,r=n||La(Oa.schYears),c=pr(),i=c.params,l=c.dispatchParams,o=c.serviceStatus,u=c.serviceType,j=c.schoolYear,m=c.serviceTypes,b=c.isExpired,p=c.expiredStatuses,v=c.serviceStatuses,O=c.setFilter,w=(c.PIC,c.PICs,c.getListPICs,Object(s.useState)(null)),S=Object(d.a)(w,2);return S[0],S[1],Object(s.useRef)({}),Object(I.jsx)("div",{className:Tp.a.wrapper,children:Object(I.jsxs)(Vp,{children:[Object(I.jsxs)(h.a,{display:"flex",flexWrap:"nowrap",className:e.flexBox,children:[Object(I.jsx)(h.a,{className:e.flexItem,children:Object(I.jsxs)(Rp,{expandIcon:Object(I.jsx)(C.u,{}),children:[Object(I.jsx)(C.w,{className:Tp.a.iconFilter})," ","\xa0",Object(I.jsx)(x.a,{children:t.filter})]})}),Object(I.jsx)(h.a,{flexGrow:1,className:e.flexItem,children:Object(I.jsx)(fp,{chips:function(e){var t=[],a=Object(D.a)({},e);for(var n in a){if(n===at){var s=ye()(a[n].filterValue[0]).format("MMM D, YYYY"),r=ye()(a[n].filterValue[1]).format("MMM D, YYYY");"Invalid date"!==s&&"Invalid date"!==r&&(a=Object(D.a)(Object(D.a)({},a),{},{dateRange:{filterType:at,filterValue:"".concat(s," \u279c ").concat(r)}}))}t.push(a[n])}return t}(i.listFilters),dispatch:l,handleChipsRemoved:function(e){e.forEach((function(e){switch(e){case lt:O(lt,"");break;case it:O(it,"");break;case Xe:O(Xe,"");break;case ot:O(ot,null);break;case at:O(at,[null,null])}}))}})}),Object(I.jsx)(h.a,{className:e.flexItem,children:Object(I.jsx)(P,{placeholder:t.search.placeholder,onChange:function(e){l({type:qe,payload:e})}})})]}),Object(I.jsx)(Ap,{children:Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(I.jsxs)(g.a,{className:e.formControl,children:[Object(I.jsx)(y.a,{children:a.serviceType.title}),Object(I.jsxs)(_.a,{value:u||"",onChange:function(e){var t=e.target.value;O(lt,t),l({type:Le,payload:{filterType:lt,filterValue:t}})},MenuProps:Pp,children:[Object(I.jsx)(N.a,{value:"",className:e.option,classes:{root:e.menuItemRoot,selected:e.menuItemSelected},children:"All"}),null===m||void 0===m?void 0:m.map((function(t){return Object(I.jsx)(N.a,{value:t,className:e.option,classes:{root:e.menuItemRoot,selected:e.menuItemSelected},children:t},t)}))]})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(I.jsxs)(g.a,{className:e.formControl,children:[Object(I.jsx)(y.a,{children:a.serviceStatus.title}),Object(I.jsxs)(_.a,{value:o||"",onChange:function(e){var t=e.target.value;O(it,t),l({type:He,payload:{filterType:it,filterValue:t}})},MenuProps:Pp,children:[Object(I.jsx)(N.a,{value:"",className:e.option,classes:{root:e.menuItemRoot,selected:e.menuItemSelected},children:"All"}),null===v||void 0===v?void 0:v.map((function(t){return Object(I.jsx)(N.a,{value:t,className:e.option,classes:{root:e.menuItemRoot,selected:e.menuItemSelected},children:t},t)}))]})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(I.jsxs)(g.a,{className:e.formControl,children:[Object(I.jsx)(y.a,{children:a.schoolYear.title}),Object(I.jsxs)(_.a,{value:j||"",onChange:function(e){var t=e.target.value;O(Xe,t),l({type:Te,payload:{filterType:Xe,filterValue:t}})},MenuProps:Pp,children:[Object(I.jsx)(N.a,{value:"",className:e.option,classes:{root:e.menuItemRoot,selected:e.menuItemSelected},children:"All"}),null===r||void 0===r?void 0:r.map((function(t){return Object(I.jsx)(N.a,{value:t,className:e.option,classes:{root:e.menuItemRoot,selected:e.menuItemSelected},children:t},t)}))]})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(I.jsxs)(g.a,{className:e.formControl,children:[Object(I.jsx)(y.a,{children:a.expiredStatus.title}),Object(I.jsxs)(_.a,{value:b||"",onChange:function(e){var t=e.target.value;O(ot,t),l({type:Ke,payload:{filterType:ot,filterValue:t}})},MenuProps:Pp,children:[Object(I.jsx)(N.a,{value:null,className:e.option,classes:{root:e.menuItemRoot,selected:e.menuItemSelected},children:"All"}),null===p||void 0===p?void 0:p.map((function(t){return Object(I.jsx)(N.a,{value:t,className:e.option,classes:{root:e.menuItemRoot,selected:e.menuItemSelected},children:t},t)}))]})]})})]})})]})})},Mp=a(387),Fp=a.n(Mp);function Yp(e){var t=e.data,a=Ip,n=pr().params,r=Object(o.k)().url,c=Object(s.useState)(null),i=Object(d.a)(c,2),u=i[0],j=i[1],m={model:t,params:n},b=function(){j(null)};return Object(I.jsxs)("div",{children:[Object(I.jsx)(v.a,{title:"Actions",children:Object(I.jsx)(ht.a,{color:"primary",onClick:function(e){j(e.currentTarget)},children:Object(I.jsx)(C.K,{})})}),Object(I.jsx)(Gn.a,{anchorEl:u,keepMounted:!0,open:!!u,onClose:b,children:Object(I.jsxs)(N.a,{onClick:b,component:l.b,to:{pathname:"".concat(r,"/").concat(null===t||void 0===t?void 0:t.id),state:{data:m}},children:[Object(I.jsx)(Zn.a,{className:Fp.a.itemIcon,children:Object(I.jsx)(C.A,{fontSize:"large"})}),Object(I.jsx)(zn.a,{className:Fp.a.itemText,children:a.details.title})]})})]})}var Ep=r.a.memo(Yp),Hp=a(78),Lp=a.n(Hp);function Kp(e){var t=Object(An.a)(),a=e.count,n=e.page,s=e.rowsPerPage,r=e.totalPage,c=e.onChangePage;return Object(I.jsxs)("div",{className:Lp.a.paging,children:[Object(I.jsx)(ht.a,{onClick:function(e){c(e,0)},disabled:0===n,"aria-label":"first page",children:"rtl"===t.direction?Object(I.jsx)(C.E,{}):Object(I.jsx)(C.x,{})}),Object(I.jsx)(ht.a,{onClick:function(e){c(e,n-1)},disabled:0===n,"aria-label":"previous page",children:"rtl"===t.direction?Object(I.jsx)(C.D,{}):Object(I.jsx)(C.C,{})}),Object(I.jsxs)("span",{children:[n+1," / ",r]}),Object(I.jsx)(ht.a,{onClick:function(e){c(e,n+1)},disabled:n>=Math.ceil(a/s)-1,"aria-label":"next page",children:"rtl"===t.direction?Object(I.jsx)(C.C,{}):Object(I.jsx)(C.D,{})}),Object(I.jsx)(ht.a,{onClick:function(e){c(e,Math.ceil(a/s)-1)},disabled:n>=Math.ceil(a/s)-1,"aria-label":"last page",children:"rtl"===t.direction?Object(I.jsx)(C.x,{}):Object(I.jsx)(C.E,{})})]})}function Wp(e){var t=e.columns,a=e.direction,n=e.column,s=e.onRequestSort,r=e.role,c=Object(j.a)({root:{color:"white !important","&:hover":{color:"white !important"},"&$active":{color:"white !important"}},active:{},icon:{color:"white !important"}})(Bn.a);return Object(I.jsx)(Mn.a,{children:Object(I.jsx)(Fn.a,{className:Lp.a.tHead,children:t.map((function(e){return Object(I.jsx)(Yn.a,{className:Lp.a.tHeadCell,sortDirection:n===e.key&&a,align:"no"===e.key||"task.user.username"===e.key?"center":"left",width:r===Yt?e.width1:e.width2,children:(null===e||void 0===e?void 0:e.sortable)?Object(I.jsx)(c,{active:n===e.key,direction:n===e.key?a:"asc",onClick:function(){return function(e,t){s(e,t)}(e,a)},children:e.name}):e.name},e.key)}))})})}var qp=Object(u.a)((function(){return{itemPIC:{padding:0,margin:0},itemTextPrimary:{fontSize:"0.875rem"},itemTextSecondary:{fontSize:"0.8rem"}}}));function zp(e){var t=qp(),a=e.columns,n=e.rows,s=e.totalRecord,r=e.totalPage,c=Sp,i=gs().user,l=pr(),o=l.params,d=l.dispatchParams,u=l.limit,j=l.direction,m=l.column,b=l.setColumn,p=l.setLimit,h=l.setPage,x=l.setDirection,v=function(e,t){h(t),d({type:Ue,payload:{page:t,limit:o.limit}})},O=function(e){switch(e){case oa:return Object(I.jsx)(Se.a,{label:e,className:Lp.a.chipApproved});case da:return Object(I.jsx)(Se.a,{label:e,className:Lp.a.chipRejected});case la:return Object(I.jsx)(Se.a,{label:e,className:Lp.a.chipPending})}};return Object(I.jsxs)("div",{className:Lp.a.wrapper,children:[Object(I.jsx)(En.a,{className:Lp.a.container,component:"div",children:Object(I.jsxs)(Hn.a,{className:Lp.a.table,stickyHeader:!0,size:"small","aria-label":"sticky table",children:[Object(I.jsx)(Wp,{columns:a,direction:j,column:m,onRequestSort:function(e,t){e.sortable&&(x("desc"===t?"asc":"desc"),b(e.key),d({type:ze,payload:{column:e.key,direction:t}}))},role:i.roles[0]}),Object(I.jsx)(Ln.a,{className:Lp.a.tBody,children:(null===n||void 0===n?void 0:n.length)>0?n.map((function(e,a){return Object(I.jsxs)(Fn.a,{className:Lp.a.tBodyRow,children:[Object(I.jsx)(Yn.a,{className:Lp.a.tableCell,align:"center",children:o.page*o.limit+a+1}),Object(I.jsx)(Yn.a,{className:Lp.a.tBodyCell,children:Object(I.jsx)(es.a,{highlightClassName:"YourHighlightClass",searchWords:[o.searchKey],autoEscape:!0,textToHighlight:null===e||void 0===e?void 0:e.serviceType})}),Object(I.jsx)(Yn.a,{className:Lp.a.tBodyCell,children:Object(I.jsx)(zn.a,{primary:Object(I.jsxs)(I.Fragment,{children:[null===e||void 0===e?void 0:e.educationLevel," ",Object(I.jsx)(es.a,{highlightClassName:"YourHighlightClass",searchWords:[o.searchKey],autoEscape:!0,textToHighlight:null===e||void 0===e?void 0:e.schoolName})]}),secondary:null===e||void 0===e?void 0:e.district,classes:{primary:Lp.a.itemText,secondary:Lp.a.itemText}})}),i.roles[0]===Yt&&Object(I.jsx)(Yn.a,{children:(null===e||void 0===e?void 0:e.fullName)&&Object(I.jsxs)(Kn.a,{className:Lp.a.itemPIC,children:[Object(I.jsx)(Wn.a,{children:Object(I.jsx)(qn.a,{src:null===e||void 0===e?void 0:e.avatar})}),Object(I.jsx)(zn.a,{className:Lp.a.picName,primary:Object(I.jsx)(es.a,{highlightClassName:"YourHighlightClass",searchWords:[o.searchKey],autoEscape:!0,textToHighlight:(null===e||void 0===e?void 0:e.fullName)||""}),secondary:Object(I.jsx)(es.a,{highlightClassName:"YourHighlightClass",searchWords:[o.searchKey],autoEscape:!0,textToHighlight:(null===e||void 0===e?void 0:e.username)||""}),classes:{primary:t.itemTextPrimary,secondary:t.itemTextSecondary}})]})}),Object(I.jsx)(Yn.a,{className:Lp.a.tBodyCell,children:(null===e||void 0===e?void 0:e.status)&&O(null===e||void 0===e?void 0:e.status)}),Object(I.jsx)(Yn.a,{className:Lp.a.tBodyCell,align:"right",children:Object(I.jsx)(Ep,{data:e})})]},null===e||void 0===e?void 0:e.id)})):Object(I.jsx)(Fn.a,{className:Lp.a.tBodyRow,children:Object(I.jsx)(Yn.a,{className:Lp.a.noRecord,component:"td",colSpan:"100%",children:c.notFound})})})]})}),Object(I.jsx)(Un.a,{rowsPerPageOptions:[10,20,50],component:"div",count:s||0,rowsPerPage:u,page:o.page,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:v,onChangeRowsPerPage:function(e){p(parseInt(e.target.value,10)),h(0),d({type:Ue,payload:{page:0,limit:parseInt(e.target.value,10)}})},ActionsComponent:function(){return Object(I.jsx)(Kp,{count:s||0,page:o.page,rowsPerPage:o.limit,totalPage:r,onChangePage:v})}})]})}var Up=r.a.memo(zp);var Gp=function(e){var t=e.dateRange,a=e.handleDateRangeChange,n=Object(s.useState)(t),r=Object(d.a)(n,2),c=r[0],i=r[1];return Object(I.jsx)(kl.b,{dateAdapter:Pl.a,children:Object(I.jsx)(Tl.a,{startText:"Valid from",endText:"Expire on",showToolbar:!0,inputFormat:"dd/MM/yyyy",value:c,onChange:function(e){return i(t=e),void a(t);var t},renderInput:function(e,t){return Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsx)(f.a,{item:!0,xs:6,sm:6,md:6,lg:6,children:Object(I.jsx)(g.a,{children:Object(I.jsx)(ce.a,Object(D.a)(Object(D.a)({},e),{},{variant:"outlined",value:c[0],fullWidth:!0}))})}),Object(I.jsx)(f.a,{item:!0,xs:6,sm:6,md:6,lg:6,children:Object(I.jsx)(g.a,{children:Object(I.jsx)(ce.a,Object(D.a)(Object(D.a)({},t),{},{variant:"outlined",value:c[1],fullWidth:!0}))})})]})}})})},Zp=a(325),Qp=a.n(Zp);var Jp=function(){var e=Object(o.h)(),t=gs().user,a=function(e){var t=gp[0],a=gp[1],n=gp[2],s=gp[3],r=gp[4],c=gp[5];switch(e){case Yt:return[t,a,n,s,r,c];case Ht:return[t,a,n,r,c]}}(t.roles[0]),n=pr().params,r=n.listFilters,c=n.page,i=n.limit,l=n.column,u=n.direction,j=n.searchKey,m=Object(s.useState)(null),b=Object(d.a)(m,2),p=b[0],h=b[1],x=!0,v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"submitDate",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"desc",r=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0;ir(t,a,n,s,r,c,i).then((function(e){x&&h(e.data)})).catch((function(t){t.response&&(console.log(t),e.push({pathname:"/errors",state:{error:t.response.status}}))}))};return Object(s.useEffect)((function(){return t.roles[0]===Ht?v(c,i,l,u,j,r,t.username):v(c,i,l,u,j,r),function(){x=!1}}),[n]),p?Object(I.jsxs)("div",{className:Qp.a.panel,children:[Object(I.jsx)(Bp,{className:Qp.a.filter,refreshAPI:v}),Object(I.jsx)(Up,{className:Qp.a.table,columns:a,rows:p.list,totalRecord:p.totalElements,totalPage:p.totalPage,refreshAPI:v})]}):Object(I.jsx)(se,{})},Xp=a(18),$p=a.n(Xp),eh={headers:{child1:"Service Detail",child2:"Submission Detail",child3:"Evaluation Criteria"},operations:{save:"Save",approve:"Approve",reject:"Reject",restriction:"You are not allowed to view this"},fields:{serviceType:{title:"Service type"},duration:{title:"Duaration"},submitedDate:{title:"Submited on"},submitedBy:{title:"Submited by"},classNo:{title:"No. of applied classes",adornment:"classes",helper:"Min: 1 class.  Max: 100 classes"},studentNumber:{title:"Students per classes",adornment:"students/class",helper:"Min: 1 student.  Max: 100 students"},slotNumber:{title:"Periods per week",adornment:"periods/week",helper:"Min: 1 period. Max: 10 periods"},price:{title:"Price floor",adornment:"VND/period",helper:"100.000VND - 2.000.000VND"},note:{title:"Note",noNote:"No notes yet"},serviceStatus:{title:"Status"},rejectedReason:{title:"Rejected reason",placeholder:"The reason I rejected this service is...?",noReason:"N/A"},revenue:{formula:Object(I.jsxs)(I.Fragment,{children:["Price floor * Periods per week * 4 weeks ",Object(I.jsx)("br",{}),"* No. of classes * Duration (in months)"]})}}},th=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}),ah={reject:"Confirm Reject Service",approve:"Confirm Approve Service"},nh={cancel:"Cancel",reject:"Reject",approve:"Approve"},sh={rejectedReason:{label:"Rejected reason",placeholder:"The reason I rejected this service is...?"},serviceType:{title:"Service type"},schoolName:{title:"School name"}},rh=a(199),ch=a.n(rh),ih=["children","classes","onClose"],lh=Object(j.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,s=Object(bt.a)(e,ih);return Object(I.jsxs)(pt.a,Object(D.a)(Object(D.a)({disableTypography:!0,className:a.root},s),{},{children:[Object(I.jsx)(x.a,{variant:"h6",children:t}),n?Object(I.jsx)(ht.a,{"aria-label":"close",className:a.closeButton,onClick:n,children:Object(I.jsx)(C.k,{})}):null]}))})),oh=Dt.b().shape({reason:Dt.d().trim()});function dh(e){var t=e.open,a=e.onClose,n=e.service,s=e.refreshPage,r=e.setNotify,c=ah,i=nh,l=sh,d=Object(o.h)(),u={id:null===n||void 0===n?void 0:n.id,reason:null===n||void 0===n?void 0:n.rejectedReason},j=Object(Tt.c)({resolver:Object(Pt.a)(oh),defaultValues:u}),m=j.control,b=j.handleSubmit,p=j.formState;return Object(I.jsxs)(xt.a,{open:t,onClose:a,maxWidth:"sm",fullWidth:!0,children:[Object(I.jsx)(lh,{onClose:a,children:c.reject}),Object(I.jsxs)("form",{onSubmit:b((function(e){(function(e,t){return mr.apply(this,arguments)})(null===n||void 0===n?void 0:n.id,null===e||void 0===e?void 0:e.reason).then((function(e){s(null===n||void 0===n?void 0:n.id),r({isOpen:!0,message:"Rejected service successfully",type:"success"})})).catch((function(e){e.response&&(console.log(e),d.push({pathname:"/errors",state:{error:e.response.status}})),r({isOpen:!0,message:"Rejected service failed",type:"error"})})),a()})),noValidate:!0,children:[Object(I.jsx)(yt.a,{children:Object(I.jsxs)(f.a,{container:!0,spacing:0,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:ch.a.rowx,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:3,lg:3,children:Object(I.jsx)(x.a,{color:"inherit",className:ch.a.title,children:l.serviceType.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:8,children:Object(I.jsx)(x.a,{color:"inherit",children:null===n||void 0===n?void 0:n.serviceType})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:ch.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:3,lg:3,children:Object(I.jsx)(x.a,{color:"inherit",className:ch.a.title,children:l.schoolName.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:8,children:Object(I.jsxs)(x.a,{color:"inherit",children:[null===n||void 0===n?void 0:n.educationLevel," ",null===n||void 0===n?void 0:n.schoolName]})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:ch.a.row,children:Object(I.jsx)(Tt.a,{name:"reason",control:m,render:function(e){var t=e.value,a=e.onChange;return Object(I.jsx)(ce.a,{variant:"outlined",fullWidth:!0,multiline:!0,rows:5,value:t,onChange:a,label:l.rejectedReason.label,placeholder:l.rejectedReason.placeholder})}})})]})}),Object(I.jsxs)(wt.a,{children:[Object(I.jsx)(O.a,{type:"submit",disabled:!p.isDirty,autoFocus:!0,className:ch.a.btnReject,children:i.reject}),Object(I.jsx)(O.a,{onClick:a,children:i.cancel})]})]})]})}var uh=r.a.memo(dh),jh=a(388),mh=a.n(jh),bh=["children","classes","onClose"],ph=Object(j.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,s=Object(bt.a)(e,bh);return Object(I.jsxs)(pt.a,Object(D.a)(Object(D.a)({disableTypography:!0,className:a.root},s),{},{children:[Object(I.jsx)(x.a,{variant:"h6",children:t}),n?Object(I.jsx)(ht.a,{"aria-label":"close",className:a.closeButton,onClick:n,children:Object(I.jsx)(C.k,{})}):null]}))}));function hh(e){var t,a,n,s=e.open,r=e.onClose,c=e.service,i=e.refreshPage,l=ah,d=nh,u=Object(o.h)(),j=Object(cn.b)().enqueueSnackbar;return Object(I.jsxs)(xt.a,{open:s,onClose:r,children:[Object(I.jsx)(ph,{onClose:r,children:l.approve}),Object(I.jsx)(yt.a,{children:Object(I.jsx)(ho.a,{className:mh.a.dialogText,children:(t=null===c||void 0===c?void 0:c.educationLevel,a=null===c||void 0===c?void 0:c.schoolName,n=null===c||void 0===c?void 0:c.serviceType,Object(I.jsxs)(I.Fragment,{children:["Do you really want to approve service ",Object(I.jsx)("strong",{children:n})," of school",Object(I.jsx)("strong",{children:Object(I.jsxs)("em",{children:[" ",t," ",a," "]})}),"?",Object(I.jsx)("br",{}),"This process cannot be undone."]}))})}),Object(I.jsxs)(wt.a,{children:[Object(I.jsx)(O.a,{className:mh.a.btnApprove,onClick:function(){(function(e){return jr.apply(this,arguments)})(null===c||void 0===c?void 0:c.id).then((function(e){i(null===c||void 0===c?void 0:c.id),j("Approved service successfully",{variant:"success"})})).catch((function(e){e.response&&(console.log(e),u.push({pathname:"/errors",state:{error:e.response.status}}))})),r()},autoFocus:!0,children:d.approve}),Object(I.jsx)(O.a,{onClick:r,children:d.cancel})]})]})}var xh=r.a.memo(hh),vh=Dt.b().shape({classNumber:Dt.a("Number of classes must be a number").integer("Number of classes must be an integer").min(1,"Minimum 1 class").max(100,"Maximum 100 classes").required("Number of classes is required"),studentNumber:Dt.a("Number of students must be a number").integer("Number of students must be an integer").min(1,"Minimum 1 student").max(100,"Maximum 100 students").required("Number of students is required"),slotNumber:Dt.a("Number of periods must be a number").integer("Number of periods must be an integer").min(1,"Minimum 1 period").max(10,"Maximum 10 periods").required("Number of periods is required"),pricePerSlot:Dt.a("Price floor must be a number").min(1e5,"Minimum price is 100.000VND").max(2e6,"Maximum price is 2.000.000VND").required("Price floor is required"),note:Dt.d().trim()}),Oh=Object(u.a)((function(e){return{inputRoot:{"&$disabled":{color:"#616161"}},disabled:{},itemPIC:{padding:0,margin:0},itemTextPrimary:{fontSize:"0.875rem"},itemTextSecondary:{fontSize:"0.8rem"},customWidth:{maxWidth:300}}})),fh=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"});var gh=function(e){var t=Oh(),a=e.service,n=e.refreshPage,r=eh.headers,c=eh.operations,i=eh.fields,l=Object(o.h)(),u=gs().user,j=Object(s.useState)(!1),m=Object(d.a)(j,2),b=m[0],p=m[1],g=Object(s.useState)(!1),y=Object(d.a)(g,2),_=y[0],N=y[1],C=Object(s.useState)(!1),w=Object(d.a)(C,2),S=w[0],k=w[1],T=Object(s.useState)({isOpen:!1,message:"",type:""}),P=Object(d.a)(T,2),D=P[0],V=P[1],R=Object(s.useState)([]),A=Object(d.a)(R,2),B=A[0],M=A[1],F=function(e,t){switch(e){case sa:return t===Gt?[{key:"price",name:"Price Floor",standardValue:7e5},{key:"period",name:"Number of periods per week",standardValue:2},{key:"class",name:"Number of applied classes",standardValue:8},{key:"student",name:"Number of students per class",standardValue:40},{key:"duration",name:"Duration",standardValue:7}]:[{key:"price",name:"Price Floor",standardValue:8e5},{key:"period",name:"Number of periods per week",standardValue:2},{key:"class",name:"Number of applied classes",standardValue:8},{key:"student",name:"Number of students per class",standardValue:40},{key:"duration",name:"Duration",standardValue:7}];case ra:return t===Gt?[{key:"price",name:"Price Floor",standardValue:6e5},{key:"period",name:"Number of periods per week",standardValue:1},{key:"class",name:"Number of applied classes",standardValue:8},{key:"student",name:"Number of students per class",standardValue:40},{key:"duration",name:"Duration",standardValue:7}]:[{key:"price",name:"Price Floor",standardValue:7e5},{key:"period",name:"Number of periods per week",standardValue:1},{key:"class",name:"Number of applied classes",standardValue:8},{key:"student",name:"Number of students per class",standardValue:40},{key:"duration",name:"Duration",standardValue:7}];case ca:if(t===Gt)return[{key:"price",name:"Price Floor",standardValue:15e5},{key:"period",name:"Number of periods per week",standardValue:2},{key:"class",name:"Number of applied classes",standardValue:2},{key:"student",name:"Number of students per class",standardValue:40},{key:"duration",name:"Duration",standardValue:7}];case ia:return"Ti\u1ec3u h\u1ecdc"===t?[{key:"price",name:"Price Floor",standardValue:1e6},{key:"period",name:"Number of periods per week",standardValue:2},{key:"class",name:"Number of applied classes",standardValue:2},{key:"student",name:"Number of students per class",standardValue:40},{key:"duration",name:"Duration",standardValue:7}]:[{key:"price",name:"Price Floor",standardValue:18e5},{key:"period",name:"Number of periods per week",standardValue:2},{key:"class",name:"Number of applied classes",standardValue:2},{key:"student",name:"Number of students per class",standardValue:40},{key:"duration",name:"Duration",standardValue:7}]}}(null===a||void 0===a?void 0:a.serviceType,null===a||void 0===a?void 0:a.educationLevel),Y={id:null===a||void 0===a?void 0:a.id,serviceType:null===a||void 0===a?void 0:a.serviceType,duration:[null===a||void 0===a?void 0:a.startDate,null===a||void 0===a?void 0:a.endDate],pricePerSlot:null===a||void 0===a?void 0:a.pricePerSlot,classNumber:null===a||void 0===a?void 0:a.classNumber,studentNumber:null===a||void 0===a?void 0:a.studentNumber,slotNumber:null===a||void 0===a?void 0:a.slotNumber,note:null===a||void 0===a?void 0:a.note},E=Object(Tt.c)({resolver:Object(Pt.a)(vh),defaultValues:Y}),H=E.control,L=E.handleSubmit,K=E.formState,q=E.errors,z=E.getValues;if(!a)return Object(I.jsx)(se,{});var U=function(e,t,a){var n=a.pricePerSlot,s=a.slotNumber,r=a.classNumber,c=a.studentNumber,i=a.startDate,l=a.endDate,o=Ne(new Date(i),new Date(l),"M");switch(e){case"price":return n>=t;case"period":return s>=t;case"class":return r>=t;case"student":return c>=t;case"duration":return o>=t}},G=function(e,t,a,n){var s=a.pricePerSlot,r=a.slotNumber,c=a.classNumber,i=a.studentNumber,l=a.startDate,o=a.endDate,d=n.priceFloor,u=n.slotNo,j=n.classNo,m=n.studentNo,b=n.time,p=0;switch(p=n&&b?Ne(new Date(b[0]),new Date(b[1]),"M"):Ne(new Date(l),new Date(o),"M"),e){case"price":return Object(I.jsxs)(h.a,{display:"flex",children:[Object(I.jsxs)(h.a,{p:1,flexGrow:1,children:[Object(I.jsx)(x.a,{variant:"caption",children:"Standard: "}),Object(I.jsxs)(x.a,{variant:"body2",children:[fh.format(t),"/period"]})]}),Object(I.jsxs)(h.a,{p:1,className:$p.a.tooltipRightInfo,children:[Object(I.jsx)(x.a,{variant:"caption",children:"Actual: "}),Object(I.jsxs)(x.a,{variant:"body2",children:[n&&d?fh.format(d):fh.format(s),"/period"]})]})]});case"period":return Object(I.jsxs)(h.a,{display:"flex",children:[Object(I.jsxs)(h.a,{p:1,flexGrow:1,children:[Object(I.jsx)(x.a,{variant:"caption",children:"Standard: "}),Object(I.jsxs)(x.a,{variant:"body2",children:[t," periods/week"]})]}),Object(I.jsxs)(h.a,{p:1,className:$p.a.tooltipRightInfo,children:[Object(I.jsx)(x.a,{variant:"caption",children:"Actual: "}),n&&u?u<=1?Object(I.jsxs)(x.a,{variant:"body2",children:[u," period/week"]}):Object(I.jsxs)(x.a,{variant:"body2",children:[u," periods/week"]}):r<=1?Object(I.jsxs)(x.a,{variant:"body2",children:[r," period/week"]}):Object(I.jsxs)(x.a,{variant:"body2",children:[r," periods/week"]})]})]});case"class":return Object(I.jsxs)(h.a,{display:"flex",children:[Object(I.jsxs)(h.a,{p:1,flexGrow:1,children:[Object(I.jsx)(x.a,{variant:"caption",children:"Standard: "}),Object(I.jsxs)(x.a,{variant:"body2",children:[t," classes"]})]}),Object(I.jsxs)(h.a,{p:1,children:[Object(I.jsx)(x.a,{variant:"caption",children:"Actual: "}),n&&j?j<=1?Object(I.jsxs)(x.a,{variant:"body2",children:[j," class"]}):Object(I.jsxs)(x.a,{variant:"body2",children:[j," classes"]}):c<=1?Object(I.jsxs)(x.a,{variant:"body2",children:[c," class"]}):Object(I.jsxs)(x.a,{variant:"body2",children:[c," classes"]})]})]});case"student":return Object(I.jsxs)(h.a,{display:"flex",children:[Object(I.jsxs)(h.a,{p:1,flexGrow:1,children:[Object(I.jsx)(x.a,{variant:"caption",children:"Standard: "}),Object(I.jsxs)(x.a,{variant:"body2",children:[t," students/class"]})]}),Object(I.jsxs)(h.a,{p:1,children:[Object(I.jsx)(x.a,{variant:"caption",children:"Actual: "}),Object(I.jsxs)(x.a,{variant:"body2",children:[n&&m?m:i," students/class"]})]})]});case"duration":return Object(I.jsxs)(h.a,{display:"flex",children:[Object(I.jsxs)(h.a,{p:1,flexGrow:1,children:[Object(I.jsx)(x.a,{variant:"caption",children:"Standard: "}),Object(I.jsxs)(x.a,{variant:"body2",children:[t," months"]})]}),Object(I.jsxs)(h.a,{p:1,children:[Object(I.jsx)(x.a,{variant:"caption",children:"Actual: "}),p<=1?Object(I.jsxs)(x.a,{variant:"body2",children:[p," month"]}):Object(I.jsxs)(x.a,{variant:"body2",children:[p," months"]})]})]})}},Q=function(e,t){var a=e.pricePerSlot,n=e.slotNumber,s=e.classNumber,r=e.startDate,c=e.endDate,i=t.priceFloor,l=t.slotNo,o=t.classNo,d=Ne(new Date(r),new Date(c),"M");return t&&i&&l&&o?fh.format(i*l*o*4*d):fh.format(a*n*s*4*d)};return Object(I.jsxs)("div",{className:$p.a.panel,children:[Object(I.jsx)(f.a,{container:!0,spacing:0,className:$p.a.body,children:u.roles[0]===Ht&&u.username!==(null===a||void 0===a?void 0:a.username)?Object(I.jsx)("div",{className:$p.a.notFound,children:Object(I.jsx)($,{title:c.restriction})}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(f.a,{item:!0,container:!0,xs:12,sm:12,md:8,lg:8,className:$p.a.content,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,container:!0,spacing:0,className:$p.a.wrapper,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:$p.a.row,children:Object(I.jsx)(x.a,{color:"inherit",className:$p.a.header,children:r.child1})}),u.roles[0]===Ht&&u.username===(null===a||void 0===a?void 0:a.username)?Object(I.jsx)("form",{onSubmit:L((function(e){var t={id:null===a||void 0===a?void 0:a.id,taskId:null===a||void 0===a?void 0:a.taskId,serviceType:null===a||void 0===a?void 0:a.serviceType,submitDate:_e(new Date,"YYYY-MM-DD HH:mm:ss"),startDate:(null===e||void 0===e?void 0:e.duration[0])?_e(null===e||void 0===e?void 0:e.duration[0],"YYYY-MM-DD HH:mm:ss"):null===a||void 0===a?void 0:a.startDate,endDate:(null===e||void 0===e?void 0:e.duration[1])?_e(null===e||void 0===e?void 0:e.duration[1],"YYYY-MM-DD HH:mm:ss"):null===a||void 0===a?void 0:a.endDate,classNumber:(null===e||void 0===e?void 0:e.classNumber)?parseInt(null===e||void 0===e?void 0:e.classNumber,10):null===a||void 0===a?void 0:a.classNumber,slotNumber:(null===e||void 0===e?void 0:e.slotNumber)?Number(null===e||void 0===e?void 0:e.slotNumber):null===a||void 0===a?void 0:a.slotNumber,studentNumber:(null===e||void 0===e?void 0:e.studentNumber)?Number(null===e||void 0===e?void 0:e.studentNumber):null===a||void 0===a?void 0:a.studentNumber,pricePerSlot:(null===e||void 0===e?void 0:e.pricePerSlot)?Number(null===e||void 0===e?void 0:e.pricePerSlot):null===a||void 0===a?void 0:a.pricePerSlot,status:null===a||void 0===a?void 0:a.status,note:null===e||void 0===e?void 0:e.note};(function(e,t){return dr.apply(this,arguments)})(null===a||void 0===a?void 0:a.id,t).then((function(e){n(null===a||void 0===a?void 0:a.id),V({isOpen:!0,message:"Updated service successfully",type:"success"})})).catch((function(e){e.response&&(console.log(e),l.push({pathname:"/errors",state:{error:e.response.status}})),V({isOpen:!0,message:"Updated service failed",type:"error"})}))})),noValidate:!0,children:Object(I.jsxs)(f.a,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.row,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:$p.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:$p.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:$p.a.title,children:i.serviceType.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:8,className:$p.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:null===a||void 0===a?void 0:a.serviceType})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:$p.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:$p.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:$p.a.title,children:i.duration.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:8,className:$p.a.rowx,children:(null===a||void 0===a?void 0:a.status)===la?Object(I.jsx)(Tt.a,{name:"duration",control:H,defaultValue:[null===a||void 0===a?void 0:a.startDate,null===a||void 0===a?void 0:a.endDate],render:function(e){var t=e.value,a=e.onChange;return Object(I.jsx)(Gp,{dateRange:t,handleDateRangeChange:a})}}):(null===a||void 0===a?void 0:a.status)===oa?Object(I.jsx)(we,{startDate:null===a||void 0===a?void 0:a.startDate,endDate:null===a||void 0===a?void 0:a.endDate,marker:new Date,type:"service"}):Object(I.jsxs)(x.a,{color:"inherit",children:[_e(null===a||void 0===a?void 0:a.startDate,"DD-MM-YYYY")," \u279c \xa0",_e(null===a||void 0===a?void 0:a.endDate,"DD-MM-YYYY")]})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:$p.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:$p.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:$p.a.title,children:i.classNo.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:8,className:$p.a.rowx,children:(null===a||void 0===a?void 0:a.status)===la?Object(I.jsx)(Tt.a,{name:"classNumber",control:H,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(f.a,{item:!0,xs:8,sm:7,md:4,lg:4,children:Object(I.jsx)(ce.a,{variant:"outlined",type:"number",required:!0,fullWidth:!0,value:a,onChange:n,InputProps:{endAdornment:Object(I.jsx)(Ol.a,{position:"end",children:i.classNo.adornment}),inputProps:{min:1,max:100}},error:!!(null===q||void 0===q?void 0:q.classNumber),helperText:null===q||void 0===q||null===(t=q.classNumber)||void 0===t?void 0:t.message})})}}):Object(I.jsxs)(x.a,{color:"inherit",children:[null===a||void 0===a?void 0:a.classNumber," ",i.classNo.adornment]})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:$p.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:$p.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:$p.a.title,children:i.studentNumber.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:8,className:$p.a.rowx,children:(null===a||void 0===a?void 0:a.status)===la?Object(I.jsx)(Tt.a,{name:"studentNumber",control:H,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(f.a,{item:!0,xs:10,sm:7,md:6,lg:6,children:Object(I.jsx)(ce.a,{variant:"outlined",type:"number",required:!0,fullWidth:!0,value:a,onChange:n,InputProps:{endAdornment:Object(I.jsx)(Ol.a,{position:"end",children:i.studentNumber.adornment}),inputProps:{min:1,max:100}},error:!!(null===q||void 0===q?void 0:q.studentNumber),helperText:null===q||void 0===q||null===(t=q.studentNumber)||void 0===t?void 0:t.message})})}}):Object(I.jsxs)(x.a,{color:"inherit",children:[null===a||void 0===a?void 0:a.studentNumber," ",i.studentNumber.adornment]})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:$p.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:$p.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:$p.a.title,children:i.price.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:8,className:$p.a.rowx,children:(null===a||void 0===a?void 0:a.status)===la?Object(I.jsx)(Tt.a,{name:"pricePerSlot",control:H,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:7,md:8,lg:7,children:Object(I.jsx)(ce.a,{variant:"outlined",type:"number",required:!0,fullWidth:!0,InputProps:{endAdornment:Object(I.jsx)(Ol.a,{position:"end",children:i.price.adornment}),inputProps:{min:1e5,max:2e6}},value:a,onChange:function(e){n(e.target.value),lb(Number(e.target.value),M)},error:!!(null===q||void 0===q?void 0:q.pricePerSlot),helperText:null===q||void 0===q||null===(t=q.pricePerSlot)||void 0===t?void 0:t.message})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:B.map((function(e){return Object(I.jsx)(O.a,{variant:"outlined",size:"small",color:"secondary",onClick:function(t){return n(e)},className:$p.a.suggestions,children:new Intl.NumberFormat("vi-VN").format(e)})}))})]})}}):Object(I.jsxs)(x.a,{color:"inherit",children:[fh.format(null===a||void 0===a?void 0:a.pricePerSlot),"/period"]})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:$p.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:$p.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:$p.a.title,children:i.slotNumber.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:8,className:$p.a.rowx,children:(null===a||void 0===a?void 0:a.status)===la?Object(I.jsx)(Tt.a,{name:"slotNumber",control:H,render:function(e){var t,a=e.value,n=e.onChange;return Object(I.jsx)(f.a,{container:!0,children:Object(I.jsx)(f.a,{item:!0,xs:8,sm:7,md:5,lg:5,children:Object(I.jsx)(ce.a,{variant:"outlined",type:"number",required:!0,fullWidth:!0,value:a,onChange:function(e){return n(e.target.value)},InputProps:{endAdornment:Object(I.jsx)(Ol.a,{position:"end",children:i.slotNumber.adornment}),inputProps:{min:0,max:10}},error:!!(null===q||void 0===q?void 0:q.slotNumber),helperText:null===q||void 0===q||null===(t=q.slotNumber)||void 0===t?void 0:t.message})})})}}):Object(I.jsxs)(x.a,{color:"inherit",children:[null===a||void 0===a?void 0:a.slotNumber," ",1===(null===a||void 0===a?void 0:a.slotNumber)?"period/week":"periods/week"]})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:$p.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:$p.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:$p.a.title,children:i.note.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:8,className:$p.a.rowx,children:Object(I.jsx)(Tt.a,{name:"note",control:H,render:function(e){var n=e.value,s=e.onChange;return Object(I.jsx)(ce.a,{variant:"outlined",fullWidth:!0,multiline:!0,rows:5,value:n,onChange:s,placeholder:i.note.noNote,disabled:(null===a||void 0===a?void 0:a.status)!==la,InputProps:{classes:{root:t.inputRoot,disabled:t.disabled}}})}})})]})}),(null===a||void 0===a?void 0:a.status)===la&&Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.action,children:Object(I.jsx)(O.a,{type:"submit",onClick:function(){},disabled:!K.isDirty,className:$p.a.btnApprove,variant:"contained",children:c.save})})]})}):Object(I.jsxs)(f.a,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.row,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:$p.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:$p.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:$p.a.title,children:i.serviceType.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:8,className:$p.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:null===a||void 0===a?void 0:a.serviceType})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:$p.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:$p.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:$p.a.title,children:i.duration.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:8,className:$p.a.rowx,children:Object(I.jsx)(we,{startDate:null===a||void 0===a?void 0:a.startDate,endDate:null===a||void 0===a?void 0:a.endDate,marker:new Date,type:"service"})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:$p.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:$p.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:$p.a.title,children:i.classNo.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:8,className:$p.a.rowx,children:Object(I.jsxs)(x.a,{color:"inherit",children:[null===a||void 0===a?void 0:a.classNumber," ",i.classNo.adornment]})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:$p.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:$p.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:$p.a.title,children:i.studentNumber.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:8,className:$p.a.rowx,children:Object(I.jsxs)(x.a,{color:"inherit",children:[null===a||void 0===a?void 0:a.studentNumber," ",i.studentNumber.adornment]})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:$p.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:$p.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:$p.a.title,children:i.price.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:8,className:$p.a.rowx,children:Object(I.jsxs)(x.a,{color:"inherit",children:[fh.format(null===a||void 0===a?void 0:a.pricePerSlot),"/period"]})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:$p.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:$p.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:$p.a.title,children:i.slotNumber.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:8,className:$p.a.rowx,children:Object(I.jsxs)(x.a,{color:"inherit",children:[null===a||void 0===a?void 0:a.slotNumber," ",1===(null===a||void 0===a?void 0:a.slotNumber)?"period/week":"periods/week"]})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:$p.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:$p.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:$p.a.title,children:i.note.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:8,className:$p.a.rowx,children:Object(I.jsx)(ce.a,{variant:"outlined",fullWidth:!0,multiline:!0,rows:5,value:null===a||void 0===a?void 0:a.note,disabled:!0,placeholder:i.note.noNote,InputProps:{classes:{root:t.inputRoot,disabled:t.disabled}}})})]})}),(null===a||void 0===a?void 0:a.status)===la&&Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.action,children:[Object(I.jsx)(O.a,{className:$p.a.btnApprove,variant:"contained",onClick:function(){k(!0)},children:c.approve}),Object(I.jsx)(xh,{open:S,onClose:function(){return k(!1)},service:a,refreshPage:n}),Object(I.jsx)(O.a,{className:$p.a.btnReject,variant:"contained",onClick:function(){N(!0)},children:c.reject}),Object(I.jsx)(uh,{open:_,onClose:function(){return N(!1)},service:a,refreshPage:n,setNotify:V})]})]})]}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,container:!0,spacing:0,className:$p.a.wrapper,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.row,children:Object(I.jsx)(x.a,{color:"inherit",className:$p.a.header,children:r.child2})}),Object(I.jsxs)(f.a,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.row,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:$p.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:$p.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:$p.a.title,children:i.submitedDate.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:8,className:$p.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",children:_e(null===a||void 0===a?void 0:a.submitDate,"DD-MM-YYYY")})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:$p.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:$p.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:$p.a.title,children:i.submitedBy.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:8,className:$p.a.rowx,children:Object(I.jsxs)(Kn.a,{className:t.itemPIC,children:[Object(I.jsx)(Wn.a,{children:Object(I.jsx)(qn.a,{src:null===a||void 0===a?void 0:a.avatar})}),Object(I.jsx)(zn.a,{className:$p.a.picName,primary:null===a||void 0===a?void 0:a.fullName,secondary:null===a||void 0===a?void 0:a.username,classes:{primary:t.itemTextPrimary,secondary:t.itemTextSecondary}})]})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:$p.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:$p.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:$p.a.title,children:i.serviceStatus.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:8,className:$p.a.rowx,children:(null===a||void 0===a?void 0:a.status)&&function(e){switch(e){case oa:return Object(I.jsx)(Se.a,{label:e,className:$p.a.chipApproved});case da:return Object(I.jsx)(Se.a,{label:e,className:$p.a.chipRejected});case la:return Object(I.jsx)(Se.a,{label:e,className:$p.a.chipPending})}}(null===a||void 0===a?void 0:a.status)})]})}),(null===a||void 0===a?void 0:a.rejectedReason)&&Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.row,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:$p.a.rowx,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:4,md:4,lg:4,className:$p.a.rowx,children:Object(I.jsx)(x.a,{color:"inherit",className:$p.a.title,children:i.rejectedReason.title})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:8,lg:8,className:$p.a.rowx,children:Object(I.jsx)(ce.a,{variant:"outlined",fullWidth:!0,multiline:!0,rows:3,value:null===a||void 0===a?void 0:a.rejectedReason,disabled:!0,InputProps:{classes:{root:t.inputRoot,disabled:t.disabled}}})})]})})]})]})]}),(u.roles[0]===Yt||u.roles[0]===Ht)&&Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:4,lg:4,className:$p.a.content,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:$p.a.wrapper,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:$p.a.row,children:Object(I.jsxs)(h.a,{display:"flex",children:[Object(I.jsx)(h.a,{flexGrow:1,children:Object(I.jsx)(x.a,{color:"inherit",className:$p.a.header,children:r.child3})}),Object(I.jsx)(h.a,{children:Object(I.jsx)(sb.a,{onClickAway:function(){return p(!1)},children:Object(I.jsx)(v.a,{interactive:!0,title:Object(I.jsx)("div",{className:$p.a.criInfoPanel,children:Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsxs)(f.a,{item:!0,children:[Object(I.jsx)(x.a,{variant:"overline",children:"Criteria description"}),Object(I.jsx)("br",{}),Object(I.jsx)(x.a,{variant:"caption",className:$p.a.txtCriInfoHeader,children:"1/ Price floor per period"}),Object(I.jsxs)("div",{className:$p.a.txtCriInfo,children:[Object(I.jsxs)("span",{className:$p.a.txtCriInfoHeader,children:[sa,":"]}),Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsxs)(f.a,{item:!0,container:!0,xs:6,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" - ",Gt,":"]}),Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" \xa0 ",th.format(7e5),"/period"]})]}),Object(I.jsxs)(f.a,{item:!0,container:!0,xs:6,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" - ",Zt," & ",Qt,":"]}),Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" \xa0 ",th.format(8e5),"/period"]})]})]})]}),Object(I.jsxs)("p",{className:$p.a.txtCriInfo,children:[Object(I.jsxs)("span",{className:$p.a.txtCriInfoHeader,children:[ra,":"]}),Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsxs)(f.a,{item:!0,container:!0,xs:6,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" - ",Gt,":"]}),Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" \xa0 ",th.format(6e5),"/period"]})]}),Object(I.jsxs)(f.a,{item:!0,container:!0,xs:6,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" - ",Zt," & ",Qt,":"]}),Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" \xa0 ",th.format(7e5),"/period"]})]})]})]}),Object(I.jsxs)("p",{className:$p.a.txtCriInfo,children:[Object(I.jsxs)("span",{className:$p.a.txtCriInfoHeader,children:[ca,":"]}),Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsxs)(f.a,{item:!0,container:!0,xs:6,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" - ",Gt,":"]}),Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" \xa0 ",th.format(15e5),"/period"]})]}),Object(I.jsxs)(f.a,{item:!0,container:!0,xs:6,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" - ",Zt," & ",Qt,":"]}),Object(I.jsx)(f.a,{item:!0,xs:12,children:" \xa0 (N/A)"})]})]})]}),Object(I.jsxs)("p",{className:$p.a.txtCriInfo,children:[Object(I.jsxs)("span",{className:$p.a.txtCriInfoHeader,children:[ia,":"]}),Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsxs)(f.a,{item:!0,container:!0,xs:6,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" - ",Gt,":"]}),Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" \xa0 ",th.format(1e6),"/period"]})]}),Object(I.jsxs)(f.a,{item:!0,container:!0,xs:6,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" - ",Zt," & ",Qt,":"]}),Object(I.jsxs)(f.a,{item:!0,xs:12,children:[" \xa0 ",th.format(18e5),"/period"]})]})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)(x.a,{variant:"caption",className:$p.a.txtCriInfoHeader,children:"2/ Number of periods per week"}),Object(I.jsxs)("div",{className:$p.a.txtCriInfo,children:[Object(I.jsxs)(f.a,{container:!0,spacing:1,children:[Object(I.jsx)(f.a,{item:!0,xs:1}),Object(I.jsxs)(f.a,{item:!0,xs:11,children:[Object(I.jsxs)("span",{className:$p.a.txtCriInfoHeader,children:["\u2022 \xa0",sa,":"]}),"\u20032 periods/week"]})]}),Object(I.jsxs)(f.a,{container:!0,spacing:1,children:[Object(I.jsx)(f.a,{item:!0,xs:1}),Object(I.jsxs)(f.a,{item:!0,xs:11,children:[Object(I.jsxs)("span",{className:$p.a.txtCriInfoHeader,children:["\u2022 \xa0",ra,":"]}),"\u20031 period/week"]})]}),Object(I.jsxs)(f.a,{container:!0,spacing:1,children:[Object(I.jsx)(f.a,{item:!0,xs:1}),Object(I.jsxs)(f.a,{item:!0,xs:11,children:[Object(I.jsxs)("span",{className:$p.a.txtCriInfoHeader,children:["\u2022 \xa0",ca,":"]}),"\u20032 periods/week"]})]}),Object(I.jsxs)(f.a,{container:!0,spacing:1,children:[Object(I.jsx)(f.a,{item:!0,xs:1}),Object(I.jsxs)(f.a,{item:!0,xs:11,children:[Object(I.jsxs)("span",{className:$p.a.txtCriInfoHeader,children:["\u2022 \xa0",ia,":"]}),"\u20032 periods/week"]})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)(x.a,{variant:"caption",className:$p.a.txtCriInfoHeader,children:"3/ Number of classes"}),Object(I.jsxs)("div",{className:$p.a.txtCriInfo,children:[Object(I.jsx)("i",{children:"Number of classes applying this service"}),Object(I.jsx)("br",{}),Object(I.jsxs)(f.a,{container:!0,spacing:1,children:[Object(I.jsx)(f.a,{item:!0,xs:1}),Object(I.jsxs)(f.a,{item:!0,xs:11,children:[Object(I.jsxs)("span",{className:$p.a.txtCriInfoHeader,children:["\u2022 \xa0",sa,":"]}),"\u2003\u2265 8 classes"]})]}),Object(I.jsxs)(f.a,{container:!0,spacing:1,children:[Object(I.jsx)(f.a,{item:!0,xs:1}),Object(I.jsxs)(f.a,{item:!0,xs:11,children:[Object(I.jsxs)("span",{className:$p.a.txtCriInfoHeader,children:["\u2022 \xa0",ra,":"]}),"\u2003\u2265 8 classes"]})]}),Object(I.jsxs)(f.a,{container:!0,spacing:1,children:[Object(I.jsx)(f.a,{item:!0,xs:1}),Object(I.jsxs)(f.a,{item:!0,xs:11,children:[Object(I.jsxs)("span",{className:$p.a.txtCriInfoHeader,children:["\u2022 \xa0",ca,":"]}),"\u2003\u2265 2 classes"]})]}),Object(I.jsxs)(f.a,{container:!0,spacing:1,children:[Object(I.jsx)(f.a,{item:!0,xs:1}),Object(I.jsxs)(f.a,{item:!0,xs:11,children:[Object(I.jsxs)("span",{className:$p.a.txtCriInfoHeader,children:["\u2022 \xa0",ia,":"]}),"\u2003\u2265 2 classes"]})]})]}),Object(I.jsx)("br",{}),Object(I.jsx)(x.a,{variant:"caption",className:$p.a.txtCriInfoHeader,children:"4/ Average class size"}),Object(I.jsxs)("p",{className:$p.a.txtCriInfo,children:[Object(I.jsx)("i",{children:"Average number of students per class:"}),Object(I.jsx)("br",{})," \u2265 40 students"]}),Object(I.jsx)("br",{}),Object(I.jsx)(x.a,{variant:"caption",className:$p.a.txtCriInfoHeader,children:"5/ Duration"}),Object(I.jsxs)("p",{className:$p.a.txtCriInfo,children:[Object(I.jsx)("i",{children:"Amount of time the service takes effective:"}),Object(I.jsx)("br",{})," \u2265 7 months"]}),Object(I.jsx)("br",{})]}),Object(I.jsx)("hr",{style:{width:"85%",height:"0%",textAlign:"center",margin:"0 auto"}}),Object(I.jsxs)(f.a,{item:!0,children:[Object(I.jsx)(x.a,{variant:"overline",children:"Sales estimation formula"}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{style:{border:"1px solid",textAlign:"center",margin:"0 0 0 0.35rem",padding:"0 0.5rem"},children:Object(I.jsxs)("p",{style:{fontSize:"0.75rem",fontWeight:100},children:["Sales = ",Object(I.jsx)("br",{}),"Price floor * Periods per week * 4 weeks * No. of classes * Duration (in months)"]})})]})]})}),placement:"bottom-end",open:b,onClose:function(){return p(!1)},disableFocusListener:!0,disableHoverListener:!0,children:Object(I.jsx)("div",{onClick:function(){return p(!0)},children:Object(I.jsx)(Ym.a,{className:$p.a.iconInfo})})})})})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:10,md:12,lg:12,className:$p.a.row,children:Object(I.jsxs)(hs.a,{children:[F.map((function(e){return Object(I.jsxs)("div",{children:[Object(I.jsxs)(Kn.a,{children:[Object(I.jsx)(Zn.a,{children:U(e.key,e.standardValue,a)?Object(I.jsx)("img",{className:$p.a.icon,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAewAAAHsCAMAAAAn9G5SAAAApVBMVEUAAAABjAEBkQEBpgEBpgEBpgEBpgEBpgEBmwEBoAEBpgEBoAEBpgEBpgEBpQEBpAEBpgEBpgEBpAEBpQEBpgEBoAEBpgEBpgEBpgEBpgEBpgEBpgEBpAEBogEBpgEBpgEBpgEBpgEBpgEBpgEBpQEBpgEBogEBpQEBpAEBpgEBpgEBpgEBpQEBogEBpQEBpQEBpgEBpAEBpQEBpQEBpAEBpgEBpgHTu3hmAAAANnRSTlMABAfX++349AsY0A7p3Vo6ueEzVKYTysSWoZvlLx+u8b9tYIF3eydOPrSOiTYcZUlxImhEK4Zy5bdnAAAdPUlEQVR42uzdCVbiQBAG4ErITsJuWBLCKoggiuh//6ONzIwDMsxi0o3dUN8JfNZL0rV0QVfE8Pz+LG2sqtW7u+qqkb7M+r5H7EKY/dV8fXvfy2pxZDs4yQ2jYJj1Xqfr+erBIKYb/25821kENj4tDGq920rVJ6a8cnW9zAIXhblB9jqulompyGys72sJBEuG9+PUJKYM7+6pG1iQxgm6T1WO+NebjTuBhTOw4s54RuyLGI1pZuOs7Gza4AP72aXTxQBfYrDggJ/Rw7gV4kuFrTEnZ/IZd8sSlBAs7/gBl6hcadlQSNhtcrlVipvxwoFynMX6hphQN881C4qyamOOtzBeZaFspN+f7wq/zwUwHlsuNOB2t3xeK2b2mkAbyfKFWE7ldRuaaY/5dZ5H2hlAQ4NOSuxTzIp2D/Veu8Itsv/nT0JoLZlwNfX/NLoKFk8+y+muiP2DMdf4/f1Re07sL8yxIl0OMUpjTr3/pPxUx4WpP/FZ7ZTyVPNT2SnWiNhvyrdKNS8FCe+IHfMuMtRoPxA7Yo4u8AX+psff62PG+OKOZd85z8SOzC8q2dpLqsQ+agxxmdpcLz3y0MWF4s/1EXOixQhKDhZ/ro/MI1wozq6PzGq4VHGf2AHv9QK6mH/Q4s/1B48X+waHNSV2wG/hYg0eiR14vsgy+A8lvq5/qH+5BzNgwQt3DhijS02td+55LuXApo0vZQ2SqBTEcXs4bMdxUIoS24EozpjY3rOLs7OSOOtNRs1tY3Nj0Ammv2lsK6NJJ4vrFjc+BPEXOKdkuNtU2DfoE4yHauW2N6zj82KeUzjQDHEmUfZaSU0qwEsrk6xk4f+1+IrXntfDGThxb1T1SBCv+tyJHfyPCbFf0hJki1pSthCaq1E3wt+5TWK/PDuQqtSp+CTRQ7MT4I+SBrF35QwS1Xu7QMvnV3oRTol5JmWvEUEWpzZ6oTOaPdVcbnL9xdqBHEnvK5aQefNeyEez07wupKjff916QaN6X8cPToXYu00ACerLL7/7/CPeIVfN9rY2hLN7aqwMNe46Q54/2nuyIJi1aPJ5SEVmF4KVppzlqMlvQygr2xJTU1qHSPVbfqiV9TiAQO2mEmcydtLIgjBWi2vPKltCGLfD+Y3KzBZEsSe8tl1p5aGwUN/yaK7a/ABihFMOteI2EYQYTDjUqntJIIKzvPpvtT+NSwU1SaqqDRG61z6Xa8wzC0UtSaqtCwGGV59XjxIU1yWpHkXEOuLFzUsIUDNIprmDwtzp1bcwjS4EiD06pGKsW9f+sSbyFhAg8kmmpoWiStzEpJsYAiQb+kC5WDuTq3+DE/VLEGCQ0keqvcOHvKGCaFaHAM6WZHosGusB7wR8swohQoVOUCe/rnEfU1iZAk8kU9VFIQNeULHTdPBG8cLZi41CePz6u7UFKF842yQowpnyfNnOFFC/cOZHKCLgn5z+bgKoXzgrByiiw7n1jtEB1C+cmUMUYPN+ivdyuBDhhiQyWryYuzgzgxBug2S651d4cV4NQliPJNMI+bl8j13wNO6YZJpbyC3iU/i+zSXELcmUDpBb7eoHCkVPXndIJr+O3JZcSPnhoQQxMoMkMmN8Gq+dOdKPIEbbJJlayIXXzhzY1CFG6YZkekJeAWfX+1EFHYoptLWQU42v9exvz4jhrkimjY2cunw0+ykNIYY1J5m8ADm9EhMcazyTVF3+9dmiGjYADSZTaI18HG5yiY91i6RqOMjF5Z8uFB/roUky3UTIxeb0+t3Khh4JNmU5Y331F3F/WQ2gR4Kdt60ZpsR+vcP1SLApdfLFmjua4mONJknllfLFmi9yvUttvNHg6gdRj59rZWLdIbmayMPm77WEWC8MksoP+RxeyEsIQIfrAG8WyMHl/PrdLIEodZ/kWiMHh+tmR7MKGuxWINq46t0M10l/F2stRsSJjCFyGBH74SHCSUr+V0fcvy7CL0GbpIs2rnI3w3VyE+CNDnewd2pK/lW6KMcQJiiTZGsl/ypdeG0Ik/RJMn+ATwt5Zvgnswbo0unKdyXA4WLKT0YGQJNO15tHTrCLbizQ4q7mjhcpN/SokQ4ATcYLd5Z8EM/vFeLEJsk2s/BZEd+/3u8306f7kSvFdnla4ac1xHFTkq7Jh7PcmpZWB3EyI/Vqt7rYOhBnSvJNVDxG6OEbe3falzYQhAF8EpIQ7kMOuRGUq4hX+3z/j1aEVtSq7OBumG32/7ov+mtKMjs7xzqLHQsm0O7dZsEUuszZ3qyILTsGaex1JH5arDCoWRaIU919sE/UzOCZFZMq/xiDKe8+2DtxC3YF4kRzMEWuRnzHW+IDogdWeBlpLSm26OCZFRPt/pqAaexS4js/oFE+pgT4NfCM3Knr2JQ4sUUgV7KmIFujDI2CBSUhLoJnSc7WIsKeDZOv/roBz8gtRFbYc8bUpUQUQvBsyCG6rcG2LOkJP+wxObvdV7ZlSU/4YUdulIbmqmEgWlMybsAzJedVMsWC5cgHcQiWjMuJb02h04oScg+eBTk0AWBTA99L8kxcQbN8X47cF1yhOwFL1h2x/+y+sqqWdM/LyCuGky5XszI4I5q76IwrztsZnBG1wTKn1POGdgZnRHWXO+Nawc7gjJ0acCMM6RFbltUX7uUiceXrwj0FlgZn3DxQ5MpTfo5sDc7IL4r9q8nULEGntkfJKYNjlPpWbL8NnXo5SlDb3XaxdKFTUKEE9cERpn7Y2TV2rJlL+salsPE9ws0DAHZ15h4URu6HfcLth1UNAS827od9vkA8fKBEtd0PmzWEXas7StTMheIaA3HhdXw/wJBN+Rn7Cs9svOra8XpuysK5MuK1JiXrDgxBurPiDyG27CsSf9FwVYbM0hTbOvgO4iwY1pRmQ8DebAr7DqRNaXYDwN5syrOluBE+Us2h1WhGSWsGUFdL8/yU2QjPhM++6jbpc48uU6qmkMGW9NqUK2w0TRaPcpReQzwTviFgEaD61Vvcnbt0XGHLGO07KAJBkz4zcW2bSu4CC64/9mmAjZZYPEOp9TdzJntYZePrAVaFyLXyacicyZgKeY+dqKAhoxKkNzzrQKtijgx4Co6c6Rpuvl3ijT4InsiAQfFIHO2FZ08CWKASYU/yvsVXX5rQo48soC5Ma0P2n4574fUKjaOnph/yhiyKs685k979cX98KWrGHbKP+gW9noiJX0CTpw/cujsQxToe4QWGgyLeuKV/Tdy+5GMGIeSfsP2WwvzghitRUflnFH/C7ihcYnhFKKtRKl1iS3pK/BHvFT16r37221fpytiSnhL/KA3Qp/euXSz+tVkWO6LnK+R6StcYVSjrpTEW9/MApN9h+22l1LY3chmVb3Z1CZgTeImPjDx6a+3y4t/5YMtYTztRnFN3D2VRTKlz7IMtYj1tP6u4M3MIZVVKHd31CtkZHZifCzCkt0KpE15E6OJrEjYbelV8pnh6C376tvyUcYyAtQu/lB/ZxKXPPvcwglalAuk3V3+TXLqDV2Ip8ahO+j2E6rF/XubEXBFW+JqEffJHIsj8mz8bQFnaykrvoFeVDOjgS0FMBwvXHPCZXBFbwu81H3FEhQ7u3cycI0Vnou811xHnuNxxn+yvW/hE9+Y2azimc1p8lq5tbesAgPA0qVdlfXz9AKpKlCaFEiA+TTrFcYFPf9VdV/aRYnvB06/mzAVNG5cYTyRNOiQGvf3Dk1PSBhVKD91p0l6TtPNb3MCwClWRoB4vz48LzQIZ47WxJ7n9o8teqtiDqhYZkJtfXJTLk8nm8er+/vrmZjr99WO1urzsdjuNxnA4XFbH43G71crnM5lSrdcrhqNsFGAvc3nRpPcEbrk3c+qaQFGP/ih84xZExKzAxi3pV7Hg1NXPQlWT9ipnHqbawndlr33aEXzq+kn6PfKDrc1547McNCjd0QuJwzTMHGMqUDZhN2YHMem3gRbDW9LoAlvS77oo5vdiDs975bWEHqMrj3TJhYD4u66tEvuMnz9rViDOQpdWnzSpYkd2SwDrd5qnveypvWjiZjkHU1/iohd0yZApVGXZAVKZXpNYppupCGwJKMVkSBnKctyQrk/69aDXyqdv8lr4Q/ze3DqUVbj/O2LSbg3dMmthqbMpGRNDWZlZjNGjF2KTklvB1KNvqAfQquWROTWoumbWjI9JvzwMaM3oZH4GW8ILFl6MmcWDy3MGlQMYkd2IKRO/IpO6zGmz+dPGTovcZnkwbNJJnrAlPnX24oZ50A5POXlJzV4c1CoS7j/CHBlVhqqQtvxzXoN4RRgTXJ/91G9+SkUFynzeV/OWtHtow5xl87ReH+HNuScOIR2wDrqBR/p5NwGMqa2JpVDDluyqs7e8gDWWcn7uzux6BsZEjydeYsvt9Xmnx7qMmZx90WrchTldn38nI3ok0sllPhtWAm1IplyEMKY1IEXNHnbk33+8MmQdnFfnv6gjGrRhTLHCfInLv/94pcuqVelKSOiTNw1gSjTRF4mLG8o+Zf1Wh0ISf09FGLPy1CNxyaXDH7hifYXHUhIEuTGMWcZJp1OCOiWizIqv84z2FbO8XzCmlfsf1n984ImVHC8JWhZxF8KU2s9kX+IeJWPNaq0PJY02fMjDlHCR4EqIqE8JmUFVkYgiUUOx/A5MiS7oUwu8InXp4jf7aSIiD8oSCi8jmHJ1rDrFikqkt3wo8yiGqoCSUemBQUvU9ANaRT8pOQFUFagJVSNKyG0Lplx6J5cYSl0kP2J8hgfs2lLz4gZM6Xj0Dy+PHdF7fTRcew1oJnIq1g1MaXimB9tFM0pSiXGa6sucWnqRhSFL/6NmH1tf4pzlyH3Gw85Tkuo9HBh92mPA0kicWRxcp7rO4Tl2hGlV/90sAGsjcV71wprWUh82xUMYUvXft93bmE5hP+wKVc5elfQpbwUu/pt8CKtf4kRtxsNeyH3YRNcwZOm9LjuzMSd+wsNeyH7YdBGBgX8Ci2uWv8RZD1vya/w3d3faljYQBAB4EnJJQOWIQDkilygtSLWd///TqlUKlAUzm4Sd2fd7n6fVJtmd892Nj+Xo7br4BCY29V7jjA9oH341sBzLXZxUWnWK7mmc79Vra1XBckz35mlIKjHU/mU32QZVdpI7LMd4g4WquGBAFbMacA2X7otusRwhFuoRCEyES5kmQg65bRSgCyQGEiEsU5xHnB6y14jBAFKKk2PxgoLTRe6ewYwUs0oYliWp/UbeemCIh1lF/AoOT5kjZ7UEiAwUHHIrJT5jhoy1wABiKTG3JoGzNsjWExhCuE35zNp/vjBGptIVUBlo/2HV2Cf3tz0GKhONfZxaduW+yTsOGNPCrO4ZNePLPaXplZ1dvhmfzZgNyTewKZhAH7PBZYAOwRSZMZPsog+MWDIZjUWyRF5uwAj6aCwWQ++oviEn38CoDmY14TDOkszhlPHsx2BUA7NamB9Uq8N5QjZaYAh9UK3xEdR63A4y8QQG0UdQu1KOIvviKrIQ/gRT6MPlja+N0HVVRw5mYAp9bYT5hTDafvbRvKrxU8wMs6qaX/Wkb5CiaZ7xPCBl1RODJW76nj00bAnGEZa4MVjPmMMENVh0xabVls4YLF4VnBRhkPKlLF7lsFJZbOD0FswbYGY3HJal5+HcIpU9V2ytZekQYla/gZm4glSC++7zVNOH8KEqLcm552cNCazJYm+NyD24I/6NnKfdBEghvGVTv4VzRJ7J6zE7jr+7Rhrh3T4HIo88KGAtMRVitgvMT4CDG8xsTf8jL8CPiez2Glh4oT+msZgaHC5H8jvjCRBynCGGT33uQ3S+8NPHLGRPRVK504h032JWAYsLx5FXD7MRPVDjiBtohPuWsk9ol24UqTFIgPx1o5OgW4toYSNFF+gEBo3HOifKJmbWBp6iCuYkMKvfxsyasOV6AuZjfeEhxcvwfgEXdczKc+GfqsByYmLvquyZlXnLiKuw0xP4wTLUA9bnEzG+1ovubuRdO445HTzBytMZaVnsBnYeUXLia2tVQyU7T2cAFb0cXeShlAFZ5IXntp7O4Ao1s5VVke+xzAtUbSoe1vlkV2FfV3gu5KvPtkXFw/980z1oTVBcl7bS0McyTYCRhu7f+wFRzKDDsxZIJ270RN5fmS8/PE78INF5rMrmx5iZD4dGsorjT3MreMDCzCY1L40j/dGBAZ8YksogwH3W1Z19igJqSGXnh6wep+IGnEqtv2thdk045KR2XL6OXnAWNd7rXrxSJ8dPqM/rn72l3pJsWVfAltPPc8iaif1353nFia3aeMw1+KUpNGio1Maihczy+EviJ/uQU7MkiPYuaeAnq3o29cJnNUf5NMhZIPGVVyxWnVkJ9Y+cH6CJyNKcs4E0qyZqaKf3JvkqmrDB/DwOENfxjY0lC++cBuasGqxYdB7/eJHbGRQnnsUroPJdzpDtLLq2BsWJg4O+5/7v4jM7sChEdTuD4m9cP/dL2PEFn1jKfJFvgJkWZuc7oNQWNGc7i55No3L2PRUQ+bvG7DzGRaZbSQ2LsABmrrwC6tzjQNKk7Qxatgwy1E9jBPHp14MVzQI7I7sqxT9VCvncTuSm/NSGoX3XLngsph428eTm/NQ21l27aOdoLymmxiMQcEQD5862axdcBQUdOF4kZ/2Ump5V2a4386Lq5hLPqmzIu6VV2S5iDsRL4Iwn2T8JhbhvSwvIh1ZxK+auhf8oCh5ky2W43Z5OcZMDohBtKlj561746GHtEhUMIzirLbji8oSBZ0mRYeG/n2ck8IYgwRL1TIGdoYcEz18Wn8sOL6nENelzkfQqMvpOoZMqQn7xJZW15Jni+5Kw2IltD9LfdEXF0SoMwwhTpHgo+GzvcxoyctoN0j0DO7Ff9M14LbpT4oSeBWlsgHnhn6E4tfDRXoX4l9xNlOQHO40gg66Nj/ZUfjwF5iUk4gdo4aMd9cXHU2K/jFdTx8ID+UcVjtylo+SXU6eU1EEq467tVCVuAdmTpKVMT3ZrYud5nvGKske9LZGi5pbzwghkRMjhVnJ9CgyDkj6uV4H4k6vCQPTg5R5iSQWCPfE5fpWe4LWEzfJujk3Zveo534SvwM99iY9fR3g7lNp3sYHSRZm1cwvpjY5KSSo0UOrWy3z4nAoiWtbm92Yu9Lg5Kzc7O5FfrqUQ10ReJFdhuQsP3IboaY+nbESGiNpI0nCBaCN6juspbkNg8Pex9P60yLfyjLaWl7Gl7kbwIyCbyy+8VXDqeE6NYUXpFGlm5adPMWC9FeifibQMyEOAFygwmAuf+ajm1IVlQO4vMj859uUXWitMZGVA1kh/sC/xaKciLttORcoakHer9EKD0aMavrFsEh7ARFKp+BPS6J8wx6J3VZ7i1OX0m0+QaJwnBEGTMow1HluLiQsNU6RpuBf8j3XP76t3zG0ISW0695d8tToV+aOkFF6E1NtsLtuMuECigGE2+Ijbx2Mj4Ia+VXRx4YEkVYZxiSz5YY9dANCtXnqVSdOCYZ/HYl9AzUL38sOdehYMijs25V+z0EKqnoFmV5/dz+1YEnJ/Hw19E8Odpkh1J+CzvcQDIbepu+6dkeFObt3Gz/bK472CsGtopm4Lt0T3z/ynx7oY6drYTN1bpAr/tHcniKnCQBiAAVkEQVBR3HGtWn3u/e9/tLevrX0lBJgEvhMUU8JkMpnQu2vhX3fKVTZ3q7AeME86kvKovSqvTel2j+h6SIBzmmCPxALySXKf7BEHNUBSj4MO9psOpbp1OaLat3KPxDyOj3CChEHaiWiVYbPoDn0hEjN9hTgH37RopQV8E4mFCk92jMRc6pm0JsU6yYmLxGJb4eqI5BxiQe7bd6t4pELJhkOhf/IM8oXkc3KxxfdAvPCC/YslxyUbf6q71MqHB0jOuijczfGd8J0C/7AmtiH7AgZzhT81ovKX8NO1SHVGmoNBpCo/FD6R0/okvvJM6VxAE0Qm8a+uYGBS+jlfobReOJlgcFUysgMDi3xyhQbfwldkTlzZLhgY9AqyCWobYODaSmY6YGGIUEtesLFB7xbgIVi49GsZCnZ3wWKoZKleAwuXXAU+LU8uWNTqSqbGZvVuf0HivX77qFXhC3/Arb7bD41dgGjCagpUMTkj9ji8oJOIXQ9MjGq9/SbfABOvoeSgbYKJRTqXVpSTBSZmTjPlEWxMUjtMNHRMgPaFzwOw0a9K5S9XHQBIVwrUHQCQcH87by9g5NSV3FwMMBqQKgwpljoAI+Oi5Oimg1FAaVexUI0AjPSbkqszWDnUK4xzcqnhJ/ItqUKwcqsF9xe+i9+oX9Gh9cDKpF2qlIumiR+EaGxht8BsX/IwTd2DWctWCjCOwSygf347Q90AzOKxUoiNDmZeifc87x6Y6RulIHOws0r74W5a+IrstuYjz0ihT+uobE60Ph4jfcWcGiKFXglX3JMeUghVpUDaDCkYpdsG6xhIYaYphWo4qKZylilcyPPutoc0nBJF5XcHaXgEWm5eRkjDXJUkwaKuTKQxuigE3A2kMitFnDaZIRWDyBToW0glFuKGqHQWMX4R+3jkzUI6geQv9yRAOtZNIeNkIp1Y6uq0a4zfxD/kvjGR0kza42BPM6RkbhRSOjpSMpdSrrm1pYmUdHK5p/SjjRq9+xFT29Yg31jzmMmBUIhLmT/uUwjINofzG21rJdFcrq0sWcf61bElNh7Rh0tu4+FPsh2Qu1ngYCbF4d72DF9JtL7+l2+Ah4Hwn+5PA/xNxmPO9xF4MPdCFyR29yZ4GBHJhz9y8cBFvCx885ZVYxmDC4/EPtd7bAd8uCshh7uxcsGHQ2D/+n8aM3BirIUb7sbaACczIR5eC8GLsRTq291dGuAlFCXhsAc3Vl+Y3c9J38IDMl6L9stcBzd6KMS6ux3yfGbaPfn/cYrBUdQhXqemdiJwFJNNm71t3AJPrTXh0NRec35Y4bpB2hG40qdEM4e3qQ6uIsL/149oA3BWW5H7GexVDZwNRAnD/3bWwZm+6xD6KbTOjv8TnhVB3QxwZwy3JKI1dTvM4umIfqs+4uIgA639QSnYYd9CBhzy2fD31AfIROu5uPdb3T63kIkBsVvbEzuayMZo2Cngt6l3hiNkw6R1tzOTtoesmMH8ruToPg9MZMUTIlH4P40pMtQaNm0lB3Zz2EKGpkJscn3A1USmav1sB9xu9mvIlCnR8adxDVnzwrOvKdxp/jn0kLWacAnS99SHyIHZG879Ore/2Z8PeyZyMBQ9Cv9Xx0VOvOlLc6wpKWjj5svUQ05cgsd70rJ3yNNoNlx3/ImqJKBO/M56OBshTztyCX8urhZyp7eiaX8579zal6765gB3L+1bZ77sT6OWjtxZEkVmf7tEKJQej7ya0+tFs1nU6zk1bxTrKFQkdH70fercQuUXa05iT+c1Kt1FJCJ7J5kvrgYqAAxpv9Z/skNUEMoZhL928lBynmD1o2nUX0yUmPkiW8rsfU8lDtQCabuAPbQp6VwuTx+RJLRlCRfdlpzd3j7WjKJkxG8gUnibGVHI0RoohU0NJVEr5cf6b+qihRJoLeTOg3+UdnYhOfdc1rjstcZa6oS5gM1h/lQNdzXU6YZbysncrYb6TY2zdKFa61wN9SPaQqqFWG1RhWXvUTcRJBFtqsXWf7UHEux/moOyZ8s+yl4KHqu5y7LUofCgNQWezaNm9alOaNyPIaC4L9Uhvdw0jsK93tGxWmoxe3oZQRijl/LVG/GlnkIhClqs8FSttDioN3c6SNN3zXLVi2aqew3IjrceXIVqgS+C7mJHMNli7hbVSGei0QxJbYQaYbMKvjOkbvdE9kpqexpNVCX3aRG6KJQbLspcE5wztb0KYhQiDlbt6pXOm3pYTQ3kypiuDtVAF+Zp0Xd05EB3+osqQVa8+vY8yHLEdWdw3lZJE0K0w/U5GIGzUfB8PVQbljR1/eN+6lhIzXKm+6Nf5UsEYG8X6/7OMZCY4ez668W2KjQRjzY5bI7r5+E06HmGiTeZhtcLpsPn9XFzmFQztizUuj15GrcPvr/d+v6hPX6a2PUyraQ+A1BGzV4oUgBcAAAAAElFTkSuQmCC"}):Object(I.jsx)("img",{className:$p.a.icon,src:Z})}),Object(I.jsx)(v.a,{title:u.roles[0]===Ht?G(e.key,e.standardValue,a,{priceFloor:z("pricePerSlot"),slotNo:z("slotNumber"),classNo:z("classNumber"),studentNo:z("studentNumber"),time:z("duration")}):G(e.key,e.standardValue,a,{}),arrow:!0,interactive:!0,classes:{tooltip:t.customWidth},children:Object(I.jsx)(zn.a,{primary:e.name,classes:{primary:t.itemTextPrimary}})})]}),Object(I.jsx)(Wc.a,{})]},e.key)})),Object(I.jsx)(Kn.a,{children:Object(I.jsx)(v.a,{title:Object(I.jsx)(x.a,{variant:"caption",children:i.revenue.formula}),arrow:!0,interactive:!0,classes:{tooltip:t.customWidth},children:Object(I.jsxs)(x.a,{variant:"body1",children:[Object(I.jsx)("span",{className:$p.a.txtEstimate,children:"Estimate sales"})," \xa0",Object(I.jsxs)("span",{className:$p.a.txtRevenue,children:["\u2248"," ",u.roles[0]===Ht&&(null===a||void 0===a?void 0:a.status)===la?Q(a,{priceFloor:z("pricePerSlot"),slotNo:z("slotNumber"),classNo:z("classNumber")}):Q(a,{})]})]})})})]})})]})})]})}),Object(I.jsx)(W,{notify:D,setNotify:V})]})};var yh=function(){var e=yp,t=_p,a=Np,n=Object(s.useState)(0),r=Object(d.a)(n,2),c=r[0],i=r[1],l=Object(o.j)().id,u=(Object(o.i)(),Object(o.h)()),j=Object(s.useState)(null),m=Object(d.a)(j,2),b=m[0],p=m[1],h=Object(s.useState)(!0),x=Object(d.a)(h,2),v=x[0],O=x[1],f=!0,g=function(e){(function(e){return or.apply(this,arguments)})(e).then((function(e){f&&p(e)})).catch((function(e){e.response&&(console.log(e),403===e.response.status?O(!1):u.push({pathname:"/errors",state:{error:e.response.status}}))}))};return Object(s.useEffect)((function(){return g(l),function(){f=!1}}),[]),b?Object(I.jsx)(oc,{linkBack:e.back,header:"".concat(null===b||void 0===b?void 0:b.serviceType," for ").concat(null===b||void 0===b?void 0:b.educationLevel," ").concat(null===b||void 0===b?void 0:b.schoolName),subHeader:null===b||void 0===b?void 0:b.status,isStatus:!0,tabs:[t.tab1],tabValue:c,handleChangeTab:function(e,t){i(t)},children:Object(I.jsx)(gh,{service:b,refreshPage:g})}):v?Object(I.jsx)(se,{}):Object(I.jsx)($,{title:a.notFound})},_h=Object(u.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap"},ul:{maxWidth:810,overflowX:"auto",display:"flex",justifyContent:"flex-start",flexWrap:"nowrap",listStyle:"none",margin:0,paddingLeft:"0.5rem"},btnClear:{fontSize:"0.75rem"},chip:{margin:e.spacing(.5)}}}));function Nh(e){var t=_h(),a=e.chips,n=e.dispatch,r=e.handleChipsRemoved,c=Object(s.useState)(!1),i=Object(d.a)(c,2),l=(i[0],i[1]);return Object(I.jsx)("div",{children:1!==function(){var e=0;return a.forEach((function(t){""!==t.filterValue&&null!==t.filterValue&&void 0!==t.filterValue||e++})),e}()&&Object(I.jsxs)("div",{className:t.root,children:[Object(I.jsx)(O.a,{size:"small",className:t.btnClear,onClick:function(){(l(!1),r)&&(n({type:We,payload:{filterType:dt,filterValue:""}}),r([dt]))},children:"Clear all"}),Object(I.jsx)("ul",{className:t.ul,children:a.map((function(e){return Object(I.jsx)("li",{children:e.filterValue&&Object(I.jsx)(Se.a,{label:e.filterValue,onDelete:(a=e,function(){switch(a.filterType){case dt:n({type:We,payload:{filterType:dt,filterValue:""}})}if(r){var e=[a.filterType];r(e)}}),className:t.chip,color:"secondary"})},e.filterType);var a}))})]})})}var Ch=r.a.memo(Nh),wh=[{key:"no",name:"#",sortable:!1,width1:"1%",width2:"1%"},{key:"name",name:"Group Name",sortable:!0,width1:"32%",width2:"34%"},{key:"salesmen",name:"Apply for",sortable:!1,width1:"20%",width2:"0%"},{key:"startDate",name:"Start Date",sortable:!0,width1:"17%",width2:"22%"},{key:"endDate",name:"End Date",sortable:!0,width1:"17%",width2:"22%"},{key:"status",name:"Status",sortable:!0,width1:"15%",width2:"20%"},{key:"",name:"",sortable:!1,width1:"1%",width2:"1%"}];var Sh={back:"KPIs"},Ih={tab1:"KPIs Group Details",tab2:"My KPIs Details"},kh={notFound:"KPI Group Not Found"},Th={filter:"Filters",search:{placeholder:"Search..."},create:"Create"},Ph={status:{title:"KPI Group Statuses"}},Dh={notFound:"No records found."},Vh={details:{title:"View details"},disable:{title:"Disable"}},Rh=a(827),Ah=a(800),Bh=a(818),Mh={create:"Create KPI Group",confirm:"Confirm Create KPI Group",disable:"Confirm Disable KPI Group",salesmanKPI:"Update Salesman's KPI details"},Fh={disable:"Disable",cancel:"Cancel",save:"Save",yes:"OK"},Yh=["Initial KPI Group","Modify Criteria","Apply"],Eh=[{key:"no",name:"#",sortable:!1,width:"2%"},{key:"name",name:"KPI Group Name",sortable:!0,width:"48%"},{key:"targetValue",name:"Target Value",sortable:!0,width:"22%"},{key:"weight",name:"Weight",sortable:!0,width:"15%"},{key:"",name:"",sortable:!1,width:"8%"}],Hh=a(389),Lh=a.n(Hh),Kh=["children","classes","onClose"],Wh=Object(j.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,s=Object(bt.a)(e,Kh);return Object(I.jsxs)(pt.a,Object(D.a)(Object(D.a)({disableTypography:!0,className:a.root},s),{},{children:[Object(I.jsx)(x.a,{variant:"h6",children:t}),n?Object(I.jsx)(ht.a,{"aria-label":"close",className:a.closeButton,onClick:n,children:Object(I.jsx)(C.k,{})}):null]}))}));function qh(e){var t=e.open,a=e.onClose,n=e.onCloseCreateDialog,s=e.KPI,r=e.refreshPage,c=Mh,i=Fh,l=null;console.log("open r\u1ed3i n\xe8");var d,u=Object(o.h)(),j=gs().user,m=Rr().params,b=m.listFilters,p=m.column,h=m.direction,x=m.searchKey,v=Object(cn.b)().enqueueSnackbar;return Object(I.jsxs)(xt.a,{open:t,onClose:a,maxWidth:"sm",fullWidth:!0,children:[Object(I.jsx)(Wh,{onClose:a,children:c.confirm}),Object(I.jsx)(yt.a,{children:Object(I.jsx)(ho.a,{className:Lh.a.dialogText,children:(d=null===s||void 0===s?void 0:s.groupName,Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(H.a,{severity:"success",children:"All steps completed."}),Object(I.jsx)("br",{}),"Do you really want to create KPI group ",Object(I.jsx)("strong",{children:Object(I.jsx)("em",{children:d})})," now?"]}))})}),Object(I.jsxs)(wt.a,{children:[Object(I.jsx)(O.a,{className:Lh.a.btnOK,onClick:function(){!function(){console.log("Confirm Dialog ------ KPI: ",s);var e=[],t={kpiDetails:[],username:""},a=[],n={criteriaId:0,kpiDetailId:-1,actualValue:0,targetValue:0,weight:0};null===s||void 0===s||s.kpis.forEach((function(s){a=[],Object(re.a)(null===s||void 0===s?void 0:s.criteria).forEach((function(e){n=Object(D.a)(Object(D.a)({},n),{},{criteriaId:null===e||void 0===e?void 0:e.id,targetValue:parseInt(null===e||void 0===e?void 0:e.targetValue),weight:parseFloat((null===e||void 0===e?void 0:e.weight)/100)}),a.push(n)})),t={username:null===s||void 0===s?void 0:s.username,kpiDetails:a},e.push(t)})),console.log("Sau khi x\u1eed l\xfd data: myKPIs = ",e),l={groupName:null===s||void 0===s?void 0:s.groupName,startDate:_e(null===s||void 0===s?void 0:s.startDate,"YYYY-MM-DD HH:mm:ss"),endDate:_e(null===s||void 0===s?void 0:s.endDate,"YYYY-MM-DD HH:mm:ss"),kpis:e},console.log("  >> TADAAA<<  ------Finally, we have: kpiData = ",l)}(),function(e){return Sr.apply(this,arguments)}(l).then((function(e){r(p,h,x,b,j.username),v("Created KPI group successfully",{variant:"success"})})).catch((function(e){e.response&&(console.log(e),u.push({pathname:"/errors",state:{error:e.response.status}}),v("Created KPI group failed",{variant:"error"}))})),a(),n()},autoFocus:!0,children:i.yes}),Object(I.jsx)(O.a,{onClick:a,children:i.cancel})]})]})}var zh=r.a.memo(qh),Uh=a(247),Gh=a.n(Uh);var Zh=function(e){var t=e.KPI,a=e.setKPI,n=t.criteria,r=t.kpis,c=Object(s.useState)([]),i=Object(d.a)(c,2),l=i[0],u=i[1],j=Object(o.h)();return Object(s.useEffect)((function(){Tr().then((function(e){u(e)})).catch((function(e){e.response&&(console.log(e),j.push({pathname:"/errors",state:{error:e.response.status}}))}))}),[]),console.log("Step 1: KPI = ",t),Object(I.jsxs)(h.a,{display:"flex",flexDirection:"column",justifyItems:"center",alignItems:"center",className:Gh.a.wrapper,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:6,lg:6,className:Gh.a.child,children:Object(I.jsx)(ce.a,{label:"Group name",variant:"outlined",required:!0,fullWidth:!0,autoFocus:!0,value:t.groupName,onChange:function(e){return a(Object(D.a)(Object(D.a)({},t),{},{groupName:e.target.value}))}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:6,lg:6,className:Gh.a.child,children:Object(I.jsx)(ce.a,{label:"Description",variant:"outlined",fullWidth:!0,size:"small",multiline:!0,rows:4,autoFocus:!0,value:t.description,onChange:function(e){return a(Object(D.a)(Object(D.a)({},t),{},{description:e.target.value}))}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:8,md:6,lg:6,className:Gh.a.child,children:Object(I.jsx)(ie.a,{multiple:!0,id:"checkboxes-tags-demo",options:l,value:n,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return(null===e||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.id)},renderOption:function(e,t){var a=t.selected;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(dd.a,{icon:Object(I.jsx)(C.h,{}),checkedIcon:Object(I.jsx)(C.g,{}),style:{marginRight:5},checked:a}),e.name]})},renderInput:function(e){return Object(I.jsx)(ce.a,Object(D.a)(Object(D.a)({},e),{},{variant:"outlined",label:"Evaluation Criteria",required:!0}))},onChange:function(e,n){var s=[];n.map((function(e,t){e=t<n.length-1?Object(D.a)(Object(D.a)({},e),{},{weight:Math.round(100/n.length)}):Object(D.a)(Object(D.a)({},e),{},{weight:100-Math.round(100/n.length)*(n.length-1)}),s.push(e)})),a(Object(D.a)(Object(D.a)({},t),{},{criteria:s,kpis:[Object(D.a)(Object(D.a)({},r),{},{criteria:s})]}))}})})]})},Qh=a(100),Jh=a.n(Qh);var Xh=function(e){var t=e.KPI,a=e.setKPI,n=t.criteria,r=t.kpis,c=Object(s.useState)(n),i=Object(d.a)(c,2),l=i[0],o=i[1];console.log("Step 2: kpi = ",t);var u=function(e){var n=Object(re.a)(Jl(l,"id",e));o(n),function(e){var n=[];e.map((function(t,a){t=a<e.length-1?Object(D.a)(Object(D.a)({},t),{},{weight:Math.round(100/e.length)}):Object(D.a)(Object(D.a)({},t),{},{weight:100-Math.round(100/e.length)*(e.length-1)}),n.push(t)})),a(Object(D.a)(Object(D.a)({},t),{},{criteria:n,kpis:[Object(D.a)(Object(D.a)({},r),{},{criteria:n})]}))}(n)};return Object(I.jsx)(h.a,{display:"flex",flexDirection:"column",justifyItems:"center",alignItems:"center",className:Jh.a.wrapper,children:Object(I.jsx)("div",{className:Jh.a.child,children:Object(I.jsx)(En.a,{className:Jh.a.container,children:Object(I.jsxs)(Hn.a,{className:Jh.a.table,stickyHeader:!0,size:"small",children:[Object(I.jsx)(Mn.a,{className:Jh.a.tHead,children:Eh.map((function(e){return Object(I.jsx)(Yn.a,{width:e.width,className:Jh.a.tHeadCell,children:e.name},e.key)}))}),Object(I.jsx)(Ln.a,{className:Jh.a.tBody,children:n.map((function(e,n){return Object(I.jsxs)(Fn.a,{className:Jh.a.tBodyRow,children:[Object(I.jsx)(Yn.a,{className:Jh.a.tBodyCell,children:n+1}),Object(I.jsx)(Yn.a,{className:Jh.a.tBodyCell,children:e.name}),Object(I.jsx)(Yn.a,{className:Jh.a.tBodyCellTextField,children:Object(I.jsx)(ce.a,{className:Jh.a.txtTargetValue,variant:"outlined",size:"small",type:"number",value:e.targetValue,onChange:function(e){return function(e,n){var s=e.target.value,c=Object(re.a)(l);c[n]=Object(D.a)(Object(D.a)({},c[n]),{},{targetValue:s}),o(c),a(Object(D.a)(Object(D.a)({},t),{},{criteria:c,kpis:[Object(D.a)(Object(D.a)({},r),{},{criteria:c})]}))}(e,n)},InputProps:{inputProps:{min:0,max:999999999999}}})}),Object(I.jsx)(Yn.a,{className:Jh.a.tBodyCellTextField,children:Object(I.jsx)(ce.a,{className:Jh.a.txtWeight,variant:"outlined",size:"small",type:"number",value:e.weight,onChange:function(e){return function(e,n){var s=e.target.value,r=Object(re.a)(l);r[n]=Object(D.a)(Object(D.a)({},r[n]),{},{weight:s}),o(r),a(Object(D.a)(Object(D.a)({},t),{},{criteria:r}))}(e,n)},InputProps:{endAdornment:Object(I.jsx)(Ol.a,{position:"end",children:" % "}),inputProps:{min:0,max:100}}})}),Object(I.jsx)(Yn.a,{className:Jh.a.tBodyCell,children:Object(I.jsx)(v.a,{title:"Remove",size:"small",children:Object(I.jsx)(ht.a,{onClick:function(){return u(null===e||void 0===e?void 0:e.id)},children:Object(I.jsx)(C.o,{})})})})]},e.id)}))})]})})})})},$h=a(799),ex=a(73),tx=a.n(ex),ax=Object(u.a)((function(){return{itemPIC:{display:"flex",flexDirection:"row",padding:0,margin:0},itemTextPrimary:{fontSize:"0.8rem"},itemTextSecondary:{fontSize:"0.75rem"}}}));var nx=function(e){var t=ax(),a=e.KPI,n=e.setKPI,r=a.criteria,c=a.users,i=a.kpis,l=Object(o.h)(),u=Object(s.useState)(i),j=Object(d.a)(u,2),m=j[0],b=j[1],p=Object(s.useState)(null===a||void 0===a?void 0:a.startDate),v=Object(d.a)(p,2),O=v[0],y=v[1],_=Object(s.useState)(null===a||void 0===a?void 0:a.endDate),N=Object(d.a)(_,2),w=N[0],S=N[1],k=Object(s.useState)([]),T=Object(d.a)(k,2),P=T[0],V=T[1],R=Object(s.useState)(c),A=Object(d.a)(R,2),B=A[0],M=A[1],F=Object(s.useState)(!1),Y=Object(d.a)(F,2),E=Y[0],H=Y[1],L=function(e){(function(e){return Dr.apply(this,arguments)})({key:e}).then((function(e){V(e)})).catch((function(e){e.response&&(console.log(e),l.push({pathname:"/errors",state:{error:e.response.status}}))}))};Object(s.useEffect)((function(){L()}),[]);var K=P.length,W=function(e){var t=[],s={};s=Object(D.a)(Object(D.a)({},s),{},{criteria:r}),e.forEach((function(e){s=Object(D.a)(Object(D.a)({},s),{},{username:e.username}),t.push(s)})),console.log("Sau khi add staffs: arrKPIs = ",t),b(t),n(Object(D.a)(Object(D.a)({},a),{},{kpis:t,users:e}))};return Object(s.useEffect)((function(){W([])}),[]),console.log("Step 3 ------ listKPIs = ",null===i||void 0===i?void 0:i.criteria),console.log("Step 3: kpi = ",a),Object(I.jsxs)(h.a,{display:"flex",flexDirection:"column",justifyItems:"center",alignItems:"center",className:tx.a.wrapper,children:[Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",className:tx.a.child,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:3,lg:2,className:tx.a.date,children:Object(I.jsx)(St.a,{utils:kt.a,children:Object(I.jsx)(It.a,{format:"dd/MM/yyyy",allowKeyboardControl:!0,disableToolbar:!0,variant:"inline",inputVariant:"outlined",value:O,onChange:function(e){return function(e){y(e),n(Object(D.a)(Object(D.a)({},a),{},{startDate:e}))}(e)}})})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:3,lg:2,className:tx.a.date,children:Object(I.jsx)(St.a,{utils:kt.a,children:Object(I.jsx)(It.a,{format:"dd/MM/yyyy",allowKeyboardControl:!0,disableToolbar:!0,variant:"inline",inputVariant:"outlined",value:w,onChange:function(e){return function(e){S(e),n(Object(D.a)(Object(D.a)({},a),{},{endDate:e}))}(e)}})})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(I.jsx)(ie.a,{multiple:!0,limitTags:0,noOptionsText:"Cannot find Salesman",disableCloseOnSelect:!0,value:B,onChange:function(e,t){return M(s=t),console.log("selectedSalesmen = ",s),n(Object(D.a)(Object(D.a)({},a),{},{users:s})),W(s),void(s.length===K?H(!0):H(!1));var s},options:P,getOptionLabel:function(e){return e.fullName?e.fullName:""},getOptionSelected:function(e,t){return e.username===t.username},renderInput:function(e){return Object(I.jsx)(ce.a,Object(D.a)(Object(D.a)({},e),{},{label:"Salesmen",variant:"outlined",placeholder:0===B.length?"Search Salesman by name":""}))},renderOption:function(e,a){var n=a.selected;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(dd.a,{icon:Object(I.jsx)(C.h,{}),checkedIcon:Object(I.jsx)(C.g,{}),style:{marginRight:5},checked:n}),Object(I.jsxs)("div",{className:t.itemPIC,children:[Object(I.jsx)(Wn.a,{children:Object(I.jsx)(qn.a,{src:e.avatar})}),Object(I.jsx)(zn.a,{primary:(null===e||void 0===e?void 0:e.fullName)?e.fullName:"",secondary:(null===e||void 0===e?void 0:e.username)?e.username:"",classes:{primary:t.itemTextPrimary,secondary:t.itemTextSecondary}})]},e.username)]})},renderTags:function(e,t){return e.length===K?Object(I.jsx)(x.a,{style:{fontSize:"0.95rem",color:"#616161",fontStyle:"italic"},children:"Selected all salesmen"}):Object(I.jsxs)(x.a,{style:{fontSize:"0.95rem",color:"#616161",fontStyle:"italic"},children:["Selected ",e.length," salesmen"]})}})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:2,lg:2,className:tx.a.avaGroup,children:Object(I.jsx)(g.a,{className:tx.a.formControlCheckbox,children:Object(I.jsx)(Nt.a,{value:E,control:Object(I.jsx)(dd.a,{color:"secondary",checked:E,onChange:function(e){var t=e.target.checked;H(t),t?(M(P),n(Object(D.a)(Object(D.a)({},a),{},{users:P})),W(P)):(M([]),n(Object(D.a)(Object(D.a)({},a),{},{users:[]})),W([]))}}),label:"Select all",labelPlacement:"end"})})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:2,lg:2,className:tx.a.avaGroup,children:Object(I.jsx)($h.a,{max:4,children:B.map((function(e){return Object(I.jsx)(qn.a,{src:null===e||void 0===e?void 0:e.avatar},e.username)}))})})]}),Object(I.jsx)("div",{className:tx.a.child,children:Object(I.jsx)(En.a,{className:tx.a.container,children:Object(I.jsxs)(Hn.a,{className:tx.a.table,stickyHeader:!0,size:"small",children:[Object(I.jsxs)(Mn.a,{className:tx.a.tHead,children:[Object(I.jsxs)(Fn.a,{className:tx.a.tBodyRow,children:[Object(I.jsx)(Yn.a,{colSpan:2,style:{backgroundColor:"#2a4865"}}),Object(I.jsx)(Yn.a,{className:tx.a.tHeadCell,align:"center",colSpan:r.length,children:"Target Values"})]}),Object(I.jsxs)(Fn.a,{className:tx.a.tBodyRow,children:[Object(I.jsx)(Yn.a,{rowSpan:2,style:{minWidth:2,maxWidth:2},className:tx.a.tHeadCell,children:"#"}),Object(I.jsx)(Yn.a,{rowSpan:2,style:{minWidth:120,maxWidth:150},className:tx.a.tHeadCell,children:"Salesman"}),null===r||void 0===r?void 0:r.map((function(e){return Object(I.jsx)(Yn.a,{className:tx.a.tSubHeadCell,style:{minWidth:80,maxWidth:100},children:e.name},e.id)}))]})]}),Object(I.jsx)(Ln.a,{className:tx.a.tBody,children:c.map((function(e,s){var r,c;return Object(I.jsxs)(Fn.a,{className:tx.a.tBodyRow,children:[Object(I.jsx)(Yn.a,{className:tx.a.tBodyCell,style:{minWidth:2,maxWidth:2},children:s+1}),Object(I.jsx)(Yn.a,{className:tx.a.tBodyCell,style:{minWidth:120,maxWidth:150},children:Object(I.jsx)(Kn.a,{className:t.itemPIC,children:Object(I.jsx)(zn.a,{className:tx.a.picName,primary:e.fullName,secondary:e.username,classes:{primary:t.itemTextPrimary,secondary:t.itemTextSecondary}})})}),null===(r=i[s])||void 0===r||null===(c=r.criteria)||void 0===c?void 0:c.map((function(e,t){return Object(I.jsx)(Yn.a,{className:tx.a.tBodyCellTextField,style:{minWidth:80,maxWidth:100},children:Object(I.jsx)(ce.a,{className:tx.a.txtTargetValue,variant:"outlined",size:"small",type:"number",value:e.targetValue,onChange:function(e){return function(e,t,s){var r=e.target.value;console.log("inputValue = ",r),console.log("Edit at [".concat(t,", ").concat(s,"]"));var c=Object(re.a)(m),i=c[t],l=Object(re.a)(i.criteria);l[s]=Object(D.a)(Object(D.a)({},l[s]),{},{targetValue:r}),c[t]=Object(D.a)(Object(D.a)({},c[t]),{},{criteria:l}),console.log("newListKPIs: ",c),b(c),n(Object(D.a)(Object(D.a)({},a),{},{criteria:l,kpis:c}))}(e,s,t)},InputProps:{inputProps:{min:0,max:999999999999}}})},e.id)}))]},e.username)}))})]})})})]})},sx=a(326),rx=a.n(sx),cx=["children","classes","onClose"],ix=Object(j.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,s=Object(bt.a)(e,cx);return Object(I.jsxs)(pt.a,Object(D.a)(Object(D.a)({disableTypography:!0,className:a.root},s),{},{children:[Object(I.jsx)(x.a,{variant:"h6",children:t}),n?Object(I.jsx)(ht.a,{"aria-label":"close",className:a.closeButton,onClick:n,children:Object(I.jsx)(C.k,{})}):null]}))})),lx=Object(u.a)((function(e){return{root:{width:"100%"},backButton:{marginRight:e.spacing(1)},completedStep:{color:"#4caf50 !important"}}}));var ox=function(e){var t=lx(),a=e.open,n=e.onClose,r=e.refreshAPI,c=Mh,i=Object(s.useState)(!1),l=Object(d.a)(i,2),o=l[0],u=l[1],j={groupName:"KPI m\xf9a Sales h\xe8 <".concat(Ce(),">"),description:"",criteria:[],startDate:new Date,endDate:new Date((new Date).getFullYear(),8,30),users:[],kpis:[]},m=Object(s.useState)(j),b=Object(d.a)(m,2),p=b[0],h=b[1],x=Object(s.useState)(0),v=Object(d.a)(x,2),f=v[0],g=v[1],y=function(){g((function(e){return e+1})),console.log("Next button: KPI = ",p)},_=function(){h(j),g(0),n()};return Object(I.jsxs)(xt.a,{open:a,onClose:_,maxWidth:"lg",fullWidth:!0,className:rx.a.dialog,children:[Object(I.jsx)(ix,{onClose:_,children:c.create}),Object(I.jsx)(yt.a,{className:rx.a.wrapper,children:Object(I.jsxs)("div",{className:t.root,children:[Object(I.jsx)(Rh.a,{activeStep:f,children:Yh.map((function(e){return Object(I.jsx)(Ah.a,{children:Object(I.jsx)(Bh.a,{StepIconProps:{classes:{completed:t.completedStep}},children:e})},e)}))}),Object(I.jsx)("div",{children:f<Yh.length&&Object(I.jsx)("div",{children:function(e,t,a){switch(e){case 0:return Object(I.jsx)(Zh,{KPI:t,setKPI:a});case 1:return Object(I.jsx)(Xh,{KPI:t,setKPI:a});case 2:return Object(I.jsx)(nx,{KPI:t,setKPI:a})}}(f,p,h)})})]})}),Object(I.jsx)(wt.a,{children:Object(I.jsx)("div",{children:f===Yh.length?Object(I.jsx)("div",{children:Object(I.jsx)(O.a,{variant:"text",onClick:function(){return g(0)},children:"Reset"})}):Object(I.jsxs)("div",{children:[Object(I.jsx)(O.a,{disabled:0===f,onClick:function(){g((function(e){return e-1})),console.log("Back button: KPI = ",p)},className:rx.a.backButton,children:"Back"}),f===Yh.length-1?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(O.a,{variant:"contained",color:"secondary",onClick:function(){return u(!0)},children:"Finish"}),Object(I.jsx)(zh,{open:o,onClose:function(){u(!1)},onCloseCreateDialog:_,KPI:p,refreshPage:r})]}):f===Yh[0]?Object(I.jsx)(O.a,{variant:"contained",color:"secondary",onClick:y,disabled:0===p.criteria.length,children:"Next"}):Object(I.jsx)(O.a,{variant:"contained",color:"secondary",onClick:y,children:"Next"})]})})})]})},dx=a(390),ux=a.n(dx),jx={PaperProps:{style:{maxHeight:157}}},mx=Object(u.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:160},flexBox:{padding:0},flexItem:{padding:0},option:{fontSize:"0.875rem"},btn:{padding:"0.5rem",margin:"0 0.3rem",borderRadius:"8px"},root:{},menuItemRoot:{"&$menuItemSelected":{backgroundColor:"rgba(0, 0, 0, 0.08)"},"&$menuItemSelected:focus":{backgroundColor:"rgba(0, 0, 0, 0.12)"},"&$menuItemSelected:hover":{backgroundColor:"rgba(0, 0, 0, 0.04);"}},menuItemSelected:{},autoComplete:{width:260,marginLeft:"0.5rem"},itemPIC:{display:"flex",flexDirection:"row",alignItems:"center",padding:0,margin:0},itemTextPrimary:{fontSize:"0.875rem"}}})),bx=Object(j.a)({root:{backgroundColor:"rgb(238, 238, 238)",borderRadius:"8px",marginBottom:"0.5rem",boxShadow:"none","&:not(:last-child)":{borderBottom:0,borderRadius:"8px"},"&:before":{display:"none"},"&$expanded":{margin:"auto",borderRadius:"8px"}},expanded:{}})(m.a),px=Object(j.a)({root:{height:41.5,minHeight:35,maxWidth:120,backgroundColor:"rgb(255, 255, 255)",fontWeight:"bold",boxShadow:"0 4px 6px -6px #000",borderRadius:"8px",paddingButtom:0,"&$expanded":{minHeight:35,borderRadius:"8px"}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(b.a),hx=Object(j.a)((function(e){return{root:{backgroundColor:"rgb(255, 255, 255)",margin:"0.5rem 0",padding:"0.3rem 0 1rem 2rem",borderRadius:"8px"}}}))(p.a);var xx=function(e){var t=mx(),a=e.refreshAPI,n=Th,r=Ph,c=gs().user,i=Rr(),l=i.params,o=i.dispatchParams,u=(i.criteria,i.status),j=i.kpiStatuses,m=i.setFilter,b=Object(s.useState)(!1),p=Object(d.a)(b,2),w=p[0],S=p[1];return Object(I.jsx)("div",{className:ux.a.wrapper,children:Object(I.jsxs)(bx,{children:[Object(I.jsxs)(h.a,{display:"flex",flexWrap:"nowrap",className:t.flexBox,children:[Object(I.jsx)(h.a,{className:t.flexItem,children:Object(I.jsxs)(px,{expandIcon:Object(I.jsx)(C.u,{}),children:[Object(I.jsx)(C.w,{className:ux.a.iconFilter})," ","\xa0",Object(I.jsx)(x.a,{children:n.filter})]})}),Object(I.jsx)(h.a,{flexGrow:1,className:t.flexItem,children:Object(I.jsx)(Ch,{chips:function(e){var t=[];for(var a in e)t.push(e[a]);return t}(l.listFilters),dispatch:o,handleChipsRemoved:function(e){e.forEach((function(e){switch(e){case dt:m(dt,"")}}))}})}),Object(I.jsx)(h.a,{className:t.flexItem,children:Object(I.jsx)(P,{placeholder:n.search.placeholder,onChange:function(e){o({type:qe,payload:e})}})}),c.roles[0]===Yt&&Object(I.jsxs)(h.a,{className:t.flexItem,children:[Object(I.jsx)(v.a,{title:n.create,children:Object(I.jsx)(O.a,{className:t.btn,variant:"contained",color:"secondary",onClick:function(){return S(!0)},children:Object(I.jsx)(C.b,{fontSize:"large"})})}),Object(I.jsx)(ox,{open:w,onClose:function(){return S(!1)},refreshPage:a})]})]}),Object(I.jsx)(hx,{children:Object(I.jsx)(f.a,{container:!0,children:Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:4,lg:4,children:Object(I.jsxs)(g.a,{className:t.formControl,children:[Object(I.jsx)(y.a,{children:r.status.title}),Object(I.jsxs)(_.a,{value:u||"",onChange:function(e){var t=e.target.value;m(dt,t),o({type:We,payload:{filterType:dt,filterValue:t}})},MenuProps:jx,children:[Object(I.jsx)(N.a,{value:"",className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:"All"}),null===j||void 0===j?void 0:j.map((function(e){return Object(I.jsx)(N.a,{value:e,className:t.option,classes:{root:t.menuItemRoot,selected:t.menuItemSelected},children:e},e)}))]})]})})})})]})})},vx=a(248),Ox=a.n(vx),fx=a(391),gx=a.n(fx),yx=["children","classes","onClose"],_x=Object(j.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,s=Object(bt.a)(e,yx);return Object(I.jsxs)(pt.a,Object(D.a)(Object(D.a)({disableTypography:!0,className:a.root},s),{},{children:[Object(I.jsx)(x.a,{variant:"h6",children:t}),n?Object(I.jsx)(ht.a,{"aria-label":"close",className:a.closeButton,onClick:n,children:Object(I.jsx)(C.k,{})}):null]}))}));function Nx(e){var t,a=e.open,n=e.onClose,s=e.kpiGroupId,r=e.kpiGroupName,c=e.refreshAPI,i=Mh,l=Fh,o=Object(cn.b)().enqueueSnackbar,d=Rr().params,u=d.listFilters,j=d.column,m=d.direction,b=d.searchKey;return Object(I.jsxs)(xt.a,{open:a,onClose:n,children:[Object(I.jsx)(_x,{onClose:n,children:i.disable}),Object(I.jsx)(yt.a,{children:Object(I.jsx)(ho.a,{className:gx.a.dialogText,children:(t=r,Object(I.jsxs)(I.Fragment,{children:["Do you really want to disable KPI group ",Object(I.jsx)("strong",{children:Object(I.jsx)("em",{children:t})})," now?",Object(I.jsx)("br",{}),"This process cannot be undone."]}))})}),Object(I.jsxs)(wt.a,{children:[Object(I.jsx)(O.a,{className:gx.a.btnDisable,onClick:function(){(function(e){return Ir.apply(this,arguments)})(s).then((function(e){o("Disable KPI group successfully",{variant:"success"}),c(j,m,b,u)})).catch((function(e){console.log(e),e.response&&o("Disable KPI group failed",{variant:"error"})})),n()},autoFocus:!0,children:l.disable}),Object(I.jsx)(O.a,{onClick:n,children:l.cancel})]})]})}var Cx=r.a.memo(Nx);function wx(e){var t=e.data,a=e.refreshAPI,n=Vh,r=Rr().params,c=Object(o.k)().url,i=gs().user,u=Object(s.useState)(null),j=Object(d.a)(u,2),m=j[0],b=j[1],p=Object(s.useState)(!1),h=Object(d.a)(p,2),x=h[0],O=h[1],f={model:t,params:r},g=function(){b(null)};return Object(I.jsxs)("div",{children:[Object(I.jsx)(v.a,{title:"Actions",children:Object(I.jsx)(ht.a,{color:"primary",onClick:function(e){b(e.currentTarget)},children:Object(I.jsx)(C.K,{})})}),Object(I.jsxs)(Gn.a,{anchorEl:m,keepMounted:!0,open:!!m,onClose:g,children:[Object(I.jsxs)(N.a,{onClick:g,component:l.b,to:{pathname:"".concat(c,"/").concat(null===t||void 0===t?void 0:t.id),state:{data:f}},children:[Object(I.jsx)(Zn.a,{className:Ox.a.itemIcon,children:Object(I.jsx)(C.A,{fontSize:"large"})}),Object(I.jsx)(zn.a,{className:Ox.a.itemText,children:n.details.title})]}),i.roles[0]===Yt&&Object(I.jsxs)("div",{children:[Object(I.jsxs)(N.a,{onClick:function(){b(null),O(!0)},children:[Object(I.jsx)(Zn.a,{className:Ox.a.itemIcon,children:Object(I.jsx)(C.q,{fontSize:"large"})}),Object(I.jsx)(zn.a,{className:Ox.a.itemText,children:"Disable"})]}),function(){if(x)return Object(I.jsx)(Cx,{open:x,onClose:function(){return O(!1)},kpiGroupId:null===t||void 0===t?void 0:t.id,kpiGroupName:null===t||void 0===t?void 0:t.groupName,refreshAPI:a})}()]})]})]})}var Sx=r.a.memo(wx),Ix=a(98),kx=a.n(Ix);function Tx(e){var t=e.columns,a=e.direction,n=e.column,s=e.onRequestSort,r=e.role,c=Object(j.a)({root:{color:"white !important","&:hover":{color:"white !important"},"&$active":{color:"white !important"}},active:{},icon:{color:"white !important"}})(Bn.a);return Object(I.jsx)(Mn.a,{children:Object(I.jsx)(Fn.a,{className:kx.a.tHead,children:t.map((function(e){return Object(I.jsx)(Yn.a,{className:kx.a.tHeadCell,sortDirection:n===e.key&&a,align:"no"===e.key?"center":"left",width:r!==Ht?e.width1:e.width2,children:(null===e||void 0===e?void 0:e.sortable)?Object(I.jsx)(c,{active:n===e.key,direction:n===e.key?a:"asc",onClick:function(){return function(e,t){s(e,t)}(e,a)},children:e.name}):e.name},e.key)}))})})}function Px(e){var t=e.columns,a=e.rows,n=e.refreshAPI,s=Dh,r=gs().user,c=Rr(),i=c.params,l=c.dispatchParams,o=c.direction,d=c.setDirection,u=c.column,j=c.setColumn;return Object(I.jsx)("div",{className:kx.a.wrapper,children:Object(I.jsx)(En.a,{className:kx.a.container,component:"div",children:Object(I.jsxs)(Hn.a,{className:kx.a.table,stickyHeader:!0,size:"small","aria-label":"sticky table",children:[Object(I.jsx)(Tx,{columns:t,direction:o,column:u,onRequestSort:function(e,t){e.sortable&&(d("desc"===t?"asc":"desc"),j(e.key),l({type:ze,payload:{column:e.key,direction:t}}))},role:r.roles[0]}),Object(I.jsx)(Ln.a,{className:kx.a.tBody,children:(null===a||void 0===a?void 0:a.length)>0?a.map((function(e,t){return Object(I.jsxs)(Fn.a,{className:kx.a.tBodyRow,children:[Object(I.jsx)(Yn.a,{className:kx.a.tableCell,align:"center",children:t+1}),Object(I.jsx)(Yn.a,{className:kx.a.tBodyCell,children:Object(I.jsx)(es.a,{highlightClassName:"YourHighlightClass",searchWords:[i.searchKey],autoEscape:!0,textToHighlight:null===e||void 0===e?void 0:e.groupName})}),r.roles[0]!==Ht&&Object(I.jsx)(Yn.a,{className:kx.a.tBodyCell,children:Object(I.jsx)($h.a,{max:5,children:null===e||void 0===e?void 0:e.size.map((function(e,t){return Object(I.jsx)(qn.a,{src:e},t)}))})}),Object(I.jsx)(Yn.a,{className:kx.a.tBodyCellDuration,children:_e(null===e||void 0===e?void 0:e.startDate,"DD-MM-YYYY")}),Object(I.jsx)(Yn.a,{className:kx.a.tBodyCellDuration,children:_e(null===e||void 0===e?void 0:e.endDate,"DD-MM-YYYY")}),Object(I.jsx)(Yn.a,{className:kx.a.tBodyCell,children:null!==(null===e||void 0===e?void 0:e.active)&&(a=null===e||void 0===e?void 0:e.active,!0===a?Object(I.jsx)("b",{style:{color:"#1976d2"},children:ua}):!1===a?Object(I.jsx)("b",{style:{color:"#757575"},children:ma}):void 0)}),Object(I.jsx)(Yn.a,{className:kx.a.tBodyCell,align:"right",children:Object(I.jsx)(Sx,{data:e,refreshAPI:n})})]},null===e||void 0===e?void 0:e.id);var a})):Object(I.jsx)(Fn.a,{className:kx.a.tBodyRow,children:Object(I.jsx)(Yn.a,{className:kx.a.noRecord,component:"td",colSpan:"100%",children:s.notFound})})})]})})})}var Dx=r.a.memo(Px),Vx=a(327),Rx=a.n(Vx);var Ax=function(){var e=Object(o.h)(),t=gs().user,a=function(e){var t=wh[0],a=wh[1],n=wh[2],s=wh[3],r=wh[4],c=wh[5],i=wh[6];switch(e){case Yt:return[t,a,n,s,r,c,i];case Ht:return[t,a,s,r,c,i]}}(t.roles[0]),n=Rr().params,r=n.listFilters,c=n.column,i=n.direction,l=n.searchKey,u=Object(s.useState)(null),j=Object(d.a)(u,2),m=j[0],b=j[1],p=!0,h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"desc",n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;fr(t,a,n,s).then((function(e){p&&b(e.data)})).catch((function(t){t.response&&(console.log(t),e.push({pathname:"/errors",state:{error:t.response.status}}))}))};return Object(s.useEffect)((function(){return t.roles[0]===Ht?function(){Nr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id",arguments.length>1&&void 0!==arguments[1]?arguments[1]:"desc",arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0).then((function(e){p&&b(e)})).catch((function(t){t.response&&(console.log(t),e.push({pathname:"/errors",state:{error:t.response.status}}))}))}(c,i,l,r,t.username):h(c,i,l,r),function(){p=!1}}),[n]),m?Object(I.jsxs)("div",{className:Rx.a.panel,children:[Object(I.jsx)(xx,{className:Rx.a.filter,refreshAPI:h}),Object(I.jsx)(Dx,{className:Rx.a.table,columns:a,rows:m,refreshAPI:h})]}):Object(I.jsx)(se,{})},Bx=a(365),Mx=a.n(Bx),Fx=a(60),Yx=a.n(Fx),Ex=["children","classes","onClose"],Hx=Object(j.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,s=Object(bt.a)(e,Ex);return Object(I.jsxs)(pt.a,Object(D.a)(Object(D.a)({disableTypography:!0,className:a.root},s),{},{children:[Object(I.jsx)(x.a,{variant:"h6",children:t}),n?Object(I.jsx)(ht.a,{"aria-label":"close",className:a.closeButton,onClick:n,children:Object(I.jsx)(C.k,{})}):null]}))})),Lx=Object(u.a)((function(e){return{txtFullName:{fontSize:"1.2rem",fontWeight:500},txtUsername:{fontSize:"1rem",fontWeight:400},customHeight:{height:"1.3rem",padding:"0.1rem 0.25rem"}}}));var Kx=function(e){var t=Lx(),a=e.open,n=e.onClose,r=e.refreshPage,c=e.kpiInfo,i=c.kpiId,l=c.kpiGroupId,u=c.kpiGroupName,j=c.averageValues,m=Mh,b=Fh,p=gs().user,v=Object(o.h)(),g=Object(cn.b)().enqueueSnackbar,y=Object(s.useState)(null),_=Object(d.a)(y,2),N=_[0],C=_[1],w=[],S=[],k=Object(s.useState)({title:"",criteria:[],actualValues:[],targetValues:[],averageValues:j}),T=Object(d.a)(k,2),P=T[0],V=T[1],R=!0,A=function(){(function(e){return _r.apply(this,arguments)})(i).then((function(e){R&&C(e)})).catch((function(e){e.response&&(console.log(e),v.push({pathname:"/errors",state:{error:e.response.status}}))}))};if(Object(s.useEffect)((function(){return A(),function(){R=!1}}),[]),Object(s.useEffect)((function(){!function(){var e=[],t=[],a=[];null===N||void 0===N||N.kpis.forEach((function(n){e.push(null===n||void 0===n?void 0:n.cirteriaContent),t.push(parseFloat((null===n||void 0===n?void 0:n.actualValue)/(null===n||void 0===n?void 0:n.targetValue)*100)),a.push(100)})),V(Object(D.a)(Object(D.a)({},P),{},{title:"KPI of ".concat(null===N||void 0===N?void 0:N.fullName," (divided by Criteria)"),criteria:e,actualValues:t,targetValues:a}))}()}),[N]),!N)return Object(I.jsx)(se,{});(null===N||void 0===N?void 0:N.kpis).forEach((function(e){(null===e||void 0===e?void 0:e.type)===ba?w.push(e):(null===e||void 0===e?void 0:e.type)===pa&&S.push(e)}));var B=function(e){return e>100?"S":e>80?"A":e>50?"B":e>0?"C":"F"};return Object(I.jsxs)(xt.a,{open:a,onClose:n,maxWidth:"xl",fullWidth:!0,className:Yx.a.dialog,children:[Object(I.jsx)(Hx,{onClose:n,children:m.salesmanKPI}),Object(I.jsx)(yt.a,{children:Object(I.jsxs)(f.a,{container:!0,spacing:5,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsxs)(h.a,{display:"flex",alignItems:"start",justifyContent:"space-around",children:[Object(I.jsxs)(h.a,{display:"flex",flexDirection:"column",className:Yx.a.boxTitle,children:[Object(I.jsx)(x.a,{variant:"button",color:"textSecondary",children:"Salesman"}),Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",alignItems:"center",children:[Object(I.jsx)(qn.a,{src:null===N||void 0===N?void 0:N.avatar,variant:"rounded",className:Yx.a.avatar}),Object(I.jsx)(zn.a,{primary:null===N||void 0===N?void 0:N.fullName,secondary:null===N||void 0===N?void 0:N.username,classes:{primary:t.txtFullName,secondary:t.txtUsername},className:Yx.a.salesmanName})]})]}),Object(I.jsxs)(h.a,{display:"flex",flexDirection:"column",children:[Object(I.jsx)(x.a,{variant:"button",color:"textSecondary",children:"KPI Group"}),Object(I.jsx)(zn.a,{primary:u,secondary:"".concat(_e(null===N||void 0===N?void 0:N.startDate,"DD/MM/YYYY")," \n                                        \u279c ").concat(_e(null===N||void 0===N?void 0:N.endDate,"DD/MM/YYYY")),classes:{primary:t.txtFullName,secondary:t.txtUsername}})]}),Object(I.jsxs)(h.a,{display:"flex",flexDirection:"column",children:[Object(I.jsx)(x.a,{variant:"button",color:"textSecondary",children:"KPI Points"}),Object(I.jsxs)(x.a,{variant:"h5",className:Yx.a.weight,children:[parseFloat(null===N||void 0===N?void 0:N.total).toFixed(2),"%"]})]})]})}),Object(I.jsxs)(f.a,{item:!0,container:!0,spacing:3,xs:12,sm:12,md:12,lg:12,children:[Object(I.jsxs)(f.a,{item:!0,container:!0,spacing:2,xs:12,sm:12,md:7,lg:7,children:[Object(I.jsx)(f.a,{item:!0,xs:5,sm:5,md:5,lg:5,className:Yx.a.KPIsZone,children:S.map((function(e,a){return Object(I.jsx)(qr.a,{variant:"outlined",className:Yx.a.cardKPIs,children:Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",children:[Object(I.jsx)(h.a,{flexGrow:1,children:Object(I.jsx)(x.a,{className:Yx.a.criName,children:null===e||void 0===e?void 0:e.cirteriaContent})}),Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",alignItems:"center",className:Yx.a.boxIcon,children:[Object(I.jsx)(x.a,{variant:"caption",color:"textSecondary",className:Yx.a.txtRank,children:"Class: "}),Object(I.jsx)("span",{className:Yx.a.rankName,children:B((null===e||void 0===e?void 0:e.actualValue)/(null===e||void 0===e?void 0:e.targetValue)*100)})]})]})}),Object(I.jsxs)(f.a,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,children:[Object(I.jsxs)(f.a,{item:!0,xs:4,sm:4,md:4,lg:4,className:Yx.a.divider,children:[Object(I.jsx)(x.a,{variant:"caption",color:"textSecondary",children:"Actual value"}),p.roles[0]===Yt?Object(I.jsx)(ce.a,{className:Yx.a.txtTargetValue,variant:"outlined",size:"small",type:"number",value:null===e||void 0===e?void 0:e.actualValue,onChange:function(t){return function(e,t){var a=Object(re.a)(null===N||void 0===N?void 0:N.kpis),n=a.findIndex((function(e){return e.kpiDetailId===t.kpiDetailId}));a[n]=Object(D.a)(Object(D.a)({},a[n]),{},{actualValue:e.target.value}),C(Object(D.a)(Object(D.a)({},N),{},{kpis:a}))}(t,e)},InputProps:{inputProps:{min:0,max:100},classes:{input:t.customHeight}}}):Object(I.jsx)(x.a,{className:Yx.a.kpiValues,children:Intl.NumberFormat("vi-VN").format(null===e||void 0===e?void 0:e.actualValue)})]}),Object(I.jsxs)(f.a,{item:!0,xs:4,sm:4,md:4,lg:4,className:Yx.a.divider,children:[Object(I.jsx)(x.a,{variant:"caption",color:"textSecondary",children:"Target value"}),Object(I.jsx)(x.a,{className:Yx.a.kpiValues,children:null===e||void 0===e?void 0:e.targetValue})]}),Object(I.jsxs)(f.a,{item:!0,xs:4,sm:4,md:4,lg:4,className:Yx.a.noDivider,children:[Object(I.jsx)(x.a,{variant:"caption",color:"textSecondary",children:"KPI (%)"}),Object(I.jsxs)(x.a,{className:Yx.a.kpiValues,children:[parseFloat((null===e||void 0===e?void 0:e.actualValue)/(null===e||void 0===e?void 0:e.targetValue)*100).toFixed(1)," %"]})]})]})]})},a)}))}),Object(I.jsx)(f.a,{item:!0,xs:6,sm:6,md:6,lg:6,className:Yx.a.KPIsZone,children:w.map((function(e,t){return Object(I.jsx)(qr.a,{variant:"outlined",className:Yx.a.cardKPIs,children:Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",children:[Object(I.jsx)(h.a,{flexGrow:1,children:Object(I.jsx)(x.a,{className:Yx.a.criName,children:null===e||void 0===e?void 0:e.cirteriaContent})}),Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",alignItems:"center",className:Yx.a.boxIcon,children:[Object(I.jsx)(x.a,{variant:"caption",color:"textSecondary",className:Yx.a.txtRank,children:"Class: "}),Object(I.jsx)("span",{className:Yx.a.rankName,children:B((null===e||void 0===e?void 0:e.actualValue)/(null===e||void 0===e?void 0:e.targetValue)*100)})]})]})}),Object(I.jsxs)(f.a,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,children:[Object(I.jsxs)(f.a,{item:!0,xs:4,sm:4,md:4,lg:4,className:Yx.a.divider,children:[Object(I.jsx)(x.a,{variant:"caption",color:"textSecondary",children:"Actual value"}),Object(I.jsx)(x.a,{className:Yx.a.kpiValues,children:Intl.NumberFormat("vi-VN").format(null===e||void 0===e?void 0:e.actualValue)})]}),Object(I.jsxs)(f.a,{item:!0,xs:4,sm:4,md:4,lg:4,className:Yx.a.divider,children:[Object(I.jsx)(x.a,{variant:"caption",color:"textSecondary",children:"Target value"}),Object(I.jsx)(x.a,{className:Yx.a.kpiValues,children:Intl.NumberFormat("vi-VN").format(null===e||void 0===e?void 0:e.targetValue)})]}),Object(I.jsxs)(f.a,{item:!0,xs:4,sm:4,md:4,lg:4,className:Yx.a.noDivider,children:[Object(I.jsx)(x.a,{variant:"caption",color:"textSecondary",children:"KPI (%)"}),Object(I.jsxs)(x.a,{className:Yx.a.kpiValues,children:[parseFloat((null===e||void 0===e?void 0:e.actualValue)/(null===e||void 0===e?void 0:e.targetValue)*100).toFixed(1)," %"]})]})]})]})},t)}))})]}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:5,lg:5,children:Object(I.jsx)(Hc,{values:P})})]})]})}),Object(I.jsxs)(wt.a,{children:[Object(I.jsx)(O.a,{className:Yx.a.btnSave,onClick:function(){var e=[],t={id:0,value:0};null===N||void 0===N||N.kpis.map((function(a){(null===a||void 0===a?void 0:a.type)===pa&&(t=Object(D.a)(Object(D.a)({},t),{},{id:null===a||void 0===a?void 0:a.kpiDetailId,value:Number(null===a||void 0===a?void 0:a.actualValue)}),e.push(t),console.log("kpiGroupId = ",l),console.log("edited list = ",e))})),function(e,t){return kr.apply(this,arguments)}(i,e).then((function(e){r(l),g("Updated Salesman evaluation successfully",{variant:"success"}),n()})).catch((function(e){e.response&&(console.log(e),v.push({pathname:"/errors",state:{error:e.response.status}})),g("Updated Salesman evaluation failed",{variant:"error"})}))},autoFocus:!0,children:b.save}),Object(I.jsx)(O.a,{onClick:n,children:b.cancel})]})]})},Wx=a(118),qx=a.n(Wx);var zx=function(e){var t=e.KPI,a=e.refreshPage,n=Object(s.useState)(!1),r=Object(d.a)(n,2),c=r[0],i=r[1],l=Object(s.useState)(null),o=Object(d.a)(l,2),u=o[0],j=o[1],m=function(e,t){for(var a=[],n=0;n<e.length;n+=t)a.push(e.slice(n,n+t));return a}(null===t||void 0===t?void 0:t.kpiDetails,4),b=Object(s.useState)({title:function(){var e=new Date,a=new Date(null===t||void 0===t?void 0:t.endDate);return e>a?"KPI of Salesmen for [".concat(null===t||void 0===t?void 0:t.groupName,"] (").concat(_e(null===t||void 0===t?void 0:t.startDate,"DD/MM/YYYY")," \u279c ").concat(_e(a,"DD/MM/YYYY"),")"):"KPI of Salesmen for [".concat(null===t||void 0===t?void 0:t.groupName,"] (").concat(_e(null===t||void 0===t?void 0:t.startDate,"DD/MM/YYYY")," \u279c ").concat(_e(e,"DD/MM/YYYY"),")")}(),xAxis:[],yAxis:[]}),p=Object(d.a)(b,2),O=p[0],g=p[1];return Object(s.useEffect)((function(){!function(){var e=[],a=[];if((null===t||void 0===t?void 0:t.kpis.length)<10)null===t||void 0===t||t.kpis.forEach((function(t){e.push(null===t||void 0===t?void 0:t.fullName),a.push(null===t||void 0===t?void 0:t.value)}));else for(var n=0;n<10;n++){var s,r;e.push(null===t||void 0===t||null===(s=t.kpis[n])||void 0===s?void 0:s.fullName),a.push(null===t||void 0===t||null===(r=t.kpis[n])||void 0===r?void 0:r.value)}g(Object(D.a)(Object(D.a)({},O),{},{xAxis:e,yAxis:a}))}()}),[t]),t?Object(I.jsx)("div",{className:qx.a.panel,children:Object(I.jsxs)(f.a,{container:!0,spacing:4,className:qx.a.body,children:[Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsx)(Mx.a,{animation:"slide",autoPlay:!1,children:m.map((function(e,t){return Object(I.jsx)(f.a,{item:!0,container:!0,spacing:2,xs:12,sm:12,md:12,lg:12,children:e.map((function(e,t){return Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(I.jsx)(qr.a,{className:qx.a.cardCriteria,variant:"elevation",elevation:5,children:Object(I.jsxs)(Ur.a,{children:[Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",children:[Object(I.jsx)(h.a,{children:Object(I.jsx)(x.a,{className:qx.a.criName,gutterBottom:!0,children:null===e||void 0===e?void 0:e.criteria})}),Object(I.jsx)(h.a,{children:Object(I.jsx)(v.a,{title:(a=e,console.log(a),Object(I.jsxs)("span",{children:[Object(I.jsxs)("span",{children:["Weight: ",100*(null===a||void 0===a?void 0:a.weight),"%"]}),Object(I.jsx)("br",{}),Object(I.jsx)("span",{children:"Description:"}),Object(I.jsx)("br",{}),Object(I.jsx)("span",{children:null===a||void 0===a?void 0:a.descrption})]})),placement:"right",children:Object(I.jsx)("div",{className:qx.a.icon,children:Object(I.jsx)(C.A,{className:qx.a.iconInfo})})})})]}),Object(I.jsxs)(x.a,{variant:"h5",component:"h2",children:[parseFloat(null===e||void 0===e?void 0:e.value).toFixed(2)," %"]})]})},t)},t);var a}))},t)}))})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(I.jsxs)(f.a,{container:!0,spacing:3,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:4,lg:4,className:qx.a.listSalesmen,children:[null===t||void 0===t?void 0:t.kpis.map((function(e,a){return Object(I.jsx)(qr.a,{className:qx.a.cardSalesman,variant:"outlined",onClick:function(a){return function(e,a,n,s){var r=[];s.forEach((function(e){r.push(null===e||void 0===e?void 0:e.value)})),i(!0),j({kpiId:a,kpiGroupId:null===t||void 0===t?void 0:t.id,kpiGroupName:n,averageValues:r})}(0,null===e||void 0===e?void 0:e.kpiId,null===t||void 0===t?void 0:t.groupName,null===t||void 0===t?void 0:t.kpiDetails)},children:Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsx)(f.a,{item:!0,xs:1,sm:1,md:1,lg:1,className:a+1<10?qx.a.indexSalesman1:qx.a.indexSalesman2,children:Object(I.jsx)(x.a,{children:a+1})}),Object(I.jsx)(f.a,{item:!0,xs:11,sm:9,md:9,lg:8,children:Object(I.jsxs)(h.a,{display:"flex",alignItems:"center",children:[Object(I.jsx)(qn.a,{src:null===e||void 0===e?void 0:e.avatar}),Object(I.jsx)(x.a,{className:qx.a.salesmanName,children:null===e||void 0===e?void 0:e.fullName})]})}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:2,md:2,lg:3,children:Object(I.jsxs)(x.a,{className:qx.a.criWeight,children:[parseFloat(null===e||void 0===e?void 0:e.value).toFixed(2)," %"]})})]})},a)})),c&&Object(I.jsx)(Kx,{open:c,onClose:function(){return i(!1)},refreshPage:a,kpiInfo:u})]}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:8,lg:8,children:Object(I.jsx)(Lc,{values:O})})]})})]})}):Object(I.jsx)(se,{})},Ux=a(249),Gx=a.n(Ux);var Zx=function(e){var t=e.KPI;console.log("KPI hien tai = ",t);var a=Object(s.useState)({title:"My KPIs (divided by Criteria)",criteria:[],actualValues:[],targetValues:[]}),n=Object(d.a)(a,2),r=n[0],c=n[1];if(Object(s.useEffect)((function(){!function(){var e=[],a=[],n=[];null===t||void 0===t||t.kpis.forEach((function(t){e.push(null===t||void 0===t?void 0:t.cirteriaContent),a.push(parseFloat((null===t||void 0===t?void 0:t.actualValue)/(null===t||void 0===t?void 0:t.targetValue)*100)),n.push(100)})),c(Object(D.a)(Object(D.a)({},r),{},{criteria:e,actualValues:a,targetValues:n}))}()}),[]),!t)return Object(I.jsx)(se,{});var i=function(e){var t=Math.abs(e);return t>=1e9?t=(t/1e9).toFixed(2)+"B \u20ab":t>=1e6?t=(t/1e6).toFixed(1)+"M \u20ab":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e)};return Object(I.jsx)("div",{className:Gx.a.panel,children:Object(I.jsxs)(f.a,{container:!0,spacing:2,className:Gx.a.body,children:[Object(I.jsx)(f.a,{item:!0,container:!0,spacing:2,xs:12,sm:12,md:6,lg:7,children:null===t||void 0===t?void 0:t.kpis.map((function(e){return Object(I.jsx)(f.a,{item:!0,xs:12,sm:6,md:6,lg:4,children:Object(I.jsx)(ci.a,{className:Gx.a.gaugeChartCard,elevation:5,children:Object(I.jsxs)(h.a,{display:"flex",flexDirection:"column",children:[Object(I.jsx)(Dc,{kpiName:null===e||void 0===e?void 0:e.cirteriaContent,kpiPoints:parseFloat((null===e||void 0===e?void 0:e.actualValue)/(null===e||void 0===e?void 0:e.targetValue)*100).toFixed(1)}),Object(I.jsx)(Wc.a,{className:Gx.a.divider}),Object(I.jsxs)(f.a,{container:!0,children:[Object(I.jsxs)(f.a,{xs:9,sm:9,md:9,lg:9,style:{borderRight:"1px solid #9e9e9e"},children:[Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",style:{padding:"0 1.5rem"},children:[Object(I.jsx)(x.a,{variant:"subtitle2",color:"textSecondary",children:"Target: "}),Object(I.jsx)(x.a,{variant:"subtitle2",color:"textSecondary",children:"DS"===(null===e||void 0===e?void 0:e.criteriaId)?i(null===e||void 0===e?void 0:e.targetValue):null===e||void 0===e?void 0:e.targetValue})]}),Object(I.jsxs)(h.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",style:{padding:"0 1.5rem"},children:[Object(I.jsx)(x.a,{variant:"subtitle2",color:"textSecondary",children:"Actual:"}),Object(I.jsx)(x.a,{variant:"subtitle2",color:"textSecondary",children:"DS"===(null===e||void 0===e?void 0:e.criteriaId)?i(null===e||void 0===e?void 0:e.actualValue):null===e||void 0===e?void 0:e.actualValue})]})]}),Object(I.jsx)(f.a,{xs:3,sm:3,md:3,lg:3,children:Object(I.jsx)(x.a,{variant:"h5",style:{color:"#ffa000",fontWeight:700,textAlign:"center",paddingTop:"0.3rem"},children:(t=(null===e||void 0===e?void 0:e.actualValue)/(null===e||void 0===e?void 0:e.targetValue)*100,t>100?"S":t>80?"A":t>50?"B":t>0?"C":"F")})})]})]})})});var t}))}),Object(I.jsx)(f.a,{item:!0,xs:12,sm:12,md:6,lg:5,children:Object(I.jsx)(Hc,{values:r})})]})})};var Qx=function(){var e=Sh,t=Ih,a=kh,n=Object(s.useState)(0),r=Object(d.a)(n,2),c=r[0],i=r[1],l=Object(o.j)().id,u=Object(o.h)(),j=gs().user,m=Object(s.useState)(null),b=Object(d.a)(m,2),p=b[0],h=b[1],x=Object(s.useState)(!0),v=Object(d.a)(x,2),O=v[0],f=v[1],g=!0,y=function(e){(function(e){return yr.apply(this,arguments)})(e).then((function(e){g&&h(e)})).catch((function(e){e.response&&(console.log(e),403===e.response.status?f(!1):u.push({pathname:"/errors",state:{error:e.response.status}}))}))},_=function(e,t){(function(e,t){return wr.apply(this,arguments)})(e,t).then((function(e){g&&(h(e),console.log("KPI data for ".concat(t,": "),e))})).catch((function(e){e.response&&(console.log(e),403===e.response.status?f(!1):u.push({pathname:"/errors",state:{error:e.response.status}}))}))};return Object(s.useEffect)((function(){return j.roles[0]===Yt?y(l):_(l,j.username),function(){g=!1}}),[]),p?Object(I.jsx)(oc,{linkBack:e.back,header:null===p||void 0===p?void 0:p.groupName,subHeader:"\n                ".concat(_e(p.startDate,"DD/MM/YYYY")," \u279c ").concat(_e(p.endDate,"DD/MM/YYYY"),"\n            "),tabs:function(e){switch(e){case Yt:return[t.tab1];case Et:case Ht:return[t.tab2]}}(j.roles[0]),tabValue:c,handleChangeTab:function(e,t){i(t)},children:j.roles[0]===Yt?Object(I.jsx)(zx,{KPI:p,refreshPage:y}):Object(I.jsx)(Zx,{KPI:p})}):O?Object(I.jsx)(se,{}):Object(I.jsx)($,{title:a.notFound})},Jx=a(154),Xx=a(809),$x=a(803),ev=a(220),tv=a(804),av=a(805),nv=a(806),sv=a(832),rv=a(807),cv=a(811),iv=a(1),lv=a(810),ov=a(95),dv=a(34),uv="Location list",jv="Search...",mv={complete:"Completed",fail:"Failed",pending:"Pending"},bv=(a(697),a(119)),pv=a.n(bv),hv=Object(u.a)((function(e){return{search:Object(w.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(dv.e)(e.palette.common.black,.15),"&:hover":{backgroundColor:Object(dv.e)(e.palette.common.black,.05)},marginLeft:0,width:"80%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputInput:Object(w.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(3),"px)"),transition:e.transitions.create("width"),width:"80%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}}),autoComplete:{width:260},itemPIC:{padding:0,margin:0},itemTextPrimary:{fontSize:"0.875rem"},itemTextSecondary:{fontSize:"0.8rem"}}}));iv.p.load({"en-US":{schedule:{newEvent:"Add New Activity",editEvent:"Edit Activity",deleteEvent:"Delete Activity",deleteMultipleEvent:"Delete Multiple Activities",sameDayAlert:"The activity cannot be beyond its boundary.",editRecurrence:"Edit Recurrence",edit:"Edit"}}});var xv=function(e){var t=hv(),a=Object(s.useState)(""),n=Object(d.a)(a,2),r=n[0],c=n[1],i=Object(s.useState)(""),l=Object(d.a)(i,2),o=l[0],u=l[1],j=Object(s.useState)(null),m=Object(d.a)(j,2),b=m[0],p=m[1],h=Object(s.useState)(null),v=Object(d.a)(h,2),O=v[0],g=v[1],y=Object(s.useRef)(null),_=Object(s.useRef)(null),N=Object(s.useRef)(null),w=gs().user,k={dataSource:e.data,fields:{id:"id",subject:{default:"No title",name:"title"},startTime:{name:"startTime"},endTime:{name:"endTime"},location:{name:"location"},description:{name:"description"},remark:{name:"remark"},isCompleted:{name:"isCompleted"},isAllDay:{name:"isAllDay",default:!1},recurrenceException:{name:"recurrenceException"},recurrenceRule:{name:"recurrenceRule"},recurrenceID:{name:"recurrenceID"}}},T=function(t){t.target.value&&(c(t.target.value),e.handleInputChange(t.target.value))};return Object(I.jsx)("div",{className:"schedule-control-section",children:Object(I.jsx)("div",{className:"col-lg-12 control-section",children:Object(I.jsxs)("div",{className:"control-wrapper drag-sample-wrapper",children:[Object(I.jsxs)("div",{className:"schedule-container",children:[Object(I.jsx)("div",{className:"my-header",children:Object(I.jsx)(ie.a,{autoHighlight:!0,clearOnEscape:!0,options:e.listPICs?e.listPICs:[],getOptionLabel:function(e){return e.fullName?e.fullName:""},value:O,renderInput:function(e){return Object(I.jsx)(ce.a,Object(D.a)(Object(D.a)({value:r},e),{},{onChange:T,label:"Person",margin:"normal",placeholder:"Search workplan of...?",InputProps:Object(D.a)(Object(D.a)({},e.InputProps),{},{startAdornment:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Ol.a,{position:"start",children:Object(I.jsx)(C.a,{})}),null===e||void 0===e?void 0:e.InputProps.startAdornment]})})}))},renderOption:function(e){return Object(I.jsxs)(Kn.a,{className:t.itemPIC,children:[Object(I.jsx)(Wn.a,{children:Object(I.jsx)(qn.a,{src:e.avatar})}),Object(I.jsx)(zn.a,{primary:(null===e||void 0===e?void 0:e.fullName)?e.fullName:"",secondary:(null===e||void 0===e?void 0:e.username)?"".concat(null===e||void 0===e?void 0:e.username," \u2022 ").concat(null===e||void 0===e?void 0:e.roleName):"",classes:{primary:t.itemTextPrimary,secondary:t.itemTextSecondary}})]})},className:t.autoComplete,onChange:function(t,a){return function(t,a){a?(g(a),e.handleOnSearchFieldChange(a.username)):(Na(w.username).then((function(e){g(e)})),e.handleOnSearchFieldChange(w.username))}(0,a)}})}),Object(I.jsxs)(Xx.a,{currentView:"Week",readonly:e.isEdit,popupClose:function(e){e.element.querySelector(".e-quick-dialog-alert-btn")&&(e.element.querySelector(".e-quick-dialog-alert-btn").style.display="inline",e.element.querySelector(".e-quick-alertcancel").style.color="rgba(0,0,0,0.87)")},height:"550px",resizeStart:function(e){var t;p(null===(t=e.data)||void 0===t?void 0:t.startTime)},cssClass:"schedule-drag-drop",ref:function(e){return y=e},actionBegin:function(t){"eventCreate"!==t.requestType&&"eventRemove"!==t.requestType&&"eventChange"!==t.requestType||(e.handleRequestType(t,b),p(null))},dateFormat:"dd MMM yyyy",allowResizing:!0,timezone:"Asia/Saigon",drag:function(e){var t;return p(null===(t=e.data)||void 0===t?void 0:t.startTime)},eventRendered:function(e){var t=e.data;e.element.style.backgroundColor="rgba(54, 162, 235)",t.startTime.getTime()<(new Date).getTime()&&t.endTime.getTime()<(new Date).getTime()&&!t.isCompleted&&(e.element.style.backgroundColor="rgb(255, 99, 132)"),t.isCompleted&&(e.element.style.backgroundColor="rgba(0, 150, 136)")},navigating:function(t){void 0!==e.data&&(t.previousDate&&t.previousDate===t.currentDate||e.data&&e.handleChangeView(t))},popupOpen:function(e){if("RecurrenceAlert"===e.type&&"Edit Event"===e.element.querySelector(".e-dlg-header").textContent&&(e.element.querySelector(".e-dlg-header").innerHTML="Edit Activity"),"RecurrenceValidationAlert"===e.type){if("Do you want to cancel the changes made to specific instances of this series and match it to the whole series again?"===e.element.querySelector(".e-dlg-content").textContent&&"Yes"===e.element.querySelector(".e-quick-dialog-alert-btn").textContent){e.element.querySelector(".e-quick-dialog-alert-btn").style.display="none";var t=e.element.querySelector(".e-quick-alertcancel");t.innerHTML="Save",t.style.color="#e3165b",e.element.querySelector(".e-dlg-content").innerHTML="Your changes shall only be applied to unchanged instances of this series. Are you sure?"}}if("Editor"===e.type){if(e.element.querySelector(".e-time-zone-container"))e.element.querySelector(".e-time-zone-container").style.display="none";if(!e.element.querySelector(".custom-field-row")){var a=document.createElement("div");a.className="custom-field-row";var n=e.element.querySelector(".e-schedule-form");n.firstChild.insertBefore(a,e.element.querySelector(".e-description-row")),e.element.querySelector(".e-dialog-parent").appendChild(a);var s=document.createElement("div");s.className="custom-field-container";var r=document.createElement("textarea");r.className="e-field e-custom-remark",r.setAttribute("name","remark"),s.appendChild(r),a.appendChild(s),ov.a.createInput({element:r,floatLabelType:"Always",properties:{placeholder:"Remark"}});var c=document.createElement("div");c.className="custom-field-isCompleted",n.firstChild.insertBefore(c,e.element.querySelector(".custom-field-row")),e.element.querySelector(".e-dialog-parent").appendChild(c);var i=document.createElement("div");i.className="custom-field-container2";var l=document.createElement("input");l.className="e-field e-custom-isCompleted",l.setAttribute("name","isCompleted"),i.appendChild(l),c.appendChild(i),new lv.a({label:"Completed"}).appendTo(l)}}},selectedDate:e.filter.currentDate,eventSettings:k,showWeekNumber:!0,children:[Object(I.jsxs)($x.b,{children:[Object(I.jsx)($x.a,{option:"Day"}),Object(I.jsx)($x.a,{option:"Week"}),Object(I.jsx)($x.a,{option:"Month"})]}),Object(I.jsx)(ev.c,{services:[tv.a,av.a,nv.a,sv.a,rv.a]})]})]}),Object(I.jsxs)("div",{className:"treeview-container",children:[Object(I.jsxs)("div",{className:"title-container",children:[Object(I.jsx)("h1",{className:"title-text",children:uv}),Object(I.jsxs)("div",{className:t.search,children:[Object(I.jsx)("div",{className:t.searchIcon,children:Object(I.jsx)(C.P,{})}),Object(I.jsx)(S.a,{value:o,onChange:function(t){u(t.target.value),N.current&&clearTimeout(N),N.current=setTimeout((function(){e.onSubmit(t.target.value)}),300)},placeholder:jv,classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"}})]})]}),Object(I.jsx)("div",{className:pv.a.treeviewContainer,children:Object(I.jsx)(cv.a,{allowDragAndDrop:!e.isEdit,ref:function(e){return _=e},cssClass:"treeview-external-drag",fields:{dataSource:null===e||void 0===e?void 0:e.tree,id:"id",text:"schoolName"},nodeDragStop:function(e){if(!Object(iv.B)(e.target,".e-treeview")&&(e.cancel=!0,Object(iv.B)(e.target,".e-content-wrap"))){var t=_.fields.dataSource;if(e.target.classList.contains("e-work-cells")){var a=t.filter((function(t){return t.id===parseInt(e.draggedNodeData.id,10)})),n=y.getCellDetails(e.target),s=a[0].schoolName;s.includes("(default)")&&(s=s.replace(" (default)",""));var r={startTime:n.startTime,endTime:n.endTime,allDay:n.isAllDay,location:a[0].district?s+" ("+a[0].district+")":s};y.openEditor(r,"Add",!0)}}},nodeDragging:function(e){if(y.isAdaptive){var t=y.element.querySelector(".e-device-hover");t&&t.classList.remove("e-device-hover"),e.target.classList.contains("e-work-cells")&&Object(iv.v)([e.target],"e-device-hover")}if("not-allowed"===document.body.style.cursor&&(document.body.style.cursor=""),"nodeDragging"===e.name)for(var a=document.querySelectorAll(".e-drag-item.treeview-external-drag .e-icon-expandable"),n=0;n<a.length;n++)a[n].style.display="none"}})}),Object(I.jsx)("div",{className:pv.a.noteView,children:Object(I.jsx)(ci.a,{elevation:0,children:Object(I.jsxs)(f.a,{container:!0,spacing:0,className:pv.a.statusContainer,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:pv.a.statusNote,children:[Object(I.jsx)("div",{className:pv.a.colorComplete}),Object(I.jsx)(x.a,{className:pv.a.status,children:mv.complete})]}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:pv.a.statusNote,children:[Object(I.jsx)("div",{className:pv.a.colorFail}),Object(I.jsx)(x.a,{className:pv.a.status,children:mv.fail})]}),Object(I.jsxs)(f.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:pv.a.statusNote,children:[Object(I.jsx)("div",{className:pv.a.colorPending}),Object(I.jsx)(x.a,{className:pv.a.status,children:mv.pending})]})]})})})]})]})})})};function vv(e){return Ov.apply(this,arguments)}function Ov(){return(Ov=Object(At.a)(Rt.a.mark((function e(t){var a;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.post("/activity",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fv(e){return gv.apply(this,arguments)}function gv(){return(gv=Object(At.a)(Rt.a.mark((function e(t){var a,n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.put("/activity/".concat(t.recurrenceId),t);case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yv(e){return _v.apply(this,arguments)}function _v(){return(_v=Object(At.a)(Rt.a.mark((function e(t){var a,n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.delete("/activity",{data:{items:t}});case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nv(e,t){return Cv.apply(this,arguments)}function Cv(){return(Cv=Object(At.a)(Rt.a.mark((function e(t,a){var n,s;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.put("/activity/".concat(t),a);case 2:return n=e.sent,e.next=5,n.data;case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wv(e){return Sv.apply(this,arguments)}function Sv(){return(Sv=Object(At.a)(Rt.a.mark((function e(t){var a,n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.put("/activity/".concat(t.id),t);case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Iv(e){return kv.apply(this,arguments)}function kv(){return(kv=Object(At.a)(Rt.a.mark((function e(t){var a,n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ka.a.stringify(t),e.next=3,ga.get("/activity?".concat(a));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tv(e){return Pv.apply(this,arguments)}function Pv(){return(Pv=Object(At.a)(Rt.a.mark((function e(t){var a,n,s;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ka.a.stringify(t),e.next=3,ga.get("/locations?".concat(a));case 3:return n=e.sent,e.next=6,n.data;case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dv=function(){var e=r.a.useState([]),t=Object(d.a)(e,2),a=t[0],n=t[1],c=r.a.useState([{id:1,schoolName:"Hi\u1ebfu Th\xe0nh"}]),i=Object(d.a)(c,2),l=i[0],u=i[1],j=gs().user,m=Object(o.h)(),b=Object(s.useState)({action:"view",currentDate:new Date,currentView:"Week",name:"navigating",username:j.username}),p=Object(d.a)(b,2),h=p[0],x=p[1],v=Object(s.useRef)({}),O=Object(s.useState)([]),f=Object(d.a)(O,2),g=f[0],y=f[1],_=function(e){j.roles[0]===Ht?Aa({active:!0,fullName:e,role:Ht}).then((function(e){y(e)})).catch((function(e){e.response&&(console.log(e),m.push({pathname:"/errors",state:{error:e.response.status}}))})):Aa({active:!0,fullName:e}).then((function(e){var t=e.filter((function(e){return e.roleName!==Ft}));y(t)})).catch((function(e){e.response&&(console.log(e),m.push({pathname:"/errors",state:{error:e.response.status}}))}))};function N(){return(N=Object(At.a)(Rt.a.mark((function e(t){var a,n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.addedRecords,delete(n=Object(D.a)(Object(D.a)({},a[0]),{},{startTime:Object(Jx.a)(a[0].startTime),endTime:Object(Jx.a)(a[0].endTime),username:j.username})).id,vv(n).then((function(e){T(h)})).catch((function(e){e.response&&(console.log(e),m.push({pathname:"/errors",state:{error:e.response.status}}))}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(At.a)(Rt.a.mark((function e(t,a){var n,s,r,c,i,l;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.data,s=n.occurrence,r=n.parent,(c=a)||(c=s.startTime),i=ye.a.utc(c).format("YYYYMMDDTHHmmssZ"),l=i.slice(0,-6)+"Z",r.recurrenceException&&(l=r.recurrenceException+","+l),fv(Object(D.a)(Object(D.a)({},s),{},{id:-1,startTime:Object(Jx.a)(s.startTime),endTime:Object(Jx.a)(s.endTime),recurrenceId:r.id,recurrenceRule:null,recurrenceException:l,username:j.username})).then((function(e){T(h)})).catch((function(e){e.response&&(console.log(e),m.push({pathname:"/errors",state:{error:e.response.status}}))}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(At.a)(Rt.a.mark((function e(t){var a,n;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.data,n=null===a||void 0===a?void 0:a.map((function(e){return e.id}))){e.next=4;break}return e.abrupt("return");case 4:yv(n).then((function(e){T(h)})).catch((function(e){e.response&&(console.log(e),m.push({pathname:"/errors",state:{error:e.response.status}}))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(At.a)(Rt.a.mark((function e(t){var a,n,s;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=null===(a=t.data[0].parent)||void 0===a?void 0:a.recurrenceException,t.data.forEach((function(e){var t=e.occurrence.startTime,a=ye.a.utc(t).format("YYYYMMDDTHHmmssZ").slice(0,-6)+"Z";n=n?n+","+a:a})),delete(s=Object(D.a)(Object(D.a)({},t.data[0].parent),{},{recurrenceException:n})).recurrenceID,s=Object(D.a)(Object(D.a)({},s),{},{id:-2,startTime:Object(Jx.a)(s.startTime),endTime:Object(Jx.a)(s.endTime),username:j.username}),Nv(t.data[0].parent.id,s).then((function(e){T(h)})).catch((function(e){e.response&&(console.log(e),m.push({pathname:"/errors",state:{error:e.response.status}}))}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(At.a)(Rt.a.mark((function e(t){var a,n,s;return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.data,n=t.changedRecords,s=Object(D.a)({},a),wv(s=Object(D.a)(Object(D.a)({},s),{},{isAllDay:n[0].isAllDay,title:n[0].title,startTime:Object(Jx.a)(n[0].startTime),endTime:Object(Jx.a)(n[0].endTime),recurrenceRule:n[0].recurrenceRule,username:j.username})).then((function(e){T(h)})).catch((function(e){e.response&&(console.log(e),m.push({pathname:"/errors",state:{error:e.response.status}}))}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return P.apply(this,arguments)}function P(){return(P=Object(At.a)(Rt.a.mark((function e(t){return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Iv(Object(D.a)(Object(D.a)({},t),{},{currentDate:Object(Jx.a)(t.currentDate,{representation:"date"})})).then((function(e){var t;null===(t=e.data)||void 0===t||t.forEach((function(e){e.recurrenceID||delete e.recurrenceID,e=Object(D.a)(Object(D.a)({},e),{},{startDate:Date(e.startTime),endDate:Date(e.endTime),recurrenceException:e.recurrenceException})})),n(e.data)})).catch((function(e){e.response&&(console.log(e),m.push({pathname:"/errors",state:{error:e.response.status}}))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return R.apply(this,arguments)}function R(){return(R=Object(At.a)(Rt.a.mark((function e(t){return Rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Tv({username:j.username,key:t}).then((function(e){null===e||void 0===e||e.forEach((function(e){})),u(e)})).catch((function(e){e.response&&(console.log(e),m.push({pathname:"/errors",state:{error:e.response.status}}))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){_()}),[]),r.a.useEffect((function(){T(h)}),[h]),r.a.useEffect((function(){return V(null)}),[]),Object(I.jsx)(xv,{onSubmit:function(e){V(e)},filter:h,data:a,tree:l,handleRequestType:function(e,t){if("eventCreate"===e.requestType&&function(e){N.apply(this,arguments)}(e),"eventRemove"===e.requestType){if(e.data[0].occurrence)return void function(e){S.apply(this,arguments)}(e);!function(e){w.apply(this,arguments)}(e)}if("eventChange"===e.requestType){if(e.data.occurrence)return void function(e,t){C.apply(this,arguments)}(e,t);!function(e){k.apply(this,arguments)}(e)}},handleChangeView:function(e){"date"===e.action&&x(Object(D.a)(Object(D.a)({},h),{},{action:"date",currentDate:e.currentDate})),"view"===e.action&&x(Object(D.a)(Object(D.a)({},h),{},{action:"view",currentView:"Month"}))},listPICs:g,handleOnSearchFieldChange:function(e){e&&(x(Object(D.a)(Object(D.a)({},h),{},{username:e})),T(Object(D.a)(Object(D.a)({},h),{},{username:e})))},isEdit:j.username!==h.username,handleInputChange:function(e){v.current&&clearTimeout(v.current),v.current=setTimeout((function(){e?_(e):_()}),300)}})},Vv=["component","restricted"];var Rv=function(e){var t=e.component,a=e.restricted,n=Object(bt.a)(e,Vv),s=gs().user,r=!!s;return Object(I.jsx)(o.c,Object(D.a)(Object(D.a)({},n),{},{render:function(e){return r&&a?Object(I.jsx)(o.b,{to:s.roles[0]!==Ft?"/apps/dashboards":"/apps/accounts"}):Object(I.jsx)(t,Object(D.a)({},e))}}))},Av=["component"];var Bv=function(e){var t=e.component,a=Object(bt.a)(e,Av),n=!!gs().user;return Object(I.jsx)(o.c,Object(D.a)(Object(D.a)({},a),{},{render:function(e){return n?Object(I.jsx)(t,Object(D.a)({},e)):Object(I.jsx)(o.b,{to:"/"})}}))},Mv=Object(u.a)((function(e){return{snackbarIcon:{marginRight:"0.5rem",height:"1.2rem",width:"1.2rem"},optBtn:{color:"#fff"}}}));var Fv=function(){var e=Mv(),t=Object(s.createRef)(),a=function(e){return function(){t.current.closeSnackbar(e)}};return Object(I.jsx)(ys,{children:Object(I.jsx)(cn.a,{maxSnack:3,anchorOrigin:{vertical:"top",horizontal:"right"},iconVariant:{success:Object(I.jsx)(C.i,{className:e.snackbarIcon}),error:Object(I.jsx)(C.s,{className:e.snackbarIcon}),warning:Object(I.jsx)(C.R,{className:e.snackbarIcon}),info:Object(I.jsx)(C.B,{className:e.snackbarIcon})},TransitionComponent:Ej.a,autoHideDuration:3e3,ref:t,action:function(t){return Object(I.jsx)(ht.a,{component:"span",className:e.optBtn,onClick:a(t),children:Object(I.jsx)(C.k,{})})},children:Object(I.jsxs)(o.e,{children:[Object(I.jsx)(Rv,{exact:!0,path:"/",restricted:!0,component:vi}),Object(I.jsx)(Rv,{path:"/password-reset",restricted:!1,component:qi}),Object(I.jsx)(Bv,{path:"/apps",component:function(){return Object(I.jsx)(Ua,{children:Object(I.jsx)(ac,{})})}}),Object(I.jsx)(o.c,{path:"/errors",component:function(){return Object(I.jsx)(si,{defaultError:ni(404)})}}),Object(I.jsx)(o.b,{from:"*",to:"/errors"})]})})})},Yv=a(808),Ev=a(801),Hv=a(186),Lv=Object(Hv.a)({palette:{primary:{light:"#2a4865",main:"#1b3a57",dark:"#051e34"},secondary:{light:"#ffecb3",main:"#ffc107",dark:"#ffa000"}},overrides:{MuiCssBaseline:{"@global":{"*::-webkit-scrollbar":{width:"8px",height:"8px"},"*::-webkit-scrollbar-track":{background:"#F1F1F1",boxShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)",borderRadius:"4px"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#C1C1C1",borderRadius:"4px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"}},"*::-webkit-scrollbar-corner":{background:"inherit"}}},MuiListItem:{root:{"&$selected":{backgroundColor:"#18344e"},"&$selected:hover":{backgroundColor:"#2a4865",opacity:.4}}}}});i.a.render(Object(I.jsxs)(Ev.a,{theme:Lv,children:[Object(I.jsx)(Yv.a,{}),Object(I.jsx)(l.a,{children:Object(I.jsx)(Fv,{})})]}),document.getElementById("root"))},70:function(e,t,a){e.exports={wrapper:"Tables_wrapper__1FRj9",container:"Tables_container__2CbfQ",table:"Tables_table__3BEx8",tHead:"Tables_tHead__3CTv6",tHeadCell:"Tables_tHeadCell__2LfJA",tBody:"Tables_tBody__1T-zk",tBodyRow:"Tables_tBodyRow__2gmZZ",tBodyCell:"Tables_tBodyCell__3bxjz",noRecord:"Tables_noRecord__2EkFj",picName:"Tables_picName__2dQgL",sortLabel:"Tables_sortLabel__3Swno",active:"Tables_active__EqPyW",paging:"Tables_paging__2Dtif",chipSalesMoi:"Tables_chipSalesMoi__2gOTV",chipChamSoc:"Tables_chipChamSoc__3p1B6",chipTaiKy:"Tables_chipTaiKy__3ZjHP",chipKyMoi:"Tables_chipKyMoi__1CoM8",rpDaGap:"Tables_rpDaGap__2pxKP",rpChuaGap:"Tables_rpChuaGap__2S1YD"}},71:function(e,t,a){e.exports={wrapper:"Tables_wrapper__CYFib",container:"Tables_container__Co0Oy",table:"Tables_table__3-lI1",tHead:"Tables_tHead__sCryY",tHeadCell:"Tables_tHeadCell__3P57-",tBody:"Tables_tBody__3YeXJ",tBodyRow:"Tables_tBodyRow__14gUx",tBodyCell:"Tables_tBodyCell__27pOu",tCellInactive:"Tables_tCellInactive__2vmU-",tCellInactiveSchoolName:"Tables_tCellInactiveSchoolName__20nb3",tCellSchoolName:"Tables_tCellSchoolName__3fG2t",noRecord:"Tables_noRecord__1oMAj",picName:"Tables_picName__NEzKD",sortLabel:"Tables_sortLabel__2m-_3",active:"Tables_active__w1tbq",paging:"Tables_paging__2Lcfu",chipLead:"Tables_chipLead__x55Vt",chipCustomer:"Tables_chipCustomer__3kT4g",chipPotential:"Tables_chipPotential__3bGqm",itemText:"Tables_itemText__Ere2p",iconTimeline:"Tables_iconTimeline__2Wr19"}},73:function(e,t,a){e.exports={wrapper:"Step3_wrapper__28Ytl",child:"Step3_child__3_Rtt",date:"Step3_date__3I48v",avaGroup:"Step3_avaGroup__27euf",container:"Step3_container__pqy6q",table:"Step3_table__a4TFu",tHead:"Step3_tHead__uSZtF",tHeadCell:"Step3_tHeadCell__10qR_",tSubHeadCell:"Step3_tSubHeadCell__2WoLO",tBody:"Step3_tBody__2z_PY",tBodyRow:"Step3_tBodyRow__Eb9R6",tBodyCell:"Step3_tBodyCell__1omTq",txtTargetValue:"Step3_txtTargetValue__2cjYI",txtWeight:"Step3_txtWeight__1OtQl",tBodyCellTextField:"Step3_tBodyCellTextField__2DnJ3"}},76:function(e,t,a){e.exports={wrapper:"CreatePreviewDialogForm_wrapper__1f7r3",container:"CreatePreviewDialogForm_container__3pkYU",table:"CreatePreviewDialogForm_table__3TvU3",tHeadCell:"CreatePreviewDialogForm_tHeadCell__dcK5P",tBody:"CreatePreviewDialogForm_tBody__32PCy",tBodyCell:"CreatePreviewDialogForm_tBodyCell__14a-4",btnSave:"CreatePreviewDialogForm_btnSave__22BtN",icon:"CreatePreviewDialogForm_icon__3lkBY",popover:"CreatePreviewDialogForm_popover__3IkrT",tBodyRow:"CreatePreviewDialogForm_tBodyRow__2lz2D",title:"CreatePreviewDialogForm_title__1BRF5",chipLead:"CreatePreviewDialogForm_chipLead__7_rHq",chipCustomer:"CreatePreviewDialogForm_chipCustomer__3VWrv",chipPotential:"CreatePreviewDialogForm_chipPotential__23ukl",chipSalesMoi:"CreatePreviewDialogForm_chipSalesMoi__1egHv",chipTheoDoi:"CreatePreviewDialogForm_chipTheoDoi__2OjCc",chipChamSoc:"CreatePreviewDialogForm_chipChamSoc__3-iFU",chipTaiKy:"CreatePreviewDialogForm_chipTaiKy__3AxBQ",chipKyMoi:"CreatePreviewDialogForm_chipKyMoi__1rnvZ"}},78:function(e,t,a){e.exports={wrapper:"Tables_wrapper__aar5-",container:"Tables_container__3ln7l",table:"Tables_table__15Ouc",tHead:"Tables_tHead__29Str",tHeadCell:"Tables_tHeadCell__29ikY",tBody:"Tables_tBody__3cLDT",tBodyRow:"Tables_tBodyRow__2C-LT",tBodyCell:"Tables_tBodyCell__3i-dF",tCellInactive:"Tables_tCellInactive__3df1N",tCellInactiveSchoolName:"Tables_tCellInactiveSchoolName__3OTLL",tCellSchoolName:"Tables_tCellSchoolName__3mq2I",tBodyCellDuration:"Tables_tBodyCellDuration__2z7PE",noRecord:"Tables_noRecord__3wrgo",picName:"Tables_picName__ytU5e",sortLabel:"Tables_sortLabel__1PU6d",active:"Tables_active__3KvbV",paging:"Tables_paging__157e1",chipPending:"Tables_chipPending__SCVDe",chipApproved:"Tables_chipApproved__2_-ry",chipRejected:"Tables_chipRejected__1rJsr",itemText:"Tables_itemText__3smSt"}},81:function(e,t,a){e.exports={wrapper:"Tables_wrapper__LdmMz",container:"Tables_container__3maWI",table:"Tables_table__cSiqi",tHead:"Tables_tHead__3lc8t",tHeadCell:"Tables_tHeadCell__3LFy1",tBody:"Tables_tBody__7l-Iw",tBodyRow:"Tables_tBodyRow__1GNr5",tBodyCell:"Tables_tBodyCell__rXdQy",tCellInactive:"Tables_tCellInactive__2qHHE",tCellInactiveSchoolName:"Tables_tCellInactiveSchoolName__2P42D",tCellSchoolName:"Tables_tCellSchoolName__3IuKR",noRecord:"Tables_noRecord__1_tfW",picName:"Tables_picName__KqAoG",sortLabel:"Tables_sortLabel__3gIOx",active:"Tables_active__31qx2",paging:"Tables_paging__3Yoyb",chipLead:"Tables_chipLead__SSO4_",chipCustomer:"Tables_chipCustomer__WNo5R",chipPotential:"Tables_chipPotential__1ltgF",itemText:"Tables_itemText__2hSBG"}},84:function(e,t,a){e.exports={root:"AppLayouts_root__ADTKc",appBar:"AppLayouts_appBar__2bt8T",appBarShift:"AppLayouts_appBarShift__1HAdC",toolbar:"AppLayouts_toolbar__NDRo8",menuBtn:"AppLayouts_menuBtn__37VKR",grow:"AppLayouts_grow__3APcL",title:"AppLayouts_title__359ah",notif:"AppLayouts_notif__2b0yO",badge:"AppLayouts_badge__31Wej",drawerPaper:"AppLayouts_drawerPaper__3p2iB",drawerHeader:"AppLayouts_drawerHeader__3Bh8h",majorImg:"AppLayouts_majorImg__1fRU5",drawerFooter:"AppLayouts_drawerFooter__27Ih-",drawerPaperClose:"AppLayouts_drawerPaperClose__shlT0",chevron:"AppLayouts_chevron__337at",menuItem:"AppLayouts_menuItem__18pBT",menuIcon:"AppLayouts_menuIcon__3T5iF",menuText:"AppLayouts_menuText__2BqCt",content:"AppLayouts_content__34dT9",contentShift:"AppLayouts_contentShift__NdctS",appBarSpacer:"AppLayouts_appBarSpacer__3jaV0",container:"AppLayouts_container__1mZvf"}},87:function(e,t,a){e.exports={wrapper:"CreateReports_wrapper__5UBZd",container:"CreateReports_container__2DMzg",table:"CreateReports_table__3jx9s",tHead:"CreateReports_tHead__LltWy",tHeadCell:"CreateReports_tHeadCell__16C78",tBodyCell:"CreateReports_tBodyCell__1PN8V",btnSave:"CreateReports_btnSave__1slQu",autoComplete:"CreateReports_autoComplete__M1Dbx",item:"CreateReports_item__24EAb",itemTextPrimary:"CreateReports_itemTextPrimary__2thZ1",itemTextSecondary:"CreateReports_itemTextSecondary__13Nc9",title:"CreateReports_title__1TAwY"}},88:function(e,t,a){e.exports={root:"DetailLayouts_root__3Uq_Q",topBg:"DetailLayouts_topBg__2XjvQ",container:"DetailLayouts_container__1p_D6",content:"DetailLayouts_content__1Qknz",header:"DetailLayouts_header__FGms4",nav:"DetailLayouts_nav__3f8bj",icon:"DetailLayouts_icon__2os1W",text:"DetailLayouts_text__1Bfl3",headerInfo:"DetailLayouts_headerInfo__2p1DA",infoAvatar:"DetailLayouts_infoAvatar__2gZRp",avatarTxt:"DetailLayouts_avatarTxt__2WkiP",infoBasic:"DetailLayouts_infoBasic__ZWDNA",basicMain:"DetailLayouts_basicMain__2QPiI",basicSub:"DetailLayouts_basicSub__35Ezn",body:"DetailLayouts_body__2V1Xr",toolbar:"DetailLayouts_toolbar__2O-3s",toolbarTitle:"DetailLayouts_toolbarTitle__c5kPN",wrapper:"DetailLayouts_wrapper__2O-9y"}},89:function(e,t,a){e.exports={dialogCont:"UpdateSchStatus_dialogCont__3QjPl",dialogAct:"UpdateSchStatus_dialogAct__210by",btnSave:"UpdateSchStatus_btnSave__2N7A8",suggestions:"UpdateSchStatus_suggestions__FQIF6",txtEstimate:"UpdateSchStatus_txtEstimate__2pWPa",txtRevenue:"UpdateSchStatus_txtRevenue__3XTi5",iconInfo:"UpdateSchStatus_iconInfo__EvbSw",txtNumber:"UpdateSchStatus_txtNumber__3O-AU",rowx:"UpdateSchStatus_rowx__25tvm"}},92:function(e,t,a){e.exports={panel:"GenInfo_panel__3RdhF",action:"GenInfo_action__25aVt",submit:"GenInfo_submit__21Eub",content:"GenInfo_content__2rh7j",wrapper:"GenInfo_wrapper__rxYg7",row:"GenInfo_row__m3hkZ",rowx:"GenInfo_rowx__2mHpC",rowy:"GenInfo_rowy__250Ug",header:"GenInfo_header__2UkP7",title:"GenInfo_title__2h86X"}},93:function(e,t,a){e.exports={panel:"GenInfo_panel__1sDmG",action:"GenInfo_action__33sBH",submit:"GenInfo_submit__cFNdu",content:"GenInfo_content__nl0ai",wrapper:"GenInfo_wrapper__1vH4y",row:"GenInfo_row__39174",rowx:"GenInfo_rowx__1BQzf",rowy:"GenInfo_rowy__3QXZO",header:"GenInfo_header__1jWAv",title:"GenInfo_title__3qRaW"}},94:function(e,t,a){e.exports={dialogCont:"ServicesForm_dialogCont__1iGIF",row:"ServicesForm_row__3qhF7",title:"ServicesForm_title__1Qmim",dialogAct:"ServicesForm_dialogAct__1nJ9X",btnSave:"ServicesForm_btnSave__1m82J"}},98:function(e,t,a){e.exports={wrapper:"Tables_wrapper__1INWy",container:"Tables_container__coaLQ",table:"Tables_table__UBuTC",tHead:"Tables_tHead__qCaRM",tHeadCell:"Tables_tHeadCell__1vxsc",tBody:"Tables_tBody__2tGEy",tBodyRow:"Tables_tBodyRow__-LIb7",tBodyCell:"Tables_tBodyCell__36-LR",tCellInactive:"Tables_tCellInactive__2ohkU",tCellInactiveSchoolName:"Tables_tCellInactiveSchoolName__3FQ32",tCellSchoolName:"Tables_tCellSchoolName__GmqL4",tBodyCellDuration:"Tables_tBodyCellDuration__2Hbv2",noRecord:"Tables_noRecord___MbBn",picName:"Tables_picName__33OAF",sortLabel:"Tables_sortLabel__1DmF9",active:"Tables_active__2nzPG",paging:"Tables_paging__297k2",chipApplying:"Tables_chipApplying__3__x0",itemText:"Tables_itemText__33G4e"}}},[[698,1,2]]]);
//# sourceMappingURL=main.4c615bb6.chunk.js.map