{"version":3,"sources":["pages/KPIs/dialogs/CreateKPISheet/Step2.module.scss","pages/Dashboards/components/CardRanks/CardRanks.module.scss","pages/Schools/panels/RepInfo/RepInfo.module.scss","pages/Tasks/dialogs/SuggestionQuickView/SuggestionQuickView.module.scss","pages/KPIs/panels/KPIInfo/KPIInfo.module.scss","pages/WorkPlans/WorkPlans.module.scss","pages/Logins/Logins.module.scss","pages/Profiles/components/ContentAccordions/ContentAccordions.module.scss","pages/Tasks/components/Tables/MenuOptions/MenuOptions.module.scss","pages/Tasks/dialogs/CreateServices/CreateServices.module.scss","layouts/AppLayouts/components/UserMenu/UserMenu.module.scss","pages/Tasks/dialogs/CreateTasks/LeftSide.module.scss","pages/Services/panels/ServiceInfo/ServiceInfo.module.scss","pages/ForgotPwd/ResetLink/ResetLink.module.scss","pages/ForgotPwd/VerifyCode/VerifyCode.module.scss","pages/Errors/Errors.module.scss","pages/Profiles/components/ContentCards/ContentCards.module.scss","pages/Reports/components/Tables/MenuOptions/MenuOptions.module.scss","pages/Services/dialogs/RejectService/RejectService.module.scss","layouts/AppLayouts/components/Notify/Notify.module.scss","pages/ForgotPwd/PwdReset/PwdReset.module.scss","pages/Schools/dialogs/ImportFile/ImportFile.module.scss","pages/Tasks/panels/AssignInfo/AssignInfo.module.scss","components/NotFound/NotFound.module.scss","pages/Accounts/dialogs/CreateAccount/CreateAccount.module.scss","pages/Schools/dialogs/CreateSchool/CreateSchool.module.scss","pages/KPIs/dialogs/CreateKPISheet/Step1.module.scss","pages/KPIs/components/Tables/MenuOptions/MenuOptions.module.scss","pages/KPIs/panels/SalesmanKPIInfo/SalesmanKPIInfo.module.scss","pages/Profiles/Profiles.module.scss","pages/Tasks/panels/SchoolInfo/SchoolInfo.module.scss","components/Loading/Loading.module.scss","pages/Accounts/Accounts.module.scss","pages/Salesmen/Salesmen.module.scss","pages/Schools/Schools.module.scss","pages/Services/Services.module.scss","pages/KPIs/dialogs/CreateKPISheet/CreateKPISheet.module.scss","pages/KPIs/KPIs.module.scss","pages/Dashboards/Dashboards.module.scss","pages/Accounts/components/Filters/Filters.module.scss","pages/Accounts/components/Tables/MenuOptions/MenuOptions.module.scss","pages/ForgotPwd/ForgotPwd.module.scss","pages/Reports/components/Filters/Filters.module.scss","pages/Reports/dialogs/ConfirmRemove/ConfirmRemove.module.scss","pages/Salesmen/components/Filters/Filters.module.scss","pages/Salesmen/components/Tables/MenuOptions/MenuOptions.module.scss","pages/Schools/components/Filters/Filters.module.scss","pages/Schools/components/Tables/MenuOptions/MenuOptions.module.scss","pages/Tasks/dialogs/CreateTasks/CreateTasks.module.scss","pages/Reports/panels/AssignInfo/AssignInfo.module.scss","pages/Tasks/components/Filters/Filters.module.scss","pages/Tasks/dialogs/ConfirmRemove/ConfirmRemove.module.scss","pages/Tasks/dialogs/ConfirmUnassign/ConfirmUnassign.module.scss","pages/Tasks/Tasks.module.scss","pages/Tasks/dialogs/ConfirmTaskFail/ConfirmTaskFail.module.scss","pages/Tasks/dialogs/ConfirmTaskComplete/ConfirmTaskComplete.module.scss","pages/Services/components/Filters/Filters.module.scss","pages/Services/components/Tables/MenuOptions/MenuOptions.module.scss","pages/Services/dialogs/ConfirmApprove/ConfirmApprove.module.scss","pages/KPIs/dialogs/ConfirmSave/ConfirmSave.module.scss","pages/KPIs/components/Filters/Filters.module.scss","pages/KPIs/dialogs/ConfirmDisable/ConfirmDisable.module.scss","pages/Reports/panels/ReportInfo/ReportInfo.module.scss","pages/Schools/panels/GenInfo/GenInfo.module.scss","pages/Profiles/components/CardHeaders/CardHeaders.module.scss","pages/Reports/dialogs/CannotRemove/CannotRemove.module.scss","pages/Reports/Reports.module.scss","pages/Tasks/dialogs/NotifyAssign/NotifyAssign.module.scss","pages/Tasks/dialogs/CreateTasks/NotifyDialog.module.scss","pages/Tasks/dialogs/CannotRemove/CannotRemove.module.scss","pages/Tasks/panels/ServicesInfo/ServicesInfo.module.scss","pages/Tasks/panels/Timelines/Timelines.module.scss","pages/Tasks/dialogs/Assign/Assign.module.scss","pages/KPIs/dialogs/SalesmanKPIs/SalesmanKPIs.module.scss","pages/Salesmen/components/Tables/Tables.module.scss","pages/Accounts/components/Tables/Tables.module.scss","pages/Schools/panels/Timelines/Timelines.module.scss","pages/Tasks/components/Tables/Tables.module.scss","pages/Tasks/dialogs/DialogConfig.module.scss","components/SearchFields/SearchFields.js","components/Animations/Animation.js","components/Animations/AnimationGroup.js","components/Snackbars/Snackbars.js","assets/icons/gold-medal.png","assets/icons/silver-medal.png","assets/icons/bronze-medal.png","assets/icons/pawprints.png","assets/icons/medal.png","assets/icons/cross-mark.png","components/NotFound/NotFound.js","components/Loading/Loading.js","services/geocode.js","components/AddressField/AddressField.js","utils/DateTimes.js","components/LinearProgressBars/LinearProgressBars.js","constants/ActionTypes.js","constants/Filters.js","pages/Accounts/components/Filters/Chips/Chips.js","pages/Accounts/dialogs/DialogConfig.js","utils/Cookies.js","constants/Generals.js","services/Api.js","pages/Accounts/AccountsServices.js","services/FiltersServices.js","utils/Milk.js","hooks/AppContext.js","utils/Regex.js","pages/Accounts/hooks/AccountReducer.js","pages/Accounts/hooks/AccountContext.js","services/firebase.js","pages/Accounts/dialogs/CreateAccount/CreateAccountForm.js","pages/Accounts/dialogs/CreateAccount/CreateAccount.js","pages/Accounts/AccountsConfig.js","pages/Accounts/components/Filters/Filters.js","pages/Accounts/components/Tables/MenuOptions/MenuOptions.js","pages/Accounts/components/Tables/Tables.js","pages/Accounts/Accounts.js","hooks/useToggle.js","layouts/AppLayouts/AppLayoutsConfig.js","hooks/AuthContext.js","pages/Reports/hooks/ReportReducer.js","pages/Reports/hooks/ReportContext.js","pages/Schools/hooks/SchoolReducer.js","pages/Schools/hooks/SchoolContext.js","pages/Tasks/hooks/TaskReducer.js","pages/Tasks/TasksServices.js","pages/Tasks/hooks/TaskContext.js","pages/Services/hooks/ServiceReducer.js","pages/Services/ServicesServices.js","pages/Services/hooks/ServiceContext.js","pages/KPIs/hooks/KPIReducer.js","pages/KPIs/KPIsServices.js","pages/KPIs/hooks/KPIContext.js","routes/routes.js","services/UserServices.js","layouts/AppLayouts/components/UserMenu/UserMenu.js","layouts/AppLayouts/components/Notify/NotifyConfig.js","layouts/AppLayouts/components/Notify/Notify.js","layouts/AppLayouts/AppLayouts.js","layouts/DetailLayouts/DetailLayouts.js","pages/Accounts/panels/GenInfo/GenInfoConfig.js","pages/Accounts/panels/GenInfo/GenInfo.js","pages/Accounts/Account.js","pages/Dashboards/DashboardsConfig.js","pages/Dashboards/DashboardsServices.js","components/Charts/GaugeCharts/GaugeCharts.js","components/Charts/MapCharts/Legends.js","components/Charts/MapCharts/Maps.js","components/Charts/MapCharts/MapCharts.js","components/Charts/PieCharts/PieCharts.js","components/Charts/RadarCharts/RadarCharts.js","components/Charts/SimpleColumnCharts/SimpleColumnCharts.js","components/Charts/StackColumnCharts/StackColumnCharts.js","pages/Dashboards/components/CardRanks/CardRanks.js","pages/Dashboards/Dashboards.js","pages/Errors/ErrorsConfig.js","pages/Errors/Errors.js","assets/images/major/logo-major-edu.png","assets/images/major/banner-major-edu.png","assets/images/workplan/spring.jpg","assets/images/workplan/summer.jpg","assets/images/workplan/autumn.jpg","assets/images/workplan/winter.jpg","assets/images/doughnut-chart.png","pages/Logins/LoginsConfig.js","pages/Logins/LoginsServices.js","pages/Logins/Logins.js","routes/VerifyRoute.js","pages/ForgotPwd/ForgotPwdConfig.js","pages/ForgotPwd/ForgotPwdServices.js","pages/ForgotPwd/ResetLink/ResetLink.js","pages/ForgotPwd/VerifyCode/VerifyCode.js","pages/ForgotPwd/PwdReset/PwdReset.js","pages/ForgotPwd/ForgotPwd.js","pages/Profiles/ProfilesServices.js","pages/Profiles/ProfilesConfig.js","pages/Profiles/components/CardHeaders/CardHeaders.js","pages/Profiles/components/ContentCards/ContentCards.js","pages/Profiles/components/ContentAccordions/ContentAccordions.js","pages/Profiles/Profiles.js","pages/Reports/ReportsConfig.js","pages/Reports/components/Filters/Chips/Chips.js","pages/Reports/components/Filters/DateRangePickers/DateRangePickers.js","pages/Reports/dialogs/DialogConfig.js","pages/Reports/ReportsServices.js","utils/Arrays.js","pages/Reports/dialogs/CreateReports/CreateReportsForm.js","pages/Reports/dialogs/CreateReports/CreateReports.js","pages/Reports/components/Filters/Filters.js","pages/Reports/dialogs/ConfirmRemove/ConfirmRemove.js","pages/Reports/dialogs/CannotRemove/CannotRemove.js","pages/Reports/components/Tables/MenuOptions/MenuOptions.js","pages/Reports/components/Tables/Tables.js","pages/Reports/Reports.js","pages/Reports/panels/ReportInfo/ReportInfoConfig.js","pages/Reports/panels/ReportInfo/ReportInfo.js","pages/Reports/panels/AssignInfo/AssignInfoConfig.js","pages/Reports/panels/AssignInfo/AssignInfo.js","pages/Reports/Report.js","pages/Salesmen/components/Filters/Chips/Chips.js","pages/Salesmen/components/Filters/Filters.js","pages/Salesmen/panels/GenInfo/GenInfo.js","pages/Salesmen/Salesman.js","pages/Schools/components/Filters/Chips/Chips.js","pages/Schools/SchoolsServices.js","pages/Schools/dialogs/DialogConfig.js","pages/Schools/dialogs/CreateSchool/CreateSchoolForm.js","pages/Schools/dialogs/CreateSchool/CreateSchool.js","pages/Schools/dialogs/ImportFile/ImportFile.js","pages/Schools/SchoolsConfig.js","pages/Schools/components/Filters/Filters.js","pages/Schools/components/Tables/MenuOptions/MenuOptions.js","pages/Schools/components/Tables/Tables.js","pages/Schools/Schools.js","pages/Schools/panels/GenInfo/GenInfoConfig.js","pages/Schools/panels/GenInfo/GenInfo.js","pages/Schools/panels/RepInfo/RepInfoConfig.js","pages/Schools/panels/RepInfo/RepInfo.js","pages/Schools/panels/Timelines/TimelinesConfig.js","pages/Schools/panels/Timelines/Timelines.js","pages/Schools/School.js","pages/Tasks/TasksConfig.js","pages/Tasks/components/Filters/Chips/Chips.js","pages/Tasks/dialogs/NotifyAssign/NotifyAssign.js","pages/Tasks/dialogs/DialogConfig.js","pages/Tasks/dialogs/SuggestionQuickView/SuggestionQuickView.js","pages/Tasks/dialogs/Assign/AssignForm.js","pages/Tasks/dialogs/Assign/Assign.js","pages/Tasks/dialogs/CreateTasks/TaskFormReducer.js","pages/Tasks/dialogs/CreateTasks/TaskFormContext.js","pages/Tasks/dialogs/CreateTasks/CreateTasksConfig.js","pages/Tasks/dialogs/CreateTasks/NotifyDialog.js","pages/Tasks/dialogs/CreateTasks/Filters.js","pages/Tasks/dialogs/CreateTasks/Tables.js","utils/Sortings.js","pages/Tasks/dialogs/CreateTasks/CreatePreviewDialogForm.js","pages/Tasks/dialogs/CreateTasks/CreateDialogPreview.js","pages/Tasks/dialogs/CreateTasks/LeftSide.js","pages/Tasks/dialogs/CreateTasks/CreateTasks.js","pages/Tasks/components/DateRangePickers/DateRangePickers.js","pages/Tasks/components/Filters/Filters.js","pages/Tasks/dialogs/ConfirmRemove/ConfirmRemove.js","pages/Tasks/dialogs/CannotRemove/CannotRemove.js","pages/Tasks/dialogs/ConfirmUnassign/ConfirmUnassign.js","utils/Suggestions.js","pages/Tasks/dialogs/CreateServices/CreateServicesForm.js","pages/Tasks/dialogs/CreateServices/CreateServices.js","pages/Tasks/components/Tables/MenuOptions/MenuOptions.js","pages/Tasks/components/Tables/SortableTableHeaders.js","pages/Tasks/components/Tables/Tables.js","pages/Tasks/Tasks.js","pages/Tasks/panels/SchoolInfo/SchoolInfoConfig.js","pages/Tasks/panels/SchoolInfo/SchoolInfo.js","pages/Tasks/panels/ServicesInfo/ServicesForm/ServicesForm.js","pages/Tasks/panels/ServicesInfo/ServicesInfo.js","pages/Tasks/panels/AssignInfo/AssignInfoConfig.js","pages/Tasks/dialogs/UpdateSchStatus/UpdateSchStatus.js","pages/Tasks/dialogs/ConfirmTaskFail/ConfirmTaskFail.js","pages/Tasks/dialogs/ConfirmTaskComplete/ConfirmTaskComplete.js","pages/Tasks/panels/AssignInfo/AssignInfo.js","pages/Tasks/panels/Timelines/TimelinesConfig.js","pages/Tasks/panels/Timelines/Timelines.js","pages/Tasks/Task.js","pages/Services/components/Filters/Chips/Chips.js","pages/Services/ServicesConfig.js","pages/Services/components/Filters/Filters.js","pages/Services/components/Tables/MenuOptions/MenuOptions.js","pages/Services/components/Tables/Tables.js","pages/Services/components/DateRangePickers/DateRangePickers.js","pages/Services/Services.js","pages/Services/panels/ServiceInfo/ServiceInfoConfig.js","pages/Services/dialogs/DialogConfig.js","pages/Services/dialogs/RejectService/RejectService.js","pages/Services/dialogs/ConfirmApprove/ConfirmApprove.js","pages/Services/panels/ServiceInfo/ServiceInfo.js","assets/icons/check-mark.png","pages/Services/Service.js","pages/KPIs/components/Filters/Chips/Chips.js","pages/KPIs/KPIsConfig.js","pages/KPIs/dialogs/DialogConfig.js","pages/KPIs/dialogs/CreateKPISheet/CreateKPISheetConfig.js","pages/KPIs/dialogs/ConfirmSave/ConfirmSave.js","pages/KPIs/dialogs/CreateKPISheet/Step1.js","pages/KPIs/dialogs/CreateKPISheet/Step2.js","pages/KPIs/dialogs/CreateKPISheet/Step3.js","pages/KPIs/dialogs/CreateKPISheet/CreateKPISheet.js","pages/KPIs/components/Filters/Filters.js","pages/KPIs/dialogs/ConfirmDisable/ConfirmDisable.js","pages/KPIs/components/Tables/MenuOptions/MenuOptions.js","pages/KPIs/components/Tables/Tables.js","pages/KPIs/KPIs.js","pages/KPIs/dialogs/SalesmanKPIs/SalesmanKPIs.js","pages/KPIs/panels/KPIInfo/KPIInfo.js","pages/KPIs/panels/SalesmanKPIInfo/SalesmanKPIInfo.js","pages/KPIs/KPI.js","pages/WorkPlans/WorkPlansConfig.js","pages/WorkPlans/Schedule.js","pages/WorkPlans/WorkPlansServices.js","pages/WorkPlans/WorkPlans.js","routes/PublicRoute.js","routes/PrivateRoute.js","App.js","styles/theme.js","index.js","pages/Reports/components/Tables/Tables.module.scss","pages/Schools/components/Tables/Tables.module.scss","pages/KPIs/dialogs/CreateKPISheet/Step3.module.scss","pages/Tasks/dialogs/CreateTasks/CreatePreviewDialogForm.module.scss","pages/Services/components/Tables/Tables.module.scss","pages/Tasks/dialogs/CreateTasks/Tables.module.scss","layouts/AppLayouts/AppLayouts.module.scss","pages/Reports/dialogs/CreateReports/CreateReports.module.scss","layouts/DetailLayouts/DetailLayouts.module.scss","pages/Tasks/dialogs/UpdateSchStatus/UpdateSchStatus.module.scss","pages/Accounts/panels/GenInfo/GenInfo.module.scss","pages/Salesmen/panels/GenInfo/GenInfo.module.scss","pages/Tasks/panels/ServicesInfo/ServicesForm/ServicesForm.module.scss","pages/KPIs/components/Tables/Tables.module.scss"],"names":["module","exports","useStyles","makeStyles","theme","search","maxHeight","position","borderRadius","backgroundColor","boxShadow","marginLeft","height","width","breakpoints","up","spacing","searchIcon","padding","pointerEvents","display","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","SearchFields","props","classes","typingTimeOutRef","useRef","onChange","placeholder","searchValue","useState","searchKey","setSearchKey","className","fontSize","InputBase","value","root","input","inputProps","e","preventDefault","keyword","target","current","clearTimeout","setTimeout","defaultProps","Animations","React","forwardRef","ref","children","cloneElement","style","visibility","animation","runOnMount","targetQuerySelector","interruptBehavior","duration","delay","easing","setRef","undefined","memo","enterAnimationDefaults","stagger","leaveAnimationDefaults","AnimationGroup","enter","leave","enterHideStyle","opacity","enterShowStyle","top","Snackbars","notify","setNotify","handleClose","event","reason","isOpen","Snackbar","open","autoHideDuration","anchorOrigin","vertical","horizontal","onClose","Alert","severity","type","variant","message","NotFound","title","imgContainer","src","Paw","alt","img","Typography","noWrap","Consts","Loading","wrapper","loadingTxt","LinearProgress","progress","Geocode","setApiKey","process","setLanguage","setRegion","setLocationType","enableDebug","autocompleteService","icon","palette","text","secondary","marginRight","AddressField","inputValue","setInputValue","setLatitude","setLongitude","onBlur","error","helperText","setValue","options","setOptions","loaded","window","document","querySelector","id","script","createElement","setAttribute","appendChild","loadScript","fetch","useMemo","throttle","request","callback","getPlacePredictions","useEffect","active","google","maps","places","AutocompleteService","results","newOptions","fromAddress","then","response","geometry","location","lat","lng","console","Autocomplete","autoComplete","autoHighlight","getOptionLabel","option","description","filterSelectedOptions","filterOptions","x","includeInputInList","noOptionsText","openOnFocus","clearOnBlur","newValue","onInputChange","newInputValue","renderInput","params","TextField","label","fullWidth","required","renderOption","matches","structured_formatting","main_text_matched_substrings","parts","parse","main_text","map","match","offset","length","Grid","container","item","xs","part","index","fontWeight","highlight","secondary_text","parseDateToString","date","format","moment","calculateDatesGap","day1","day2","returnAs","Math","round","getTime","getMonth","getFullYear","calculateSchoolYear","thisYear","Date","thisMonth","LinearProgressBars","startDate","endDate","marker","date1","date2","daysPassed","calculatePercentage","Box","flexDirection","flexGrow","Tooltip","placement","flexBasis","percent","marginTop","Icon","FILTER_PIC","FILTER_DISTRICT","FILTER_SCHOOL_YEAR","FILTER_SCHOOL_TYPE","FILTER_SCHOOL_LEVEL","FILTER_SCHOOL_STATUS","FILTER_PURPOSE","FILTER_ASSIGNED","FILTER_REPORT_RESULT","FILTER_DATE_RANGE","FILTER_TASK_STATUS","FILTER_ACTIVE","FILTER_ROLE","FILTER_SERVICE_STATUS","FILTER_SERVICE_TYPE","FILTER_EXPIRED","FILTER_KPI_STATUS","ENTER_SEARCH_KEYWORD","SORT_BY","CHANGE_PAGE","ACTIVE_FILTER","ROLE_FILTER","PIC_FILTER","DISTRICT_FILTER","SCHOOL_YEAR_FILTER","STATUS_FILTER","PURPOSE_FILTER","ASSIGNED_FILTER","DATE_RANGE_FILTER","REPORT_RESULT_FILTER","TYPE_FILTER","LEVEL_FILTER","TASK_STATUS_FILTER","SERVICE_STATUS_FILTER","SERVICE_TYPE_FILTER","EXPIRED_FILTER","KPI_STATUS_FILTER","flexWrap","ul","maxWidth","overflowX","listStyle","margin","btnClear","chip","Chips","chips","dispatch","handleChipsRemoved","setBtnClearAll","handleChipDelete","chipToDelete","filterType","ReducerActions","payload","filterValue","removedFilters","count","forEach","handleShowClearAllButton","Button","size","onClick","Chip","onDelete","child1","cancel","save","info","success","warning","username","fullName","isMale","male","lb","female","birthDate","email","helper","phone","addr","status","roles","setCookie","cName","cValue","exDays","d","setTime","expires","toUTCString","cookie","roleNames","statusAcct","statusNames","schoolLevelNames","taskResultNames","taskStatusNames","serviceNames","serviceStatusNames","kpiStatusNames","kpiDetailTypes","purposeNames","purp1","purp3","purp4","purp5","suggestedReasons","cookieNames","milkNames","token","dists","eduLvls","types","schYears","salesPurps","instance","axios","baseURL","headers","interceptors","use","req","accessToken","name","ca","decodeURIComponent","split","i","c","charAt","substring","indexOf","Cookies","url","includes","Promise","reject","synchronous","getAccounts","a","page","limit","column","direction","filters","concat","Api","get","getAccount","data","account","post","put","getPICs","paramString","queryString","stringify","list","setMilkExpiry","key","ttl","expiry","localStorage","setItem","JSON","getMilkExpiry","itemStr","getItem","removeItem","setMilk","getMilk","makeSour","keys","AppContext","createContext","useApp","useContext","useAppProvider","userInfo","setUserInfo","Milk","setDists","schEduLvls","setSchEduLvls","schTypes","setSchTypes","schStatus","setSchStatus","setRoles","setSchYears","setSalesPurps","FiltersServices","catch","log","AppProvider","app","Provider","USERNAME_RGX","PWD_RGX","PHONE_RGX","TEL_RGX","AccountReducer","action","listFilters","Actions","isActive","role","AccountContext","useAccount","defaultFilters","AccountProvider","useReducer","dispatchParams","setPage","setLimit","setColumn","setDirection","setIsActive","setRole","setTestState","workingStatuses","setFilter","useAccountProvider","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","storage","clientSchema","yup","shape","trim","min","max","serverSchema","MenuProps","PaperProps","transformOrigin","getContentAnchorEl","menuItemRoot","menuItemSelected","formControl","CreateAccountForm","refreshPage","operations","fields","messages","styles","enqueueSnackbar","useSnackbar","bakRoles","history","useHistory","address","setAddress","latitude","longitude","defaultValues","roleName","String","useForm","resolver","yupResolver","control","handleSubmit","errors","setError","formState","reset","DialogContent","dialogCont","noValidate","sm","md","lg","render","autoFocus","InputLabel","RadioGroup","row","FormControlLabel","Radio","utils","DateFnsUtils","rest","allowKeyboardControl","disableFuture","FormControl","Select","disableUnderline","MenuItem","selected","DialogActions","dialogAct","btnSave","disabled","isDirty","model","AccountsServices","res","user","resolve","FirebaseApp","database","child","push","avatar","actor","content","timestamp","uid","isSeen","pathname","state","DialogTitleWithIconClose","withStyles","closeButton","right","grey","other","DialogTitle","disableTypography","IconButton","CreateAccount","Dialog","columns","sortable","acctConsts","back","tab1","notFound","filter","workingStatus","all","inactive","details","ITEM_HEIGHT","minWidth","flexBox","flexItem","btn","MuiAccordion","marginBottom","borderBottom","expanded","Accordion","MuiAccordionSummary","minHeight","paddingButtom","AccordionSummary","MuiAccordionDetails","AccordionDetails","Filters","openCreateDialog","setOpenCreateDialog","expandIcon","iconFilter","listChips","generateChipsArray","removedFilter","selectedIsActive","selectedRole","MenuOptions","menuItems","useRouteMatch","anchorEl","setAnchorEl","stateData","pathName","currentTarget","Menu","keepMounted","component","Link","to","ListItemIcon","itemIcon","ListItemText","itemText","TablePaginationActions","useTheme","rowsPerPage","totalPage","onChangePage","paging","ceil","SortableTableHeaders","onRequestSort","MuiTableSortLabel","TableSortLabel","TableHead","TableRow","tHead","col","TableCell","tHeadCell","sortDirection","align","createSortHandler","Tables","rows","totalRecord","handleChangePage","newPage","setRoleChipColor","purpose","chipAdmin","chipManager","chipSupervisor","chipSalesman","TableContainer","Table","table","stickyHeader","TableBody","tBody","tBodyRow","tableCell","tCellInactiveAccount","tBodyCell","highlightClassName","searchWords","autoEscape","textToHighlight","ListItem","listItemInactive","listItem","ListItemAvatar","picAvatarInactive","Avatar","picNameInactive","picName","primary","noRecord","colSpan","TablePagination","rowsPerPageOptions","SelectProps","native","onChangeRowsPerPage","parseInt","ActionsComponent","Accounts","setData","isMounted","panel","totalElements","useToggle","initialValue","path","userMenuItems","AuthContext","useAuth","AuthProvider","auth","setUser","verifyCode","setVerifyCode","useAuthProvider","ReportReducer","PIC","district","schoolYear","result","dateRange","ReportContext","useReport","ReportProvider","report","setPIC","setDistrict","setSchoolYear","setPurpose","setDateRange","setResult","PICs","setPICs","getListPICs","reportResults","useReportProvider","SchoolReducer","level","SchoolContext","useSchool","SchoolProvider","school","schoolType","setSchoolType","schoolLevel","setSchoolLevel","schoolStatus","setSchoolStatus","useSchoolProvider","TaskReducer","isAssigned","taskStatus","getTasks","picUsername","getTask","taskId","schoolId","task","patch","delete","getSchoolsForTasks","listTasks","listSchoolId","tasklId","createServices","service","getListManagers","TaskContext","useTask","useTaskProvider","setIsAssigned","setTaskStatus","serviceTypes","setServiceTypes","taskStatuses","getServiceTypes","assignedStatuses","TaskProvider","ServiceReducer","serviceStatus","serviceType","isExpired","getServices","serviceId","rejectReason","ServiceContext","useService","useServiceProvider","setServiceStatus","setServiceType","setIsExpired","expiredStatuses","serviceStatuses","ServiceProvider","KPIReducer","getKPIGroups","groupId","kpiId","getMyKPIGroups","kpiDetailId","kpiDetail","getKPICriteria","KPIContext","useKPI","KPIProvider","kpi","setStatus","kpiStatuses","criteria","setCriteria","useKPIProvider","defaultRoutes","ADMIN","route","SALESMAN","roleRoutes","UserMenu","setAccountFilter","setReportFilter","setSchoolFilter","setTaskFilter","userMenu","setUserMenu","userMenuClose","handleLogout","clear","FilterTypes","pop","Popover","Boolean","paper","items","menuIcon","Notify","notiList","next","onUpdate","isNotifMenuOpen","notifAnchorEl","handleNotifMenuClose","useCallback","setNotifAnchorEl","notiState","setNotiState","noti","handleNotiClicked","notiItem","Card","notiCard","borderLeft","CardHeader","subheader","CardContent","notiContent","typo","notSeenTypo","StyledBadge","badge","Badge","AppLayouts","useLocation","dashboards","accounts","tasks","workPlans","schools","reports","services","kpis","getMenuItems","setNotiList","setBadge","matchMedia","setOpen","selectedIndex","setSelectedIndex","getTitle","string","toUpperCase","slice","sort","b","nameA","nameB","orderByChild","limitToLast","on","snapshot","notis","val","UserServices","handleNotifMenuOpen","renderNotifMenu","update","endBefore","notiss","AppBar","clsx","appBar","appBarShift","Toolbar","toolbar","edge","menuBtn","grow","badgeContent","Drawer","anchor","drawerPaper","drawerPaperClose","drawerHeader","majorImg","List","menuItem","handleSelectedItem","menuText","drawerFooter","chevron","contentShift","appBarSpacer","exact","Profiles","from","indicator","textColorInherit","DetailLayouts","linkBack","checkAvatar","header","subHeader","isStatus","tabs","tabValue","handleChangeTab","topBg","nav","goBack","headerInfo","infoAvatar","avatarTxt","infoBasic","basicMain","getChipsByStatus","basicSub","body","Tabs","scrollButtons","tab","Tab","toolbarTitle","GenInfo","onSubmit","passwordHash","Switch","checked","submit","Account","linkNames","tabNames","setTabValue","useParams","setAccount","exist","setExist","serviceBarChart","ds","sl","getDashboards","GaugeCharts","kpiPoints","kpiName","values","series","chart","plotOptions","radialBar","offsetX","offsetY","hollow","dataLabels","show","labels","colors","seriesIndex","w","Legends","flex","textColor","fillColor","weight","fillOpacity","Maps","geojson","Map","zoom","center","valueProperty","feature","properties","localname","steps","mode","onEachFeature","country","layer","total","setStyle","bindPopup","openPopup","MapCharts","districts","setDistricts","data4Blocks","setData4Blocks","Accept","api","file","promise","fetchProfileData","json","features","test","dist","totalSchool","convert","reverse","PieCharts","dropShadow","enabled","left","blur","stroke","pie","donut","showAlways","legend","fill","states","hover","whiteSpace","responsive","breakpoint","RadarCharts","actualValues","targetValues","averageValues","radar","polygons","strokeColors","markers","tooltip","y","formatter","parseFloat","toFixed","xaxis","categories","background","foreColor","borderWidth","borderColor","SimpleColumnCharts","xAxis","yAxis","bar","axisBorder","axisTicks","crosshairs","gradient","colorFrom","colorTo","stops","opacityFrom","opacityTo","yaxis","floating","StackColumnCharts","years","labelFormatter","abs","stacked","txtFullName","txtUsername","CardRanks","getRankMedal","rank","medalIcon","MedalIcons","shortenCurrencyValue","Divider","salesman","btnToggles","main","Dashboards","toggleButtonOptions","bakschYears","data4ServiceColumn","setData4ServiceColumn","data4CustomerPie","setData4CustomerPie","data4Ranking","setData4Ranking","DashboardsServices","setYears","getData4ServiceColumn","pieLabels","setPieLabels","getData4CustomerPie","getData4Ranking","viewServiceBy","setViewServiceBy","viewCustomerBy","setViewCustomerBy","viewRankingBy","setViewRankingBy","dataBlockSales","isIncreased","changes","dataBlockServices","dataBlockCustomers","thisSchoolYear","subtitle","present","previous","trend","prepareDataFor3Blocks","blockSales","elevation","box1Block1","avaBlock1","iconBlock1","titleBlock1","subtitleBlock1","subtitle1Block1","subtitle2Block1","changesUpBlock1","changesDownBlock1","content1Block1","previousBlock1","presentBlock1","blockSevices","box1Block2","avaBlock2","iconBlock2","titleBlock2","subtitleBlock2","subtitle1Block2","subtitle2Block2","changesUpBlock2","changesDownBlock2","content1Block2","previousBlock2","presentBlock2","blockCustomers","box1Block3","avaBlock3","iconBlock3","titleBlock3","subtitleBlock3","subtitle1Block3","subtitle2Block3","changesUpBlock3","changesDownBlock3","content1Block3","previousBlock3","presentBlock3","rowt","panelServices","toggleOptions","txtViewBy","ToggleButtonGroup","exclusive","ToggleButton","panelCustomers","rowy","rowx","panelMap","mapPanel","panelRanking","code","link","des","getError","Errors","defaultError","Animation","usr","pwd","password","Logins","register","clearErrors","bg","leftSection","Paper","logo","MajorLogo","rightSection","form","LoginsServices","credential","inputRef","forgetPwd","VerifyRoute","Component","isVerified","msg1","msg2","msg3","newPwd","confirmPwd","ResetLink","msg","ForgotPwdServices","login","VerifyCode","privateToken","oneOf","PwdReset","prompts","alertUser","returnValue","addEventListener","removeEventListener","replace","isSubmitting","ForgotPwdLayout","updateGeneral","newPassword","oldPassword","child2","logout","empty","defaultValue","old","new","confirm","dob","CardHeaders","ContentCards","detail","cardText","titles","detailZone","configElement","confirmPassword","pwdSchema","notOneOf","emailSchema","phoneSchema","addrSchema","setExpanded","addrValues","pwdSubmit","pwdErrors","pwdRegister","pwdReset","setPwdError","pwdState","emailSubmit","emailErrors","emailRegister","emailReset","emailState","phoneSubmit","phoneErrors","phoneRegister","phoneReset","phoneState","addrSubmit","addrErrors","addrReset","addrState","addrControl","ProfilesServices","handleUploadAvatar","files","resizeFile","Resizer","imageFileResizer","uri","finalFile","uploadAvatarToFirebase","saveAvatarToDb","getDownloadURL","attribute","handleChange","isExpanded","infoContent","inputAvatar","accept","htmlFor","uploadBtn","infoName","about","cardContent","accor","accorSum","detailsAccor","InputProps","accorDetails","inputZone","inputField","AccordionActions","accorActions","saveBtn","cancelBtn","me","rpConsts","tab2","pic","titleFrom","titleTo","failed","DateRangePickers","handleDateRangeChange","LocalizationProvider","dateAdapter","DateFnsAdapter","picker","startText","endText","allowSameDateSelection","showToolbar","minDate","inputFormat","newRange","newDate","startProps","endProps","comment","cannot","remove","ok","isSuccess","positivity","difficulty","futurePlan","IS_SUCCESS","DESCRIPTION","POSITIVITY","DIFFICULTY","FUTURE_PLAN","getReports","reportId","newReports","array","attributeName","attributeValue","hasOwnProperty","arguments","splice","CreateReportsForm","refreshAPI","typingTimeoutRef","defaultTask","note","noteBy","reprEmail","reprIsMale","reprName","reprPhone","schoolAddress","schoolName","userEmail","userPhone","defaultFormValue","setTask","setTasks","formValue","setFormValue","getListTasks","ReportsServices","onSearchTaskChange","listReports","setListReports","removeReport","ArrayUtils","resetForm","handleFormChange","handleShowClickedRow","foundTask","searchTasksSchoolById","aTask","handleCloseDialog","re","autoSelect","clearOnEscape","itemTextPrimary","itemTextSecondary","newTask","handleTaskChange","labelId","multiline","str","CreateReports","dialog","itemPIC","paddingTop","setTaskId","bakDists","bakSchYears","bakSalesPurps","onSearchPICChange","searchPIC","handlePICChange","newPIC","handleDistrictChange","selectedDistrict","handleSchoolYearChange","selectedSchoolYear","handlePurposeChange","selectedPurpose","handleResultChange","selectedResult","selectedDate","fromDate","toDate","handleSearch","newListFilters","Object","purp","year","startAdornment","InputAdornment","ConfirmRemove","handleRemove","DialogContentText","dialogText","educationalLevel","btnRemove","CannotRemove","commentedPerson","disableElevation","openConfirmDialog","setOpenConfirmDialog","handleCloseMenus","handleOpenConfirmation","contextComments","renderMenus","itemTextLarge","itemTextMedium","itemTextSmall","setPurposeChipColor","chipSalesMoi","chipChamSoc","chipTaiKy","chipKyMoi","rpDaGap","rpChuaGap","Reports","getAllReports","child3","rs","pos","diffic","futPl","cmt","hasCmt","noCmt","rpSchema","cmtSchema","RepInfo","rpValues","cmtValues","rpControl","rpErrors","rpSubmit","rpState","rpReset","cmtControl","cmtErrors","cmtSubmit","cmtState","cmtReset","chipSuccess","chipFailed","eduLvl","salesStatus","tel","schlYear","AssignInfo","taskDetail","setTaskDetail","assignDate","Report","setReport","ReportInfo","Salesman","getSchools","userRole","updateSchool","WithData","repName","repGender","repEmail","repPhone","isMaleValue","excludeEmptyString","CreateSchoolForm","bakSchEduLvls","bakSchTypes","bakSchStatus","showRep","repWatch","watch","addressErr","setAddressErr","validateAddress","tmp1","lastIndexOf","errText","FormLabel","Checkbox","SchoolsServices","CreateSchool","ImportFile","excel","contentText1","contentText2","fileFormat","linkText","contentLink","alertType","refFile","alertText","fileName","setFileName","setText","setLink","isDisableButton","setIsDisableButton","scroll","underline","href","customfileupload","inputFile","filePath","fileReader","FileReader","readAsArrayBuffer","onload","bufferArray","wb","XLSX","wsname","SheetNames","ws","Sheets","sheet_to_json","onerror","handleUploadFile","alert","AlertTitle","waring","schConsts","tab3","selectCreateOptions","import","openImportDialog","setOpenImportDialog","selectedSchoolType","selectedSchoolLevel","selectedSchoolStatus","setStatusChipColor","chipLead","chipCustomer","chipPotential","tCellSchoolName","tCellInactiveSchoolName","tCellInactive","p","hasTimeline","iconTimeline","Schools","no","actions","getColumns","Timelines","newUrl","timeline","setTimeline","getTimeline","Timeline","TimelineItem","TimelineOppositeContent","tlnLeft","tlnOpsContent","TimelineSeparator","TimelineDot","TimelineConnector","primaryTail","secondaryTail","TimelineContent","tlnRight","tabNo","linkCard","tlnContent","tlnContentSuccess","tlnContentFailed","tlnContentChild","picZone","picAvatar","rsSuccess","rsFailed","School","setSchool","getSubHeader","getTabNames","getTabs","width1","width2","taskConsts","assign","assigned","notAssigned","ongoing","unassign","confirmUnassign","updateStatus","confirmUpdate","confirmCreateTask","confirmCompleteTask","confirmFailTask","yes","showCreate","complete","fail","createdInfo","createdSuccess","createdError","createdwarning","updatedInfo","updatedSuccess","updatedError","updatedwarning","isPotential","none","tittle","classNo","adornment","studentNumber","slotNumber","price","revenue","formula","columnsTableAssign","currencyFormatter","Intl","NumberFormat","currency","getCriteriaInfo","criInfoPanel","txtCriInfoHeader","txtCriInfo","textAlign","border","schoolYearSubTitle","StyleChip","expand","transform","shortest","expandOpen","SuggestionQuickView","setSelectedSalesman","expandBarem","setExpandBarem","reasons","expContents","getSuggestedReasons","iconDes","numberOfTask","distance","chipContainer","chipReason","CardActions","disableSpacing","Collapse","in","timeout","unmountOnExit","divItemPIC","itemTextPrimary2","AssignForm","setRows","openAlert","setOpenAlert","anchorElQuickViewPopover","setAnchorElQuickViewPopover","clickedSalesman","setClickedSalesman","anchorElNotePopover","setAnchorElNotePopover","rowsState","setRowsState","object","setObject","listSuggestions","setListSuggestions","getSuggestions","suggestSalesmen","schoolIds","getSchoolIds","getShortName","join","suggestionContainer","suggestionTitle","cardContainer","cardCover","handleOpenQuickViewPopover","quickCard","CardMedia","quickCardAvatar","image","dense","listItemText","subInfo","starPoint","Rating","readOnly","point","distancePoint","iconLocation","alertContainer","noSalesman","handleOpenNotePopover","invisible","newSelected","handleOnRemove","findIndex","obj","assignMulti","Assign","TaskFormReducer","TaskFormContext","useTaskForm","TaskFormProvider","taskForm","checkedPotential","setCheckedPotential","resetFormFilters","useTaskFormProvider","previewColumns","NotifyDialog","formControlCheckbox","openNotiDialog","setOpenNotiDialog","filtersZone","btnAdd","labelPlacement","numSelected","rowCount","onSelectAllClick","indeterminate","selectedRows","setSelectedRows","isSelected","newSelecteds","handleClick","getPurpsByStatus","purps","CreatePreviewDialogForm","purpsByStatus","disablePast","disableToolbar","handleDeadlineChange","createTasks","CreateDialogReview","LeftSide","tabIndex","setTabIndex","tabLabel","setTabLabel","newTabIndex","selectedStatus","Transition","Slide","CreateTasks","refreshTaskPage","formParams","pageParams","getListSchools","handleCloseCreateDialog","fullScreen","TransitionComponent","formControl1","formControl2","startLabel","endLabel","isFilter","setDuration","newDuration","openNotifyDialog","setOpenNotifyDialog","openAssignDialog","setOpenAssignDialog","NotifyAssign","selectedTaskStatus","selectedIsAssigned","removeTask","ConfirmUnassign","btnOK","MAX_PRICE","suggestPrice","inputPrice","setPriceSuggestions","suggestOptions","firstThreeDigits","firstFourDigits","firstDigit","classNumber","integer","pricePerSlot","CreateServicesForm","listManagers","setListManagers","openInfoTooltip","setOpenInfoTooltip","priceSuggestions","getValues","TasksServices","customServiceTypes","customiseServiceList","ClickAwayListener","onClickAway","interactive","disableFocusListener","disableHoverListener","iconInfo","setFullYear","endAdornment","customInput","OutlinedInput","isNumericString","thousandSeparator","decimalSeparator","onValueChange","floatValue","FormHelperText","normal","suggestion","suggestions","arrow","txtRevenue","submitDate","ServicesForm","openAssign","setOpenAssign","openUnassign","setOpenUnassign","openServices","setOpenServices","renderAssignedDialog","CreateServices","purposes","setTaskStatusChipColor","chipOnGoing","tBodyCellDuration","Tasks","onGetTasks","child4","hasNote","noNote","reprSchema","SchoolInfo","reprValues","statusValues","reprControl","reprErrors","reprSubmit","reprState","reprReset","statusReset","ServicesInfo","restriction","purpWarning","UpdateSchStatus","txtNumber","ConfirmTaskFail","btnYes","incompleteTasks","ConfirmTaskComplete","completeTasks","currPurp","openConfirmCompleteDialog","setOpenConfirmCompleteDialog","openConfirmCompleteDialog2","setOpenConfirmCompleteDialog2","openConfirmFailDialog","setOpenConfirmFailDialog","isMatch","find","generateTaskStatusChip","btnChangeTaskStatus","order","btnComplete","listServices","buttonName","countPendingServices","renderButtonName","btnFail","handleMarkComplete","handleMarkFail","fontStyle","renderServiceCountMessage","pending","approvedOn","rejectedOn","submitOn","setServiceStatusChipColor","chipApproved","chipRejected","chipPending","renderTimelineReport","reportDescription","purp2","chipTheoDoi","tlnServiceAppproved","tlnServiceRejected","ternary","approvedDate","Task","renderChips","detailPageConsts","expiredStatus","expired","valid","bakSchoolYears","selectedServiceType","selectedServiceStatus","selectedExpiredStatus","educationLevel","Services","approve","submitedDate","submitedBy","rejectedReason","noReason","yupSchema","RejectService","rejectServices","btnReject","ConfirmApprove","btnApprove","approveServices","serviceSchema","customWidth","ServiceInfo","openRejectDialog","setOpenRejectDialog","openApproveDialog","setOpenApproveDialog","standardValue","getCriteria","checkCriteria","getTooltipTitle","formValues","priceFloor","slotNo","studentNo","time","tooltipRightInfo","calculateEstimateSales","Number","updateService","cri","CrosskMark","txtEstimate","Service","setService","getService","disable","salesmanKPI","onCloseCreateDialog","KPI","kpiData","groupName","myKPIs","aKPI","kpiDetails","myKPIDetails","aKpiDetail","criteriaId","actualValue","targetValue","constructKPIObject","createKPIGroup","Step1","setKPI","listCriFromDB","setListCriFromDB","justifyItems","multiple","disableCloseOnSelect","getOptionSelected","checkedIcon","listCriteria","myCriteria","Step2","setMyCriteria","calculateSuggestedWeight","tBodyCellTextField","txtTargetValue","handleTargetValueChange","txtWeight","handleWeightChange","Step3","users","listKPIs","setListKPIs","setStartDate","setEndDate","salesmen","setSalesmen","staffs","setStaffs","checkAll","setCheckAll","getSalesmen","getAllSalesmen","totalSize","generateListKPIs","listStaffs","arrKPIs","objKPI","staff","inputVariant","handleStartDateChange","handleEndDateChange","limitTags","checkedSalesmen","selectedSalesmen","renderTags","getTagProps","avaGroup","isChecked","AvatarGroup","rowSpan","tSubHeadCell","rowIndex","criIndex","newListKPIs","editingRow","editingListCriteria","backButton","completedStep","CreateKPISheet","defaultKPI","activeStep","setActiveStep","handleNext","prevActiveStep","Stepper","Step","StepLabel","StepIconProps","completed","step","getStepContent","ConfirmSave","ConfirmDisable","kpiGroupId","kpiGroupName","btnDisable","disableKPIGroup","renderDisableDialog","KPIs","getSalesmanKPIGroup","customHeight","SalesmanKPIs","kpiInfo","setKpiDetails","autoKPIs","manualKPIs","dataForChart","setDataForChart","getKpiDetails","getKPIDetails","cirteriaContent","prepareDataForChart","getSalesmanRank","boxTitle","salesmanName","KPIsZone","kpiPoint","cardKPIs","criName","boxIcon","txtRank","rankName","divider","currentKPIPoint","cloneKPIs","kpiValues","noDivider","models","updateKPIManual","KPIInfo","openSalesmanKPIDialog","setOpenSalesmanKPIDialog","setKpiInfo","bigArray","chunkSize","newArray","chunkArray","today","getChartTitle","autoPlay","subListCriteria","cardCriteria","gutterBottom","descrption","listSalesmen","cardSalesman","handleViewSalesmanKPI","indexSalesman1","indexSalesman2","criWeight","SalesmanKPIInfo","dataForRadarChart","setDataForRadarChart","prepareDataForRadarChart","gaugeChartCard","borderRight","getKPIGroup","getSalesmanKPIDetails","getMyKPIDetail","fade","common","black","L10n","load","schedule","newEvent","editEvent","deleteEvent","deleteMultipleEvent","sameDayAlert","editRecurrence","edit","Schedule","setUsername","setKey","startTime","setStartTime","tree","localDate","dataSource","subject","default","endTime","remark","isCompleted","isAllDay","recurrenceException","recurrenceRule","recurrenceID","handleInputChange","listPICs","handleOnSearchFieldChange","handleSearchNameChange","currentView","readonly","isEdit","popupClose","element","resizeStart","cssClass","actionBegin","requestType","handleRequestType","dateFormat","allowResizing","timezone","drag","eventRendered","navigating","previousDate","currentDate","handleChangeView","popupOpen","args","textContent","innerHTML","noButton","formElement","firstChild","insertBefore","inputEle","Input","createInput","floatLabelType","row2","container2","inputEle2","CheckBox","appendTo","eventSettings","showWeekNumber","Day","Week","Month","DragAndDrop","Resize","treeviewContainer","allowDragAndDrop","nodeDragStop","closest","treeviewData","classList","contains","filteredData","draggedNodeData","cellData","getCellDetails","eventData","allDay","openEditor","nodeDragging","isAdaptive","classElement","addClass","cursor","dragElementIcon","querySelectorAll","noteView","statusContainer","statusNote","colorComplete","colorFail","colorPending","updateSave","occurrenceObj","recurrenceId","removeUpdate","callAPI","callAPITree","WorkPlans","setTree","setListPICs","listPCIs","addedRecords","formatISO9075","WorkPlansServices","occurrence","parent","utc","recurrenceExp","recurrence","changedRecords","filter2","representation","callAPISave","callAPIRemoveUpdate","callAPIRemove","callAPIUpdateSave","callAPIUpdate","PublicRoute","restricted","isAuthenticated","PrivateRoute","snackbarIcon","optBtn","App","notistackRef","createRef","onClickDismiss","closeSnackbar","maxSnack","iconVariant","ForgotPwd","createMuiTheme","light","dark","overrides","MuiCssBaseline","MuiListItem","ReactDOM","ThemeProvider","CssBaseline","getElementById"],"mappings":"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","file":"static/js/main.4c615bb6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Step2_wrapper__11LsY\",\"child\":\"Step2_child__1azaX\",\"container\":\"Step2_container__2tbbu\",\"table\":\"Step2_table__2fsR_\",\"tHead\":\"Step2_tHead__3B5SM\",\"tHeadCell\":\"Step2_tHeadCell__1l-rQ\",\"tBody\":\"Step2_tBody__2GZoL\",\"tBodyRow\":\"Step2_tBodyRow__2iTQy\",\"tBodyCell\":\"Step2_tBodyCell__P4nkk\",\"txtTargetValue\":\"Step2_txtTargetValue__1fXZl\",\"txtWeight\":\"Step2_txtWeight__1XT8a\",\"tBodyCellTextField\":\"Step2_tBodyCellTextField__2sZ30\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paper\":\"CardRanks_paper__2tKnY\",\"header\":\"CardRanks_header__3XwkX\",\"title\":\"CardRanks_title__1OCmf\",\"table\":\"CardRanks_table__1dol9\",\"tBody\":\"CardRanks_tBody__1vvvJ\",\"tBodyRow\":\"CardRanks_tBodyRow__2FrFK\",\"tBodyCell\":\"CardRanks_tBodyCell__3rIJo\",\"listItem\":\"CardRanks_listItem__1SQrW\",\"picName\":\"CardRanks_picName__3K0yM\",\"medalIcon\":\"CardRanks_medalIcon__NMFdq\",\"avatar\":\"CardRanks_avatar__Wa-fo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"RepInfo_panel__17i5j\",\"action\":\"RepInfo_action__1rTlA\",\"submit\":\"RepInfo_submit__3aMij\",\"content\":\"RepInfo_content__2nDEN\",\"wrapper\":\"RepInfo_wrapper__2bLuz\",\"row\":\"RepInfo_row__hqKFp\",\"rowx\":\"RepInfo_rowx__1hTbf\",\"rowy\":\"RepInfo_rowy__1C9Di\",\"header\":\"RepInfo_header__1ppwq\",\"title\":\"RepInfo_title__ZpVra\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"SuggestionQuickView_wrapper__3HMew\",\"container\":\"SuggestionQuickView_container__3mBvL\",\"btnSave\":\"SuggestionQuickView_btnSave__1AvCb\",\"icon\":\"SuggestionQuickView_icon__2CvdX\",\"popover\":\"SuggestionQuickView_popover__3f2mW\",\"tBodyRow\":\"SuggestionQuickView_tBodyRow__3xMux\",\"iconDes\":\"SuggestionQuickView_iconDes__12feD\",\"chipContainer\":\"SuggestionQuickView_chipContainer__1ZQqt\",\"chipReason\":\"SuggestionQuickView_chipReason__2rMfc\",\"txtCriInfoHeader\":\"SuggestionQuickView_txtCriInfoHeader__oe1iZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"KPIInfo_panel__6tjx4\",\"action\":\"KPIInfo_action__TiQQK\",\"btnApprove\":\"KPIInfo_btnApprove__1I2Vb\",\"btnReject\":\"KPIInfo_btnReject__HFM3k\",\"content\":\"KPIInfo_content__3-WTs\",\"wrapper\":\"KPIInfo_wrapper__1TELD\",\"row\":\"KPIInfo_row__2Xq1T\",\"rowx\":\"KPIInfo_rowx__Gb6wz\",\"rowy\":\"KPIInfo_rowy__1U5Rm\",\"header\":\"KPIInfo_header__3Ydv-\",\"title\":\"KPIInfo_title__3TMLY\",\"picName\":\"KPIInfo_picName__3WKEE\",\"icon\":\"KPIInfo_icon__2K6Tv\",\"iconInfo\":\"KPIInfo_iconInfo__zSK_F\",\"tooltipRightInfo\":\"KPIInfo_tooltipRightInfo__1SeOh\",\"txtEstimate\":\"KPIInfo_txtEstimate__2A3Xj\",\"txtRevenue\":\"KPIInfo_txtRevenue__88IOz\",\"criInfoPanel\":\"KPIInfo_criInfoPanel__PxlG7\",\"txtCriInfo\":\"KPIInfo_txtCriInfo__3KZut\",\"txtCriInfoHeader\":\"KPIInfo_txtCriInfoHeader__PZf_h\",\"tBodyCell\":\"KPIInfo_tBodyCell__3_GAi\",\"chipPending\":\"KPIInfo_chipPending__3RK9c\",\"chipApproved\":\"KPIInfo_chipApproved__3vpNI\",\"chipRejected\":\"KPIInfo_chipRejected__282g2\",\"notFound\":\"KPIInfo_notFound__8qF3G\",\"cardCriteria\":\"KPIInfo_cardCriteria__2Cvo5\",\"cardSalesman\":\"KPIInfo_cardSalesman__EcPc6\",\"criName\":\"KPIInfo_criName__2L4Bd\",\"salesmanName\":\"KPIInfo_salesmanName__2jZU0\",\"criWeight\":\"KPIInfo_criWeight__1VFfI\",\"listSalesmen\":\"KPIInfo_listSalesmen__27msZ\",\"indexSalesman1\":\"KPIInfo_indexSalesman1__18Hgc\",\"indexSalesman2\":\"KPIInfo_indexSalesman2__2rCED\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"treeviewContainer\":\"WorkPlans_treeviewContainer__2IDaM\",\"noteView\":\"WorkPlans_noteView__3ClCB\",\"statusContainer\":\"WorkPlans_statusContainer__2-__e\",\"statusNote\":\"WorkPlans_statusNote__3XZ_H\",\"colorComplete\":\"WorkPlans_colorComplete__Ysm7w\",\"colorFail\":\"WorkPlans_colorFail__3xKFS\",\"colorPending\":\"WorkPlans_colorPending__PBh6H\",\"status\":\"WorkPlans_status__1Hb12\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bg\":\"Logins_bg__2ekHF\",\"wrapper\":\"Logins_wrapper__2h6wh\",\"header\":\"Logins_header__Fw9jp\",\"avatar\":\"Logins_avatar__3UXf0\",\"logo\":\"Logins_logo__3c-CT\",\"majorImg\":\"Logins_majorImg__I6bYI\",\"submit\":\"Logins_submit__1m3Qc\",\"forgetPwd\":\"Logins_forgetPwd__1TACu\",\"leftSection\":\"Logins_leftSection__mlJWM\",\"rightSection\":\"Logins_rightSection__2exHw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"titles\":\"ContentAccordions_titles__3bqpY\",\"details\":\"ContentAccordions_details__Py2gr\",\"detailsAccor\":\"ContentAccordions_detailsAccor__3HdcV\",\"inputZone\":\"ContentAccordions_inputZone__29Nry\",\"inputField\":\"ContentAccordions_inputField__32Rnv\",\"saveBtn\":\"ContentAccordions_saveBtn__37O1W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemIcon\":\"MenuOptions_itemIcon__3guZR\",\"itemText\":\"MenuOptions_itemText__FoOLa\",\"dialogText\":\"MenuOptions_dialogText__2vjRT\",\"btnRemove\":\"MenuOptions_btnRemove__aKk8r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogCont\":\"CreateServices_dialogCont__Qqd-B\",\"dialogAct\":\"CreateServices_dialogAct__2IDQb\",\"btnSave\":\"CreateServices_btnSave__12RFg\",\"helper\":\"CreateServices_helper__2rear\",\"suggestions\":\"CreateServices_suggestions__3-_hN\",\"txtEstimate\":\"CreateServices_txtEstimate__3U9i2\",\"txtRevenue\":\"CreateServices_txtRevenue__5Pl4I\",\"iconInfo\":\"CreateServices_iconInfo__ICT5Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"UserMenu_user__8qB1a\",\"info\":\"UserMenu_info__2xIDu\",\"name\":\"UserMenu_name__MlcMy\",\"role\":\"UserMenu_role__2qL0V\",\"avatar\":\"UserMenu_avatar__3oieX\",\"menuIcon\":\"UserMenu_menuIcon__-NOOo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"LeftSide_root__227AY\",\"container\":\"LeftSide_container__cYwon\",\"content\":\"LeftSide_content__2fBrk\",\"header\":\"LeftSide_header__290j1\",\"nav\":\"LeftSide_nav__1N4s6\",\"icon\":\"LeftSide_icon__2u60R\",\"text\":\"LeftSide_text__NgvYV\",\"headerInfo\":\"LeftSide_headerInfo__1Ex0V\",\"infoAvatar\":\"LeftSide_infoAvatar__Dv5Fs\",\"infoBasic\":\"LeftSide_infoBasic__1XsYb\",\"basicMain\":\"LeftSide_basicMain__3vtTV\",\"basicSub\":\"LeftSide_basicSub__3-ZMo\",\"activeSub\":\"LeftSide_activeSub__38Jvp\",\"inactiveSub\":\"LeftSide_inactiveSub__1N2Nc\",\"body\":\"LeftSide_body__1kJZI\",\"wrapper\":\"LeftSide_wrapper__3qyEv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"ServiceInfo_panel__1jm_H\",\"action\":\"ServiceInfo_action__2XqTL\",\"btnApprove\":\"ServiceInfo_btnApprove__1mell\",\"btnReject\":\"ServiceInfo_btnReject__fJdzI\",\"content\":\"ServiceInfo_content__3EGyz\",\"wrapper\":\"ServiceInfo_wrapper__bahSV\",\"row\":\"ServiceInfo_row__1BrlQ\",\"rowx\":\"ServiceInfo_rowx__1FkKG\",\"rowy\":\"ServiceInfo_rowy__8hLrj\",\"header\":\"ServiceInfo_header__3pteU\",\"title\":\"ServiceInfo_title__3lyTW\",\"picName\":\"ServiceInfo_picName__2B8eX\",\"icon\":\"ServiceInfo_icon__3_SrP\",\"iconInfo\":\"ServiceInfo_iconInfo__tG8D6\",\"tooltipRightInfo\":\"ServiceInfo_tooltipRightInfo__1J9B9\",\"txtEstimate\":\"ServiceInfo_txtEstimate__2d2sn\",\"txtRevenue\":\"ServiceInfo_txtRevenue__2xw4i\",\"criInfoPanel\":\"ServiceInfo_criInfoPanel__1JKqR\",\"txtCriInfo\":\"ServiceInfo_txtCriInfo___AChj\",\"txtCriInfoHeader\":\"ServiceInfo_txtCriInfoHeader__3Frva\",\"tBodyCell\":\"ServiceInfo_tBodyCell__YQGSm\",\"chipPending\":\"ServiceInfo_chipPending__1dstf\",\"chipApproved\":\"ServiceInfo_chipApproved__2Q3Oz\",\"chipRejected\":\"ServiceInfo_chipRejected__UY1M4\",\"notFound\":\"ServiceInfo_notFound__RT2A_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ResetLink_container__2UBtj\",\"header\":\"ResetLink_header__1gwNy\",\"avatar\":\"ResetLink_avatar__14BhS\",\"msg\":\"ResetLink_msg__2QvPR\",\"submit\":\"ResetLink_submit__3XKrS\",\"login\":\"ResetLink_login__2bw_T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"VerifyCode_container__3zr0T\",\"header\":\"VerifyCode_header__2jxu1\",\"avatar\":\"VerifyCode_avatar__CfJJ1\",\"msg\":\"VerifyCode_msg__1VliX\",\"submit\":\"VerifyCode_submit__2H-6S\",\"login\":\"VerifyCode_login__3ovCh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Errors_root__37YGT\",\"main\":\"Errors_main__3wRcy\",\"code\":\"Errors_code__2w7Cf\",\"message\":\"Errors_message__6i3Ya\",\"link\":\"Errors_link__1o8VR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardText\":\"ContentCards_cardText__3XmPx\",\"titles\":\"ContentCards_titles__VWELk\",\"detailZone\":\"ContentCards_detailZone__1B89f\",\"details\":\"ContentCards_details__1JzfZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemIcon\":\"MenuOptions_itemIcon__3bE4b\",\"itemText\":\"MenuOptions_itemText__BiyIZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"RejectService_row__2nC3i\",\"rowx\":\"RejectService_rowx__12-hO\",\"title\":\"RejectService_title__3ddyC\",\"dialogText\":\"RejectService_dialogText__IfMnT\",\"btnReject\":\"RejectService_btnReject__1__0D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notiCard\":\"Notify_notiCard__s85eg\",\"notiItem\":\"Notify_notiItem__3J2Yh\",\"content\":\"Notify_content__3aKf5\",\"notiContent\":\"Notify_notiContent__3nB1M\",\"typo\":\"Notify_typo__3jnHP\",\"notSeenTypo\":\"Notify_notSeenTypo__34Nlo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PwdReset_container__wDdfk\",\"header\":\"PwdReset_header__3U2c6\",\"avatar\":\"PwdReset_avatar__3xEqd\",\"msg\":\"PwdReset_msg__1tNPR\",\"submit\":\"PwdReset_submit__S7ECD\",\"login\":\"PwdReset_login__2jqPO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"customfileupload\":\"ImportFile_customfileupload__2yu4-\",\"alert\":\"ImportFile_alert__3fKQX\",\"btnSave\":\"ImportFile_btnSave__2Zv_i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"AssignInfo_panel__3llaW\",\"action\":\"AssignInfo_action__2WQcq\",\"submit\":\"AssignInfo_submit__2JbB-\",\"content\":\"AssignInfo_content__12Gvh\",\"wrapper\":\"AssignInfo_wrapper__2RdTd\",\"row\":\"AssignInfo_row__2fB39\",\"rowx\":\"AssignInfo_rowx__11Np7\",\"rowy\":\"AssignInfo_rowy__2RJn6\",\"header\":\"AssignInfo_header__3_3bY\",\"title\":\"AssignInfo_title__2CWkO\",\"genderZone\":\"AssignInfo_genderZone__19s7h\",\"gender\":\"AssignInfo_gender__219Ba\",\"user\":\"AssignInfo_user__3uP31\",\"info\":\"AssignInfo_info__1uFaR\",\"fullName\":\"AssignInfo_fullName__gRIVV\",\"username\":\"AssignInfo_username__3CU7n\",\"avatar\":\"AssignInfo_avatar__3-jfO\",\"notFound\":\"AssignInfo_notFound__2NLgI\",\"purpWarning\":\"AssignInfo_purpWarning__3xb6H\",\"chipSalesMoi\":\"AssignInfo_chipSalesMoi__1RelN\",\"chipTheoDoi\":\"AssignInfo_chipTheoDoi__1EgWl\",\"chipChamSoc\":\"AssignInfo_chipChamSoc__277c_\",\"chipTaiKy\":\"AssignInfo_chipTaiKy__mwRPP\",\"chipKyMoi\":\"AssignInfo_chipKyMoi__35osl\",\"chipOnGoing\":\"AssignInfo_chipOnGoing__2J0R8\",\"chipSuccess\":\"AssignInfo_chipSuccess__1NLPv\",\"chipFailed\":\"AssignInfo_chipFailed__2kCCY\",\"btnChangeTaskStatus\":\"AssignInfo_btnChangeTaskStatus__YfHEx\",\"btnComplete\":\"AssignInfo_btnComplete__6UuFF\",\"btnFail\":\"AssignInfo_btnFail__3C8ag\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"NotFound_root__d7z16\",\"imgContainer\":\"NotFound_imgContainer__2ex-0\",\"img\":\"NotFound_img__3Jt9P\",\"title\":\"NotFound_title__1JqGq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogCont\":\"CreateAccount_dialogCont__1HXUP\",\"dialogAct\":\"CreateAccount_dialogAct__t4t16\",\"btnSave\":\"CreateAccount_btnSave__3O1uz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogCont\":\"CreateSchool_dialogCont__ZNOtE\",\"dialogAct\":\"CreateSchool_dialogAct__NKF3p\",\"btnSave\":\"CreateSchool_btnSave__1zf2m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Step1_wrapper__1-NA9\",\"child\":\"Step1_child__1eb5A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemIcon\":\"MenuOptions_itemIcon__1mrLi\",\"itemText\":\"MenuOptions_itemText__1NFIy\",\"dialogText\":\"MenuOptions_dialogText__2Rf0Q\",\"btnRemove\":\"MenuOptions_btnRemove__1xrgY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"criName\":\"SalesmanKPIInfo_criName__2jtjV\",\"criWeight\":\"SalesmanKPIInfo_criWeight__2Uszi\",\"icon\":\"SalesmanKPIInfo_icon__3iCrm\",\"iconInfo\":\"SalesmanKPIInfo_iconInfo__2UUP5\",\"gaugeChartCard\":\"SalesmanKPIInfo_gaugeChartCard__pT5I9\",\"divider\":\"SalesmanKPIInfo_divider__Xlfrc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Profiles_wrapper__33w36\",\"infoContent\":\"Profiles_infoContent__2nqPi\",\"infoAvatar\":\"Profiles_infoAvatar__1CHPi\",\"avatar\":\"Profiles_avatar__1BX64\",\"avatarTxt\":\"Profiles_avatarTxt__2fs2N\",\"inputAvatar\":\"Profiles_inputAvatar__1CbRc\",\"uploadBtn\":\"Profiles_uploadBtn__3D3tm\",\"infoName\":\"Profiles_infoName__1iEBH\",\"about\":\"Profiles_about__2sg6M\",\"cardText\":\"Profiles_cardText__OD4fV\",\"titles\":\"Profiles_titles__3Ka-8\",\"detailZone\":\"Profiles_detailZone__32yq9\",\"details\":\"Profiles_details__2_Lyi\",\"detailsAccor\":\"Profiles_detailsAccor__3QRQu\",\"inputZone\":\"Profiles_inputZone__1NDww\",\"inputField\":\"Profiles_inputField__3LSfc\",\"actions\":\"Profiles_actions__1K6FC\",\"saveBtn\":\"Profiles_saveBtn__3MOyg\",\"account\":\"Profiles_account__1LlQt\",\"me\":\"Profiles_me__21Vxn\",\"nf\":\"Profiles_nf__dpyZo\",\"nfImgContainer\":\"Profiles_nfImgContainer__2uVFO\",\"nfImg\":\"Profiles_nfImg__2DzEu\",\"nfTitle\":\"Profiles_nfTitle__2wrzy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"SchoolInfo_panel__1rGoZ\",\"action\":\"SchoolInfo_action__SRpgV\",\"submit\":\"SchoolInfo_submit__2Brf-\",\"content\":\"SchoolInfo_content__3cJBQ\",\"wrapper\":\"SchoolInfo_wrapper__386wI\",\"row\":\"SchoolInfo_row__d3pH-\",\"rowx\":\"SchoolInfo_rowx__1qITL\",\"rowy\":\"SchoolInfo_rowy__3MJMn\",\"header\":\"SchoolInfo_header__-k2k7\",\"title\":\"SchoolInfo_title__HvAp1\",\"genderZone\":\"SchoolInfo_genderZone__21QVl\",\"gender\":\"SchoolInfo_gender__3hZdy\",\"statusCbZone\":\"SchoolInfo_statusCbZone__2J1X6\",\"statusTxtZone\":\"SchoolInfo_statusTxtZone__1LfKm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Loading_wrapper__2AI7M\",\"loadingTxt\":\"Loading_loadingTxt__140nu\",\"progress\":\"Loading_progress__rtewH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"Accounts_panel__1ktkY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"Salesmen_panel__3W9Wl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"Schools_panel__2hjwi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"Services_panel__jR5oK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"CreateKPISheet_wrapper__1cZuC\",\"container\":\"CreateKPISheet_container__30yEO\",\"table\":\"CreateKPISheet_table__3gK4I\",\"tHead\":\"CreateKPISheet_tHead__2ipKC\",\"tHeadCell\":\"CreateKPISheet_tHeadCell__hzNUc\",\"tBodyCell\":\"CreateKPISheet_tBodyCell__1aubW\",\"btnSave\":\"CreateKPISheet_btnSave__HVIag\",\"autoComplete\":\"CreateKPISheet_autoComplete__28e5e\",\"item\":\"CreateKPISheet_item__3rqoV\",\"itemTextPrimary\":\"CreateKPISheet_itemTextPrimary__1w_dD\",\"itemTextSecondary\":\"CreateKPISheet_itemTextSecondary__2VEmH\",\"title\":\"CreateKPISheet_title__3YgTn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"KPIs_panel__2v1Yx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Dashboards_wrapper__2HjIp\",\"root\":\"Dashboards_root__3_inh\",\"header\":\"Dashboards_header__3K4Nu\",\"body\":\"Dashboards_body__3pAt1\",\"row\":\"Dashboards_row__39aHv\",\"rowx\":\"Dashboards_rowx__2ElHw\",\"rowy\":\"Dashboards_rowy__1F6cg\",\"rowt\":\"Dashboards_rowt__2QTSG\",\"title\":\"Dashboards_title__Njco6\",\"block\":\"Dashboards_block__2hSRM\",\"blockSales\":\"Dashboards_blockSales__3mW9E\",\"blockSevices\":\"Dashboards_blockSevices__h13fZ\",\"blockCustomers\":\"Dashboards_blockCustomers__3YMlY\",\"box1Block1\":\"Dashboards_box1Block1__2NDVn\",\"avaBlock1\":\"Dashboards_avaBlock1__3uYOn\",\"iconBlock1\":\"Dashboards_iconBlock1__3OQw1\",\"titleBlock1\":\"Dashboards_titleBlock1__1fEv8\",\"subtitleBlock1\":\"Dashboards_subtitleBlock1__36krc\",\"subtitle1Block1\":\"Dashboards_subtitle1Block1__377IQ\",\"subtitle2Block1\":\"Dashboards_subtitle2Block1__3Fw5P\",\"previousBlock1\":\"Dashboards_previousBlock1__1v6IZ\",\"presentBlock1\":\"Dashboards_presentBlock1__3LKZO\",\"changesBlock1\":\"Dashboards_changesBlock1__1ZgsY\",\"changesUpBlock1\":\"Dashboards_changesUpBlock1__2kyu1\",\"changesDownBlock1\":\"Dashboards_changesDownBlock1__3b0xa\",\"box1Block2\":\"Dashboards_box1Block2__39XqV\",\"avaBlock2\":\"Dashboards_avaBlock2__2OsYU\",\"iconBlock2\":\"Dashboards_iconBlock2__38fuI\",\"titleBlock2\":\"Dashboards_titleBlock2__zmcEK\",\"subtitleBlock2\":\"Dashboards_subtitleBlock2__Gyu-0\",\"subtitle1Block2\":\"Dashboards_subtitle1Block2__3DEDN\",\"subtitle2Block2\":\"Dashboards_subtitle2Block2__-aMyq\",\"previousBlock2\":\"Dashboards_previousBlock2__3QqT7\",\"presentBlock2\":\"Dashboards_presentBlock2__3QQtS\",\"changesBlock2\":\"Dashboards_changesBlock2__1bKJj\",\"changesUpBlock2\":\"Dashboards_changesUpBlock2__24ufk\",\"changesDownBlock2\":\"Dashboards_changesDownBlock2__3muDp\",\"box1Block3\":\"Dashboards_box1Block3__y0FyT\",\"avaBlock3\":\"Dashboards_avaBlock3__1ms-_\",\"iconBlock3\":\"Dashboards_iconBlock3__tf02y\",\"titleBlock3\":\"Dashboards_titleBlock3__1NY5o\",\"subtitleBlock3\":\"Dashboards_subtitleBlock3__1AoIY\",\"subtitle1Block3\":\"Dashboards_subtitle1Block3__2ct7j\",\"subtitle2Block3\":\"Dashboards_subtitle2Block3__louI4\",\"previousBlock3\":\"Dashboards_previousBlock3__130XJ\",\"presentBlock3\":\"Dashboards_presentBlock3__3PPij\",\"changesBlock3\":\"Dashboards_changesBlock3__2kQxF\",\"changesUpBlock3\":\"Dashboards_changesUpBlock3__3Q714\",\"changesDownBlock3\":\"Dashboards_changesDownBlock3__2evY_\",\"panel1\":\"Dashboards_panel1__3Sfva\",\"panelServices\":\"Dashboards_panelServices__Iqn-x\",\"panelCustomers\":\"Dashboards_panelCustomers__2M5En\",\"toggleOptions\":\"Dashboards_toggleOptions__1jZCn\",\"txtViewBy\":\"Dashboards_txtViewBy__IlVh9\",\"panel2\":\"Dashboards_panel2__1tXL5\",\"panelMap\":\"Dashboards_panelMap__qY66U\",\"panelRanking\":\"Dashboards_panelRanking__26t_i\",\"mapPanel\":\"Dashboards_mapPanel__YqgMC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Filters_wrapper__QW_ps\",\"iconFilter\":\"Filters_iconFilter__2Wt0m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemIcon\":\"MenuOptions_itemIcon__2zbWp\",\"itemText\":\"MenuOptions_itemText__2I3pw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bg\":\"ForgotPwd_bg__2-mzZ\",\"wrapper\":\"ForgotPwd_wrapper__2Hr1h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Filters_wrapper__o8wZm\",\"iconFilter\":\"Filters_iconFilter__3MDNH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogText\":\"ConfirmRemove_dialogText__1FyHZ\",\"btnRemove\":\"ConfirmRemove_btnRemove__282lI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Filters_wrapper__X05vl\",\"iconFilter\":\"Filters_iconFilter__2dHTl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemIcon\":\"MenuOptions_itemIcon__1N1vU\",\"itemText\":\"MenuOptions_itemText__1R8u_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Filters_wrapper__21O6a\",\"iconFilter\":\"Filters_iconFilter__w_5lc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemIcon\":\"MenuOptions_itemIcon__bz-M_\",\"itemText\":\"MenuOptions_itemText__1BpkY\",\"dialogText\":\"MenuOptions_dialogText__duK7_\",\"btnRemove\":\"MenuOptions_btnRemove__1puRx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"CreateTasks_wrapper__Z682j\",\"btnSave\":\"CreateTasks_btnSave__1EtKf\",\"schoolYear\":\"CreateTasks_schoolYear__3VnQt\",\"iconFilter\":\"CreateTasks_iconFilter__2jfTU\",\"dialogText\":\"CreateTasks_dialogText__1-E41\",\"searchField\":\"CreateTasks_searchField__2IjYo\",\"btnDiv\":\"CreateTasks_btnDiv__1rOSF\",\"btnAdd\":\"CreateTasks_btnAdd__3EkXk\",\"filtersZone\":\"CreateTasks_filtersZone__1r1OO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"AssignInfo_panel__3fROe\",\"content\":\"AssignInfo_content__2kD7o\",\"wrapper\":\"AssignInfo_wrapper__3eaal\",\"row\":\"AssignInfo_row__1vIKJ\",\"rowx\":\"AssignInfo_rowx__2RetL\",\"rowy\":\"AssignInfo_rowy__1BItQ\",\"header\":\"AssignInfo_header__QPZ3k\",\"title\":\"AssignInfo_title__OxzsT\",\"genderZone\":\"AssignInfo_genderZone__2Didb\",\"gender\":\"AssignInfo_gender__17RUA\",\"user\":\"AssignInfo_user__jFWvs\",\"info\":\"AssignInfo_info__2tZ_J\",\"fullName\":\"AssignInfo_fullName__27spI\",\"username\":\"AssignInfo_username__lzRT6\",\"avatar\":\"AssignInfo_avatar__wSfgy\",\"chipSalesMoi\":\"AssignInfo_chipSalesMoi__3MsaZ\",\"chipTheoDoi\":\"AssignInfo_chipTheoDoi__1gmBZ\",\"chipChamSoc\":\"AssignInfo_chipChamSoc__1IK1v\",\"chipTaiKy\":\"AssignInfo_chipTaiKy___lcVE\",\"chipKyMoi\":\"AssignInfo_chipKyMoi__3h3fO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Filters_wrapper__3ssFi\",\"iconFilter\":\"Filters_iconFilter__26kYi\",\"dialogText\":\"Filters_dialogText__CBwT8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogText\":\"ConfirmRemove_dialogText__2IsmY\",\"btnRemove\":\"ConfirmRemove_btnRemove__3jFS7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogText\":\"ConfirmUnassign_dialogText__cJ8wo\",\"btnOK\":\"ConfirmUnassign_btnOK__3uile\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"Tasks_panel__1CCOD\",\"filter\":\"Tasks_filter__3wmKw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogText\":\"ConfirmTaskFail_dialogText__NeGwv\",\"btnYes\":\"ConfirmTaskFail_btnYes__1bl40\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogText\":\"ConfirmTaskComplete_dialogText__1q91L\",\"btnYes\":\"ConfirmTaskComplete_btnYes__qzog4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Filters_wrapper__3diau\",\"iconFilter\":\"Filters_iconFilter__1HJTm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemIcon\":\"MenuOptions_itemIcon__2lUYP\",\"itemText\":\"MenuOptions_itemText__3tUz8\",\"dialogText\":\"MenuOptions_dialogText__3giLp\",\"btnRemove\":\"MenuOptions_btnRemove__2cBKi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogText\":\"ConfirmApprove_dialogText__2J0_k\",\"btnApprove\":\"ConfirmApprove_btnApprove__29c9p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogText\":\"ConfirmSave_dialogText__20S_o\",\"btnOK\":\"ConfirmSave_btnOK__9VVy3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Filters_wrapper__3rY1B\",\"iconFilter\":\"Filters_iconFilter__1FkTN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogText\":\"ConfirmDisable_dialogText__15YfV\",\"btnDisable\":\"ConfirmDisable_btnDisable__3NvJa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"ReportInfo_panel__2xPMg\",\"action\":\"ReportInfo_action__1y16q\",\"submit\":\"ReportInfo_submit__DD2E_\",\"content\":\"ReportInfo_content__3rObD\",\"wrapper\":\"ReportInfo_wrapper__29u3W\",\"row\":\"ReportInfo_row__34SNP\",\"rowx\":\"ReportInfo_rowx__3p-2R\",\"rowy\":\"ReportInfo_rowy__U-V9r\",\"header\":\"ReportInfo_header__3ZEB1\",\"title\":\"ReportInfo_title__aEdFu\",\"chipSuccess\":\"ReportInfo_chipSuccess__1D6Gv\",\"chipFailed\":\"ReportInfo_chipFailed__27CIq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"GenInfo_panel__eEUKp\",\"action\":\"GenInfo_action__2EsD2\",\"submit\":\"GenInfo_submit__EwGoi\",\"content\":\"GenInfo_content__2ETAT\",\"wrapper\":\"GenInfo_wrapper__3K7Lb\",\"row\":\"GenInfo_row__3WA5B\",\"rowx\":\"GenInfo_rowx__l7D_B\",\"rowy\":\"GenInfo_rowy__1DT7E\",\"header\":\"GenInfo_header__3wGmS\",\"title\":\"GenInfo_title__19BEL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appBar\":\"CardHeaders_appBar__AyQFZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogText\":\"CannotRemove_dialogText__18e19\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"Reports_panel__2oGzb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogText\":\"NotifyAssign_dialogText__pq_kA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogText\":\"NotifyDialog_dialogText__1YoEI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogText\":\"CannotRemove_dialogText__MZupe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"ServicesInfo_panel__2W6Ik\",\"tabs\":\"ServicesInfo_tabs__29hw9\",\"body\":\"ServicesInfo_body__2uTUU\",\"wrapper\":\"ServicesInfo_wrapper__L5GYT\",\"header\":\"ServicesInfo_header__2Jgm2\",\"card\":\"ServicesInfo_card__1WksU\",\"cardCntHeader\":\"ServicesInfo_cardCntHeader__3f9ou\",\"cardCntBody\":\"ServicesInfo_cardCntBody__3jsAO\",\"cardSubtitle1\":\"ServicesInfo_cardSubtitle1__3XoDj\",\"cardSubtitle2\":\"ServicesInfo_cardSubtitle2__mSYJu\",\"cardAct\":\"ServicesInfo_cardAct__3bURz\",\"rightSector\":\"ServicesInfo_rightSector__GiJc1\",\"noServicesZone\":\"ServicesInfo_noServicesZone__1lQK5\",\"noServices\":\"ServicesInfo_noServices__3gVTO\",\"notFound\":\"ServicesInfo_notFound__XMw0Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"Timelines_panel__kZ6nJ\",\"content\":\"Timelines_content__1g5jz\",\"wrapper\":\"Timelines_wrapper__1GJlB\",\"row\":\"Timelines_row__F2DD4\",\"header\":\"Timelines_header__llxBo\",\"primaryTail\":\"Timelines_primaryTail__SqCzG\",\"secondaryTail\":\"Timelines_secondaryTail__rexQi\",\"ternaryTail\":\"Timelines_ternaryTail__2T7P9\",\"ternary\":\"Timelines_ternary__17ME5\",\"tlnOpsContent\":\"Timelines_tlnOpsContent__3FGoP\",\"linkCard\":\"Timelines_linkCard__2DYkM\",\"tlnContent\":\"Timelines_tlnContent__2lWc7\",\"tlnContentSuccess\":\"Timelines_tlnContentSuccess__3hCGK\",\"tlnContentFailed\":\"Timelines_tlnContentFailed__1Ug_E\",\"picZone\":\"Timelines_picZone__3HofI\",\"tlnContentChild\":\"Timelines_tlnContentChild__Ja6yG\",\"tlnServiceContent\":\"Timelines_tlnServiceContent__1bseG\",\"tlnServiceAppproved\":\"Timelines_tlnServiceAppproved__2-f7R\",\"tlnServiceRejected\":\"Timelines_tlnServiceRejected__2jiF9\",\"chip\":\"Timelines_chip__1CLOE\",\"chipSalesMoi\":\"Timelines_chipSalesMoi__ZUeds\",\"chipSalesMoiInactive\":\"Timelines_chipSalesMoiInactive__19kDk\",\"chipTheoDoi\":\"Timelines_chipTheoDoi__3XNcY\",\"chipTheoDoiInactive\":\"Timelines_chipTheoDoiInactive__18Gnn\",\"chipChamSoc\":\"Timelines_chipChamSoc__2DftF\",\"chipChamSocInactive\":\"Timelines_chipChamSocInactive__3FCKG\",\"chipTaiKy\":\"Timelines_chipTaiKy__MEEpj\",\"chipTaiKyInactive\":\"Timelines_chipTaiKyInactive__2bgNr\",\"chipKyMoi\":\"Timelines_chipKyMoi__3irsJ\",\"chipKyMoiInactive\":\"Timelines_chipKyMoiInactive__2SbsS\",\"chipInactive\":\"Timelines_chipInactive__1kAFV\",\"chipOnGoing\":\"Timelines_chipOnGoing__sH2UK\",\"chipSuccess\":\"Timelines_chipSuccess__19O70\",\"chipFailed\":\"Timelines_chipFailed__2MeH-\",\"chipApproved\":\"Timelines_chipApproved__3IeOJ\",\"chipRejected\":\"Timelines_chipRejected__1fqEI\",\"rpDaGap\":\"Timelines_rpDaGap__1AT01\",\"rpChuaGap\":\"Timelines_rpChuaGap__3bvrE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Assign_wrapper__2a1G_\",\"container\":\"Assign_container__HjwRx\",\"table\":\"Assign_table__uGU7m\",\"tHeadCell\":\"Assign_tHeadCell__32lU_\",\"tHeadCellNo\":\"Assign_tHeadCellNo__BY_pL\",\"tBody\":\"Assign_tBody__2n0Pc\",\"tBodyCell\":\"Assign_tBodyCell__PqeFy\",\"btnSave\":\"Assign_btnSave__1RUSq\",\"icon\":\"Assign_icon__1k8zN\",\"popover\":\"Assign_popover__3kZ2j\",\"tBodyRow\":\"Assign_tBodyRow__2sbvV\",\"suggestionContainer\":\"Assign_suggestionContainer__3vzcZ\",\"suggestionTitle\":\"Assign_suggestionTitle__3w5Zp\",\"cardContainer\":\"Assign_cardContainer__31dH1\",\"cardCover\":\"Assign_cardCover__3Ysdg\",\"quickCard\":\"Assign_quickCard__j2aoN\",\"quickCardAvatar\":\"Assign_quickCardAvatar__XyfQG\",\"content\":\"Assign_content__3Yvlx\",\"listItem\":\"Assign_listItem__5i3wW\",\"listItemText\":\"Assign_listItemText__1W0cB\",\"subInfo\":\"Assign_subInfo__2zbAx\",\"starPoint\":\"Assign_starPoint__n9stw\",\"point\":\"Assign_point__2K64h\",\"distancePoint\":\"Assign_distancePoint__2eJKM\",\"iconLocation\":\"Assign_iconLocation__2t8hw\",\"distance\":\"Assign_distance__1vL-C\",\"alertContainer\":\"Assign_alertContainer__3p2bn\",\"noSalesman\":\"Assign_noSalesman__7WGEm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnSave\":\"SalesmanKPIs_btnSave__2KqP7\",\"avatar\":\"SalesmanKPIs_avatar__3wM1n\",\"salesmanName\":\"SalesmanKPIs_salesmanName__2v5Qo\",\"weight\":\"SalesmanKPIs_weight__3Tz5L\",\"KPIsZone\":\"SalesmanKPIs_KPIsZone__bLpgS\",\"cardKPIs\":\"SalesmanKPIs_cardKPIs__Da2zv\",\"divider\":\"SalesmanKPIs_divider__2jcTS\",\"noDivider\":\"SalesmanKPIs_noDivider__11EsD\",\"criName\":\"SalesmanKPIs_criName__3yDsV\",\"boxIcon\":\"SalesmanKPIs_boxIcon__2oLcH\",\"txtRank\":\"SalesmanKPIs_txtRank__1gsd6\",\"iconRank\":\"SalesmanKPIs_iconRank__lGe3p\",\"rankName\":\"SalesmanKPIs_rankName__3PiNc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Tables_wrapper__Rex6S\",\"container\":\"Tables_container__32NP9\",\"table\":\"Tables_table__11UO5\",\"tHead\":\"Tables_tHead__3D4sC\",\"tHeadCell\":\"Tables_tHeadCell__fKA8o\",\"tBody\":\"Tables_tBody__1Iose\",\"tBodyRow\":\"Tables_tBodyRow__1p-ME\",\"tBodyCell\":\"Tables_tBodyCell__1GjdM\",\"listItem\":\"Tables_listItem__3-hdQ\",\"picName\":\"Tables_picName__1Lsyv\",\"listItemInactive\":\"Tables_listItemInactive__1DgqK\",\"picNameInactive\":\"Tables_picNameInactive__2ooyZ\",\"picAvatarInactive\":\"Tables_picAvatarInactive__2tAU0\",\"itemTextPrimary\":\"Tables_itemTextPrimary__2Du2k\",\"tCellInactiveAccount\":\"Tables_tCellInactiveAccount__3l_Ue\",\"noRecord\":\"Tables_noRecord__EdJn8\",\"sortLabel\":\"Tables_sortLabel__1vfFi\",\"active\":\"Tables_active__1M5dv\",\"paging\":\"Tables_paging__3hoju\",\"chipAdmin\":\"Tables_chipAdmin__252gM\",\"chipManager\":\"Tables_chipManager__2MT4d\",\"chipSupervisor\":\"Tables_chipSupervisor__3NTBx\",\"chipSalesman\":\"Tables_chipSalesman__38i1u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Tables_wrapper__1Db3a\",\"container\":\"Tables_container__vE812\",\"table\":\"Tables_table__2DAw_\",\"tHead\":\"Tables_tHead__3Iytt\",\"tHeadCell\":\"Tables_tHeadCell__2fK1s\",\"tBody\":\"Tables_tBody__1BJEA\",\"tBodyRow\":\"Tables_tBodyRow__1MM29\",\"tBodyCell\":\"Tables_tBodyCell__3YMlJ\",\"listItem\":\"Tables_listItem__Vykgi\",\"picName\":\"Tables_picName__2yvY9\",\"listItemInactive\":\"Tables_listItemInactive__OedsA\",\"picNameInactive\":\"Tables_picNameInactive__2_-yn\",\"picAvatarInactive\":\"Tables_picAvatarInactive__3CUFO\",\"itemTextPrimary\":\"Tables_itemTextPrimary__21eHB\",\"tCellInactiveAccount\":\"Tables_tCellInactiveAccount__32M5p\",\"noRecord\":\"Tables_noRecord__2_pYQ\",\"sortLabel\":\"Tables_sortLabel__1dgb4\",\"active\":\"Tables_active__3iqY2\",\"paging\":\"Tables_paging__21qk9\",\"chipAdmin\":\"Tables_chipAdmin__2BdQV\",\"chipManager\":\"Tables_chipManager__amwJO\",\"chipSupervisor\":\"Tables_chipSupervisor__3tbpX\",\"chipSalesman\":\"Tables_chipSalesman__3RpIb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"Timelines_panel__H079X\",\"content\":\"Timelines_content__3BDXS\",\"wrapper\":\"Timelines_wrapper__2Nrv5\",\"row\":\"Timelines_row__1tabP\",\"header\":\"Timelines_header__1cdqf\",\"timeline\":\"Timelines_timeline__1_xWG\",\"primaryTail\":\"Timelines_primaryTail__2yDlP\",\"secondaryTail\":\"Timelines_secondaryTail__VqX3y\",\"tlnLeft\":\"Timelines_tlnLeft__Um-Cx\",\"tlnOpsContent\":\"Timelines_tlnOpsContent__3iGO2\",\"linkCard\":\"Timelines_linkCard__27PdP\",\"tlnContent\":\"Timelines_tlnContent__22WLd\",\"tlnContentSuccess\":\"Timelines_tlnContentSuccess__BC1JF\",\"tlnContentFailed\":\"Timelines_tlnContentFailed__ofoFk\",\"tlnContentPending\":\"Timelines_tlnContentPending__3EBd-\",\"picZone\":\"Timelines_picZone__2sVwY\",\"tlnContentChild\":\"Timelines_tlnContentChild__2SjbH\",\"chip\":\"Timelines_chip__2lyNx\",\"chipSalesMoi\":\"Timelines_chipSalesMoi__feu94\",\"chipSalesMoiInactive\":\"Timelines_chipSalesMoiInactive__2Wst5\",\"chipChamSoc\":\"Timelines_chipChamSoc__3wsT-\",\"chipChamSocInactive\":\"Timelines_chipChamSocInactive__1Za2J\",\"chipTaiKy\":\"Timelines_chipTaiKy__sNCTc\",\"chipTaiKyInactive\":\"Timelines_chipTaiKyInactive__wkDe1\",\"chipKyMoi\":\"Timelines_chipKyMoi__1B2c0\",\"chipKyMoiInactive\":\"Timelines_chipKyMoiInactive__2QXwD\",\"chipInactive\":\"Timelines_chipInactive__tptCX\",\"rsSuccess\":\"Timelines_rsSuccess__3D4Xb\",\"rsFailed\":\"Timelines_rsFailed__3gfs4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Tables_wrapper__3m4gE\",\"container\":\"Tables_container__1eA05\",\"table\":\"Tables_table__FoQUz\",\"tHead\":\"Tables_tHead__1JC-O\",\"tHeadCell\":\"Tables_tHeadCell__nr3yI\",\"tBody\":\"Tables_tBody__1suNu\",\"tBodyRow\":\"Tables_tBodyRow__2SpYn\",\"tBodyCell\":\"Tables_tBodyCell__JzPoQ\",\"tBodyCellDuration\":\"Tables_tBodyCellDuration__1ZHUi\",\"noRecord\":\"Tables_noRecord__26LG0\",\"picName\":\"Tables_picName__1-ArF\",\"sortLabel\":\"Tables_sortLabel__3xFF8\",\"active\":\"Tables_active__2W3S5\",\"paging\":\"Tables_paging__1SrgD\",\"chipInactive\":\"Tables_chipInactive__2BMkZ\",\"chipSalesMoiInactive\":\"Tables_chipSalesMoiInactive__XgJ_9\",\"chipTheoDoiInactive\":\"Tables_chipTheoDoiInactive__XvF1S\",\"chipChamSocInactive\":\"Tables_chipChamSocInactive__32T_b\",\"chipTaiKyInactive\":\"Tables_chipTaiKyInactive__1eONw\",\"chipKyMoiInactive\":\"Tables_chipKyMoiInactive__2UH-u\",\"chipSalesMoi\":\"Tables_chipSalesMoi__82M3a\",\"chipTheoDoi\":\"Tables_chipTheoDoi__2qwGD\",\"chipChamSoc\":\"Tables_chipChamSoc__3zCp1\",\"chipTaiKy\":\"Tables_chipTaiKy__hJJGQ\",\"chipKyMoi\":\"Tables_chipKyMoi__3WlK4\",\"chipOnGoing\":\"Tables_chipOnGoing__Jm52-\",\"chipSuccess\":\"Tables_chipSuccess__1gL0e\",\"chipFailed\":\"Tables_chipFailed__2BkpU\",\"iconNote\":\"Tables_iconNote__2-e0I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"criInfoPanel\":\"DialogConfig_criInfoPanel__1tp4n\",\"txtCriInfo\":\"DialogConfig_txtCriInfo__2b97r\",\"txtCriInfoHeader\":\"DialogConfig_txtCriInfoHeader__1nw37\"};","// Xem xem có cách nào dùng lại đc ko\r\n\r\nimport React, { useState, useRef } from 'react'\r\nimport InputBase from '@material-ui/core/InputBase'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { MdSearch } from 'react-icons/md'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    search: {\r\n        maxHeight: '2.5rem',\r\n        position: 'relative',\r\n        borderRadius: '8px', //theme.shape.borderRadius\r\n        backgroundColor: '#fff',\r\n        boxShadow: '0 4px 6px -6px #000', // 0px 1px 1px gray\r\n        marginLeft: 0,\r\n        height: '100%',\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            marginLeft: theme.spacing(1),\r\n            width: 'auto',\r\n        },\r\n    },\r\n    searchIcon: {\r\n        padding: theme.spacing(0, 1),\r\n        height: '100%',\r\n        position: 'absolute',\r\n        pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n        color: 'inherit',\r\n    },\r\n    inputInput: {\r\n        padding: theme.spacing(1.3, 1, 1, 1),\r\n        // vertical padding + font size from searchIcon\r\n        paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: '12ch',\r\n            '&:focus': {\r\n                width: '20ch',\r\n            },\r\n        },\r\n    },\r\n}))\r\n\r\nSearchFields.propTypes = {\r\n    onChange: PropTypes.func,\r\n    placeholder: PropTypes.string,\r\n}\r\n\r\nSearchFields.defaultProps = {\r\n    onChange: null,\r\n}\r\n\r\nfunction SearchFields(props) {\r\n    const classes = useStyles()\r\n    const typingTimeOutRef = useRef('')\r\n    const { onChange, placeholder, searchValue } = props\r\n    const [searchKey, setSearchKey] = useState(searchValue ? searchValue : '')\r\n\r\n    const handleChange = (e) => {\r\n        e.preventDefault(true)\r\n        const keyword = e?.target?.value\r\n\r\n        setSearchKey(keyword)\r\n        if (!onChange) {\r\n            return\r\n        }\r\n        if (typingTimeOutRef.current) {\r\n            clearTimeout(typingTimeOutRef.current)\r\n        }\r\n\r\n        typingTimeOutRef.current = setTimeout(() => {\r\n            onChange(keyword)\r\n        }, 300)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.search}>\r\n            <div className={classes.searchIcon}>\r\n                <MdSearch fontSize=\"20\" />\r\n            </div>\r\n            <InputBase\r\n                value={searchKey}\r\n                placeholder={placeholder}\r\n                classes={{\r\n                    root: classes.inputRoot,\r\n                    input: classes.inputInput,\r\n                }}\r\n                inputProps={{ 'aria-label': 'search' }}\r\n                onChange={handleChange}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchFields\r\n","import PropTypes from 'prop-types'\r\nimport React from 'react'\r\nimport { VelocityComponent } from 'velocity-react'\r\nimport 'velocity-animate/velocity.ui'\r\n\r\nconst Animations = React.forwardRef((props, ref) => {\r\n    const children = React.cloneElement(props.children, {\r\n        style: {\r\n            ...props.children.style,\r\n            visibility: 'hidden',\r\n        },\r\n    })\r\n    return (\r\n        <VelocityComponent ref={ref} {...props}>\r\n            {children}\r\n        </VelocityComponent>\r\n    )\r\n})\r\n\r\nAnimations.propTypes = {\r\n    children: PropTypes.element.isRequired,\r\n}\r\n\r\nAnimations.defaultProps = {\r\n    animation: 'transition.fadeIn',\r\n    runOnMount: true,\r\n    targetQuerySelector: null,\r\n    interruptBehavior: 'stop',\r\n    visibility: 'visible',\r\n    duration: 300,\r\n    delay: 50,\r\n    easing: [0.4, 0.0, 0.2, 1],\r\n    display: null,\r\n    setRef: undefined,\r\n}\r\n\r\nexport default React.memo(Animations)\r\n","import PropTypes from 'prop-types'\r\nimport React from 'react'\r\nimport { VelocityTransitionGroup } from 'velocity-react'\r\nimport 'velocity-animate/velocity.ui'\r\n\r\nconst enterAnimationDefaults = {\r\n    animation: 'transition.fadeIn',\r\n    stagger: 50,\r\n    duration: 200,\r\n    display: null,\r\n    visibility: 'visible',\r\n    delay: 0,\r\n}\r\n\r\nconst leaveAnimationDefaults = {\r\n    stagger: 50,\r\n    duration: 200,\r\n    display: null,\r\n    visibility: 'visible',\r\n    delay: 0,\r\n}\r\n\r\nfunction AnimationGroup(props) {\r\n    return (\r\n        <VelocityTransitionGroup\r\n            {...props}\r\n            enter={{ ...enterAnimationDefaults, ...props.enter }}\r\n            leave={{ ...leaveAnimationDefaults, ...props.leave }}\r\n        />\r\n    )\r\n}\r\n\r\nAnimationGroup.propTypes = {\r\n    children: PropTypes.any,\r\n}\r\n\r\nAnimationGroup.defaultProps = {\r\n    enter: enterAnimationDefaults,\r\n    leave: leaveAnimationDefaults,\r\n    easing: [0.4, 0.0, 0.2, 1],\r\n    runOnMount: true,\r\n    enterHideStyle: {\r\n        opacity: 1,\r\n    },\r\n    enterShowStyle: {\r\n        opacity: 0,\r\n    },\r\n}\r\n\r\nexport default React.memo(AnimationGroup)\r\n","import React from 'react'\r\nimport { Snackbar, makeStyles } from '@material-ui/core'\r\nimport { Alert } from '@material-ui/lab'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        top: theme.spacing(9),\r\n    },\r\n}))\r\n\r\nfunction Snackbars(props) {\r\n    const { notify, setNotify } = props\r\n\r\n    const classes = useStyles()\r\n\r\n    const handleClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return\r\n        }\r\n        setNotify({\r\n            ...notify,\r\n            isOpen: false,\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Snackbar\r\n            className={classes.root}\r\n            open={notify.isOpen}\r\n            autoHideDuration={3000}\r\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n            onClose={handleClose}\r\n        >\r\n            <Alert severity={notify.type} onClose={handleClose} variant=\"filled\">\r\n                {notify.message}\r\n            </Alert>\r\n        </Snackbar>\r\n    )\r\n}\r\n\r\nexport default React.memo(Snackbars)\r\n","export default __webpack_public_path__ + \"static/media/gold-medal.b40d60fb.png\";","export default __webpack_public_path__ + \"static/media/silver-medal.90535542.png\";","export default __webpack_public_path__ + \"static/media/bronze-medal.a6118719.png\";","export default __webpack_public_path__ + \"static/media/pawprints.2d582dba.png\";","export default __webpack_public_path__ + \"static/media/medal.b5abfa84.png\";","export default __webpack_public_path__ + \"static/media/cross-mark.d1c602b1.png\";","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Typography } from '@material-ui/core'\r\nimport { Paw } from '../../assets/icons'\r\nimport classes from './NotFound.module.scss'\r\n\r\nfunction NotFound(props) {\r\n    const { title } = props\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <div className={classes.imgContainer}>\r\n                <img src={Paw} alt=\"Not found\" className={classes.img} />\r\n            </div>\r\n            <Typography className={classes.title} noWrap>\r\n                {title}\r\n            </Typography>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(NotFound)\r\n\r\nNotFound.defaultProps = {\r\n    title: 'Oopsy Daisy!',\r\n}\r\n\r\nNotFound.propTypes = {\r\n    title: PropTypes.string,\r\n}\r\n","import React from 'react'\r\nimport { LinearProgress, Typography } from '@material-ui/core'\r\nimport classes from './Loading.module.scss'\r\n\r\nconst Consts = {\r\n    loadingTxt: `Loading...`,\r\n}\r\n\r\nfunction Loading() {\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <Typography className={classes.loadingTxt} noWrap>\r\n                {Consts.loadingTxt}\r\n            </Typography>\r\n            <LinearProgress className={classes.progress} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading\r\n","import Geocode from 'react-geocode'\r\n\r\n// config for Geocode\r\nGeocode.setApiKey(process.env.REACT_APP_GOOGLE_KEY)\r\nGeocode.setLanguage('vi')\r\nGeocode.setRegion('VN')\r\nGeocode.setLocationType('ROOFTOP')\r\nGeocode.enableDebug() // Enable or disable logs\r\n\r\n\r\nexport default Geocode\r\n\r\n// export const GeoCodes = () => {\r\n// }\r\n\r\n\r\n//===================================================\r\n\r\n// ApiKey đang sử dụng là key mới. Key cũ là: \r\n// (1) AIzaSyB7XeEVsjODCO5_P6eybUglutjZ3O_jAGY\r\n// (2) AIzaSyD4IxmfBNYwxn3JI2qYWevYnX5WvGhsicw      (current - Salesmgt)\r\n// (3) AIzaSyBzlCOMk1ZCAw6zh1YWICU4zLdrsF2rbzk      (newest - HaPTN)\r\n\r\n// AIzaSyDamhXLcuECTjHIszel9zHDW3MqrZe8SHA\r\n","import React, { useEffect } from 'react'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Autocomplete from '@material-ui/lab/Autocomplete'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport parse from 'autosuggest-highlight/parse'\r\nimport throttle from 'lodash/throttle'\r\nimport { MdLocationOn } from 'react-icons/md'\r\n// import Geocode from 'react-geocode'\r\nimport Geocode from '../../services/geocode'\r\n\r\nfunction loadScript(src, position, id) {\r\n    if (!position) {\r\n        return\r\n    }\r\n\r\n    const script = document.createElement('script')\r\n    script.setAttribute('async', '')\r\n    script.setAttribute('id', id)\r\n    script.src = src\r\n    position.appendChild(script)\r\n}\r\n\r\nconst autocompleteService = { current: null }\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    icon: {\r\n        color: theme.palette.text.secondary,\r\n        marginRight: theme.spacing(2),\r\n    },\r\n}))\r\n\r\nexport default function AddressField(props) {\r\n    const classes = useStyles()\r\n    const {\r\n        inputValue,\r\n        setInputValue,\r\n        setLatitude,\r\n        setLongitude,\r\n        onBlur,\r\n        // errText,\r\n        error,\r\n        helperText,\r\n    } = props // , latitude, longitude,\r\n\r\n    const [value, setValue] = React.useState(null)\r\n    // const [inputValue, setInputValue] = React.useState('');\r\n    const [options, setOptions] = React.useState([])\r\n    const loaded = React.useRef(false)\r\n\r\n    // console.log('API_key: ', process.env.REACT_APP_GOOGLE_KEY);\r\n    // Geocode.setApiKey(process.env.REACT_APP_GOOGLE_KEY)\r\n    // Geocode.setLanguage('vi')\r\n    // Geocode.setRegion('VN')\r\n    // Geocode.setLocationType('ROOFTOP')\r\n    // Geocode.enableDebug() // Enable or disable logs\r\n\r\n    if (typeof window !== 'undefined' && !loaded.current) {\r\n        if (!document.querySelector('#google-maps')) {\r\n            loadScript(\r\n                `https://maps.googleapis.com/maps/api/js?key=${process.env.REACT_APP_GOOGLE_KEY}&libraries=places&region=VN&language=vi`,\r\n                document.querySelector('head'),\r\n                'google-maps'\r\n            )\r\n        }\r\n\r\n        loaded.current = true\r\n    }\r\n\r\n    const fetch = React.useMemo(\r\n        () =>\r\n            throttle((request, callback) => {\r\n                // console.log('request: ', request);\r\n                // console.log('callback: ', callback);\r\n                autocompleteService.current.getPlacePredictions(\r\n                    request,\r\n                    callback\r\n                )\r\n            }, 200),\r\n        []\r\n    )\r\n\r\n    // useEffect() này chỉ nhằm để giải quyết vụ set initValue cho value của Autocomplete\r\n    // useEffect(() => {\r\n    //     let active = true;\r\n    //     fetch((inputValue), (results) => {\r\n    //         if (active) {\r\n    //             let newOptions = [];\r\n\r\n    //             if (value) {\r\n    //                 newOptions = [value];\r\n    //             }\r\n    //             if (results) {\r\n    //                 newOptions = [...newOptions, ...results];\r\n    //             }\r\n    //             console.log('Init address = ', value);\r\n    //             setOptions(newOptions);\r\n    //         }\r\n    //     });\r\n\r\n    //     return () => {\r\n    //         active = false;\r\n    //     };\r\n    // }, []);\r\n\r\n    useEffect(() => {\r\n        let active = true\r\n\r\n        if (!autocompleteService.current && window.google) {\r\n            autocompleteService.current =\r\n                new window.google.maps.places.AutocompleteService()\r\n        }\r\n        if (!autocompleteService.current) {\r\n            return undefined\r\n        }\r\n\r\n        if (inputValue === '') {\r\n            setOptions(value ? [value] : [])\r\n            // console.log('Address = ', value);\r\n\r\n            return undefined\r\n        }\r\n\r\n        fetch({ input: inputValue }, (results) => {\r\n            if (active) {\r\n                let newOptions = []\r\n\r\n                if (value) {\r\n                    newOptions = [value]\r\n                }\r\n\r\n                if (results) {\r\n                    // console.log('result = ', results);\r\n                    newOptions = [...newOptions, ...results]\r\n                }\r\n\r\n                // console.log('Address = ', value);\r\n                setOptions(newOptions)\r\n\r\n                // Xử lý convert address qua [lat, long] rồi gửi xuống Back-end\r\n                Geocode.fromAddress(inputValue).then(\r\n                    (response) => {\r\n                        const { lat, lng } =\r\n                            response.results[0].geometry.location\r\n                        setLatitude(lat)\r\n                        setLongitude(lng)\r\n\r\n                        // convert from lat,lon to district\r\n                        // console.log('useEffect(): inputValue = ', inputValue);\r\n                    },\r\n                    (error) => {\r\n                        console.error(error)\r\n                    }\r\n                )\r\n            }\r\n        })\r\n\r\n        return () => {\r\n            active = false\r\n        }\r\n    }, [value, inputValue, fetch])\r\n\r\n    // console.log('Outside: inputValue = ', inputValue);\r\n    // console.log('[latitude, longitude] = ', latitude, longitude);\r\n\r\n    return (\r\n        <Autocomplete\r\n            autoComplete\r\n            autoHighlight\r\n            options={options}\r\n            getOptionLabel={(option) =>\r\n                typeof option === 'string' ? option : option.description\r\n            }\r\n            filterSelectedOptions\r\n            filterOptions={(x) => x}\r\n            includeInputInList\r\n            noOptionsText=\"No matched address\"\r\n            openOnFocus={true}\r\n            onBlur={onBlur}\r\n            clearOnBlur={false}\r\n            value={value}\r\n            onChange={(event, newValue) => {\r\n                setOptions(newValue ? [newValue, ...options] : options)\r\n                setValue(newValue)\r\n            }}\r\n            inputValue={inputValue}\r\n            onInputChange={(event, newInputValue) => {\r\n                setInputValue(newInputValue)\r\n            }}\r\n            renderInput={(params) => (\r\n                <TextField\r\n                    value={inputValue}\r\n                    {...params}\r\n                    label=\"Address\"\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    required\r\n                    // error={errText ? true : false}       // Hà\r\n                    // helperText={errText ? errText : ''}\r\n                    error={error ? true : false}            // Nguyên\r\n                    helperText={helperText ? helperText : ''}\r\n                />\r\n            )}\r\n            renderOption={(option) => {\r\n                const matches =\r\n                    option.structured_formatting.main_text_matched_substrings\r\n                const parts = parse(\r\n                    option.structured_formatting.main_text,\r\n                    matches.map((match) => [\r\n                        match.offset,\r\n                        match.offset + match.length,\r\n                    ])\r\n                )\r\n\r\n                return (\r\n                    <Grid container alignItems=\"center\">\r\n                        <Grid item>\r\n                            <MdLocationOn className={classes.icon} />\r\n                        </Grid>\r\n                        <Grid item xs>\r\n                            {parts.map((part, index) => (\r\n                                <span\r\n                                    key={index}\r\n                                    style={{\r\n                                        fontWeight: part.highlight ? 600 : 400,\r\n                                    }}\r\n                                >\r\n                                    {part.text}\r\n                                </span>\r\n                            ))}\r\n                            <Typography variant=\"body2\" color=\"textSecondary\">\r\n                                {option.structured_formatting.secondary_text}\r\n                            </Typography>\r\n                        </Grid>\r\n                    </Grid>\r\n                )\r\n            }}\r\n        />\r\n    )\r\n}\r\n","import moment from \"moment\";\r\n\r\nexport const parseDateToString = (date, format) => {\r\n    return moment(date).format(format);\r\n}\r\n\r\n// export const compareDate = (date1, date2) => {\r\n//     if (date1 )\r\n//     return false\r\n// }\r\n\r\nexport const calculateDatesGap = (day1, day2, returnAs) => {\r\n    /** Note:\r\n     *  + day1: earlierDate\r\n     *  + day2: laterDate\r\n     *  + returnAs: tiêu chí tính sự chênh lệch\r\n     *  + / (1000 * 3600 * 24): convert from miliseconds to days\r\n     *  */\r\n    switch (returnAs) {\r\n        case 'D': // days\r\n            return Math.round((day2.getTime() - day1.getTime()) / (1000 * 3600 * 24))\r\n        case 'M': // months\r\n            return day2.getMonth() - day1.getMonth() + (12 * (day2.getFullYear() - day1.getFullYear()))\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\nexport const calculateSchoolYear = () => {\r\n    const thisYear = new Date().getFullYear()\r\n    const thisMonth = new Date().getMonth()\r\n\r\n    // Từ tháng 5 năm nay tới tháng 5 năm sau: đi sales cho các tasks theo năm học sau\r\n    // nên report cũng tính là năm học sau.\r\n    if (0 <= thisMonth < 4) {   // Jan = 0, May = 4\r\n        return `${thisYear}-${thisYear + 1}`\r\n    } else if (4 <= thisMonth < 11) {\r\n        return `${thisYear - 1}-${thisYear}`\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n\r\nexport const calculateSomeDateSchoolYear = (someDate) => {\r\n    const thisYear = someDate.getFullYear()\r\n    const thisMonth = someDate.getMonth()\r\n\r\n    // Từ tháng 5 năm nay tới tháng 5 năm sau: đi sales cho các tasks theo năm học sau\r\n    // nên report cũng tính là năm học sau.\r\n    if (0 <= thisMonth < 4) {   // Jan = 0, May = 4\r\n        return `${thisYear}-${thisYear + 1}`\r\n    } else if (4 <= thisMonth < 11) {\r\n        return `${thisYear - 1}-${thisYear}`\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n\r\n// Sai sai\r\n// export const isInThisSchoolYear = (today) => {\r\n//     const thisSchoolYear = calculateSchoolYear()\r\n//     const someDateSchoolYear = calculateSomeDateSchoolYear(new Date('2021-16-07 00:00:00'))\r\n\r\n//     console.log('thisSchoolYear = ', thisSchoolYear);\r\n//     console.log('someDateSchoolYear = ', someDateSchoolYear);\r\n\r\n//     // if (0 <= thisMonth < 4) {   // Jan = 0, May = 4\r\n//     //     console.log('yessss');\r\n//     //     return true\r\n//     // } else if (4 <= thisMonth < 11) {\r\n//     //     console.log('noooo');\r\n//     //     return false\r\n//     // } else return null\r\n// }","import React from 'react'\r\nimport {\r\n    Typography,\r\n    Box,\r\n    LinearProgress,\r\n    Icon,\r\n    Tooltip\r\n} from '@material-ui/core'\r\nimport { BiRun } from 'react-icons/bi'\r\nimport { FaHandshake } from 'react-icons/fa'\r\nimport { parseDateToString, calculateDatesGap } from '../../utils/DateTimes';\r\n\r\nfunction LinearProgressBars(props) {\r\n    const { startDate, endDate, marker, type } = props\r\n\r\n    const calculatePercentage = (date1, date2) => {\r\n        const daysPassed = calculateDatesGap(new Date(date1), new Date(), \"D\");\r\n        const duration = calculateDatesGap(new Date(date1), new Date(date2), \"D\");\r\n\r\n        // console.log('daysPassed = ', daysPassed);\r\n        // console.log('duration = ', duration);\r\n        if (daysPassed * 100 / duration > 100)\r\n            return 100\r\n        if (!date1 || !date2 || duration === 0 || daysPassed * 100 / duration < 0)\r\n            return 0\r\n        return daysPassed * 100 / duration\r\n    }\r\n    const value = calculatePercentage(startDate, endDate)\r\n\r\n    const percent = () => {\r\n        const position = value - 5;\r\n        if (position < 0) {\r\n            return 0\r\n        } else return position\r\n    }\r\n\r\n    return (\r\n        <Box display=\"flex\" flexDirection='column'>\r\n            <Box display=\"flex\" flexDirection='row'>\r\n                <Box flexGrow={1}>\r\n                    <Typography variant=\"body2\">    {/** color=\"textSecondary\" */}\r\n                        {startDate ? parseDateToString(startDate, 'DD-MM-YYYY') : ' ?'}\r\n                    </Typography>\r\n                </Box>\r\n                <Box>\r\n                    <Typography variant=\"body2\">    {/** color=\"textSecondary\" */}\r\n                        {parseDateToString(endDate, 'DD-MM-YYYY')}\r\n                    </Typography>\r\n                </Box>\r\n            </Box>\r\n            <Box width=\"100%\">\r\n                <Tooltip title={`${Math.round(value)}%`} placement=\"top\">\r\n                    <LinearProgress variant=\"determinate\" {...props} value={value} />\r\n                </Tooltip>\r\n            </Box>\r\n            {type && (\r\n                <Box display=\"flex\" flexDirection=\"row\" width=\"100%\">\r\n                    <Box style={{ flexBasis: `${percent()}%`, marginTop: '0.5rem' }}>\r\n                        {/* <Box style={{ flexBasis: `calc(${value}% - 0.9rem)%`, marginTop: '0.5rem' }}> */}\r\n\r\n                    </Box>\r\n                    <Box style={{ marginTop: '0.5rem' }}>\r\n                        <Tooltip title={\r\n                            <Typography variant=\"overline\">\r\n                                {parseDateToString(marker, 'DD-MM-YYYY')}\r\n                            </Typography>} placement=\"right\"\r\n                        >\r\n                            <Icon>\r\n                                {type === 'task' ? <BiRun style={{ width: '1.8rem', height: '1.8rem' }} />\r\n                                    : <FaHandshake style={{ width: '1.8rem', height: '1.8rem' }} />\r\n                                }\r\n                            </Icon>\r\n                        </Tooltip>\r\n                    </Box>\r\n                </Box>\r\n            )}\r\n        </Box>\r\n    );\r\n}\r\n\r\nexport default LinearProgressBars","//===========================Filter===========================\r\nexport const FILTER_PIC = 'FILTER_PIC'\r\nexport const FILTER_DISTRICT = 'FILTER_DISTRICT'\r\nexport const FILTER_SCHOOL_YEAR = 'FILTER_SCHOOL_YEAR'\r\nexport const FILTER_SCHOOL_TYPE = 'FILTER_SCHOOL_TYPE'\r\nexport const FILTER_SCHOOL_LEVEL = 'FILTER_SCHOOL_LEVEL'\r\n// export const FILTER_SCHOOL_SCALE = 'FILTER_SCHOOL_SCALE'\r\nexport const FILTER_SCHOOL_STATUS = 'FILTER_SCHOOL_STATUS'\r\nexport const FILTER_PURPOSE = 'FILTER_PURPOSE'\r\nexport const FILTER_ASSIGNED = 'FILTER_ASSIGNED'\r\n\r\nexport const FILTER_REPORT_RESULT = 'FILTER_REPORT_RESULT'\r\nexport const FILTER_DATE_RANGE = 'FILTER_DATE_RANGE'\r\n// export const FILTER_FROM_DATE = 'FILTER_FROM_DATE'\r\n// export const FILTER_TO_DATE = 'FILTER_TO_DATE'\r\n\r\nexport const FILTER_TASK_STATUS = 'FILTER_TASK_STATUS'\r\n\r\nexport const FILTER_ACTIVE = 'FILTER_ACTIVE'\r\nexport const FILTER_ROLE = 'FILTER_ROLE'\r\n\r\nexport const FILTER_SERVICE_STATUS = 'FILTER_SERVICE_STATUS'\r\nexport const FILTER_SERVICE_TYPE = 'FILTER_SERVICE_TYPE'\r\nexport const FILTER_EXPIRED = 'FILTER_EXPIRED'\r\n\r\nexport const FILTER_KPI_STATUS = 'FILTER_KPI_STATUS'\r\n\r\n\r\nexport const FILTER_DASHBOARD_SALE = 'FILTER_DASHBOARD_SALE'\r\nexport const FILTER_DASHBOARD_UNIT = 'FILTER_DASHBOARD_UNIT'\r\nexport const FILTER_DASHBOARD_SCHOOL_STATUS = 'FILTER_DASHBOARD_SCHOOL_STATUS'\r\nexport const FILTER_DASHBOARD_SCHOOL_LEVEL = 'FILTER_DASHBOARD_SCHOOL_LEVEL'\r\nexport const FILTER_DASHBOARD_SCHOOL_TYPE = 'FILTER_DASHBOARD_SCHOOL_TYPE'\r\nexport const FILTER_DASHBOARD_DISTRICT = 'FILTER_DASHBOARD_DISTRICT'\r\n\r\n//===========================Search field===========================\r\nexport const ENTER_SEARCH_KEYWORD = 'ENTER_SEARCH_KEYWORD'\r\n\r\n//===========================Sorting===========================\r\nexport const SORT_BY = 'SORT_BY'\r\n\r\n//==========================Pagination==========================\r\nexport const CHANGE_PAGE = 'CHANGE_PAGE'","export const ACTIVE_FILTER = 'isActive'\r\nexport const ROLE_FILTER = 'role'\r\n\r\nexport const PIC_FILTER = 'PIC'\r\nexport const DISTRICT_FILTER = 'district'\r\nexport const SCHOOL_YEAR_FILTER = 'schoolYear'\r\nexport const STATUS_FILTER = 'status'\r\nexport const PURPOSE_FILTER = 'purpose'\r\nexport const ASSIGNED_FILTER = 'isAssigned'\r\nexport const DATE_RANGE_FILTER = 'dateRange'\r\nexport const REPORT_RESULT_FILTER = 'result'\r\nexport const TYPE_FILTER = 'type'\r\nexport const LEVEL_FILTER = 'level'\r\n// export const SCALE_FILTER = 'scale'\r\n\r\nexport const TASK_STATUS_FILTER = 'taskStatus'\r\n\r\nexport const SERVICE_STATUS_FILTER = 'serviceStatus'\r\nexport const SERVICE_TYPE_FILTER = 'serviceType'\r\nexport const EXPIRED_FILTER = 'isExpired'\r\n\r\nexport const KPI_STATUS_FILTER = 'KPIStatus'\r\n\r\n\r\nexport const DASHBOARD_SALE_FILTER = 'DASHBOARD_SALE_FILTER'\r\nexport const DASHBOARD_UNIT_FILTER = 'DASHBOARD_UNIT_FILTER'\r\nexport const DASHBOARD_SCHOOL_STATUS_FILTER = 'DASHBOARD_SCHOOL_STATUS_FILTER'\r\nexport const DASHBOARD_SCHOOL_LEVEL_FILTER = 'DASHBOARD_SCHOOL_LEVEL_FILTER'\r\nexport const DASHBOARD_SCHOOL_TYPE_FILTER = 'DASHBOARD_SCHOOLTPES_FILTER'\r\nexport const DASHBOARD_DISTRICT_FILTER = 'DASHBOARD_DISTRICT_FILTER'","import React, { useState } from 'react'\r\nimport { Button, Chip } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport PropTypes from 'prop-types'\r\nimport * as ReducerActions from '../../../../../constants/ActionTypes'\r\nimport { ACTIVE_FILTER, ROLE_FILTER } from '../../../../../constants/Filters'\r\n// import classes from './Chips.module.scss'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        flexWrap: 'wrap',\r\n    },\r\n    ul: {\r\n        maxWidth: 810,\r\n        overflowX: 'auto',\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        flexWrap: 'nowrap',\r\n        listStyle: 'none',\r\n        margin: 0,\r\n        paddingLeft: '0.5rem',\r\n    },\r\n    btnClear: {\r\n        fontSize: '0.75rem',\r\n    },\r\n    chip: {\r\n        margin: theme.spacing(0.5),\r\n    },\r\n}))\r\n\r\nfunction Chips(props) {\r\n    const classes = useStyles()\r\n    const { chips, dispatch, handleChipsRemoved } = props\r\n\r\n    //================Generate chips according to filters================\r\n    const [btnClearAll, setBtnClearAll] = useState(false)\r\n\r\n    const handleChipDelete = (chipToDelete) => () => {\r\n        // console.log('chipToDelete = ', chipToDelete);\r\n\r\n        switch (chipToDelete.filterType) {\r\n            case ACTIVE_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_ACTIVE,\r\n                    payload: { filterType: ACTIVE_FILTER, filterValue: null },\r\n                    // payload: { filterType: ACTIVE_FILTER, filterValue: { isActive: true, status: \"Active\" } },\r\n                })\r\n                break;\r\n\r\n            case ROLE_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_ROLE,\r\n                    payload: { filterType: ROLE_FILTER, filterValue: '' },\r\n                })\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        if (!handleChipsRemoved) return\r\n        // Reset corresponding filters' value to \"All\" / null\r\n        const removedFilters = [chipToDelete.filterType]\r\n        handleChipsRemoved(removedFilters)\r\n    }\r\n\r\n    const handleClearAllChips = () => {\r\n        setBtnClearAll(false)\r\n\r\n        if (!handleChipsRemoved) return\r\n\r\n        dispatch({\r\n            type: ReducerActions.FILTER_ACTIVE,\r\n            payload: { filterType: ACTIVE_FILTER, filterValue: null }\r\n            // payload: { filterType: ACTIVE_FILTER, filterValue: { isActive: true, status: \"Active\" } }\r\n        })\r\n        dispatch({\r\n            type: ReducerActions.FILTER_ROLE,\r\n            payload: { filterType: ROLE_FILTER, filterValue: '' },\r\n        })\r\n\r\n        // const removedFilters = ['active', 'role']\r\n        const removedFilters = [ACTIVE_FILTER, ROLE_FILTER]\r\n\r\n        handleChipsRemoved(removedFilters)\r\n    }\r\n\r\n    const handleShowClearAllButton = () => {\r\n        let count = 0\r\n        chips.forEach((chip) => {\r\n            if (chip.filterValue === '' || chip.filterValue === null || chip.filterValue === undefined)\r\n                count++;\r\n        })\r\n        return count\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {handleShowClearAllButton() !== 2 && (\r\n                <div className={classes.root}>\r\n                    <Button\r\n                        size=\"small\"\r\n                        className={classes.btnClear}\r\n                        onClick={handleClearAllChips}\r\n                    >\r\n                        Clear all\r\n                    </Button>\r\n                    <ul className={classes.ul}>\r\n                        {chips.map((chip) => {\r\n                            return (\r\n                                <li key={chip.filterType}>\r\n                                    {chip.filterType !== ACTIVE_FILTER && chip.filterValue && (\r\n                                        <Chip\r\n                                            label={chip.filterValue}\r\n                                            onDelete={handleChipDelete(chip)}\r\n                                            className={classes.chip}\r\n                                            color=\"secondary\"\r\n                                        />\r\n                                    )}\r\n                                    {chip.filterType === ACTIVE_FILTER && (chip.filterValue !== null) && (\r\n                                        <Chip\r\n                                            label={chip.filterValue ? 'Active' : 'Inactive'}\r\n                                            onDelete={handleChipDelete(chip)}\r\n                                            className={classes.chip}\r\n                                            color=\"secondary\"\r\n                                        />\r\n                                    )}\r\n                                </li>\r\n                            )\r\n                        })}\r\n                    </ul>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Chips)\r\n\r\n// Chips.propTypes = {\r\n//     chips: PropTypes.array.isRequired,\r\n//     dispatch: PropTypes.func.isRequired,\r\n//     handleChipsRemoved: PropTypes.func,\r\n// }\r\n","export const Consts = {\r\n    headers: {\r\n        child1: 'Create Account',\r\n    },\r\n    operations: {\r\n        cancel: 'Cancel',\r\n        save: 'Save',\r\n    },\r\n    messages: {\r\n        info: '',\r\n        success: 'Created Successfully',\r\n        error: 'Created Failed',\r\n        warning: '',\r\n    },\r\n    fields: {\r\n        username: {\r\n            title: 'Username',\r\n        },\r\n        fullName: {\r\n            title: 'Full Name',\r\n        },\r\n        isMale: {\r\n            title: 'Gender *',\r\n            male: {\r\n                lb: 'Male',\r\n                value: 'true',\r\n            },\r\n            female: {\r\n                lb: 'Female',\r\n                value: 'false',\r\n            },\r\n        },\r\n        birthDate: {\r\n            title: 'Birthday',\r\n            format: 'dd/MM/yyyy',\r\n        },\r\n        email: {\r\n            title: 'Email',\r\n            helper: 'This email will be used to confirm account',\r\n        },\r\n        phone: {\r\n            title: 'Phone Number',\r\n        },\r\n        addr: {\r\n            title: 'Address',\r\n        },\r\n        status: {\r\n            title: 'Account Active *',\r\n        },\r\n        roles: {\r\n            title: 'Roles',\r\n        },\r\n    },\r\n}\r\n","export function setCookie(cName, cValue, exDays) {\r\n    const d = new Date()\r\n    d.setTime(d.getTime() + exDays * 24 * 60 * 60 * 1000)\r\n    const expires = 'expires=' + d.toUTCString()\r\n    document.cookie = cName + '=' + cValue + ';' + expires + ';path=/'\r\n}\r\n\r\nexport function getCookie(cName) {\r\n    const name = cName + '='\r\n    const decodedCookie = decodeURIComponent(document.cookie)\r\n    const ca = decodedCookie.split(';')\r\n    for (let i = 0; i < ca.length; i++) {\r\n        let c = ca[i]\r\n        while (c.charAt(0) === ' ') {\r\n            c = c.substring(1)\r\n        }\r\n        if (c.indexOf(name) === 0) {\r\n            return c.substring(name.length, c.length)\r\n        }\r\n    }\r\n    return ''\r\n}\r\n","export const roleNames = {\r\n    admin: 'ADMIN',\r\n    manager: 'SALES MANAGER',\r\n    supervisor: 'SALES SUPERVISOR',\r\n    salesman: 'SALESMAN',\r\n}\r\n\r\nexport const statusAcct = {\r\n    active: 'Active',\r\n    inactive: 'Inactive',\r\n}\r\n\r\nexport const statusNames = {\r\n    lead: 'Chưa hợp tác',\r\n    customer: 'Đang hợp tác',\r\n    pending: 'Ngưng hợp tác',\r\n    potential: 'Tiềm năng',\r\n}\r\n\r\nexport const schoolLevelNames = {\r\n    th: 'Tiểu học',\r\n    thcs: 'THCS',\r\n    thpt: 'THPT',\r\n    th_thcs: 'Tiểu học - THCS',\r\n    thcs_thpt: 'THCS - THPT',\r\n    th_thcs_thpt: 'Tiểu học - THCS - THPT',\r\n}\r\n\r\n// Đây là gtrị nhận lên từ BE\r\nexport const taskResultNames = {\r\n    tbd: 'TBD',\r\n    successful: 'successful',\r\n    failed: 'failed',\r\n}\r\n\r\n// Đây là các tên tự đặt phía FE\r\nexport const taskStatusNames = {\r\n    ongoing: 'Ongoing',\r\n    success: 'Successful',\r\n    failed: 'Failed',\r\n    notStart: 'Not Started',    // khi task chưa có PIC\r\n}\r\n\r\nexport const serviceNames = {\r\n    svc1: 'ESL',\r\n    svc2: 'SEL',\r\n    svc3: 'Toán Khoa',\r\n    svc4: 'STEAM',\r\n}\r\n\r\nexport const serviceStatusNames = {\r\n    pending: 'pending',\r\n    approved: 'approved',\r\n    rejected: 'rejected',\r\n}\r\n\r\nexport const kpiStatusNames = {\r\n    applying: 'Being applied',\r\n    expired: 'Expired',\r\n    disable: 'Disable',\r\n}\r\n\r\nexport const kpiDetailTypes = {\r\n    auto: 'auto',\r\n    manual: 'manual',\r\n}\r\n\r\nexport const purposeNames = {\r\n    purp1: 'Sales mới',\r\n    // purp2: 'Theo dõi',\r\n    purp3: 'Chăm sóc',\r\n    purp4: 'Tái ký hợp đồng',\r\n    purp5: 'Ký mới hợp đồng',\r\n}\r\n\r\nexport const suggestedReasons = {\r\n    distance: 'Distance',\r\n    ward: 'In Ward',\r\n    district: 'In District',\r\n    near: 'Nearly',\r\n    exp: 'Experience',\r\n    taskNo: 'Current assigned tasks',\r\n    fewTask: 'Few tasks',\r\n    quiteManyTask: 'Quite many tasks',\r\n    manyTask: 'Many tasks',\r\n    fullTask: 'Full tasks',\r\n}\r\n\r\n//==========================================================================\r\n\r\nexport const cookieNames = {\r\n    accessToken: 'accessToken',\r\n}\r\n\r\nexport const milkNames = {\r\n    token: 'notMe',\r\n    dists: 'dists',\r\n    eduLvls: 'eduLvls',\r\n    types: 'types',\r\n    // scales: 'scales',\r\n    status: 'status', // schoolStatus\r\n    roles: 'roles',\r\n    schYears: 'schYears',\r\n    salesPurps: 'salesPurps',\r\n}\r\n","import axios from 'axios'\r\nimport * as Cookies from '../utils/Cookies'\r\nimport { cookieNames } from '../constants/Generals'\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'http://salesmgtbe-env.eba-bhmmm56h.ap-southeast-1.elasticbeanstalk.com/',\r\n    // 'http://salesmgt-env.eba-nah9de8d.ap-southeast-1.elasticbeanstalk.com/', // current\r\n    // 'http://192.168.1.108:5000',\r\n    // 'http://majorsalesmanagement-env.eba-t3fgyvme.ap-southeast-1.elasticbeanstalk.com',  // old\r\n    headers: {\r\n        'Content-type': 'application/json',\r\n        'Access-Control-Allow-Origin': '*',\r\n        // 'Access-Control-Allow-Methods': 'GET,PUT,POST,DELETE,PATCH,OPTIONS',\r\n    },\r\n})\r\n\r\n// if (accessToken) {\r\n//     instance.defaults.headers.common['Authorization'] = `Bearer ${accessToken}`\r\n// } else {\r\n//     delete instance.defaults.headers.common['Authorization']\r\n// }\r\n\r\ninstance.interceptors.request.use(\r\n    (req) => {\r\n        const accessToken = Cookies.getCookie(cookieNames.accessToken)\r\n        if (accessToken) {\r\n            if (!req.url.includes('access-tokens')) {\r\n                req.headers['Authorization'] = `Bearer ${accessToken}`\r\n            }\r\n        }\r\n        return req\r\n    },\r\n    (error) => {\r\n        return Promise.reject(error)\r\n    },\r\n    { synchronous: true }\r\n)\r\n\r\nexport default instance\r\n","import Api from '../../services/Api'\r\n\r\nexport async function getAccounts(\r\n    page = 0,\r\n    limit = 10,\r\n    column = 'username',\r\n    direction = 'asc',\r\n    searchKey = undefined,\r\n    filters = undefined\r\n) {\r\n    let url = `/users?page=${page}&limit=${limit}&column=${column}&direction=${direction}`\r\n\r\n    url = searchKey ? url.concat(`&key=${searchKey}`) : url\r\n\r\n    if (filters) {\r\n        // url = filters['isActive'].filterValue ? url.concat('&active=true') : url.concat('&active=false');\r\n        // url = url.concat(`&active=${filters['isActive'].filterValue.isActive}`)\r\n        url = filters['isActive'].filterValue !== null\r\n            ? url.concat(`&active=${filters['isActive'].filterValue}`)\r\n            : url\r\n        url = filters['role'].filterValue\r\n            ? url.concat(`&role=${filters['role'].filterValue}`)\r\n            : url\r\n    }\r\n\r\n    const response = await Api.get(url)\r\n    // const data = await response.data\r\n\r\n    return response\r\n}\r\n\r\nexport async function getAccount(username) {\r\n    const response = await Api.get(`/users/${username}`)\r\n    const data = await response.data\r\n\r\n    return data\r\n}\r\n\r\nexport async function createAccount(account) {\r\n    const response = await Api.post('/users', account)\r\n    // const data = await response.data\r\n\r\n    return response\r\n}\r\n\r\nexport async function updateAccount(username, account) {\r\n    const response = await Api.put(`/users/${username}`, account)\r\n    // const data = await response.data\r\n\r\n    return response\r\n}\r\n","import Api from './Api'\r\nimport queryString from 'query-string'\r\n\r\nexport async function getSchoolYears() {\r\n    const response = await Api.get('/school-years')\r\n    const data = await response.data\r\n    return data\r\n}\r\n\r\nexport async function getDistricts() {\r\n    const response = await Api.get('/districts')\r\n    const data = await response.data\r\n    return data\r\n}\r\n\r\nexport async function getEducationalLevels() {\r\n    const response = await Api.get('/levels')\r\n    const data = await response.data\r\n    return data\r\n}\r\n\r\n// export async function getSchoolScales() {\r\n//     const response = await Api.get('/scales')\r\n//     const data = await response.data\r\n//     return data\r\n// }\r\n\r\nexport async function getSchoolTypes() {\r\n    const response = await Api.get('/types')\r\n    const data = await response.data\r\n    return data\r\n}\r\n\r\nexport async function getSchoolStatus() {\r\n    const response = await Api.get('/school-status')\r\n    const data = await response.data\r\n    return data\r\n}\r\n\r\nexport async function getPICs(params) {\r\n    const paramString = queryString.stringify(params)\r\n    const response = await Api.get(`/users?${paramString}`)\r\n    const data = await response.data\r\n    return data.list\r\n}\r\n\r\nexport async function getPurposes() {\r\n    const response = await Api.get('/purposes')\r\n    const data = await response.data\r\n    return data\r\n}\r\n\r\nexport async function getRoles() {\r\n    const response = await Api.get('/roles')\r\n    const data = await response.data\r\n    return data\r\n}\r\n","export function setMilkExpiry(key, value, ttl) {\r\n    const now = new Date()\r\n\r\n    // `item` is an object which contains the original value\r\n    // as well as the time when it's supposed to expire\r\n    const item = {\r\n        value: value,\r\n        expiry: now.getTime() + ttl * 60 * 60 * 1000,\r\n    }\r\n    localStorage.setItem(key, JSON.stringify(item))\r\n}\r\n\r\nexport function getMilkExpiry(key) {\r\n    const itemStr = localStorage.getItem(key)\r\n    // if the item doesn't exist, return null\r\n    if (!itemStr) {\r\n        return null\r\n    }\r\n    const item = JSON.parse(itemStr)\r\n    const now = new Date()\r\n    // Compare the expiry time of the item with the current time\r\n    if (now.getTime() > item.expiry) {\r\n        // If the item is expired, delete the item from storage\r\n        // and return null\r\n        localStorage.removeItem(key)\r\n        return null\r\n    }\r\n    return item.value\r\n}\r\n\r\nexport function setMilk(key, value) {\r\n    const item = {\r\n        value: value,\r\n    }\r\n    localStorage.setItem(key, JSON.stringify(item))\r\n}\r\n\r\nexport function getMilk(key) {\r\n    const itemStr = localStorage.getItem(key)\r\n    if (!itemStr) {\r\n        return null\r\n    }\r\n    const item = JSON.parse(itemStr)\r\n\r\n    // console.log('Filters from storages: ', item);\r\n\r\n    return item.value\r\n}\r\n\r\n// export function makeSour(key) {\r\n//     localStorage.removeItem(key)\r\n// }\r\n\r\nexport function makeSour(keys) {\r\n    keys.forEach((key) => {\r\n        localStorage.removeItem(key)\r\n    })\r\n}\r\n","import React, { createContext, useContext, useState, useEffect } from 'react'\r\nimport * as FiltersServices from '../services/FiltersServices'\r\nimport * as Milk from '../utils/Milk'\r\nimport { milkNames } from '../constants/Generals'\r\n\r\nconst AppContext = createContext()\r\n\r\nexport function useApp() {\r\n    return useContext(AppContext)\r\n}\r\n\r\nfunction useAppProvider() {\r\n    const [userInfo, setUserInfo] = useState(null)\r\n\r\n    const [dists, setDists] = useState(\r\n        Milk?.getMilk(milkNames?.dists) ? Milk?.getMilk(milkNames?.dists) : null\r\n    )\r\n    const [schEduLvls, setSchEduLvls] = useState(\r\n        Milk?.getMilk(milkNames?.eduLvls) ? Milk?.getMilk(milkNames?.eduLvls) : null\r\n    )\r\n    // const [schScales, setSchScales] = useState(\r\n    //     Milk?.getMilk(milkNames?.types) ? Milk?.getMilk(milkNames?.types) : null\r\n    // )\r\n    const [schTypes, setSchTypes] = useState(\r\n        Milk?.getMilk(milkNames?.types) ? Milk?.getMilk(milkNames?.types) : null\r\n    )\r\n    const [schStatus, setSchStatus] = useState(\r\n        Milk?.getMilk(milkNames?.status) ? Milk?.getMilk(milkNames?.status) : null\r\n    )\r\n    const [roles, setRoles] = useState(\r\n        Milk?.getMilk(milkNames?.roles) ? Milk?.getMilk(milkNames?.roles) : null\r\n    )\r\n    const [schYears, setSchYears] = useState(\r\n        Milk?.getMilk(milkNames?.schYears)\r\n            ? Milk?.getMilk(milkNames?.schYears)\r\n            : null\r\n    )\r\n    const [salesPurps, setSalesPurps] = useState(\r\n        Milk?.getMilk(milkNames?.salesPurps)\r\n            ? Milk?.getMilk(milkNames?.salesPurps)\r\n            : null\r\n    )\r\n\r\n    useEffect(() => {\r\n        FiltersServices.getDistricts()\r\n            .then((data) => {\r\n                if (data) {\r\n                    Milk?.setMilk(milkNames?.dists, data)\r\n                    setDists(Milk?.getMilk(milkNames?.dists))\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                }\r\n            })\r\n        // Clean the state when the component is unmount\r\n        // return () => {\r\n        //     setDists(null);\r\n        // }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        FiltersServices.getEducationalLevels()\r\n            .then((data) => {\r\n                if (data) {\r\n                    Milk?.setMilk(milkNames?.eduLvls, data)\r\n                    setSchEduLvls(Milk?.getMilk(milkNames?.eduLvls))\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                }\r\n            })\r\n        // return () => setSchEduLvls(null)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        FiltersServices.getSchoolTypes()\r\n            .then((data) => {\r\n                if (data) {\r\n                    Milk?.setMilk(milkNames?.types, data)\r\n                    setSchTypes(Milk?.getMilk(milkNames?.types))\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                }\r\n            })\r\n        // return () => setSchTypes(null)\r\n    }, [])\r\n\r\n    // useEffect(() => {\r\n    //     FiltersServices.getSchoolScales()\r\n    //         .then((data) => {\r\n    //             Milk?.setMilk(milkNames?.scales, data)\r\n    //             setSchScales(Milk?.getMilk(milkNames?.scales))\r\n    //         })\r\n    //         .catch((error) => {\r\n    //             if (error.response) {\r\n    //                 console.log(error)\r\n    //             }\r\n    //         })\r\n    //     // return () => setSchScales(null)\r\n    // }, [])\r\n\r\n    useEffect(() => {\r\n        FiltersServices.getSchoolStatus()\r\n            .then((data) => {\r\n                if (data) {\r\n                    Milk?.setMilk(milkNames?.status, data)\r\n                    setSchStatus(Milk?.getMilk(milkNames?.status))\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                }\r\n            })\r\n        // return () => setSchStatus(null)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        FiltersServices.getRoles()\r\n            .then((data) => {\r\n                if (data) {\r\n                    Milk?.setMilk(milkNames?.roles, data)\r\n                    setRoles(Milk?.getMilk(milkNames?.roles))\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                }\r\n            })\r\n        // return () => setRoles(null)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        FiltersServices.getPurposes()\r\n            .then((data) => {\r\n                if (data) {\r\n                    Milk?.setMilk(milkNames?.salesPurps, data)\r\n\r\n                    setSalesPurps(Milk?.getMilk(milkNames?.salesPurps))\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                }\r\n            })\r\n        // return () => setSalesPurps(null)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        FiltersServices.getSchoolYears()\r\n            .then((data) => {\r\n                if (data) {\r\n                    Milk?.setMilk(milkNames?.schYears, data)\r\n\r\n                    setSchYears(Milk?.getMilk(milkNames?.schYears))\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                }\r\n            })\r\n        // return () => setSchYears(null)\r\n    }, [])\r\n\r\n    return {\r\n        userInfo,\r\n        setUserInfo,\r\n        dists,\r\n        schEduLvls,\r\n        schTypes,\r\n        // schScales,\r\n        schStatus,\r\n        roles,\r\n        schYears,\r\n        salesPurps,\r\n    }\r\n}\r\n\r\nfunction AppProvider(props) {\r\n    const { children } = props\r\n\r\n    const app = useAppProvider()\r\n\r\n    return <AppContext.Provider value={app}>{children}</AppContext.Provider>\r\n}\r\n\r\nexport default AppProvider\r\n","// Only has alphabet and number between 8 to 30 chars\r\nexport const USERNAME_RGX = /^[a-zA-Z0-9]{8,30}$/g\r\n// Has at least 8 chars and contains lowercase, uppercase, number and special chars\r\nexport const PWD_RGX =\r\n    /^(?=.*[a-z])(?=.*[A-Z])(?=.*[\\d])(?=.*[@$!%*#?&])(?=.{8,})/g\r\n// Only has at least alphabet or number\r\nexport const VERIFY_CODE_RGX = /^[a-zA-Z0-9]{10}$/g\r\n\r\n// Only has alphabet(vietnamese) and spcae between 4 to 30\r\nexport const FULLNAME_RGX =\r\n    /^[àảãáạăằẳẵắặâầẩẫấậđĐèẻẽéẹêềểễếệìỉĩíịòỏõóọôồổỗốộơờởỡớợùủũúụưừửữứựỳỷỹýa-zA-Z]+(?:\\s[àảãáạăằẳẵắặâầẩẫấậđĐèẻẽéẹêềểễếệìỉĩíịòỏõóọôồổỗốộơờởỡớợùủũúụưừửữứựỳỷỹýa-zA-Z]+)*$/g\r\n// /^[a-zA-Z]+(?:\\s[a-zA-Z]+)+$/g\r\n// Only has alphabet(vietnamese) and spcae between 3 to 30\r\nexport const SCHOOL_NAME_RGX =\r\n    /^[àảãáạăằẳẵắặâầẩẫấậđĐèẻẽéẹêềểễếệìỉĩíịòỏõóọôồổỗốộơờởỡớợùủũúụưừửữứựỳỷỹýa-zA-Z]+(?:\\s[àảãáạăằẳẵắặâầẩẫấậđĐèẻẽéẹêềểễếệìỉĩíịòỏõóọôồổỗốộơờởỡớợùủũúụưừửữứựỳỷỹýa-zA-Z]+)*$/g\r\n\r\n// Has 10 digits and starts with 03, 05, 07, 08, 09\r\nexport const PHONE_RGX = /(0[3|5|7|8|9])+([\\d]{8})$/g\r\n// Has 11 digits and starts with 02\r\nexport const TEL_RGX = /(02)+([\\d]{9})$/g\r\n\r\n// Only has number 0-9\r\n// export const DURATION_RGX = /^[\\d]+$/g\r\nexport const DURATION_RGX = /^([1-9])[\\d]*$/g\r\n","import * as Actions from '../../../constants/ActionTypes'\r\n\r\nexport const AccountReducer = (params, action) => {\r\n    const { type, payload } = action\r\n    const { listFilters } = params\r\n\r\n    switch (type) {\r\n        case Actions.FILTER_ACTIVE:\r\n            return {\r\n                ...params,\r\n                page: 0,\r\n                listFilters: { ...listFilters, isActive: payload },\r\n            }\r\n        case Actions.FILTER_ROLE:\r\n            return {\r\n                ...params,\r\n                page: 0,\r\n                listFilters: { ...listFilters, role: payload },\r\n            }\r\n\r\n        case Actions.ENTER_SEARCH_KEYWORD:\r\n            return { ...params, page: 0, searchKey: payload }\r\n\r\n        case Actions.SORT_BY:\r\n            return {\r\n                ...params,\r\n                column: payload.column,\r\n                direction: payload.direction,\r\n            }\r\n\r\n        case Actions.CHANGE_PAGE:\r\n            return { ...params, page: payload.page, limit: payload.limit }\r\n\r\n        default:\r\n            return params\r\n    }\r\n}\r\n","import React, { useState, useContext, createContext, useReducer } from 'react'\r\nimport { AccountReducer } from './AccountReducer'\r\nimport { ACTIVE_FILTER, ROLE_FILTER } from '../../../constants/Filters'\r\n\r\nconst AccountContext = createContext()\r\n\r\nexport function useAccount() {\r\n    return useContext(AccountContext)\r\n}\r\n\r\nlet defaultFilters = {\r\n    // isActive: { filterType: ACTIVE_FILTER, filterValue: { isActive: true, status: 'Active' } },\r\n    isActive: { filterType: ACTIVE_FILTER, filterValue: null },\r\n    role: { filterType: ROLE_FILTER, filterValue: '' },\r\n}\r\n\r\nfunction useAccountProvider() {\r\n    // Reducer\r\n    const [params, dispatchParams] = useReducer(AccountReducer, {\r\n        listFilters: defaultFilters,\r\n        searchKey: '',\r\n        page: 0,\r\n        limit: 10,\r\n        column: 'username',\r\n        direction: 'asc',\r\n    })\r\n\r\n    // Paging\r\n    const [page, setPage] = useState(params.page)\r\n    const [limit, setLimit] = useState(params.limit)\r\n\r\n    // Sorting\r\n    const [column, setColumn] = useState(params.column)\r\n    const [direction, setDirection] = useState(params.direction)\r\n\r\n    //Filters\r\n    // const workingStatuses = [\r\n    //     { isActive: true, status: 'Active' },\r\n    //     { isActive: false, status: 'Inactive' }\r\n    // ]\r\n    const workingStatuses = [null, true, false];\r\n\r\n    const [isActive, setIsActive] = useState(\r\n        defaultFilters.isActive.filterValue\r\n            ? defaultFilters.isActive.filterValue\r\n            : null // { isActive: true, status: 'Active' }\r\n    )\r\n\r\n    const [role, setRole] = useState(\r\n        defaultFilters.role.filterValue ? defaultFilters.role.filterValue : ''\r\n    )\r\n\r\n    const [testState, setTestState] = useState('');\r\n    setTestState('abc')\r\n\r\n    // APIs\r\n    // const isActives = [true, false]  // bỏ, chỉ có 2 gtrị thì làm luôn FE\r\n    // const [roles, setRoles] = useState([])   // Bỏ, dùng cái bên LocalStorage\r\n\r\n    // Search field (do not have)\r\n\r\n    // Move API get filter's data to AppContext\r\n\r\n    // Fix major BUG\r\n    const setFilter = (key, value) => {\r\n        // console.log('setFilter - value = ', value);\r\n\r\n        switch (key) {\r\n            case ACTIVE_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    isActive: { filterType: ACTIVE_FILTER, filterValue: value },\r\n                }\r\n                // console.log('setFilter - value.status = ', value.status);\r\n                setIsActive(value)\r\n                break\r\n            case ROLE_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    role: { filterType: ROLE_FILTER, filterValue: value },\r\n                }\r\n                setRole(value)\r\n                break\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    return {\r\n        params,\r\n        dispatchParams,\r\n        page,\r\n        setPage,\r\n        limit,\r\n        setLimit,\r\n        direction,\r\n        setDirection,\r\n        column,\r\n        setColumn,\r\n        isActive,\r\n        // setIsActive,\r\n        role,\r\n        // setRole,\r\n        workingStatuses,\r\n        setFilter\r\n    }\r\n}\r\n\r\nfunction AccountProvider(props) {\r\n    const { children } = props\r\n    const account = useAccountProvider()\r\n\r\n    return (\r\n        <AccountContext.Provider value={account}>\r\n            {children}\r\n        </AccountContext.Provider>\r\n    )\r\n}\r\n\r\nexport default AccountProvider\r\n","import firebase from 'firebase'\r\nimport 'firebase/storage'\r\nimport 'firebase/database'\r\n\r\nconst firebaseConfig = {\r\n    apiKey: 'AIzaSyCHSm_Ao_JD7lLjcx8_Y5IAa6dhrmDfWp0',\r\n    authDomain: 'major-sales-management.firebaseapp.com',\r\n    projectId: 'major-sales-management',\r\n    storageBucket: 'major-sales-management.appspot.com',\r\n    messagingSenderId: '800377937110',\r\n    appId: '1:800377937110:web:ae18c4322926c9ffe7fd77',\r\n}\r\n\r\nfirebase.initializeApp(firebaseConfig)\r\nconst storage = firebase.app().storage()\r\nconst app = firebase.app()\r\nexport { storage, app, firebase as default }\r\n","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport {\r\n    Button,\r\n    TextField,\r\n    DialogContent,\r\n    DialogActions,\r\n    FormControlLabel,\r\n    Grid,\r\n    InputLabel,\r\n    FormControl,\r\n    Select,\r\n    MenuItem,\r\n    makeStyles,\r\n    RadioGroup,\r\n    Radio,\r\n} from '@material-ui/core'\r\nimport { KeyboardDatePicker, MuiPickersUtilsProvider } from 'mui-pickers-v3'\r\nimport DateFnsUtils from '@date-io/date-fns'\r\nimport moment from 'moment'\r\nimport { Controller, useForm } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport * as AccountsServices from '../../AccountsServices'\r\nimport { Consts } from '../../dialogs/DialogConfig'\r\nimport { useApp } from '../../../../hooks/AppContext'\r\nimport { USERNAME_RGX, PHONE_RGX } from '../../../../utils/Regex'\r\nimport * as Milk from '../../../../utils/Milk'\r\nimport { milkNames } from '../../../../constants/Generals'\r\nimport { useAccount } from '../../hooks/AccountContext'\r\nimport { app as FirebaseApp } from '../../../../services/firebase'\r\nimport { AddressField } from '../../../../components'\r\nimport { useSnackbar } from 'notistack'\r\nimport classes from './CreateAccount.module.scss'\r\n\r\nconst clientSchema = yup.object().shape({\r\n    username: yup\r\n        .string()\r\n        .trim()\r\n        .min(8, 'Username must be at least 8 characters')\r\n        .max(30, 'Username must be at most 30 characters')\r\n        .required('Username is required')\r\n        .matches(USERNAME_RGX, 'Incorrect entry'),\r\n    fullName: yup\r\n        .string()\r\n        .trim()\r\n        .min(4, 'Full Name must be at least 4 characters')\r\n        .max(30, 'Full Name must be at most 30 characters')\r\n        .required('Full Name is required'),\r\n    phone: yup\r\n        .string()\r\n        .required('Phone is required')\r\n        .max(10, 'Phone must be at most 10 digits and has the correct format')\r\n        .matches(\r\n            PHONE_RGX,\r\n            'Phone number is in wrong format (03|5|7|9xxxxxxxx)'\r\n        ),\r\n    email: yup\r\n        .string()\r\n        .trim()\r\n        .email('Invalid email')\r\n        .required('Email is required'),\r\n    // address: yup.string().trim().required('Address is required'),\r\n})\r\n\r\nconst serverSchema = [\r\n    {\r\n        type: 'server',\r\n        name: 'username',\r\n        message: 'Username already exists',\r\n    },\r\n]\r\n\r\nconst ITEM_HEIGHT = 120\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT,\r\n        },\r\n    },\r\n    anchorOrigin: {\r\n        vertical: 'top',\r\n        horizontal: 'center',\r\n    },\r\n    transformOrigin: {\r\n        vertical: 'top',\r\n        horizontal: 'center',\r\n    },\r\n    getContentAnchorEl: null,\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {},\r\n    menuItemRoot: {\r\n        '&$menuItemSelected': { backgroundColor: 'rgba(0, 0, 0, 0.08)' },\r\n        '&$menuItemSelected:focus': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.12)',\r\n        },\r\n        '&$menuItemSelected:hover': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.04);',\r\n        },\r\n    },\r\n    menuItemSelected: {},\r\n    formControl: {\r\n        width: 200,\r\n    },\r\n}))\r\n\r\nfunction CreateAccountForm(props) {\r\n    const { onClose, refreshPage } = props\r\n    const { operations, fields, messages } = Consts\r\n    const styles = useStyles()\r\n\r\n    const { enqueueSnackbar } = useSnackbar()\r\n\r\n    const { roles } = useApp()\r\n    const bakRoles = roles ? roles : Milk.getMilk(milkNames.roles)\r\n\r\n    const history = useHistory()\r\n\r\n    const { params } = useAccount()\r\n    const { page, limit, column, direction, searchKey, listFilters } = params\r\n\r\n    // let latitude = 0.0, longitude = 0.0\r\n    const [address, setAddress] = useState('')\r\n    const [latitude, setLatitude] = useState(0.0)\r\n    const [longitude, setLongitude] = useState(0.0)\r\n\r\n    const defaultValues = {\r\n        username: '',\r\n        fullName: '',\r\n        roleName: bakRoles[3],\r\n        phone: '',\r\n        email: '',\r\n        address: address,\r\n        // latitude: latitude,\r\n        // longitude: longitude,\r\n        isMale: String(true),\r\n        birthDate: null,\r\n    }\r\n\r\n    const createNoti = (user) => {\r\n        new Promise((resolve, reject) => {\r\n            const notiRef = FirebaseApp.database()\r\n                .ref('notify')\r\n                .child(user.username)\r\n                .push({\r\n                    avatar:\r\n                        'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Fmajor-logo.png?alt=media&token=64f5c1ee-2428-4b99-b803-51a45422cdc1',\r\n                    actor: 'System',\r\n                    type: 'Welcome',\r\n                    content: 'Welcome to Sales Department of Major Education!',\r\n                    timestamp: moment(new Date()).format('YYYY-MM-DD HH:mm:ss'),\r\n                    uid: 0,\r\n                    isSeen: false,\r\n                })\r\n        })\r\n    }\r\n\r\n    const { control, handleSubmit, errors, setError, formState, reset } =\r\n        useForm({\r\n            resolver: yupResolver(clientSchema),\r\n            defaultValues: defaultValues,\r\n        })\r\n\r\n    const onSubmit = (data) => {\r\n        // console.log('---------form nè---------');\r\n        // console.log('address nè: ', address);\r\n        // console.log(`[${latitude}, ${longitude}]`);\r\n\r\n        const model = {\r\n            ...data,\r\n            isMale: data?.isMale === 'true' ? true : false,\r\n            birthDate: data?.birthDate\r\n                ? moment(data?.birthDate).format('YYYY-MM-DD')\r\n                : null,\r\n            address: address,\r\n            latitude: latitude,\r\n            longitude: longitude,\r\n        }\r\n\r\n        AccountsServices.createAccount(model)\r\n            .then((res) => {\r\n                enqueueSnackbar(\"Created Account successfully\", { variant: 'success' })\r\n\r\n                createNoti(model)\r\n                refreshPage(\r\n                    page,\r\n                    limit,\r\n                    column,\r\n                    direction,\r\n                    searchKey,\r\n                    listFilters\r\n                )\r\n                // reset({\r\n                //     username: '',\r\n                //     fullName: '',\r\n                //     roleName: bakRoles[3],\r\n                //     phone: '',\r\n                //     email: '',\r\n                //     address: '',\r\n                //     isMale: String(true),\r\n                //     birthDate: null,\r\n                // })\r\n                onClose()\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    if (\r\n                        error.response.status === 409 ||\r\n                        error.response.status === 500\r\n                    ) {\r\n                        serverSchema.forEach(({ name, type, message }) =>\r\n                            setError(name, { type, message })\r\n                        )\r\n                    } else {\r\n                        history.push({\r\n                            pathname: '/errors',\r\n                            state: { error: error.response.status },\r\n                        })\r\n                    }\r\n\r\n                    enqueueSnackbar(messages.error, { variant: 'error' })\r\n                }\r\n            })\r\n\r\n        // alert(JSON.stringify(model))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <DialogContent className={classes.dialogCont}>\r\n                <form\r\n                    noValidate\r\n                // onSubmit={handleSubmit(onSubmit)}\r\n                >\r\n                    <Grid container spacing={2} className={classes.wrapper}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                            <Controller\r\n                                name=\"username\"\r\n                                control={control}\r\n                                render={({ value, onChange }) => (\r\n                                    <TextField\r\n                                        label={fields.username.title}\r\n                                        variant=\"outlined\"\r\n                                        required\r\n                                        fullWidth\r\n                                        autoFocus\r\n                                        value={value}\r\n                                        onChange={onChange}\r\n                                        error={!!errors.username}\r\n                                        helperText={errors?.username?.message}\r\n                                    />\r\n                                )}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                            <Controller\r\n                                name=\"fullName\"\r\n                                control={control}\r\n                                render={({ value, onChange }) => (\r\n                                    <TextField\r\n                                        label={fields.fullName.title}\r\n                                        variant=\"outlined\"\r\n                                        required\r\n                                        fullWidth\r\n                                        value={value}\r\n                                        onChange={onChange}\r\n                                        error={!!errors.fullName}\r\n                                        helperText={errors?.fullName?.message}\r\n                                    />\r\n                                )}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                            <Controller\r\n                                name=\"phone\"\r\n                                control={control}\r\n                                render={({ value, onChange }) => (\r\n                                    <TextField\r\n                                        label={fields.phone.title}\r\n                                        variant=\"outlined\"\r\n                                        required\r\n                                        fullWidth\r\n                                        value={value}\r\n                                        onChange={onChange}\r\n                                        error={!!errors.phone}\r\n                                        helperText={errors?.phone?.message}\r\n                                    />\r\n                                )}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                            <Controller\r\n                                name=\"email\"\r\n                                control={control}\r\n                                render={({ value, onChange }) => (\r\n                                    <TextField\r\n                                        label={fields.email.title}\r\n                                        variant=\"outlined\"\r\n                                        required\r\n                                        fullWidth\r\n                                        value={value}\r\n                                        onChange={onChange}\r\n                                        error={!!errors.email}\r\n                                        helperText={\r\n                                            errors?.email?.message ||\r\n                                            fields.email.helper\r\n                                        }\r\n                                    />\r\n                                )}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                            {/* <InputLabel>{fields.addr.title}</InputLabel> */}\r\n                            <AddressField\r\n                                setLatitude={setLatitude}\r\n                                setLongitude={setLongitude}\r\n                                inputValue={address}\r\n                                setInputValue={setAddress}\r\n                            />\r\n                            {/* <Controller\r\n                                name=\"address\"\r\n                                control={control}\r\n                                render={({ value, onChange }) => (\r\n                                    <TextField\r\n                                        label={fields.addr.title}\r\n                                        variant=\"outlined\"\r\n                                        fullWidth\r\n                                        value={value || ''}\r\n                                        onChange={onChange}\r\n                                        error={!!errors.address}\r\n                                        helperText={errors?.address?.message}\r\n                                    />\r\n                                )}\r\n                            /> */}\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6} md={6} lg={6}>\r\n                            <InputLabel>{fields.isMale.title}</InputLabel>\r\n                            <Controller\r\n                                name=\"isMale\"\r\n                                control={control}\r\n                                render={({ value, onChange }) => (\r\n                                    <RadioGroup\r\n                                        value={value}\r\n                                        onChange={onChange}\r\n                                        row\r\n                                    >\r\n                                        <FormControlLabel\r\n                                            label={fields.isMale.male.lb}\r\n                                            value={fields.isMale.male.value}\r\n                                            control={<Radio />}\r\n                                        />\r\n                                        <FormControlLabel\r\n                                            label={fields.isMale.female.lb}\r\n                                            value={fields.isMale.female.value}\r\n                                            control={<Radio />}\r\n                                        />\r\n                                    </RadioGroup>\r\n                                )}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6} md={6} lg={6}>\r\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                <Controller\r\n                                    name=\"birthDate\"\r\n                                    control={control}\r\n                                    render={({ ref, ...rest }) => (\r\n                                        <KeyboardDatePicker\r\n                                            label={fields.birthDate.title}\r\n                                            format={fields.birthDate.format}\r\n                                            allowKeyboardControl\r\n                                            disableFuture\r\n                                            {...rest}\r\n                                        />\r\n                                    )}\r\n                                />\r\n                            </MuiPickersUtilsProvider>\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                            <FormControl\r\n                                className={styles.formControl}\r\n                                required\r\n                            >\r\n                                <InputLabel>{fields.roles.title}</InputLabel>\r\n                                <Controller\r\n                                    name=\"roleName\"\r\n                                    control={control}\r\n                                    render={({ value, onChange }) => (\r\n                                        <Select\r\n                                            value={value}\r\n                                            onChange={onChange}\r\n                                            MenuProps={MenuProps}\r\n                                            disableUnderline\r\n                                        >\r\n                                            {bakRoles.map((data) => (\r\n                                                <MenuItem\r\n                                                    key={data}\r\n                                                    value={data}\r\n                                                    classes={{\r\n                                                        root: styles.menuItemRoot,\r\n                                                        selected:\r\n                                                            styles.menuItemSelected,\r\n                                                    }}\r\n                                                >\r\n                                                    {data}\r\n                                                </MenuItem>\r\n                                            ))}\r\n                                        </Select>\r\n                                    )}\r\n                                />\r\n                            </FormControl>\r\n                        </Grid>\r\n                    </Grid>\r\n                </form>\r\n            </DialogContent>\r\n\r\n            <DialogActions className={classes.dialogAct}>\r\n                <Button\r\n                    className={classes.btnSave}\r\n                    // type=\"submit\"\r\n                    disabled={!formState.isDirty}\r\n                    onClick={handleSubmit(onSubmit)}\r\n                >\r\n                    {operations.save}\r\n                </Button>\r\n                <Button\r\n                    onClick={() => {\r\n                        reset({\r\n                            errors: false,\r\n                            username: '',\r\n                            fullName: '',\r\n                            roleName: bakRoles[3],\r\n                            phone: '',\r\n                            email: '',\r\n                            address: '',\r\n                            isMale: String(true),\r\n                            birthDate: null,\r\n                        })\r\n                        onClose()\r\n                    }}\r\n                >\r\n                    {operations.cancel}\r\n                </Button>\r\n            </DialogActions>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CreateAccountForm\r\n","import React from 'react'\r\nimport {\r\n    Dialog,\r\n    IconButton,\r\n    DialogTitle,\r\n    Typography,\r\n    withStyles,\r\n} from '@material-ui/core'\r\nimport { MdClose } from 'react-icons/md'\r\nimport { Consts } from '../DialogConfig'\r\nimport CreateAccountForm from './CreateAccountForm'\r\n\r\nconst stylesTitle = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n})\r\n\r\nconst DialogTitleWithIconClose = withStyles(stylesTitle)((props) => {\r\n    const { children, classes, onClose, ...other } = props\r\n    return (\r\n        <DialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton className={classes.closeButton} onClick={onClose}>\r\n                    <MdClose />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    )\r\n})\r\n\r\nfunction CreateAccount(props) {\r\n    const { open, onClose, refreshPage } = props\r\n\r\n    const { headers } = Consts\r\n\r\n    return (\r\n        <>\r\n            <Dialog open={open} onClose={onClose} maxWidth=\"xs\">\r\n                <DialogTitleWithIconClose onClose={onClose}>\r\n                    {headers.child1}\r\n                </DialogTitleWithIconClose>\r\n                <CreateAccountForm\r\n                    onClose={onClose}\r\n                    refreshPage={refreshPage}\r\n                />\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CreateAccount\r\n","export const columns = [\r\n    { key: 'no', name: '#', sortable: false },\r\n    { key: 'username', name: 'Username', sortable: true },\r\n    { key: 'fullName', name: 'Full Name', sortable: true },\r\n    { key: 'phone', name: 'Phone', sortable: false },\r\n    { key: 'email', name: 'Email', sortable: false },\r\n    { key: 'role', name: 'Role', sortable: true },\r\n    { key: '', name: '', sortable: false },\r\n]\r\n\r\nexport const acctConsts = {\r\n    linkNames: {\r\n        back: 'Accounts',\r\n    },\r\n    tabNames: {\r\n        tab1: 'General Info',\r\n    },\r\n    operations: {\r\n        notFound: 'Account Not Found',\r\n    },\r\n}\r\n\r\nexport const Consts = {\r\n    operations: {\r\n        filter: 'Filters',\r\n        search: {\r\n            placeholder: 'Search...',\r\n        },\r\n        create: 'Create',\r\n        notFound: 'Account Not Found',\r\n    },\r\n    filters: {\r\n        workingStatus: {\r\n            title: 'Working Status',\r\n            options: {\r\n                all: 'All',\r\n                active: 'Active',\r\n                inactive: 'Inactive',\r\n            },\r\n        },\r\n        role: {\r\n            title: 'Roles',\r\n        },\r\n    },\r\n    messages: {\r\n        notFound: 'No records found.',\r\n        info: '',\r\n        success: 'Updated Successfully',\r\n        error: 'Updated Failed',\r\n        warning: '',\r\n    },\r\n    menuItems: {\r\n        details: {\r\n            title: 'View details',\r\n        },\r\n    },\r\n}\r\n","import React, { useState } from 'react'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n    Accordion,\r\n    AccordionSummary,\r\n    AccordionDetails,\r\n    Typography,\r\n    Select,\r\n    Grid,\r\n    Box,\r\n    InputLabel,\r\n    MenuItem,\r\n    FormControl,\r\n    Button,\r\n    Tooltip,\r\n} from '@material-ui/core'\r\nimport { MdAdd, MdExpandMore, MdFilterList } from 'react-icons/md'\r\nimport { SearchFields } from '../../../../components'\r\nimport Chips from './Chips/Chips'\r\nimport CreateAccount from '../../dialogs/CreateAccount/CreateAccount'\r\nimport * as ReducerActions from '../../../../constants/ActionTypes'\r\nimport { useAccount } from '../../hooks/AccountContext'\r\nimport { ACTIVE_FILTER, ROLE_FILTER } from '../../../../constants/Filters'\r\nimport { useApp } from '../../../../hooks/AppContext'\r\nimport * as Milk from '../../../../utils/Milk'\r\nimport { milkNames } from '../../../../constants/Generals'\r\nimport { Consts } from '../../AccountsConfig'\r\nimport styles from './Filters.module.scss'\r\n\r\n//===============Set max-height for dropdown list===============\r\nconst ITEM_HEIGHT = 38\r\nconst ITEM_PADDING_TOP = 5\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT * 4 + ITEM_PADDING_TOP,\r\n        },\r\n    },\r\n}\r\n//==============================================================\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    formControl: {\r\n        margin: '0.3rem 0',\r\n        minWidth: 160,\r\n    },\r\n    flexBox: {\r\n        padding: 0,\r\n    },\r\n    flexItem: {\r\n        padding: 0,\r\n    },\r\n    option: {\r\n        fontSize: '0.875rem',\r\n    },\r\n    btn: {\r\n        padding: '0.5rem',\r\n        marginLeft: '0.5rem',\r\n        borderRadius: '8px',\r\n        // minWidth: 3, // minHeight: 0, // lineHeight: 0,\r\n    },\r\n    root: {},\r\n    menuItemRoot: {\r\n        '&$menuItemSelected': { backgroundColor: 'rgba(0, 0, 0, 0.08)' },\r\n        '&$menuItemSelected:focus': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.12)',\r\n        },\r\n        '&$menuItemSelected:hover': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.04);',\r\n        },\r\n    },\r\n    menuItemSelected: {},\r\n}))\r\n\r\nconst MuiAccordion = withStyles({\r\n    root: {\r\n        backgroundColor: 'rgb(238, 238, 238)',\r\n        // backgroundColor: 'rgb(255, 255, 255)',\r\n        borderRadius: '8px',\r\n        marginBottom: '0.5rem',\r\n        boxShadow: 'none',\r\n        '&:not(:last-child)': {\r\n            borderBottom: 0,\r\n            borderRadius: '8px',\r\n        },\r\n        '&:before': {\r\n            display: 'none',\r\n        },\r\n        '&$expanded': {\r\n            margin: 'auto',\r\n            borderRadius: '8px',\r\n        },\r\n    },\r\n    expanded: {},\r\n})(Accordion)\r\n\r\nconst MuiAccordionSummary = withStyles({\r\n    root: {\r\n        height: 41.5,\r\n        minHeight: 35,\r\n        maxWidth: 120,\r\n        backgroundColor: 'rgb(255, 255, 255)',\r\n        fontWeight: 'bold',\r\n        // borderBottom: '1px solid rgba(0, 0, 0, .125)',\r\n        // boxShadow: '1px 1px 2px gray',\r\n        boxShadow: '0 4px 6px -6px #000', // 0px 1px 1px gray\r\n        borderRadius: '8px',\r\n        paddingButtom: 0,\r\n        '&$expanded': {\r\n            minHeight: 35,\r\n            borderRadius: '8px',\r\n        },\r\n    },\r\n    content: {\r\n        '&$expanded': {\r\n            margin: '12px 0',\r\n        },\r\n    },\r\n    expanded: {},\r\n})(AccordionSummary)\r\n\r\nconst MuiAccordionDetails = withStyles((theme) => ({\r\n    root: {\r\n        backgroundColor: 'rgb(255, 255, 255)',\r\n        margin: '0.5rem 0',\r\n        padding: '0.3rem 0 1rem 2rem',\r\n        borderRadius: '8px',\r\n    },\r\n}))(AccordionDetails)\r\n\r\nfunction Filters(props) {\r\n    const classes = useStyles()\r\n\r\n    //Use states which have been declared in the AccountContext\r\n    const {\r\n        params,\r\n        dispatchParams,\r\n        isActive,\r\n        role,\r\n        workingStatuses,\r\n        setFilter,\r\n    } = useAccount() // isActive,\r\n\r\n    const { roles } = useApp()\r\n    const bakRoles = roles ? roles : Milk.getMilk(milkNames.roles)\r\n\r\n    const { operations, filters } = Consts\r\n\r\n    const [openCreateDialog, setOpenCreateDialog] = useState(false)\r\n\r\n    //================Handle useState() of filters================\r\n    const handleIsActiveChange = (event) => {\r\n        const selectedIsActive = event.target.value\r\n\r\n        // console.log('handleIsActiveChange - selectedIsActive: ', selectedIsActive);\r\n\r\n        // setFilter(ACTIVE_FILTER, selectedIsActive ? selectedIsActive : { isActive: true, status: \"Active\" })\r\n        setFilter(ACTIVE_FILTER, selectedIsActive)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_ACTIVE,\r\n            payload: {\r\n                filterType: ACTIVE_FILTER,\r\n                filterValue: selectedIsActive,\r\n                // filterValue: selectedIsActive.isActive ? { isActive: true, status: \"Active\" } : { isActive: false, status: \"Inactive\" },\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleRoleChange = (event) => {\r\n        const selectedRole = event.target.value\r\n        setFilter(ROLE_FILTER, selectedRole)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_ROLE,\r\n            payload: {\r\n                filterType: ROLE_FILTER,\r\n                filterValue: selectedRole ? selectedRole : '',\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleChipsRemoved = (removedFilters) => {\r\n        removedFilters.forEach((removedFilter) => {\r\n            switch (removedFilter) {\r\n                case ACTIVE_FILTER:\r\n                    setFilter(ACTIVE_FILTER, null)\r\n                    break\r\n                case ROLE_FILTER:\r\n                    setFilter(ROLE_FILTER, '')\r\n                    break\r\n                default:\r\n                    break\r\n            }\r\n        })\r\n    }\r\n\r\n    const generateChipsArray = (listFilters) => {\r\n        const listChips = []\r\n        for (const chip in listFilters) {\r\n            listChips.push(listFilters[chip])\r\n        }\r\n        return listChips\r\n    }\r\n    //===============================================================================\r\n\r\n    //=================Handle action enter / submit of SearchFields==================\r\n    const handleSearch = (keyword) => {\r\n        dispatchParams({\r\n            type: ReducerActions.ENTER_SEARCH_KEYWORD,\r\n            payload: keyword,\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <MuiAccordion>\r\n                <Box\r\n                    display=\"flex\"\r\n                    flexWrap=\"nowrap\"\r\n                    className={classes.flexBox}\r\n                >\r\n                    <Box className={classes.flexItem}>\r\n                        <MuiAccordionSummary expandIcon={<MdExpandMore />}>\r\n                            <MdFilterList className={styles.iconFilter} />{' '}\r\n                            &nbsp;\r\n                            <Typography>{operations.filter}</Typography>\r\n                        </MuiAccordionSummary>\r\n                    </Box>\r\n                    <Box flexGrow={1} className={classes.flexItem}>\r\n                        <Chips\r\n                            chips={generateChipsArray(params.listFilters)}\r\n                            dispatch={dispatchParams}\r\n                            handleChipsRemoved={handleChipsRemoved}\r\n                        />\r\n                    </Box>\r\n                    <Box className={classes.flexItem}>\r\n                        <SearchFields\r\n                            placeholder={operations.search.placeholder}\r\n                            onChange={handleSearch}\r\n                        />\r\n                    </Box>\r\n                    <Box className={classes.flexItem}>\r\n                        <Tooltip title={operations.create}>\r\n                            <Button\r\n                                className={classes.btn}\r\n                                variant=\"contained\"\r\n                                color=\"secondary\"\r\n                                onClick={() => setOpenCreateDialog(true)}\r\n                            >\r\n                                <MdAdd fontSize=\"large\" />\r\n                            </Button>\r\n                        </Tooltip>\r\n                        <CreateAccount\r\n                            open={openCreateDialog}\r\n                            onClose={() => setOpenCreateDialog(false)}\r\n                            refreshPage={props.refreshPage}\r\n                        />\r\n                    </Box>\r\n                </Box>\r\n                <MuiAccordionDetails>\r\n                    <Grid container>\r\n                        <Grid item xs={6} sm={4} md={4} lg={3}>\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>\r\n                                    {filters.workingStatus.title}\r\n                                </InputLabel>\r\n                                <Select\r\n                                    value={isActive === null ? '' : isActive}\r\n                                    onChange={handleIsActiveChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    {workingStatuses.map((workingStatus) => (\r\n                                        <MenuItem\r\n                                            key={workingStatus}\r\n                                            value={workingStatus}\r\n                                            // value={workingStatus || null}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {workingStatus === null\r\n                                                ? `${filters.workingStatus.options.all}`\r\n                                                : workingStatus\r\n                                                    ? `${filters.workingStatus.options.active}`\r\n                                                    : `${filters.workingStatus.options.inactive}`}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={6} sm={4} md={4} lg={3}>\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>{filters.role.title}</InputLabel>\r\n                                <Select\r\n                                    value={role || ''}\r\n                                    onChange={handleRoleChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    <MenuItem\r\n                                        value=\"\"\r\n                                        className={classes.option}\r\n                                        classes={{\r\n                                            root: classes.menuItemRoot,\r\n                                            selected: classes.menuItemSelected,\r\n                                        }}\r\n                                    >\r\n                                        All\r\n                                    </MenuItem>\r\n                                    {bakRoles?.map((role) => (\r\n                                        <MenuItem\r\n                                            key={role}\r\n                                            value={role}\r\n                                            // value={role || ''}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {role}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n                    </Grid>\r\n                </MuiAccordionDetails>\r\n            </MuiAccordion>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filters\r\n","import React, { useState } from 'react'\r\nimport {\r\n    IconButton,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    Menu,\r\n    MenuItem,\r\n    Tooltip,\r\n} from '@material-ui/core'\r\nimport { MdMoreVert, MdInfo } from 'react-icons/md'\r\nimport { Link, useRouteMatch } from 'react-router-dom'\r\nimport { useAccount } from '../../../hooks/AccountContext'\r\nimport { Consts } from '../../../AccountsConfig'\r\n// import PropTypes from 'prop-types'\r\nimport classes from './MenuOptions.module.scss'\r\n\r\nfunction MenuOptions(props) {\r\n    const { data } = props\r\n    const { menuItems } = Consts\r\n\r\n    const { params } = useAccount()\r\n\r\n    const { url } = useRouteMatch()\r\n\r\n    const [anchorEl, setAnchorEl] = useState(null)\r\n\r\n    const stateData = {\r\n        model: data,\r\n        params: params,\r\n        pathName: `${url}/${data.username}`,\r\n    }\r\n\r\n    const handleOpen = (event) => {\r\n        setAnchorEl(event.currentTarget)\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Tooltip title=\"Actions\">\r\n                <IconButton color=\"primary\" onClick={handleOpen}>\r\n                    <MdMoreVert />\r\n                </IconButton>\r\n            </Tooltip>\r\n            <Menu\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={!!anchorEl}\r\n                onClose={handleClose}\r\n            >\r\n                <MenuItem\r\n                    onClick={handleClose}\r\n                    component={Link}\r\n                    to={{\r\n                        pathname: `${url}/${data.username}`,\r\n                        state: { data: stateData },\r\n                    }}\r\n                >\r\n                    <ListItemIcon className={classes.itemIcon}>\r\n                        <MdInfo fontSize=\"large\" />\r\n                    </ListItemIcon>\r\n                    <ListItemText className={classes.itemText}>\r\n                        {menuItems.details.title}\r\n                    </ListItemText>\r\n                </MenuItem>\r\n            </Menu>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MenuOptions\r\n\r\n// MenuOptions.propTypes = {\r\n//     data: PropTypes.object.isRequired,\r\n// }\r\n","import React from 'react'\r\nimport { useTheme } from '@material-ui/core/styles'\r\nimport {\r\n    TableContainer,\r\n    Table,\r\n    TableHead,\r\n    TableBody,\r\n    TableRow,\r\n    TableCell,\r\n    TablePagination,\r\n    IconButton,\r\n    Chip,\r\n    TableSortLabel,\r\n    withStyles,\r\n    ListItem,\r\n    ListItemAvatar,\r\n    ListItemText,\r\n    Avatar,\r\n} from '@material-ui/core'\r\nimport {\r\n    MdFirstPage,\r\n    MdKeyboardArrowLeft,\r\n    MdKeyboardArrowRight,\r\n    MdLastPage,\r\n} from 'react-icons/md'\r\nimport { useAccount } from '../../hooks/AccountContext'\r\nimport MenuOptions from './MenuOptions/MenuOptions'\r\nimport Highlighter from \"react-highlight-words\";\r\nimport * as ReducerActions from '../../../../constants/ActionTypes'\r\nimport { roleNames } from '../../../../constants/Generals'\r\nimport { Consts } from '../../AccountsConfig'\r\n// import PropTypes from 'prop-types'\r\nimport classes from './Tables.module.scss'\r\n\r\n// Customize component TablePagination\r\nfunction TablePaginationActions(props) {\r\n    const theme = useTheme()\r\n\r\n    const { count, page, rowsPerPage, totalPage, onChangePage } = props\r\n\r\n    const handleFirstPageButtonClick = (event) => {\r\n        onChangePage(event, 0) // firstPage has index = 0\r\n    }\r\n\r\n    const handleLastPageButtonClick = (event) => {\r\n        onChangePage(event, Math.ceil(count / rowsPerPage) - 1)\r\n    }\r\n\r\n    const handleBackPageButtonClick = (event) => {\r\n        onChangePage(event, page - 1) // current page - 1\r\n    }\r\n\r\n    const handleNextPageButtonClick = (event) => {\r\n        onChangePage(event, page + 1) // current page + 1\r\n    }\r\n\r\n    return (\r\n        <div className={classes.paging}>\r\n            <IconButton\r\n                onClick={handleFirstPageButtonClick}\r\n                disabled={page === 0}\r\n                aria-label=\"first page\"\r\n            >\r\n                {theme.direction === 'rtl' ? <MdLastPage /> : <MdFirstPage />}\r\n            </IconButton>\r\n            <IconButton\r\n                onClick={handleBackPageButtonClick}\r\n                disabled={page === 0}\r\n                aria-label=\"previous page\"\r\n            >\r\n                {theme.direction === 'rtl' ? (\r\n                    <MdKeyboardArrowRight />\r\n                ) : (\r\n                    <MdKeyboardArrowLeft />\r\n                )}\r\n            </IconButton>\r\n            <span>\r\n                {page + 1} / {totalPage}\r\n            </span>\r\n            <IconButton\r\n                onClick={handleNextPageButtonClick}\r\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n                aria-label=\"next page\"\r\n            >\r\n                {theme.direction === 'rtl' ? (\r\n                    <MdKeyboardArrowLeft />\r\n                ) : (\r\n                    <MdKeyboardArrowRight />\r\n                )}\r\n            </IconButton>\r\n            <IconButton\r\n                onClick={handleLastPageButtonClick}\r\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n                aria-label=\"last page\"\r\n            >\r\n                {theme.direction === 'rtl' ? <MdFirstPage /> : <MdLastPage />}\r\n            </IconButton>\r\n        </div>\r\n    )\r\n}\r\n\r\n// TablePaginationActions.propTypes = {\r\n//     count: PropTypes.number.isRequired,\r\n//     page: PropTypes.number.isRequired,\r\n//     rowsPerPage: PropTypes.number.isRequired,\r\n//     onChangePage: PropTypes.func.isRequired,\r\n//     totalPage: PropTypes.number.isRequired,\r\n// }\r\n\r\nfunction SortableTableHeaders(props) {\r\n    const { columns, direction, column, onRequestSort } = props\r\n    const createSortHandler = (col, direction) => {\r\n        onRequestSort(col, direction)\r\n    }\r\n\r\n    const MuiTableSortLabel = withStyles({\r\n        root: {\r\n            color: 'white !important',\r\n            '&:hover': {\r\n                color: 'white !important',\r\n            },\r\n            '&$active': {\r\n                color: 'white !important',\r\n            },\r\n        },\r\n        active: {},\r\n        icon: {\r\n            color: 'white !important',\r\n        },\r\n    })(TableSortLabel)\r\n\r\n    return (\r\n        <TableHead>\r\n            <TableRow className={classes.tHead}>\r\n                {columns.map((col) => (\r\n                    <TableCell\r\n                        key={col.key}\r\n                        className={classes.tHeadCell}\r\n                        sortDirection={column === col.key ? direction : false}\r\n                        align={col.key === 'no' ? 'center' : 'left'}\r\n                    >\r\n                        {col?.sortable ? (\r\n                            <MuiTableSortLabel\r\n                                active={column === col.key}\r\n                                direction={column === col.key ? direction : 'asc'}\r\n                                onClick={() => createSortHandler(col, direction)}\r\n                            >\r\n                                {col.name}\r\n                            </MuiTableSortLabel>\r\n                        ) :\r\n                            col.name\r\n                        }\r\n                    </TableCell>\r\n                ))}\r\n            </TableRow>\r\n        </TableHead>\r\n    )\r\n}\r\n\r\n// SortableTableHeaders.propTypes = {\r\n//     columns: PropTypes.array.isRequired,\r\n//     direction: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n//     column: PropTypes.string.isRequired,\r\n//     onRequestSort: PropTypes.func.isRequired,\r\n// }\r\n\r\n// Customize component Table\r\nfunction Tables(props) {\r\n    const { columns, rows, totalRecord, totalPage } = props\r\n    const { messages } = Consts\r\n\r\n    const {\r\n        params,\r\n        dispatchParams,\r\n        limit,\r\n        direction,\r\n        column,\r\n        setColumn,\r\n        setLimit,\r\n        setPage,\r\n        setDirection,\r\n    } = useAccount()\r\n\r\n    // ====================Paging====================\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage)\r\n        dispatchParams({\r\n            type: ReducerActions.CHANGE_PAGE,\r\n            payload: {\r\n                page: newPage,\r\n                limit: params.limit,\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleChangeLimit = (event) => {\r\n        setLimit(parseInt(event.target.value, 10))\r\n        setPage(0)\r\n        dispatchParams({\r\n            type: ReducerActions.CHANGE_PAGE,\r\n            payload: {\r\n                page: 0,\r\n                limit: parseInt(event.target.value, 10),\r\n            },\r\n        })\r\n    }\r\n\r\n    const onSortBy = (col, direction) => {\r\n        if (col.sortable) {\r\n            setDirection(direction === 'desc' ? 'asc' : 'desc')\r\n            setColumn(col.key)\r\n\r\n            dispatchParams({\r\n                type: ReducerActions.SORT_BY,\r\n                payload: {\r\n                    column: col.key,\r\n                    direction: direction,\r\n                },\r\n            })\r\n        }\r\n    }\r\n\r\n    const setRoleChipColor = (purpose) => {\r\n        switch (purpose) {\r\n            case roleNames.admin:\r\n                return <Chip label={purpose} className={classes.chipAdmin} />\r\n            case roleNames.manager:\r\n                return <Chip label={purpose} className={classes.chipManager} />\r\n            case roleNames.supervisor:\r\n                return <Chip label={purpose} className={classes.chipSupervisor} />\r\n            case roleNames.salesman:\r\n                return <Chip label={purpose} className={classes.chipSalesman} />\r\n            default:\r\n                return <Chip label={purpose} />\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <TableContainer className={classes.container} component=\"div\">\r\n                <Table\r\n                    className={classes.table}\r\n                    stickyHeader\r\n                    size=\"small\"\r\n                    aria-label=\"sticky table\"\r\n                >\r\n                    <SortableTableHeaders\r\n                        columns={columns}\r\n                        direction={direction}\r\n                        column={column}\r\n                        onRequestSort={onSortBy}\r\n                    />\r\n                    <TableBody className={classes.tBody}>\r\n                        {rows?.length > 0 ? (\r\n                            rows.map((row, index) => (\r\n                                <TableRow\r\n                                    key={row?.username}\r\n                                    className={classes.tBodyRow}\r\n                                >\r\n                                    <TableCell\r\n                                        className={classes.tableCell}\r\n                                        align=\"center\"\r\n                                    >\r\n                                        {params.page * params.limit + index + 1}\r\n                                    </TableCell>\r\n                                    <TableCell\r\n                                        // className={row?.active ? classes.tCellSchoolName : classes.tCellInactiveSchoolName}\r\n                                        className={(row?.active === false) ? classes.tCellInactiveAccount : classes.tBodyCell}\r\n                                    // className={(row?.isActive !== null && row?.isActive === true) ? classes.tBodyCell : classes.tCellInactiveAccount}\r\n                                    >\r\n                                        <Highlighter\r\n                                            highlightClassName=\"YourHighlightClass\"\r\n                                            searchWords={[params.searchKey]}\r\n                                            autoEscape={true}\r\n                                            textToHighlight={row?.username || ''}\r\n                                        />\r\n                                    </TableCell>\r\n                                    <TableCell\r\n                                        className={classes.tBodyCell}\r\n                                    >\r\n                                        <ListItem className={(row?.active === false) ? classes.listItemInactive : classes.listItem}>\r\n                                            <ListItemAvatar className={(row?.active === false) ? classes.picAvatarInactive : ''}>\r\n                                                <Avatar src={row?.avatar} />\r\n                                            </ListItemAvatar>\r\n                                            <ListItemText\r\n                                                className={(row?.active === false) ? classes.picNameInactive : classes.picName}\r\n                                                primary={\r\n                                                    <Highlighter\r\n                                                        highlightClassName=\"YourHighlightClass\"\r\n                                                        searchWords={[params.searchKey]}\r\n                                                        autoEscape={true}\r\n                                                        textToHighlight={row?.fullName || ''}\r\n                                                    />\r\n                                                }\r\n                                            />\r\n                                        </ListItem>\r\n                                    </TableCell>\r\n                                    <TableCell\r\n                                        className={(row?.active === false) ? classes.tCellInactiveAccount : classes.tBodyCell}\r\n                                    >\r\n                                        <Highlighter\r\n                                            highlightClassName=\"YourHighlightClass\"\r\n                                            searchWords={[params.searchKey]}\r\n                                            autoEscape={true}\r\n                                            textToHighlight={row?.phone || ''}\r\n                                        />\r\n                                    </TableCell>\r\n                                    <TableCell\r\n                                        className={(row?.active === false) ? classes.tCellInactiveAccount : classes.tBodyCell}\r\n                                    >\r\n                                        <Highlighter\r\n                                            highlightClassName=\"YourHighlightClass\"\r\n                                            searchWords={[params.searchKey]}\r\n                                            autoEscape={true}\r\n                                            textToHighlight={row?.email || ''}\r\n                                        />\r\n                                    </TableCell>\r\n                                    <TableCell className={classes.tBodyCell}>\r\n                                        {row?.roleName && setRoleChipColor(row?.roleName)}\r\n                                    </TableCell>\r\n                                    <TableCell\r\n                                        className={classes.tBodyCell}\r\n                                        align=\"right\"\r\n                                    >\r\n                                        <MenuOptions data={row ? row : null} />\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            ))\r\n                        ) : (\r\n                            <TableRow className={classes.tBodyRow}>\r\n                                <TableCell\r\n                                    className={classes.noRecord}\r\n                                    component=\"td\"\r\n                                    colSpan=\"100%\"\r\n                                >\r\n                                    {messages.notFound}\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        )}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n            <TablePagination\r\n                rowsPerPageOptions={[10, 20, 50]}\r\n                component=\"div\"\r\n                count={totalRecord ? totalRecord : 0}\r\n                rowsPerPage={limit}\r\n                page={params.page}\r\n                SelectProps={{\r\n                    inputProps: {\r\n                        'aria-label': 'rows per page',\r\n                    },\r\n                    native: true,\r\n                }}\r\n                onChangePage={handleChangePage}\r\n                onChangeRowsPerPage={handleChangeLimit}\r\n                ActionsComponent={() => (\r\n                    <TablePaginationActions\r\n                        count={totalRecord ? totalRecord : 0}\r\n                        page={params.page}\r\n                        rowsPerPage={params.limit}\r\n                        totalPage={totalPage}\r\n                        onChangePage={handleChangePage}\r\n                    />\r\n                )}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Tables)\r\n\r\n// Tables.propTypes = {\r\n//     rows: PropTypes.array,\r\n//     columns: PropTypes.array.isRequired,\r\n//     totalRecord: PropTypes.number.isRequired,\r\n//     totalPage: PropTypes.number.isRequired,\r\n// }\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { Filters, Tables } from './components'\r\nimport { columns } from './AccountsConfig'\r\nimport { useAccount } from './hooks/AccountContext'\r\nimport * as AccountsServices from './AccountsServices'\r\nimport { Loading } from '../../components'\r\nimport classes from './Accounts.module.scss'\r\n\r\nfunction Accounts() {\r\n    const history = useHistory()\r\n\r\n    const { params } = useAccount()\r\n    const { listFilters, page, limit, column, direction, searchKey } = params\r\n\r\n    const [data, setData] = useState(null)\r\n\r\n    let isMounted = true\r\n    const refreshPage = (\r\n        page = 0,\r\n        limit = 10,\r\n        column = 'username',\r\n        direction = 'asc',\r\n        searchKey,\r\n        listFilters\r\n    ) => {\r\n        AccountsServices.getAccounts(\r\n            page,\r\n            limit,\r\n            column,\r\n            direction,\r\n            searchKey,\r\n            listFilters\r\n        )\r\n            .then((res) => {\r\n                if (isMounted) {\r\n                    setData(res.data)\r\n                    // console.log('accounts: ', res.data.list[0]);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    useEffect(() => {\r\n        refreshPage(page, limit, column, direction, searchKey, listFilters)\r\n        return () => {\r\n            // eslint-disable-next-line react-hooks/exhaustive-deps\r\n            isMounted = false\r\n            // setData(null)\r\n        }\r\n    }, [params])\r\n\r\n    if (!data) {\r\n        return <Loading />\r\n    }\r\n\r\n    return (\r\n        <div className={classes.panel}>\r\n            <Filters className={classes.filter} refreshPage={refreshPage} />\r\n            <Tables\r\n                columns={columns}\r\n                rows={data.list}\r\n                className={classes.table}\r\n                totalRecord={data.totalElements}\r\n                totalPage={data.totalPage}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Accounts\r\n","import { useReducer } from 'react'\r\n\r\nfunction useToggle(initialValue) {\r\n    // Returns the tuple [state, dispatch]\r\n    // Normally with useReducer you pass a value to dispatch to indicate what action to\r\n    // take on the state, but in this case there's only one action.\r\n    return useReducer((state) => !state, initialValue)\r\n}\r\n\r\nexport default useToggle\r\n","import React from 'react'\r\nimport {\r\n    MdDashboard,\r\n    // MdPerson,\r\n    // MdAssignment,\r\n    MdDateRange,\r\n    // MdSchool,\r\n    MdGroup,\r\n    MdDescription,\r\n    MdAccountCircle,\r\n    MdExitToApp,\r\n    // MdAssignmentInd,\r\n    // MdTrendingUp,\r\n} from 'react-icons/md'\r\nimport { FaSchool, FaHandshake, FaTasks, FaChartLine } from 'react-icons/fa'\r\nimport { roleNames } from '../../constants/Generals'\r\n\r\nconst menuItems = [\r\n    {\r\n        title: 'Dashboards',\r\n        path: 'dashboards',\r\n        icon: <MdDashboard />,\r\n    },\r\n    {\r\n        title: 'Accounts',\r\n        path: 'accounts',\r\n        icon: <MdGroup />,\r\n    },\r\n    {\r\n        title: 'Tasks',\r\n        path: 'tasks',\r\n        icon: <FaTasks />,\r\n    },\r\n    {\r\n        title: 'Work Plans',\r\n        path: 'work-plans',\r\n        icon: <MdDateRange />,\r\n    },\r\n    {\r\n        title: 'Schools',\r\n        path: 'schools',\r\n        icon: <FaSchool />,\r\n    },\r\n    {\r\n        title: 'Reports',\r\n        path: 'reports',\r\n        icon: <MdDescription />,\r\n    },\r\n    {\r\n        title: 'Services',\r\n        path: 'services',\r\n        icon: <FaHandshake />,\r\n    },\r\n    // {\r\n    //     title: 'Salesmen',\r\n    //     path: 'salesmen',\r\n    //     icon: <MdAssignmentInd />,\r\n    // },\r\n    {\r\n        title: 'KPIs',\r\n        path: 'kpis',\r\n        icon: <FaChartLine />,  //MdTrendingUp\r\n    },\r\n]\r\n\r\nexport function getMenuItems(role) {\r\n    const [\r\n        dashboards, accounts, tasks, workPlans, schools, reports, services, kpis   //salesmen,\r\n    ] = menuItems\r\n    switch (role) {\r\n        case roleNames.admin:\r\n            return [accounts, schools]\r\n        case roleNames.manager:\r\n            return [dashboards, schools, tasks, reports, services, kpis, workPlans]    //salesmen,\r\n        case roleNames.supervisor:\r\n            return [dashboards, schools, tasks, reports, kpis, workPlans]  //salesmen,\r\n        case roleNames.salesman:\r\n            return [dashboards, tasks, reports, services, kpis, workPlans]\r\n        default:\r\n            break\r\n    }\r\n}\r\n\r\nexport const userMenuItems = {\r\n    0: [{ title: 'My Profile', icon: <MdAccountCircle /> }],\r\n    1: [{ title: 'Log Out', icon: <MdExitToApp /> }],\r\n}\r\n","import React, { createContext, useContext, useState } from 'react'\r\nimport * as Milk from '../utils/Milk'\r\nimport { milkNames } from '../constants/Generals'\r\n\r\nconst AuthContext = createContext()\r\n\r\nexport function useAuth() {\r\n    return useContext(AuthContext)\r\n}\r\n\r\nfunction useAuthProvider() {\r\n    const [user, setUser] = useState(\r\n        Milk.getMilkExpiry(milkNames.token)\r\n            ? Milk.getMilkExpiry(milkNames.token)\r\n            : null\r\n    )\r\n\r\n    const [verifyCode, setVerifyCode] = useState(null)\r\n\r\n    if (!user) {\r\n        Milk.makeSour([\r\n            milkNames.dists,\r\n            milkNames.eduLvls,\r\n            milkNames.types,\r\n            // milkNames.scales,\r\n            milkNames.status,\r\n            milkNames.roles,\r\n            milkNames.schYears,\r\n            milkNames.salesPurps,\r\n        ])\r\n    }\r\n\r\n    return {\r\n        user,\r\n        setUser,\r\n        verifyCode,\r\n        setVerifyCode,\r\n    }\r\n}\r\n\r\nfunction AuthProvider(props) {\r\n    const { children } = props\r\n\r\n    const auth = useAuthProvider()\r\n\r\n    return <AuthContext.Provider value={auth}>{children}</AuthContext.Provider>\r\n}\r\n\r\nexport default AuthProvider\r\n","import * as Actions from '../../../constants/ActionTypes'\r\n\r\nexport const ReportReducer = (params, action) => {\r\n    const { type, payload } = action\r\n    const { listFilters } = params\r\n    // let newListFilters = {};\r\n\r\n    switch (type) {\r\n        case Actions.FILTER_PIC:\r\n            return { ...params, page: 0, listFilters: { ...listFilters, PIC: payload } }\r\n        case Actions.FILTER_DISTRICT:\r\n            return { ...params, page: 0, listFilters: { ...listFilters, district: payload } }\r\n        case Actions.FILTER_SCHOOL_YEAR:\r\n            return { ...params, page: 0, listFilters: { ...listFilters, schoolYear: payload } }\r\n        // case Actions.FILTER_SCHOOL_STATUS:\r\n        //     return { ...params, page: 0, listFilters: { ...listFilters, status: payload } }\r\n        case Actions.FILTER_PURPOSE:\r\n            return { ...params, page: 0, listFilters: { ...listFilters, purpose: payload } }\r\n        case Actions.FILTER_REPORT_RESULT:\r\n            return { ...params, page: 0, listFilters: { ...listFilters, result: payload } }\r\n        case Actions.FILTER_DATE_RANGE:\r\n            return { ...params, page: 0, listFilters: { ...listFilters, dateRange: payload } }\r\n        // case Actions.FILTER_FROM_DATE:\r\n        //     newListFilters = {\r\n        //         ...listFilters,\r\n        //         fromDate: payload.fromDate,\r\n        //         dateRange: payload.dateRange\r\n        //     }\r\n        //     return { ...params, page: 0, listFilters: newListFilters }\r\n        // case Actions.FILTER_TO_DATE:\r\n        //     newListFilters = {\r\n        //         ...listFilters,\r\n        //         toDate: payload.toDate,\r\n        //         dateRange: payload.dateRange\r\n        //     }\r\n        //     return { ...params, page: 0, listFilters: newListFilters }\r\n\r\n        case Actions.ENTER_SEARCH_KEYWORD:\r\n            return { ...params, page: 0, searchKey: payload }\r\n\r\n        case Actions.SORT_BY:\r\n            return { ...params, column: payload.column, direction: payload.direction }\r\n\r\n        case Actions.CHANGE_PAGE:\r\n            return { ...params, page: payload.page, limit: payload.limit }\r\n\r\n        default:\r\n            return params\r\n    }\r\n}","import React, {\r\n    useState,\r\n    useContext,\r\n    createContext,\r\n    useEffect,\r\n    useReducer,\r\n} from 'react'\r\nimport { getPICs } from '../../../services/FiltersServices'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { ReportReducer } from './ReportReducer'\r\nimport {\r\n    PIC_FILTER,\r\n    DISTRICT_FILTER,\r\n    SCHOOL_YEAR_FILTER,\r\n    // STATUS_FILTER,\r\n    PURPOSE_FILTER,\r\n    DATE_RANGE_FILTER,\r\n    REPORT_RESULT_FILTER,\r\n} from '../../../constants/Filters'\r\nimport { roleNames } from '../../../constants/Generals'\r\n\r\nconst ReportContext = createContext()\r\n\r\nexport function useReport() {\r\n    return useContext(ReportContext)\r\n}\r\n\r\nlet defaultFilters = {\r\n    PIC: { filterType: PIC_FILTER, filterValue: null },\r\n    district: { filterType: DISTRICT_FILTER, filterValue: '' },\r\n    schoolYear: { filterType: SCHOOL_YEAR_FILTER, filterValue: '' },\r\n    // status: { filterType: STATUS_FILTER, filterValue: '' },\r\n    purpose: { filterType: PURPOSE_FILTER, filterValue: '' },\r\n    dateRange: { filterType: DATE_RANGE_FILTER, filterValue: [null, null] },\r\n    result: { filterType: REPORT_RESULT_FILTER, filterValue: null },\r\n}\r\n\r\nfunction useReportProvider() {\r\n    const history = useHistory()\r\n\r\n    // Reducer\r\n    const [params, dispatchParams] = useReducer(ReportReducer, {\r\n        // listFilters: {\r\n        //     PIC: { filterType: 'PIC', filterValue: null },\r\n        //     district: { filterType: 'district', filterValue: '' },\r\n        //     schoolYear: { filterType: 'schoolYear', filterValue: '' },\r\n        //     status: { filterType: 'status', filterValue: '' },\r\n        //     purpose: { filterType: 'purpose', filterValue: '' },\r\n        //     // fromDate: { filterType: 'fromDate', filterValue: null },\r\n        //     // toDate: { filterType: 'toDate', filterValue: null },\r\n        // dateRange: { filterType: 'dateRange', filterValue: [null, null] },\r\n        // },\r\n        listFilters: defaultFilters,\r\n        searchKey: '',\r\n        page: 0,\r\n        limit: 10,\r\n        column: 'date',\r\n        direction: 'desc',\r\n    })\r\n\r\n    // Paging\r\n    const [page, setPage] = useState(params.page)\r\n    const [limit, setLimit] = useState(params.limit)\r\n\r\n    // Sorting\r\n    const [column, setColumn] = useState(params.column)\r\n    const [direction, setDirection] = useState(params.direction)\r\n\r\n    //Filters\r\n    // const [PIC, setPIC] = useState(null)\r\n    // const [district, setDistrict] = useState('')\r\n    // const [schoolYear, setSchoolYear] = useState('')\r\n    // const [purpose, setPurpose] = useState('')\r\n    // const [schoolStatus, setSchoolStatus] = useState('')\r\n    // const [dateRange, setDateRange] = useState([null, null])\r\n    // const [fromDate, setFromDate] = useState((new Date()).getDate() - 7);\r\n    // const [toDate, setToDate] = useState((new Date()).getDate());\r\n\r\n    const [PIC, setPIC] = useState(\r\n        defaultFilters.PIC.filterValue ? defaultFilters.PIC.filterValue : null\r\n    )\r\n    const [district, setDistrict] = useState(\r\n        defaultFilters.district.filterValue\r\n            ? defaultFilters.district.filterValue\r\n            : ''\r\n    )\r\n    const [schoolYear, setSchoolYear] = useState(\r\n        defaultFilters.schoolYear.filterValue\r\n            ? defaultFilters.schoolYear.filterValue\r\n            : ''\r\n    )\r\n    const [purpose, setPurpose] = useState(\r\n        defaultFilters.purpose.filterValue\r\n            ? defaultFilters.purpose.filterValue\r\n            : ''\r\n    )\r\n    // const [schoolStatus, setSchoolStatus] = useState(\r\n    //     defaultFilters.status.filterValue\r\n    //         ? defaultFilters.status.filterValue\r\n    //         : ''\r\n    // )\r\n    const [dateRange, setDateRange] = useState(\r\n        defaultFilters.dateRange.filterValue[0]\r\n            ? defaultFilters.dateRange.filterValue\r\n            : [null, null]\r\n    )\r\n    const [result, setResult] = useState(\r\n        defaultFilters.result.filterValue\r\n            ? defaultFilters.result.filterValue\r\n            : null\r\n    )\r\n\r\n    // fix major BUG\r\n    const setFilter = (key, value) => {\r\n        switch (key) {\r\n            case PIC_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    PIC: {\r\n                        filterType: PIC_FILTER,\r\n                        filterValue: value,\r\n                    },\r\n                }\r\n                setPIC(value)\r\n                break\r\n            case DISTRICT_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    district: {\r\n                        filterType: DISTRICT_FILTER,\r\n                        filterValue: value,\r\n                    },\r\n                }\r\n                setDistrict(value)\r\n                break\r\n            case SCHOOL_YEAR_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    schoolYear: {\r\n                        filterType: SCHOOL_YEAR_FILTER,\r\n                        filterValue: value,\r\n                    },\r\n                }\r\n                setSchoolYear(value)\r\n                break\r\n            case PURPOSE_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    purpose: {\r\n                        filterType: PURPOSE_FILTER,\r\n                        filterValue: value,\r\n                    },\r\n                }\r\n                setPurpose(value)\r\n                break\r\n            // case STATUS_FILTER:\r\n            //     defaultFilters = {\r\n            //         ...defaultFilters,\r\n            //         status: { filterType: STATUS_FILTER, filterValue: value },\r\n            //     }\r\n            //     setSchoolStatus(value)\r\n            //     break\r\n            case DATE_RANGE_FILTER:\r\n                // console.log('DATE_RANGE_FILTER - value = ', value);\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    dateRange: {\r\n                        filterType: DATE_RANGE_FILTER,\r\n                        filterValue: value,\r\n                    },\r\n                }\r\n                setDateRange(value)\r\n                break\r\n            case REPORT_RESULT_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    result: { filterType: REPORT_RESULT_FILTER, filterValue: value },\r\n                }\r\n                setResult(value)\r\n                break\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    // APIs\r\n    const [PICs, setPICs] = useState([])\r\n    const reportResults = [null, true, false];\r\n    // const [districts, setDistricts] = useState([])\r\n    // const [schoolYears, setSchoolYears] = useState([])\r\n    // const [schoolStatuses, setSchoolStatuses] = useState([])\r\n\r\n    // Search field (do not have)\r\n\r\n    // Get filters' data\r\n\r\n    const getListPICs = (fullName) => {\r\n        getPICs({ active: true, fullName: fullName, role: roleNames.salesman }).then((data) => {\r\n            // console.log('list PICs: ', data)\r\n            setPICs(data)\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                history.push({\r\n                    pathname: '/errors',\r\n                    state: { error: error.response.status },\r\n                })\r\n            }\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        getListPICs()\r\n        // return () => setPICs([])\r\n    }, [])\r\n\r\n    // const getDistrictsFilter = () => {\r\n    //     FiltersServices.getDistricts()\r\n    //         .then((data) => {\r\n    //             setDistricts(data)\r\n    //         })\r\n    //         .catch((error) => {\r\n    //             if (error.response) {\r\n    //                 console.log(error)\r\n    //                 history.push({\r\n    //                     pathname: '/errors',\r\n    //                     state: { error: error.response.status },\r\n    //                 })\r\n    //             }\r\n    //         })\r\n    // }\r\n\r\n    // const getSchoolYearsFilter = () => {\r\n    //     FiltersServices.getSchoolYears()\r\n    //         .then((data) => {\r\n    //             setSchoolYears(data)\r\n    //         })\r\n    //         .catch((error) => {\r\n    //             if (error.response) {\r\n    //                 console.log(error)\r\n    //                 history.push({\r\n    //                     pathname: '/errors',\r\n    //                     state: { error: error.response.status },\r\n    //                 })\r\n    //             }\r\n    //         })\r\n    // }\r\n\r\n    // const getSchoolStatusesFilter = () => {\r\n    //     FiltersServices.getSchoolStatuses()\r\n    //         .then((data) => {\r\n    //             setSchoolStatuses(data)\r\n    //         })\r\n    //         .catch((error) => {\r\n    //             if (error.response) {\r\n    //                 console.log(error)\r\n    //                 history.push({\r\n    //                     pathname: '/errors',\r\n    //                     state: { error: error.response.status },\r\n    //                 })\r\n    //             }\r\n    //         })\r\n    // }\r\n\r\n    // useEffect(() => {\r\n    //     getPICsFilter()\r\n    // getDistrictsFilter()\r\n    // getSchoolYearsFilter()\r\n    // getSchoolStatusesFilter()\r\n    // }, [])\r\n\r\n    return {\r\n        params,\r\n        dispatchParams,\r\n        PICs,\r\n        // districts,\r\n        // schoolYears,\r\n        // schoolStatuses,\r\n        page,\r\n        setPage,\r\n        limit,\r\n        setLimit,\r\n        direction,\r\n        setDirection,\r\n        column,\r\n        setColumn,\r\n        PIC,\r\n        // setPIC,\r\n        district,\r\n        // setDistrict,\r\n        schoolYear,\r\n        // setSchoolYear,\r\n        purpose,\r\n        // setPurpose,\r\n        // schoolStatus,\r\n        // setSchoolStatus,\r\n        dateRange,\r\n        // setDateRange,\r\n        setFilter,\r\n        getListPICs,\r\n        result,\r\n        reportResults,\r\n        // fromDate, setFromDate, toDate, setToDate\r\n    }\r\n}\r\n\r\nfunction ReportProvider(props) {\r\n    const { children } = props\r\n    const report = useReportProvider()\r\n\r\n    return (\r\n        <ReportContext.Provider value={report}>\r\n            {children}\r\n        </ReportContext.Provider>\r\n    )\r\n}\r\n\r\nexport default ReportProvider\r\n","import * as Actions from '../../../constants/ActionTypes'\r\n\r\nexport const SchoolReducer = (params, action) => {\r\n    const { type, payload } = action\r\n    const { listFilters } = params\r\n\r\n    switch (type) {\r\n        case Actions.FILTER_DISTRICT:\r\n            return { ...params, page: 0, listFilters: { ...listFilters, district: payload } }\r\n        case Actions.FILTER_SCHOOL_TYPE:\r\n            return { ...params, page: 0, listFilters: { ...listFilters, type: payload } }\r\n        case Actions.FILTER_SCHOOL_LEVEL:\r\n            return { ...params, page: 0, listFilters: { ...listFilters, level: payload } }\r\n        // case Actions.FILTER_SCHOOL_SCALE:\r\n        //     return { ...params, page: 0, listFilters: { ...listFilters, scale: payload } }\r\n        case Actions.FILTER_SCHOOL_STATUS:\r\n            return { ...params, page: 0, listFilters: { ...listFilters, status: payload } }\r\n        case Actions.FILTER_ACTIVE:\r\n            return {\r\n                ...params, page: 0, listFilters: { ...listFilters, isActive: payload }\r\n            }\r\n\r\n        case Actions.ENTER_SEARCH_KEYWORD:\r\n            return { ...params, page: 0, searchKey: payload }\r\n\r\n        case Actions.SORT_BY:\r\n            return { ...params, column: payload.column, direction: payload.direction }\r\n\r\n        case Actions.CHANGE_PAGE:\r\n            return { ...params, page: payload.page, limit: payload.limit }\r\n\r\n        default:\r\n            return params\r\n    }\r\n}","import React, {\r\n    useState,\r\n    useContext,\r\n    createContext,\r\n    useReducer,\r\n} from 'react'\r\nimport { SchoolReducer } from './SchoolReducer'\r\nimport {\r\n    DISTRICT_FILTER,\r\n    TYPE_FILTER,\r\n    LEVEL_FILTER,\r\n    // SCALE_FILTER,\r\n    STATUS_FILTER,\r\n    ACTIVE_FILTER\r\n} from '../../../constants/Filters'\r\n// import * as FiltersServices from '../../../services/FiltersServices'\r\n// import { useHistory } from 'react-router-dom'\r\n\r\nconst SchoolContext = createContext()\r\n\r\nexport function useSchool() {\r\n    return useContext(SchoolContext)\r\n}\r\n\r\nlet defaultFilters = {\r\n    district: { filterType: DISTRICT_FILTER, filterValue: '' },\r\n    type: { filterType: TYPE_FILTER, filterValue: '' },\r\n    level: { filterType: LEVEL_FILTER, filterValue: '' },\r\n    // scale: { filterType: SCALE_FILTER, filterValue: '' },\r\n    status: { filterType: STATUS_FILTER, filterValue: '' },\r\n    isActive: { filterType: ACTIVE_FILTER, filterValue: null },\r\n}\r\n\r\nfunction useSchoolProvider() {\r\n    // const history = useHistory()\r\n\r\n    // Reducer\r\n    const [params, dispatchParams] = useReducer(SchoolReducer, {\r\n        listFilters: defaultFilters,\r\n        searchKey: '',\r\n        page: 0,\r\n        limit: 10,\r\n        column: 'schoolId',\r\n        direction: 'asc',\r\n    })\r\n\r\n    // Paging\r\n    const [page, setPage] = useState(params.page)\r\n    const [limit, setLimit] = useState(params.limit)\r\n\r\n    // Sorting\r\n    const [column, setColumn] = useState(params.column)\r\n    const [direction, setDirection] = useState(params.direction)\r\n\r\n    //Filters\r\n    const [district, setDistrict] = useState(\r\n        defaultFilters.district.filterValue\r\n            ? defaultFilters.district.filterValue\r\n            : ''\r\n    )\r\n    const [schoolType, setSchoolType] = useState(\r\n        defaultFilters.type.filterValue ? defaultFilters.type.filterValue : ''\r\n    )\r\n    const [schoolLevel, setSchoolLevel] = useState(\r\n        defaultFilters.level.filterValue ? defaultFilters.level.filterValue : ''\r\n    )\r\n    // const [schoolScale, setSchoolScale] = useState(\r\n    //     defaultFilters.scale.filterValue ? defaultFilters.scale.filterValue : ''\r\n    // )\r\n    const [schoolStatus, setSchoolStatus] = useState(\r\n        defaultFilters.status.filterValue\r\n            ? defaultFilters.status.filterValue\r\n            : ''\r\n    )\r\n    const [isActive, setIsActive] = useState(\r\n        defaultFilters.isActive.filterValue\r\n            ? defaultFilters.isActive.filterValue\r\n            : null\r\n    )\r\n\r\n    const workingStatuses = [null, true, false];\r\n\r\n    // fix major BUG\r\n    const setFilter = (key, value) => {\r\n        switch (key) {\r\n            case DISTRICT_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    district: {\r\n                        filterType: DISTRICT_FILTER,\r\n                        filterValue: value,\r\n                    },\r\n                }\r\n                setDistrict(value)\r\n                break\r\n            case TYPE_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    type: { filterType: TYPE_FILTER, filterValue: value },\r\n                }\r\n                setSchoolType(value)\r\n                break\r\n            case LEVEL_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    level: { filterType: LEVEL_FILTER, filterValue: value },\r\n                }\r\n                setSchoolLevel(value)\r\n                break\r\n            // case SCALE_FILTER:\r\n            //     defaultFilters = {\r\n            //         ...defaultFilters,\r\n            //         scale: { filterType: SCALE_FILTER, filterValue: value },\r\n            //     }\r\n            //     setSchoolScale(value)\r\n            //     break\r\n            case STATUS_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    status: { filterType: STATUS_FILTER, filterValue: value },\r\n                }\r\n                setSchoolStatus(value)\r\n                break\r\n            case ACTIVE_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    isActive: { filterType: ACTIVE_FILTER, filterValue: value },\r\n                }\r\n                setIsActive(value)\r\n                break\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    // APIs \"get filters' data\" moves to AppContext\r\n\r\n    // Search field (do not have)\r\n\r\n    return {\r\n        params,\r\n        dispatchParams,\r\n        page,\r\n        setPage,\r\n        limit,\r\n        setLimit,\r\n        direction,\r\n        setDirection,\r\n        column,\r\n        setColumn,\r\n        district,\r\n        schoolType,\r\n        schoolLevel,\r\n        // schoolScale,\r\n        schoolStatus,\r\n        isActive,\r\n        workingStatuses,\r\n        setFilter,\r\n    }\r\n}\r\n\r\nfunction SchoolProvider(props) {\r\n    const { children } = props\r\n    const school = useSchoolProvider()\r\n\r\n    return (\r\n        <SchoolContext.Provider value={school}>\r\n            {children}\r\n        </SchoolContext.Provider>\r\n    )\r\n}\r\n\r\nexport default SchoolProvider\r\n","import * as Actions from '../../../constants/ActionTypes'\r\n\r\nexport const TaskReducer = (params, action) => {\r\n    // const [listFilters, dispatchFilters] = useReducer(FilterReducer, [])\r\n    const { type, payload } = action\r\n    const { listFilters } = params // , searchKey, sorting, paging\r\n    // const { filterType, filterValue } = payload  // paramName, paramValue, columnName, direction, page, limit\r\n\r\n    switch (type) {\r\n        case Actions.FILTER_SCHOOL_YEAR:\r\n            // listFilters = { ...listFilters, schoolYear: payload }\r\n            return {\r\n                ...params,\r\n                page: 0,\r\n                listFilters: { ...listFilters, schoolYear: payload },\r\n            }\r\n        case Actions.FILTER_DISTRICT:\r\n            return {\r\n                ...params,\r\n                page: 0,\r\n                listFilters: { ...listFilters, district: payload },\r\n            }\r\n        case Actions.FILTER_SCHOOL_TYPE:\r\n            return {\r\n                ...params,\r\n                page: 0,\r\n                listFilters: { ...listFilters, type: payload },\r\n            }\r\n        case Actions.FILTER_SCHOOL_LEVEL:\r\n            return {\r\n                ...params,\r\n                page: 0,\r\n                listFilters: { ...listFilters, level: payload },\r\n            }\r\n        // case Actions.FILTER_SCHOOL_SCALE:\r\n        //     return {\r\n        //         ...params,\r\n        //         page: 0,\r\n        //         listFilters: { ...listFilters, scale: payload },\r\n        //     }\r\n        case Actions.FILTER_PIC:\r\n            return {\r\n                ...params,\r\n                page: 0,\r\n                listFilters: { ...listFilters, PIC: payload },\r\n            }\r\n        case Actions.FILTER_PURPOSE:\r\n            return {\r\n                ...params,\r\n                page: 0,\r\n                listFilters: { ...listFilters, purpose: payload },\r\n            }\r\n        case Actions.FILTER_SCHOOL_STATUS:\r\n            return {\r\n                ...params,\r\n                page: 0,\r\n                listFilters: { ...listFilters, status: payload },\r\n            }\r\n        case Actions.FILTER_ASSIGNED:\r\n            return {\r\n                ...params,\r\n                page: 0,\r\n                listFilters: { ...listFilters, isAssigned: payload },\r\n            }\r\n        case Actions.FILTER_TASK_STATUS:\r\n            return {\r\n                ...params,\r\n                page: 0,\r\n                listFilters: { ...listFilters, taskStatus: payload },\r\n            }\r\n        // case Actions.FILTER_DATE_RANGE:\r\n        //     return {\r\n        //         ...params,\r\n        //         page: 0,\r\n        //         listFilters: { ...listFilters, dateRange: payload },\r\n        //     }\r\n\r\n        case Actions.ENTER_SEARCH_KEYWORD:\r\n            return { ...params, page: 0, searchKey: payload }\r\n\r\n        case Actions.SORT_BY:\r\n            return {\r\n                ...params,\r\n                column: payload.column,\r\n                direction: payload.direction,\r\n            }\r\n\r\n        case Actions.CHANGE_PAGE:\r\n            return { ...params, page: payload.page, limit: payload.limit }\r\n\r\n        default:\r\n            return params\r\n    }\r\n}\r\n","// import { pick } from 'query-string'\r\nimport { ApiConfig as Api } from '../../services'\r\n\r\nexport async function getTasks(\r\n    page = 0,\r\n    limit = 10,\r\n    column = 'assignDate',\r\n    direction = 'desc',\r\n    searchKey = undefined,\r\n    filters = undefined,\r\n    picUsername\r\n) {\r\n    let url = `/tasks?page=${page}&limit=${limit}&column=${column}&direction=${direction}`\r\n\r\n    url = searchKey ? url.concat(`&key=${searchKey}`) : url\r\n    url = picUsername ? url.concat(`&username=${picUsername}`) : url\r\n\r\n    // Tiền xử lý 9 filters\r\n    if (filters) {\r\n        url = filters['schoolYear'].filterValue\r\n            ? url.concat(`&schoolYear=${filters['schoolYear'].filterValue}`)\r\n            : url\r\n        url = filters['district'].filterValue\r\n            ? url.concat(`&district=${filters['district'].filterValue}`)\r\n            : url\r\n        url = filters['type'].filterValue\r\n            ? url.concat(`&type=${filters['type'].filterValue}`)\r\n            : url\r\n        url = filters['level'].filterValue\r\n            ? url.concat(`&level=${filters['level'].filterValue}`)\r\n            : url\r\n        // url = filters['scale'].filterValue\r\n        //     ? url.concat(`&scale=${filters['scale'].filterValue}`)\r\n        //     : url\r\n        url = filters['PIC'].filterValue\r\n            ? url.concat(`&fullName=${filters['PIC'].filterValue.fullName}`)\r\n            : url\r\n        url = filters['purpose'].filterValue\r\n            ? url.concat(`&purpose=${filters['purpose'].filterValue}`)\r\n            : url\r\n        url = filters['status'].filterValue\r\n            ? url.concat(`&status=${filters['status'].filterValue}`)\r\n            : url\r\n        url =\r\n            filters['isAssigned'].filterValue !== null\r\n                ? url.concat(`&isAssigned=${filters['isAssigned'].filterValue}`)\r\n                : url\r\n        url = filters['taskStatus'].filterValue\r\n            ? url.concat(`&result=${filters['taskStatus'].filterValue}`)\r\n            : url\r\n    }\r\n\r\n    const response = await Api.get(url)\r\n    const data = await response.data\r\n\r\n    return data\r\n}\r\n\r\nexport async function getTask(taskId) {\r\n    const response = await Api.get(`/tasks/${taskId}`)\r\n    const data = await response.data\r\n    return data\r\n}\r\n\r\nexport async function updateStatus(schoolId, schoolStatus) {\r\n    const response = await Api.patch(`/schools/${schoolId}`, schoolStatus)\r\n    // const data = await response.data\r\n    return response\r\n}\r\n\r\nexport async function updatePrinciple(schoolId, task) {\r\n    const response = await Api.patch(`/schools/principal/${schoolId}`, task)\r\n    // const data = await response.data\r\n    return response\r\n}\r\n\r\nexport async function updateTask(taskId, task) {\r\n    const response = await Api.patch(`/tasks/${taskId}`, task)\r\n    // const data = await response.data\r\n    return response\r\n}\r\n\r\n// export async function updateSchool(id, school) {\r\n//     const response = await Api.put(`/schools/${id}`, school)\r\n//     // const data = await response.data\r\n\r\n//     return response\r\n// }\r\n\r\nexport async function removeTask(taskId) {\r\n    const response = await Api.delete(`/tasks/${taskId}`, { taskId })\r\n    const data = await response.data\r\n    return data\r\n}\r\n\r\nexport async function getDashboardsByKeys(...keys) {\r\n    const response = await Api.get('/dashboards', { ...keys })\r\n    const data = await response.data\r\n    return data\r\n}\r\n\r\nexport async function getSchoolsForTasks(\r\n    schoolYear,\r\n    page,\r\n    limit,\r\n    column,\r\n    direction,\r\n    searchKey,\r\n    filters\r\n) {\r\n    // Đây là url đúng nhưng chưa có. Để đây sau này dùng, DO NOT REMOVE!!!\r\n    let url = `/schools/targets-creating?active=true&schoolYear=${schoolYear}&page=${page}&limit=${limit}&column=${column}&direction=${direction}`\r\n\r\n    // let url = `/schools?page=${page}&limit=${limit}&column=${column}&direction=${direction}&active=true`\r\n    url = searchKey ? url.concat(`&key=${searchKey}`) : url\r\n\r\n    if (filters) {\r\n        url = filters['district'].filterValue\r\n            ? url.concat(`&district=${filters['district'].filterValue}`)\r\n            : url\r\n        url = filters['type'].filterValue\r\n            ? url.concat(`&type=${filters['type'].filterValue}`)\r\n            : url\r\n        url = filters['level'].filterValue\r\n            ? url.concat(`&level=${filters['level'].filterValue}`)\r\n            : url\r\n        // url = filters['scale'].filterValue\r\n        //     ? url.concat(`&scale=${filters['scale'].filterValue}`)\r\n        //     : url\r\n        url = filters['status'].filterValue\r\n            ? url.concat(`&status=${filters['status'].filterValue}`)\r\n            : url\r\n    }\r\n\r\n    // console.log('url getSchools for tasks: ', url);\r\n\r\n    const response = await Api.get(url)\r\n    const data = await response.data\r\n    return data\r\n}\r\n\r\nexport async function createTasks(listTasks) {\r\n    const response = await Api.post('/tasks', listTasks)\r\n    const data = await response.data\r\n    return data\r\n}\r\n\r\nexport async function completeTasks(taskId) {\r\n    const response = await Api.put(`/tasks/completed/${taskId}`)\r\n    // const data = await response.data\r\n    return response\r\n}\r\n\r\nexport async function incompleteTasks(taskId) {\r\n    const response = await Api.put(`/tasks/failed/${taskId}`)\r\n    // const data = await response.data\r\n    return response\r\n}\r\n\r\n//===================== Assign Salesmen to Tasks =====================\r\n// Get list suggested Salesman in feature assign\r\nexport async function suggestSalesmen(listSchoolId) {\r\n    const response = await Api.post('/schools/suggestion', listSchoolId)\r\n    const data = await response.data\r\n    return data\r\n}\r\n\r\nexport async function assignMulti(list) {\r\n    const response = await Api.put(`/tasks/mutiple-assign`, list)\r\n    const data = await response.data\r\n    return data\r\n}\r\n\r\nexport async function unassign(id) {\r\n    const response = await Api.put(`/tasks/unassign/${id}`)\r\n    const data = await response.data\r\n    return data\r\n}\r\n\r\n// Get timeline of a task\r\nexport async function getTimeline(tasklId) {\r\n    const response = await Api.get(`/tasks/timeline/${tasklId}`)\r\n    const data = await response.data\r\n    return data\r\n}\r\n\r\n//===================== Services of a task =====================\r\nexport async function getServiceTypes() {   // Tự hỏi viết cái này ở đây có đúng và cần thiết ko nhỉ???\r\n    const response = await Api.get('/serviceTypes')\r\n    const data = await response.data\r\n    return data\r\n}\r\n\r\nexport async function createServices(service) {\r\n    const response = await Api.post('/services', service)\r\n    // const data = await response.data\r\n    return response\r\n}\r\n\r\nexport async function updateService(serviceId, service) {\r\n    const response = await Api.put(`/services/${serviceId}`, service)\r\n    // const data = await response.data\r\n    return response\r\n}\r\n\r\n// Get list managers to send notifications after a Salesman submit task's services\r\nexport async function getListManagers() {\r\n    // Làm sao để load all Managers trong hth mà ko phân trang?\r\n    const response = await Api.get('/users?active=true&role=SALES MANAGER')\r\n    const data = await response.data\r\n    return data\r\n}","import React, {\r\n    useState,\r\n    useContext,\r\n    createContext,\r\n    useEffect,\r\n    useReducer,\r\n} from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { TaskReducer } from './TaskReducer'\r\nimport { getPICs } from '../../../services/FiltersServices'\r\nimport {\r\n    DISTRICT_FILTER,\r\n    TYPE_FILTER,\r\n    LEVEL_FILTER,\r\n    // SCALE_FILTER,\r\n    PURPOSE_FILTER,\r\n    PIC_FILTER,\r\n    SCHOOL_YEAR_FILTER,\r\n    STATUS_FILTER,\r\n    ASSIGNED_FILTER,\r\n    TASK_STATUS_FILTER,\r\n    // DATE_RANGE_FILTER\r\n} from '../../../constants/Filters'\r\nimport { roleNames, taskStatusNames } from '../../../constants/Generals'\r\nimport { getServiceTypes } from '../TasksServices';\r\n\r\nconst TaskContext = createContext()\r\n\r\nexport function useTask() {\r\n    return useContext(TaskContext)\r\n}\r\n\r\nlet defaultFilters = {\r\n    schoolYear: { filterType: SCHOOL_YEAR_FILTER, filterValue: '' },\r\n    district: { filterType: DISTRICT_FILTER, filterValue: '' },\r\n    type: { filterType: TYPE_FILTER, filterValue: '' },\r\n    level: { filterType: LEVEL_FILTER, filterValue: '' },\r\n    // scale: { filterType: SCALE_FILTER, filterValue: '' },\r\n    PIC: { filterType: PIC_FILTER, filterValue: null },\r\n    purpose: { filterType: PURPOSE_FILTER, filterValue: '' },\r\n    status: { filterType: STATUS_FILTER, filterValue: '' },\r\n    isAssigned: { filterType: ASSIGNED_FILTER, filterValue: null },\r\n    // dateRange: { filterType: DATE_RANGE_FILTER, filterValue: [null, null] },\r\n    taskStatus: { filterType: TASK_STATUS_FILTER, filterValue: '' },\r\n}\r\n\r\nfunction useTaskProvider() {\r\n    const history = useHistory()\r\n\r\n    // Reducer\r\n    const [params, dispatchParams] = useReducer(TaskReducer, {\r\n        // listFilters: {\r\n        //     schoolYear: { filterType: 'schoolYear', filterValue: '' },\r\n        //     district: { filterType: 'district', filterValue: '' },\r\n        //     type: { filterType: 'type', filterValue: '' },\r\n        //     level: { filterType: 'level', filterValue: '' },\r\n        //     scale: { filterType: 'scale', filterValue: '' },\r\n        //     PIC: { filterType: 'PIC', filterValue: null },\r\n        //     purpose: { filterType: 'purpose', filterValue: '' },\r\n        // },\r\n        listFilters: defaultFilters,\r\n        searchKey: '',\r\n        page: 0,\r\n        limit: 10,\r\n        column: 'assignDate',\r\n        direction: 'desc',\r\n    })\r\n\r\n    // Paging\r\n    const [page, setPage] = useState(params.page)\r\n    const [limit, setLimit] = useState(params.limit)\r\n\r\n    // Sorting\r\n    const [column, setColumn] = useState(params.column)\r\n    const [direction, setDirection] = useState(params.direction)\r\n\r\n    //Filters\r\n    // const [schoolYear, setSchoolYear] = useState('')\r\n    // const [district, setDistrict] = useState('')\r\n    // const [schoolType, setSchoolType] = useState('')\r\n    // const [schoolLevel, setSchoolLevel] = useState('')\r\n    // const [schoolScale, setSchoolScale] = useState('')\r\n    // const [PIC, setPIC] = useState(null)\r\n    // const [purpose, setPurpose] = useState('')\r\n\r\n    const [schoolYear, setSchoolYear] = useState(\r\n        defaultFilters.schoolYear.filterValue\r\n            ? defaultFilters.schoolYear.filterValue\r\n            : ''\r\n    )\r\n    const [district, setDistrict] = useState(\r\n        defaultFilters.district.filterValue ? defaultFilters.district.filterValue : ''\r\n    )\r\n    const [schoolType, setSchoolType] = useState(\r\n        defaultFilters.type.filterValue ? defaultFilters.type.filterValue : ''\r\n    )\r\n    const [schoolLevel, setSchoolLevel] = useState(\r\n        defaultFilters.level.filterValue ? defaultFilters.level.filterValue : ''\r\n    )\r\n    // const [schoolScale, setSchoolScale] = useState(\r\n    //     defaultFilters.scale.filterValue ? defaultFilters.scale.filterValue : ''\r\n    // )\r\n    const [PIC, setPIC] = useState(\r\n        defaultFilters.PIC.filterValue ? defaultFilters.PIC.filterValue : null\r\n    )\r\n    const [purpose, setPurpose] = useState(\r\n        defaultFilters.purpose.filterValue\r\n            ? defaultFilters.purpose.filterValue\r\n            : ''\r\n    )\r\n    const [schoolStatus, setSchoolStatus] = useState(\r\n        defaultFilters.status.filterValue\r\n            ? defaultFilters.status.filterValue\r\n            : ''\r\n    )\r\n    const [isAssigned, setIsAssigned] = useState(\r\n        defaultFilters.isAssigned.filterValue\r\n            ? defaultFilters.isAssigned.filterValue\r\n            : null\r\n    )\r\n    const [taskStatus, setTaskStatus] = useState(\r\n        defaultFilters.taskStatus.filterValue\r\n            ? defaultFilters.taskStatus.filterValue\r\n            : ''\r\n    )\r\n    // const [dateRange, setDateRange] = useState(\r\n    //     defaultFilters.dateRange.filterValue[0]\r\n    //         ? defaultFilters.dateRange.filterValue\r\n    //         : [null, null]\r\n    // )\r\n\r\n    // fix major BUG\r\n    const setFilter = (key, value) => {\r\n        switch (key) {\r\n            case SCHOOL_YEAR_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    schoolYear: {\r\n                        filterType: SCHOOL_YEAR_FILTER,\r\n                        filterValue: value,\r\n                    },\r\n                }\r\n                setSchoolYear(value)\r\n                break\r\n            case DISTRICT_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    district: {\r\n                        filterType: DISTRICT_FILTER,\r\n                        filterValue: value,\r\n                    },\r\n                }\r\n                setDistrict(value)\r\n                break\r\n            case TYPE_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    type: { filterType: TYPE_FILTER, filterValue: value },\r\n                }\r\n                setSchoolType(value)\r\n                break\r\n            case LEVEL_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    level: { filterType: LEVEL_FILTER, filterValue: value },\r\n                }\r\n                setSchoolLevel(value)\r\n                break\r\n            // case SCALE_FILTER:\r\n            //     defaultFilters = {\r\n            //         ...defaultFilters,\r\n            //         scale: { filterType: SCALE_FILTER, filterValue: value },\r\n            //     }\r\n            //     setSchoolScale(value)\r\n            //     break\r\n            case PIC_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    PIC: {\r\n                        filterType: PIC_FILTER,\r\n                        filterValue: value,\r\n                    },\r\n                }\r\n                setPIC(value)\r\n                break\r\n            case PURPOSE_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    purpose: { filterType: PURPOSE_FILTER, filterValue: value },\r\n                }\r\n                setPurpose(value)\r\n                break\r\n            case STATUS_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    status: { filterType: STATUS_FILTER, filterValue: value },\r\n                }\r\n                setSchoolStatus(value)\r\n                break\r\n            case ASSIGNED_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    isAssigned: { filterType: ASSIGNED_FILTER, filterValue: value },\r\n                }\r\n                setIsAssigned(value)\r\n                break\r\n            case TASK_STATUS_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    taskStatus: { filterType: TASK_STATUS_FILTER, filterValue: value },\r\n                }\r\n                setTaskStatus(value)\r\n                break\r\n            // case DATE_RANGE_FILTER:\r\n            //     // console.log('DATE_RANGE_FILTER - value = ', value);\r\n            //     defaultFilters = {\r\n            //         ...defaultFilters,\r\n            //         dateRange: {\r\n            //             filterType: DATE_RANGE_FILTER,\r\n            //             filterValue: value,\r\n            //         },\r\n            //     }\r\n            //     setDateRange(value)\r\n            //     break\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    // APIs\r\n    const [PICs, setPICs] = useState([])\r\n    const [serviceTypes, setServiceTypes] = useState([])\r\n    const assignedStatuses = [null, true, false];\r\n    const taskStatuses = [taskStatusNames.ongoing, taskStatusNames.success, taskStatusNames.failed];\r\n    // const [schoolYears, setSchoolYears] = useState([])\r\n    // const [districts, setDistricts] = useState([])\r\n    // const [schoolTypes, setSchoolTypes] = useState([])\r\n    // const [schoolLevels, setSchoolLevels] = useState([])\r\n    // const [schoolScales, setSchoolScales] = useState([])\r\n\r\n    // Search field (do not have)\r\n\r\n    const getListPICs = (fullName) => {\r\n        getPICs({ active: true, fullName: fullName, role: roleNames.salesman }).then((data) => {\r\n            // console.log('list PICs: ', data)\r\n            setPICs(data)\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                history.push({\r\n                    pathname: '/errors',\r\n                    state: { error: error.response.status },\r\n                })\r\n            }\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        getListPICs()\r\n        // return () => setPICs([])\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        getServiceTypes().then((res) => {\r\n            setServiceTypes(res)\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                history.push({\r\n                    pathname: '/errors',\r\n                    state: { error: error.response.status },\r\n                })\r\n            }\r\n        })\r\n    }, []);\r\n\r\n    //================Parse object \"params\" --> query-string================\r\n    //........\r\n\r\n    return {\r\n        params,\r\n        dispatchParams,\r\n        PICs,\r\n        // districts,\r\n        // schoolYears,\r\n        // schoolTypes,\r\n        // schoolLevels,\r\n        // schoolScales,\r\n        page,\r\n        setPage,\r\n        limit,\r\n        setLimit,\r\n        direction,\r\n        setDirection,\r\n        column,\r\n        setColumn,\r\n        schoolYear,\r\n        // setSchoolYear,\r\n        district,\r\n        // setDistrict,\r\n        schoolType,\r\n        // setSchoolType,\r\n        schoolLevel,\r\n        // setSchoolLevel,\r\n        // schoolScale,\r\n        // setSchoolScale,\r\n        PIC,\r\n        // setPIC,\r\n        purpose,\r\n        // setPurpose,\r\n        schoolStatus,\r\n        isAssigned,\r\n        assignedStatuses,\r\n        setFilter,\r\n        getListPICs,\r\n        serviceTypes,\r\n        taskStatus,\r\n        taskStatuses,\r\n        // dateRange,\r\n    }\r\n}\r\n\r\nfunction TaskProvider(props) {\r\n    const { children } = props\r\n    const task = useTaskProvider()\r\n\r\n    return (\r\n        <TaskContext.Provider value={task}>\r\n            {children}\r\n        </TaskContext.Provider>\r\n    )\r\n}\r\n\r\nexport default TaskProvider\r\n","import * as Actions from '../../../constants/ActionTypes'\r\n\r\nexport const ServiceReducer = (params, action) => {\r\n    const { type, payload } = action\r\n    const { listFilters } = params\r\n\r\n    switch (type) {\r\n        case Actions.FILTER_SERVICE_STATUS:\r\n            return { ...params, page: 0, listFilters: { ...listFilters, serviceStatus: payload } }\r\n        case Actions.FILTER_SERVICE_TYPE:\r\n            return { ...params, page: 0, listFilters: { ...listFilters, serviceType: payload } }\r\n        case Actions.FILTER_SCHOOL_YEAR:\r\n            return { ...params, page: 0, listFilters: { ...listFilters, schoolYear: payload } }\r\n        case Actions.FILTER_EXPIRED:\r\n            return { ...params, page: 0, listFilters: { ...listFilters, isExpired: payload } }\r\n        case Actions.FILTER_DATE_RANGE:\r\n            return { ...params, page: 0, listFilters: { ...listFilters, dateRange: payload } }\r\n\r\n        case Actions.ENTER_SEARCH_KEYWORD:\r\n            return { ...params, page: 0, searchKey: payload }\r\n\r\n        case Actions.SORT_BY:\r\n            return { ...params, column: payload.column, direction: payload.direction }\r\n\r\n        case Actions.CHANGE_PAGE:\r\n            return { ...params, page: payload.page, limit: payload.limit }\r\n\r\n        default:\r\n            return params\r\n    }\r\n}","import Api from '../../services/Api'\r\n\r\nexport async function getServices(\r\n    page = 0,\r\n    limit = 10,\r\n    column = 'submitDate',\r\n    direction = 'desc',\r\n    searchKey = undefined,\r\n    filters = undefined,\r\n    picUsername\r\n) {\r\n    let url = `/services?page=${page}&limit=${limit}&column=${column}&direction=${direction}`\r\n\r\n    url = searchKey ? url.concat(`&key=${searchKey}`) : url\r\n\r\n    url = picUsername ? url.concat(`&username=${picUsername}`) : url\r\n\r\n    if (filters) {\r\n        url = filters['serviceStatus'].filterValue\r\n            ? url.concat(`&status=${filters['serviceStatus'].filterValue}`)\r\n            : url\r\n        url = filters['serviceType'].filterValue\r\n            ? url.concat(`&serviceType=${filters['serviceType'].filterValue}`)\r\n            : url\r\n        url = filters['schoolYear'].filterValue\r\n            ? url.concat(`&schoolYear=${filters['schoolYear'].filterValue}`)\r\n            : url\r\n        // url = filters[''].filterValue\r\n        //     ? url.concat(`&username=${filters[''].filterValue}`)\r\n        //     : url\r\n    }\r\n\r\n    const response = await Api.get(url)\r\n    return response\r\n}\r\n\r\nexport async function getService(serviceId) {\r\n    const response = await Api.get(`/services/${serviceId}`)\r\n    const data = await response.data\r\n    return data\r\n}\r\n\r\n// Salesman updates note\r\nexport async function updateService(id, service) {\r\n    const response = await Api.put(`/services/${id}`, service)\r\n    // const data = await response.data\r\n    return response\r\n}\r\n\r\nexport async function getServiceTypes() {\r\n    const response = await Api.get('/serviceTypes')\r\n    const data = await response.data\r\n    return data\r\n}\r\n\r\nexport async function approveServices(serviceId) {\r\n    const response = await Api.patch(`/services/approved/${serviceId}`)\r\n    // const data = await response.data\r\n    return response\r\n}\r\n\r\nexport async function rejectServices(serviceId, rejectReason) {\r\n    const response = await Api.patch(`/services/rejected/${serviceId}?reason=${rejectReason}`)\r\n    // const data = await response.data\r\n    return response\r\n}\r\n\r\n// export async function getTimeline(serviceId) {\r\n//     const response = await Api.get(`/services/timeline/${serviceId}`)\r\n//     const data = await response.data\r\n//     return data\r\n// }\r\n\r\n// Đã viết bên TasksServices\r\n// export async function submitService(service) {\r\n//     const response = await Api.post('/services', service)\r\n//     // const data = await response.data\r\n//     return response\r\n// }","import React, {\r\n    useState,\r\n    useContext,\r\n    createContext,\r\n    useReducer,\r\n    useEffect,\r\n} from 'react'\r\nimport { ServiceReducer } from './ServiceReducer'\r\nimport {\r\n    SERVICE_STATUS_FILTER,\r\n    SERVICE_TYPE_FILTER,\r\n    PIC_FILTER,\r\n    SCHOOL_YEAR_FILTER,\r\n    EXPIRED_FILTER,\r\n    DATE_RANGE_FILTER\r\n} from '../../../constants/Filters'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { getServiceTypes } from '../ServicesServices'\r\nimport { getPICs } from '../../../services/FiltersServices'\r\nimport { roleNames } from '../../../constants/Generals'\r\n\r\nconst ServiceContext = createContext()\r\n\r\nexport function useService() {\r\n    return useContext(ServiceContext)\r\n}\r\n\r\nlet defaultFilters = {\r\n    serviceStatus: { filterType: SERVICE_STATUS_FILTER, filterValue: '' },  // pending, approved, rejected\r\n    serviceType: { filterType: SERVICE_TYPE_FILTER, filterValue: '' },\r\n    schoolYear: { filterType: SCHOOL_YEAR_FILTER, filterValue: '' },\r\n    isExpired: { filterType: EXPIRED_FILTER, filterValue: null },\r\n    dateRange: { filterType: DATE_RANGE_FILTER, filterValue: [null, null] },\r\n    PIC: { filterType: PIC_FILTER, filterValue: null },\r\n}\r\n\r\nfunction useServiceProvider() {\r\n    const history = useHistory()\r\n\r\n    // Reducer\r\n    const [params, dispatchParams] = useReducer(ServiceReducer, {\r\n        listFilters: defaultFilters,\r\n        searchKey: '',\r\n        page: 0,\r\n        limit: 10,\r\n        column: 'submitDate',\r\n        direction: 'desc',\r\n    })\r\n\r\n    // Paging\r\n    const [page, setPage] = useState(params.page)\r\n    const [limit, setLimit] = useState(params.limit)\r\n\r\n    // Sorting\r\n    const [column, setColumn] = useState(params.column)\r\n    const [direction, setDirection] = useState(params.direction)\r\n\r\n    //Filters\r\n    const [serviceStatus, setServiceStatus] = useState(\r\n        defaultFilters.serviceStatus.filterValue\r\n            ? defaultFilters.serviceStatus.filterValue\r\n            : ''\r\n    )\r\n    const [serviceType, setServiceType] = useState(\r\n        defaultFilters.serviceType.filterValue\r\n            ? defaultFilters.serviceType.filterValue\r\n            : ''\r\n    )\r\n    const [schoolYear, setSchoolYear] = useState(\r\n        defaultFilters.schoolYear.filterValue\r\n            ? defaultFilters.schoolYear.filterValue\r\n            : ''\r\n    )\r\n    const [isExpired, setIsExpired] = useState(\r\n        defaultFilters.isExpired.filterValue\r\n            ? defaultFilters.isExpired.filterValue\r\n            : ''\r\n    )\r\n    const [dateRange, setDateRange] = useState(\r\n        defaultFilters.dateRange.filterValue[0]\r\n            ? defaultFilters.dateRange.filterValue\r\n            : [null, null]\r\n    )\r\n    const [PIC, setPIC] = useState(\r\n        defaultFilters.PIC.filterValue ? defaultFilters.PIC.filterValue : null\r\n    )\r\n\r\n    // fix major BUG\r\n    const setFilter = (key, value) => {\r\n        switch (key) {\r\n            case SERVICE_STATUS_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    serviceStatus: { filterType: SERVICE_STATUS_FILTER, filterValue: value },\r\n                }\r\n                setServiceStatus(value)\r\n                break\r\n            case SERVICE_TYPE_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    serviceType: { filterType: SERVICE_TYPE_FILTER, filterValue: value },\r\n                }\r\n                setServiceType(value)\r\n                break\r\n            case SCHOOL_YEAR_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    schoolYear: { filterType: SCHOOL_YEAR_FILTER, filterValue: value },\r\n                }\r\n                setSchoolYear(value)\r\n                break\r\n            case EXPIRED_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    isExpired: { filterType: EXPIRED_FILTER, filterValue: value },\r\n                }\r\n                setIsExpired(value)\r\n                break\r\n            case DATE_RANGE_FILTER:\r\n                // console.log('DATE_RANGE_FILTER - value = ', value);\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    dateRange: {\r\n                        filterType: DATE_RANGE_FILTER,\r\n                        filterValue: value,\r\n                    },\r\n                }\r\n                setDateRange(value)\r\n                break\r\n            case PIC_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    PIC: { filterType: PIC_FILTER, filterValue: value },\r\n                }\r\n                setPIC(value)\r\n                break\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    // APIs get data for filters\r\n    const expiredStatuses = [null, true, false];\r\n    const serviceStatuses = ['Pending', 'Approved', 'Rejected'];\r\n    const [PICs, setPICs] = useState([])\r\n    const [serviceTypes, setServiceTypes] = useState([])\r\n    useEffect(() => {\r\n        getServiceTypes().then(res => {\r\n            setServiceTypes(res);\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                history.push({\r\n                    pathname: '/errors',\r\n                    state: { error: error.response.status },\r\n                })\r\n            }\r\n        })\r\n    }, []);\r\n\r\n    const getListPICs = (fullName) => {\r\n        getPICs({ active: true, fullName: fullName, role: roleNames.salesman }).then((data) => {\r\n            // console.log('list PICs: ', data)\r\n            setPICs(data)\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                history.push({\r\n                    pathname: '/errors',\r\n                    state: { error: error.response.status },\r\n                })\r\n            }\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        getListPICs()\r\n        // return () => setPICs([])\r\n    }, [])\r\n\r\n    // Search field (do not have)\r\n\r\n    return {\r\n        params,\r\n        dispatchParams,\r\n        page,\r\n        setPage,\r\n        limit,\r\n        setLimit,\r\n        direction,\r\n        setDirection,\r\n        column,\r\n        setColumn,\r\n        serviceStatus,\r\n        serviceType,\r\n        schoolYear,\r\n        serviceTypes,\r\n        dateRange,\r\n        isExpired,\r\n        expiredStatuses,\r\n        serviceStatuses,\r\n        PIC,\r\n        PICs,\r\n        getListPICs,\r\n        setFilter,\r\n    }\r\n}\r\n\r\nfunction ServiceProvider(props) {\r\n    const { children } = props\r\n    const service = useServiceProvider()\r\n\r\n    return (\r\n        <ServiceContext.Provider value={service}>\r\n            {children}\r\n        </ServiceContext.Provider>\r\n    )\r\n}\r\n\r\nexport default ServiceProvider\r\n","import * as Actions from '../../../constants/ActionTypes'\r\n\r\nexport const KPIReducer = (params, action) => {\r\n    const { type, payload } = action\r\n    const { listFilters } = params\r\n\r\n    switch (type) {\r\n        case Actions.FILTER_KPI_STATUS:\r\n            return { ...params, page: 0, listFilters: { ...listFilters, status: payload } }\r\n        // case Actions.FILTER_SCHOOL_YEAR:    // ko chắc là schoolYear hay year\r\n        //     return { ...params, page: 0, listFilters: { ...listFilters, schoolYear: payload } }\r\n\r\n        case Actions.ENTER_SEARCH_KEYWORD:\r\n            return { ...params, page: 0, searchKey: payload }\r\n\r\n        case Actions.SORT_BY:\r\n            return { ...params, column: payload.column, direction: payload.direction }\r\n\r\n        default:\r\n            return params\r\n    }\r\n}","import Api from '../../services/Api'\r\nimport queryString from 'query-string'\r\n\r\n// getAllKPIGroups (role Manager)\r\nexport async function getKPIGroups(\r\n    column = 'id',\r\n    direction = 'desc',\r\n    searchKey = undefined,\r\n    filters = undefined,\r\n    // username\r\n) {\r\n    let url = `/kpi-groups?column=${column}&direction=${direction}`\r\n\r\n    url = searchKey ? url.concat(`&key=${searchKey}`) : url\r\n\r\n    // url = username ? url.concat(`&username=${username}`) : url\r\n\r\n    if (filters) {\r\n        url = filters['status'].filterValue\r\n            ? url.concat(`&status=${filters['status'].filterValue}`)\r\n            : url\r\n        // url = filters['schoolYear'].filterValue\r\n        //     ? url.concat(`&schoolYear=${filters['schoolYear'].filterValue}`)\r\n        //     : url\r\n    }\r\n\r\n    const response = await Api.get(url)\r\n    return response\r\n}\r\n\r\n// getKPIGroupDetails (role Manager)\r\nexport async function getKPIGroup(groupId) {\r\n    const response = await Api.get(`/kpi-groups/${groupId}`)\r\n    const data = await response.data\r\n    return data\r\n}\r\n\r\n// getKPIDetails (role Manager)\r\nexport async function getKPIDetails(kpiId) {\r\n    const response = await Api.get(`/kpis/${kpiId}`)\r\n    const data = await response.data\r\n    return data\r\n}\r\n\r\n// getMine (role Salesman)\r\nexport async function getMyKPIGroups(\r\n    column = 'id',\r\n    direction = 'desc',\r\n    searchKey = undefined,\r\n    filters = undefined,\r\n    username\r\n) {\r\n    let url = `/kpi-groups/group?column=${column}&direction=${direction}`\r\n\r\n    url = searchKey ? url.concat(`&key=${searchKey}`) : url\r\n\r\n    url = username ? url.concat(`&username=${username}`) : url\r\n\r\n    if (filters) {\r\n        url = filters['status'].filterValue\r\n            ? url.concat(`&status=${filters['status'].filterValue}`)\r\n            : url\r\n    }\r\n\r\n    const response = await Api.get(url)\r\n    const data = response.data\r\n    return data\r\n}\r\n\r\n// getMyKPIDetails (role Salesman)\r\nexport async function getMyKPIDetail(groupId, username) {\r\n    const response = await Api.get(`/kpis/${groupId}/${username}`)\r\n    const data = await response.data\r\n    return data\r\n}\r\n\r\nexport async function createKPIGroup(request) {\r\n    const response = await Api.post('/kpis', request)\r\n    return response\r\n}\r\n\r\nexport async function disableKPIGroup(groupId) {\r\n    const response = await Api.delete(`/kpi-groups/${groupId}`)\r\n    return response\r\n}\r\n\r\n// Update manual KPIs\r\nexport async function updateKPIManual(kpiDetailId, kpiDetail) {\r\n    const response = await Api.put(`/kpis/${kpiDetailId}`, kpiDetail)\r\n    return response\r\n}\r\n\r\n//========================KPI's criteria========================\r\nexport async function getKPICriteria() {\r\n    const response = await Api.get('/criteria')\r\n    const data = await response.data\r\n    return data\r\n}\r\n\r\n//================List Salesmen to apply KPI group===============\r\nexport async function getAllSalesmen(searchKey) {\r\n    const key = queryString.stringify(searchKey)\r\n    const response = await Api.get(`/users/get-all?${key}`)\r\n    const data = await response.data\r\n    return data\r\n}\r\n\r\n// Cách viết cũ\r\n// export async function createKPIGroup(id, kpi) {\r\n//     const response = await Api.post(`/kpis/${id}`, kpi)\r\n//     return response\r\n// }","import React, {\r\n    useState,\r\n    useContext,\r\n    createContext,\r\n    useReducer,\r\n    useEffect,\r\n} from 'react'\r\nimport { KPIReducer } from './KPIReducer'\r\nimport { KPI_STATUS_FILTER } from '../../../constants/Filters'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { getKPICriteria } from '../KPIsServices'\r\nimport { kpiStatusNames } from '../../../constants/Generals'\r\n\r\nconst KPIContext = createContext()\r\n\r\nexport function useKPI() {\r\n    return useContext(KPIContext)\r\n}\r\n\r\nlet defaultFilters = {\r\n    status: { filterType: KPI_STATUS_FILTER, filterValue: '' },  // active, disable, expired\r\n}\r\n\r\nfunction useKPIProvider() {\r\n    const history = useHistory()\r\n\r\n    // Reducer\r\n    const [params, dispatchParams] = useReducer(KPIReducer, {\r\n        listFilters: defaultFilters,\r\n        searchKey: '',\r\n        column: 'id',\r\n        direction: 'desc',\r\n    })\r\n\r\n    // This table does not have Paging\r\n\r\n    // Sorting\r\n    const [column, setColumn] = useState(params.column)\r\n    const [direction, setDirection] = useState(params.direction)\r\n\r\n    //Filters\r\n    const [status, setStatus] = useState(\r\n        defaultFilters.status.filterValue ? defaultFilters.status.filterValue : ''\r\n    )\r\n    const kpiStatuses = [kpiStatusNames.applying, kpiStatusNames.expired, kpiStatusNames.disable]\r\n\r\n    const setFilter = (key, value) => {\r\n        switch (key) {\r\n            case KPI_STATUS_FILTER:\r\n                defaultFilters = {\r\n                    ...defaultFilters,\r\n                    status: { filterType: KPI_STATUS_FILTER, filterValue: value },\r\n                }\r\n                setStatus(value)\r\n                break\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    // Get data from APIs\r\n    const [criteria, setCriteria] = useState([])\r\n    const getCriteria = () => {\r\n        getKPICriteria().then(res => {\r\n            setCriteria(res);\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                history.push({\r\n                    pathname: '/errors',\r\n                    state: { error: error.response.status },\r\n                })\r\n            }\r\n        })\r\n    }\r\n    useEffect(getCriteria, []);\r\n\r\n    // Search field (do not have)\r\n\r\n    return {\r\n        params,\r\n        dispatchParams,\r\n        direction,\r\n        setDirection,\r\n        column,\r\n        setColumn,\r\n        status,\r\n        setStatus,\r\n        criteria,\r\n        status,\r\n        kpiStatuses,\r\n        setFilter\r\n    }\r\n}\r\n\r\nfunction KPIProvider(props) {\r\n    const { children } = props\r\n    const kpi = useKPIProvider()\r\n\r\n    return (\r\n        <KPIContext.Provider value={kpi}>\r\n            {children}\r\n        </KPIContext.Provider>\r\n    )\r\n}\r\n\r\nexport default KPIProvider\r\n","import React from 'react'\r\nimport {\r\n    Dashboards,\r\n    Account,\r\n    Accounts,\r\n    Task,\r\n    Tasks,\r\n    WorkPlans,\r\n    School,\r\n    Schools,\r\n    Report,\r\n    Reports,\r\n    Services,\r\n    Service,\r\n    // Salesman,\r\n    // Salesmen,\r\n    KPI,\r\n    KPIs\r\n} from '../pages'\r\nimport AccountProvider from '../pages/Accounts/hooks/AccountContext'\r\nimport ReportProvider from '../pages/Reports/hooks/ReportContext'\r\nimport SchoolProvider from '../pages/Schools/hooks/SchoolContext'\r\nimport TaskProvider from '../pages/Tasks/hooks/TaskContext'\r\nimport ServiceProvider from '../pages/Services/hooks/ServiceContext'\r\n// import SalesmanProvider from '../pages/Salesmen/hooks/SalesmanContext'\r\nimport KPIProvider from '../pages/KPIs/hooks/KPIContext'\r\n\r\nexport const defaultRoutes = {\r\n    ADMIN: { route: '/apps/accounts' },\r\n    'SALES MANAGER': { route: '/apps/dashboards' },\r\n    'SALES SUPERVISOR': { route: '/apps/dashboards' },\r\n    SALESMAN: { route: '/apps/dashboards' },\r\n}\r\n\r\nexport const roleRoutes = {\r\n    ADMIN: [\r\n        {\r\n            path: 'accounts',\r\n            component: () => (\r\n                <AccountProvider>\r\n                    <Accounts />\r\n                </AccountProvider>\r\n            ),\r\n        },\r\n        { path: 'accounts/:id', component: () => <Account /> },\r\n        {\r\n            path: 'schools',\r\n            component: () => (\r\n                <SchoolProvider>\r\n                    <Schools />\r\n                </SchoolProvider>\r\n            ),\r\n        },\r\n        { path: 'schools/:id', component: () => <School /> },\r\n    ],\r\n    'SALES MANAGER': [\r\n        { path: 'dashboards', component: () => <Dashboards /> },\r\n        {\r\n            path: 'schools',\r\n            component: () => (\r\n                <SchoolProvider>\r\n                    <Schools />\r\n                </SchoolProvider>\r\n            ),\r\n        },\r\n        { path: 'schools/:id', component: () => <School /> },\r\n        {\r\n            path: 'tasks',\r\n            component: () => (\r\n                <TaskProvider>\r\n                    <Tasks />\r\n                </TaskProvider>\r\n            ),\r\n        },\r\n        { path: 'tasks/:id', component: () => <Task /> },\r\n        {\r\n            path: 'reports',\r\n            component: () => (\r\n                <ReportProvider>\r\n                    <Reports />\r\n                </ReportProvider>\r\n            ),\r\n        },\r\n        { path: 'reports/:id', component: () => <Report /> },\r\n        {\r\n            path: 'services',\r\n            component: () => (\r\n                <ServiceProvider>\r\n                    <Services />\r\n                </ServiceProvider>\r\n            ),\r\n        },\r\n        {\r\n            path: 'services/:id',\r\n            component: () => (\r\n                <ServiceProvider>\r\n                    <Service />\r\n                </ServiceProvider>\r\n            )\r\n        },\r\n        // {\r\n        //     path: 'salesmen',\r\n        //     component: () => (\r\n        //         <SalesmanProvider>\r\n        //             <Salesmen />\r\n        //         </SalesmanProvider>\r\n        //     ),\r\n        // },\r\n        // { path: 'salesmen/:id', component: () => <Salesman /> },\r\n        {\r\n            path: 'kpis',\r\n            component: () => (\r\n                <KPIProvider>\r\n                    <KPIs />\r\n                </KPIProvider>\r\n            ),\r\n        },\r\n        { path: 'kpis/:id', component: () => <KPI /> },\r\n        { path: 'work-plans', component: () => <WorkPlans /> },\r\n    ],\r\n    'SALES SUPERVISOR': [\r\n        { path: 'dashboards', component: () => <Dashboards /> },\r\n        {\r\n            path: 'schools',\r\n            component: () => (\r\n                <SchoolProvider>\r\n                    <Schools />\r\n                </SchoolProvider>\r\n            ),\r\n        },\r\n        { path: 'schools/:id', component: () => <School /> },\r\n        {\r\n            path: 'tasks',\r\n            component: () => (\r\n                <TaskProvider>\r\n                    <Tasks />\r\n                </TaskProvider>\r\n            ),\r\n        },\r\n        { path: 'tasks/:id', component: () => <Task /> },\r\n        {\r\n            path: 'reports',\r\n            component: () => (\r\n                <ReportProvider>\r\n                    <Reports />\r\n                </ReportProvider>\r\n            ),\r\n        },\r\n        { path: 'reports/:id', component: () => <Report /> },\r\n        // {\r\n        //     path: 'salesmen',\r\n        //     component: () => (\r\n        //         <SalesmanProvider>\r\n        //             <Salesmen />\r\n        //         </SalesmanProvider>\r\n        //     ),\r\n        // },\r\n        // { path: 'salesmen/:id', component: () => <Salesman /> },\r\n        {\r\n            path: 'kpis',\r\n            component: () => (\r\n                <KPIProvider>\r\n                    <KPIs />\r\n                </KPIProvider>\r\n            ),\r\n        },\r\n        { path: 'kpis/:id', component: () => <KPI /> },\r\n        { path: 'work-plans', component: () => <WorkPlans /> },\r\n    ],\r\n    SALESMAN: [\r\n        { path: 'dashboards', component: () => <Dashboards /> },\r\n        {\r\n            path: 'tasks',\r\n            component: () => (\r\n                <TaskProvider>\r\n                    <Tasks />\r\n                </TaskProvider>\r\n            ),\r\n        },\r\n        {\r\n            path: 'tasks/:id', component: () => (\r\n                <TaskProvider>\r\n                    <Task />\r\n                </TaskProvider>\r\n            )\r\n        },\r\n        {\r\n            path: 'reports',\r\n            component: () => (\r\n                <ReportProvider>\r\n                    <Reports />\r\n                </ReportProvider>\r\n            ),\r\n        },\r\n        { path: 'reports/:id', component: () => <Report /> },\r\n        {\r\n            path: 'services',\r\n            component: () => (\r\n                <ServiceProvider>\r\n                    <Services />\r\n                </ServiceProvider>\r\n            ),\r\n        },\r\n        {\r\n            path: 'services/:id',\r\n            component: () => (\r\n                <ServiceProvider>\r\n                    <Service />\r\n                </ServiceProvider>\r\n            )\r\n        },\r\n        {\r\n            path: 'kpis',\r\n            component: () => (\r\n                <KPIProvider>\r\n                    <KPIs />\r\n                </KPIProvider>\r\n            ),\r\n        },\r\n        { path: 'kpis/:id', component: () => <KPI /> },\r\n        { path: 'work-plans', component: () => <WorkPlans /> },\r\n    ],\r\n}\r\n","import Api from './Api'\r\n\r\nexport async function getProfile(username) {\r\n    const response = await Api.get(`/users/${username}`)\r\n    const data = await response.data\r\n\r\n    return data\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Link, useRouteMatch } from 'react-router-dom'\r\nimport {\r\n    Typography,\r\n    Popover,\r\n    MenuItem,\r\n    ListItemText,\r\n    ListItemIcon,\r\n    Icon,\r\n    Button,\r\n    Avatar,\r\n} from '@material-ui/core'\r\nimport { IconContext } from 'react-icons'\r\nimport * as Cookies from '../../../../utils/Cookies'\r\nimport { useAuth } from '../../../../hooks/AuthContext'\r\nimport { useAccount } from '../../../../pages/Accounts/hooks/AccountContext'\r\nimport { useReport } from '../../../../pages/Reports/hooks/ReportContext'\r\nimport { useSchool } from '../../../../pages/Schools/hooks/SchoolContext'\r\nimport { useTask } from '../../../../pages/Tasks/hooks/TaskContext'\r\nimport { useApp } from '../../../../hooks/AppContext'\r\nimport { userMenuItems as items } from '../../AppLayoutsConfig'\r\nimport { cookieNames } from '../../../../constants/Generals'\r\nimport * as FilterTypes from '../../../../constants/Filters'\r\nimport classes from './UserMenu.module.scss'\r\n\r\nfunction UserMenu() {\r\n    // const { userInfo } = props\r\n    const { user, setUser } = useAuth()\r\n    const { userInfo } = useApp()\r\n    const { setFilter: setAccountFilter } = useAccount()\r\n    const { setFilter: setReportFilter } = useReport()\r\n    const { setFilter: setSchoolFilter } = useSchool()\r\n    const { setFilter: setTaskFilter } = useTask()\r\n\r\n    const { url } = useRouteMatch()\r\n\r\n    const [userMenu, setUserMenu] = useState(null)\r\n\r\n    const userMenuClick = (event) => {\r\n        setUserMenu(event.currentTarget)\r\n    }\r\n\r\n    const userMenuClose = () => {\r\n        setUserMenu(null)\r\n    }\r\n\r\n    const handleLogout = () => {\r\n        Cookies.setCookie(cookieNames.accessToken, '', 0)\r\n        localStorage.clear()\r\n        setUser()\r\n        setAccountFilter(FilterTypes.ACTIVE_FILTER, null)\r\n        setAccountFilter(FilterTypes.ROLE_FILTER, '')\r\n        setReportFilter(FilterTypes.PIC_FILTER, null)\r\n        setReportFilter(FilterTypes.DISTRICT_FILTER, '')\r\n        setReportFilter(FilterTypes.SCHOOL_YEAR_FILTER, '')\r\n        setReportFilter(FilterTypes.PURPOSE_FILTER, '')\r\n        setReportFilter(FilterTypes.DATE_RANGE_FILTER, [null, null])\r\n        setSchoolFilter(FilterTypes.DISTRICT_FILTER, '')\r\n        setSchoolFilter(FilterTypes.TYPE_FILTER, '')\r\n        setSchoolFilter(FilterTypes.LEVEL_FILTER, '')\r\n        // setSchoolFilter(FilterTypes.SCALE_FILTER, '')\r\n        setSchoolFilter(FilterTypes.STATUS_FILTER, '')\r\n        setSchoolFilter(FilterTypes.ACTIVE_FILTER, null)\r\n        setTaskFilter(FilterTypes.SCHOOL_YEAR_FILTER, '')\r\n        setTaskFilter(FilterTypes.DISTRICT_FILTER, '')\r\n        setTaskFilter(FilterTypes.TYPE_FILTER, '')\r\n        setTaskFilter(FilterTypes.LEVEL_FILTER, '')\r\n        // setTaskFilter(FilterTypes.SCALE_FILTER, '')\r\n        setTaskFilter(FilterTypes.PIC_FILTER, null)\r\n        setTaskFilter(FilterTypes.PURPOSE_FILTER, '')\r\n        setTaskFilter(FilterTypes.STATUS_FILTER, '')\r\n        setTaskFilter(FilterTypes.ASSIGNED_FILTER, null)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Button className={classes.user} onClick={userMenuClick}>\r\n                <div className={classes.info}>\r\n                    <Typography component=\"span\" className={classes.name}>\r\n                        {userInfo?.fullName}\r\n                    </Typography>\r\n                    <Typography className={classes.role}>\r\n                        {userInfo?.roleName}\r\n                    </Typography>\r\n                </div>\r\n\r\n                {userInfo?.avatar ? (\r\n                    <Avatar\r\n                        className={classes.avatar}\r\n                        alt=\"user avatar\"\r\n                        src={userInfo?.avatar}\r\n                    />\r\n                ) : (\r\n                    <Avatar className={classes.avatar}>\r\n                        {userInfo?.fullName.split(' ').pop()[0]}\r\n                    </Avatar>\r\n                )}\r\n            </Button>\r\n\r\n            <IconContext.Provider value={{ color: 'rgba(0, 0, 0, 0.54)' }}>\r\n                <Popover\r\n                    open={Boolean(userMenu)}\r\n                    anchorEl={userMenu}\r\n                    onClose={userMenuClose}\r\n                    anchorOrigin={{\r\n                        vertical: 'bottom',\r\n                        horizontal: 'right',\r\n                    }}\r\n                    transformOrigin={{\r\n                        vertical: 'top',\r\n                        horizontal: 'right',\r\n                    }}\r\n                    classes={{\r\n                        paper: 'py-8',\r\n                    }}\r\n                >\r\n                    {items[0].map((item) => (\r\n                        <MenuItem\r\n                            component={Link}\r\n                            to={`${url}/profiles/${user.username}`}\r\n                            onClick={userMenuClose}\r\n                            role=\"button\"\r\n                            key={item}\r\n                        >\r\n                            <ListItemIcon className={classes.menuIcon}>\r\n                                <Icon>{item.icon}</Icon>\r\n                            </ListItemIcon>\r\n                            <ListItemText primary={item.title} />\r\n                        </MenuItem>\r\n                    ))}\r\n                    {items[1].map((item) => (\r\n                        <MenuItem onClick={handleLogout} key={item}>\r\n                            <ListItemIcon className={classes.menuIcon}>\r\n                                <Icon>{item.icon}</Icon>\r\n                            </ListItemIcon>\r\n                            <ListItemText primary={item.title} />\r\n                        </MenuItem>\r\n                    ))}\r\n                </Popover>\r\n            </IconContext.Provider>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default React.memo(UserMenu)\r\n","export const Consts = {\r\n    noNotif: 'No notifications...',\r\n    more: 'See more',\r\n}\r\n","import React, { useState, useCallback } from 'react'\r\nimport { Link, useRouteMatch } from 'react-router-dom'\r\nimport {\r\n    Menu,\r\n    MenuItem,\r\n    Card,\r\n    Typography,\r\n    CardContent,\r\n    CardHeader,\r\n    Avatar,\r\n} from '@material-ui/core'\r\nimport { Consts } from './NotifyConfig'\r\nimport classes from './Notify.module.scss'\r\n\r\nfunction Notify(props) {\r\n    const { notiList, limit, next, onUpdate } = props\r\n    const isNotifMenuOpen = Boolean(props.notifAnchorEl)\r\n\r\n    const { url } = useRouteMatch()\r\n\r\n    // console.log('notiList: ', notiList)\r\n    // console.log('notify url: ', url)\r\n\r\n    const handleNotifMenuClose = useCallback(() => {\r\n        props.setNotifAnchorEl(null)\r\n    }, [])\r\n\r\n    const [notiState, setNotiState] = useState({})\r\n    const handleNotiClicked = (e, noti) => {\r\n        switch (noti.type) {\r\n            case 'Welcome':\r\n                onUpdate(e, noti)\r\n                break\r\n            case 'report':\r\n                onUpdate(e, noti)\r\n                // Set state ở đây làm chậm 1 thao tác\r\n                setNotiState({\r\n                    pathname: `${url}/reports/${noti?.uid}`,\r\n                    state: { id: noti?.uid },\r\n                })\r\n                break\r\n            case 'service':\r\n                onUpdate(e, noti)\r\n                setNotiState({\r\n                    pathname: `${url}/services/${noti?.uid}`,\r\n                    state: { serviceId: noti?.uid },\r\n                })\r\n                break\r\n            case 'task':\r\n                onUpdate(e, noti)\r\n                setNotiState({\r\n                    pathname: `${url}/tasks`,\r\n                })\r\n                break\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Menu\r\n            anchorEl={props.notifAnchorEl}\r\n            getContentAnchorEl={null}\r\n            anchorOrigin={{ vertical: 'bottom', horizontal: 'left' }}\r\n            transformOrigin={{ vertical: 'center', horizontal: 'right' }}\r\n            keepMounted\r\n            open={isNotifMenuOpen}\r\n            onClose={handleNotifMenuClose}\r\n            PaperProps={{\r\n                style: {\r\n                    maxHeight: '50ch',\r\n                    maxWidth: '45ch',\r\n                },\r\n            }}\r\n        >\r\n            {notiList?.length < 1 && (\r\n                <MenuItem>\r\n                    <span>{Consts.noNotif}</span>\r\n                </MenuItem>\r\n            )}\r\n\r\n            {notiList?.map((item, index) => (\r\n                <MenuItem\r\n                    key={index}\r\n                    onClick={(e) => handleNotiClicked(e, item)}\r\n                    className={classes.notiItem}\r\n                    component={Link}\r\n                    to={notiState}\r\n                >\r\n                    <Card\r\n                        className={classes.notiCard}\r\n                        style={\r\n                            item.type !== 'Welcome'\r\n                                ? item.type === 'report'\r\n                                    ? {\r\n                                        borderLeft:\r\n                                            '5px solid rgba(255, 99, 132, 1)',\r\n                                    }\r\n                                    : {\r\n                                        borderLeft:\r\n                                            '5px solid rgba(54, 162, 235, 1)',\r\n                                    }\r\n                                : {\r\n                                    borderLeft:\r\n                                        '5px solid rgba(255, 206, 86, 1)',\r\n                                }\r\n                        }\r\n                    >\r\n                        <CardHeader\r\n                            avatar={<Avatar src={item.avatar} />}\r\n                            title={`${item.actor} (${item.type})`}\r\n                            subheader={item.timestamp}\r\n                        />\r\n                        <CardContent className={classes.notiContent}>\r\n                            <Typography\r\n                                className={\r\n                                    item?.isSeen\r\n                                        ? classes.typo\r\n                                        : classes.notSeenTypo\r\n                                }\r\n                                variant=\"body2\"\r\n                                color=\"textSecondary\"\r\n                                noWrap\r\n                            >\r\n                                {item?.content}\r\n                            </Typography>\r\n                        </CardContent>\r\n                    </Card>\r\n                    {/* <span className={classes.content}>{item.content}</span> */}\r\n                </MenuItem>\r\n            ))}\r\n\r\n            {limit && notiList?.length > 5 && (\r\n                <MenuItem onClick={next}>\r\n                    <span>{Consts.more}</span>\r\n                </MenuItem>\r\n            )}\r\n        </Menu>\r\n    )\r\n}\r\n\r\nexport default Notify\r\n","import React, { useState, useEffect, useCallback, useMemo } from 'react'\r\nimport clsx from 'clsx'\r\nimport {\r\n    Route,\r\n    Link,\r\n    Redirect,\r\n    Switch,\r\n    useLocation,\r\n    useRouteMatch,\r\n    useHistory,\r\n} from 'react-router-dom'\r\nimport { app as FirebaseApp } from '../../services/firebase'\r\nimport { IconContext } from 'react-icons'\r\nimport { MdMenu, MdNotifications, MdChevronLeft } from 'react-icons/md'\r\nimport {\r\n    AppBar,\r\n    Toolbar,\r\n    Drawer,\r\n    Badge,\r\n    IconButton,\r\n    List,\r\n    ListItem,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    withStyles,\r\n    Typography,\r\n    Tooltip,\r\n} from '@material-ui/core'\r\nimport useToggle from '../../hooks/useToggle'\r\nimport { getMenuItems } from './AppLayoutsConfig'\r\nimport { Profiles } from '../../pages'\r\nimport { useAuth } from '../../hooks/AuthContext'\r\nimport { useApp } from '../../hooks/AppContext'\r\nimport { defaultRoutes, roleRoutes } from '../../routes/routes'\r\nimport * as UserServices from '../../services/UserServices'\r\nimport { UserMenu } from './components'\r\nimport Notify from '../AppLayouts/components/Notify/Notify'\r\nimport AccountProvider from '../../pages/Accounts/hooks/AccountContext'\r\nimport ReportProvider from '../../pages/Reports/hooks/ReportContext'\r\nimport SchoolProvider from '../../pages/Schools/hooks/SchoolContext'\r\nimport TaskProvider from '../../pages/Tasks/hooks/TaskContext'\r\nimport classes from './AppLayouts.module.scss'\r\n\r\nconst StyledBadge = withStyles({\r\n    badge: {\r\n        backgroundColor: '#ffb74b',\r\n    },\r\n})(Badge)\r\n\r\nfunction AppLayouts() {\r\n    const { url } = useRouteMatch()\r\n    const location = useLocation()\r\n    const history = useHistory()\r\n\r\n    const { user } = useAuth()\r\n    const { setUserInfo } = useApp()\r\n    const menuItems = getMenuItems(user.roles[0])\r\n    // const [userInfo, setUserInfo] = useState(null)\r\n\r\n    const [notiList, setNotiList] = useState([])\r\n    const [limit, setLimit] = useState('')\r\n    const [badge, setBadge] = useState(0)\r\n\r\n    const [open, setOpen] = useToggle(\r\n        window.matchMedia('(max-width: 960px)').matches ? false : true\r\n    )\r\n\r\n    const [selectedIndex, setSelectedIndex] = useState(\r\n        location.pathname.split('/').pop()\r\n    )\r\n\r\n    const handleSelectedItem = (item) => {\r\n        if (window.matchMedia('(max-width: 960px)').matches) {\r\n            setOpen()\r\n        }\r\n        setSelectedIndex(item)\r\n    }\r\n\r\n    useEffect(() => setSelectedIndex(location.pathname.split('/').pop()), [\r\n        location.pathname,\r\n    ])\r\n\r\n    const getTitle = useMemo(() => {\r\n        let title = ''\r\n        const path = location.pathname\r\n        // const page = path.split('/').pop()\r\n        const page = path.split('/')\r\n        if (page.length > 2) {\r\n            const strings = page[2].split('-')\r\n            strings.forEach((string) => {\r\n                if (string === 'kpis') {\r\n                    title += string.substring(0, string.length - 1).toUpperCase() + string[string.length - 1]\r\n                } else {\r\n                    title += string.charAt(0).toUpperCase() + string.slice(1) + ' '\r\n                }\r\n            })\r\n        }\r\n        return title\r\n    }, [location.pathname])\r\n\r\n    const sort = (a, b) => {\r\n        var nameA = a.timestamp\r\n        var nameB = b.timestamp\r\n        if (nameA > nameB) {\r\n            return -1\r\n        }\r\n        if (nameA < nameB) {\r\n            return 1\r\n        }\r\n        return 0\r\n    }\r\n\r\n    useEffect(() => {\r\n        setBadge(notiList?.filter((item) => item.isSeen === false).length)\r\n    }, [notiList])\r\n\r\n    useEffect(() => {\r\n        new Promise((resolve, reject) => {\r\n            const notiRef = FirebaseApp\r\n                .database()\r\n                .ref('notify')\r\n                .child(user.username)\r\n                .orderByChild('timestamp')\r\n                .limitToLast(6)\r\n            notiRef.on('value', (snapshot) => {\r\n                const notis = snapshot.val()\r\n                const notiList = []\r\n                for (const id in notis) {\r\n                    notiList.push({ id, ...notis[id] })\r\n                }\r\n                notiList.sort(sort)\r\n                setNotiList(notiList)\r\n                setLimit(notiList[notiList.length - 1]?.timestamp)\r\n            })\r\n        })\r\n    }, [])\r\n\r\n    const next = (e) => {\r\n        new Promise((resolve, reject) => {\r\n            const notiRef = FirebaseApp\r\n                .database()\r\n                .ref('notify')\r\n                .child(user.username)\r\n                .orderByChild('timestamp')\r\n                .endBefore(limit)\r\n                .limitToLast(5)\r\n            notiRef.on('value', (snapshot) => {\r\n                const notis = snapshot.val()\r\n                const notiss = []\r\n                for (const id in notis) {\r\n                    notiss.push({ id, ...notis[id] })\r\n                }\r\n                notiss.sort(sort)\r\n                setNotiList(notiList.concat(notiss))\r\n                setLimit(notiss[notiss.length - 1]?.timestamp)\r\n            })\r\n        })\r\n    }\r\n\r\n    const onUpdate = (e, item) => {\r\n        FirebaseApp.database().ref(`notify/${user.username}`).child(item.id).update({\r\n            isSeen: true,\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        UserServices.getProfile(user.username)\r\n            .then((data) => {\r\n                setUserInfo(data)\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n            })\r\n        // return () => setUserInfo(null)\r\n    }, [])\r\n\r\n    // if (!userInfo) {\r\n    //     return null\r\n    // }\r\n\r\n    //---------------------------------------Notifications---------------------------------------\r\n    const [notifAnchorEl, setNotifAnchorEl] = useState(null)\r\n    const handleNotifMenuOpen = useCallback((event) => {\r\n        setNotifAnchorEl(event.currentTarget)\r\n    }, [])\r\n    //---------------------------------------\r\n    const renderNotifMenu = (\r\n        <Notify\r\n            onUpdate={onUpdate}\r\n            notiList={notiList}\r\n            limit={limit}\r\n            next={next}\r\n            setNotifAnchorEl={setNotifAnchorEl}\r\n            notifAnchorEl={notifAnchorEl}\r\n        />\r\n    )\r\n    //----------------------------------------------------------------------------------------------\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            {/* AppBar area */}\r\n            <IconContext.Provider value={{ color: 'rgba(0, 0, 0, 0.54)' }}>\r\n                <AppBar\r\n                    className={clsx(\r\n                        classes.appBar,\r\n                        open && classes.appBarShift\r\n                    )}\r\n                >\r\n                    <Toolbar className={classes.toolbar}>\r\n                        <Tooltip title=\"Open Menu\">\r\n                            <IconButton\r\n                                edge=\"start\"\r\n                                className={classes.menuBtn}\r\n                                onClick={setOpen}\r\n                            >\r\n                                <MdMenu />\r\n                            </IconButton>\r\n                        </Tooltip>\r\n\r\n                        <div className={classes.grow} />\r\n\r\n                        <Typography variant=\"h5\" className={classes.title}>\r\n                            {getTitle}\r\n                        </Typography>\r\n\r\n                        {/* Remember to set badge content */}\r\n                        <Tooltip title={`${badge} new notifications`}>\r\n                            <IconButton onClick={handleNotifMenuOpen}>\r\n                                <StyledBadge badgeContent={badge} max={5}>\r\n                                    <MdNotifications />\r\n                                </StyledBadge>\r\n                            </IconButton>\r\n                        </Tooltip>\r\n\r\n                        {/* <IconButton\r\n                            edge=\"end\"\r\n                            component={Link}\r\n                            to={`${url}/profiles/${user.username}`}\r\n                        >\r\n                            <MdAccountCircle />\r\n                        </IconButton> */}\r\n                        <AccountProvider>\r\n                            <ReportProvider>\r\n                                <SchoolProvider>\r\n                                    <TaskProvider>\r\n                                        <UserMenu /> {/* userInfo={userInfo} */}\r\n                                    </TaskProvider>\r\n                                </SchoolProvider>\r\n                            </ReportProvider>\r\n                        </AccountProvider>\r\n                    </Toolbar>\r\n                </AppBar>\r\n                {renderNotifMenu}\r\n            </IconContext.Provider>\r\n\r\n            {/* Side menu area */}\r\n            <IconContext.Provider value={{ color: '#fff' }}>\r\n                <Drawer\r\n                    variant={\r\n                        window.matchMedia('(max-width: 960px)').matches\r\n                            ? 'temporary'\r\n                            : 'permanent'\r\n                    }\r\n                    anchor=\"left\"\r\n                    open={open}\r\n                    onClose={setOpen}\r\n                    classes={{\r\n                        paper: clsx(\r\n                            classes.drawerPaper,\r\n                            !open && classes.drawerPaperClose\r\n                        ),\r\n                    }}\r\n                >\r\n                    <div className={classes.drawerHeader}>\r\n                        <img\r\n                            className={classes.majorImg}\r\n                            alt=\"major-logo\"\r\n                            onClick={() => {\r\n                                history.push(defaultRoutes[user.roles[0]].route)\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    <List component=\"nav\">\r\n                        {menuItems.map((item, index) => {\r\n                            return (\r\n                                <ListItem\r\n                                    className={classes.menuItem}\r\n                                    key={index}\r\n                                    selected={item.path === selectedIndex}\r\n                                    component={Link}\r\n                                    to={`${url}/${item.path}`}\r\n                                    onClick={() =>\r\n                                        handleSelectedItem(item.path)\r\n                                    }\r\n                                >\r\n                                    <Tooltip title={item?.title}>\r\n                                        <ListItemIcon className={classes.menuIcon}>\r\n                                            {item.icon}\r\n                                        </ListItemIcon>\r\n                                    </Tooltip>\r\n                                    <ListItemText\r\n                                        disableTypography\r\n                                        primary={\r\n                                            <Typography\r\n                                                variant=\"h6\"\r\n                                                className={classes.menuText}\r\n                                            >\r\n                                                {item?.title}\r\n                                            </Typography>\r\n                                        }\r\n                                    />\r\n                                </ListItem>\r\n                            )\r\n                        })}\r\n                    </List>\r\n                    <div className={classes.drawerFooter}>\r\n                        <Tooltip title={open ? 'Collapse' : 'Expand'}>\r\n                            <IconButton\r\n                                onClick={setOpen}\r\n                                className={classes.chevron}\r\n                            >\r\n                                <MdChevronLeft />\r\n                            </IconButton>\r\n\r\n                        </Tooltip>\r\n                    </div>\r\n                </Drawer>\r\n            </IconContext.Provider>\r\n\r\n            {/* Page load area */}\r\n            <main\r\n                className={clsx(classes.content, open && classes.contentShift)}\r\n            >\r\n                <div className={classes.appBarSpacer} />\r\n                <div className={classes.container}>\r\n                    <Switch>\r\n                        {roleRoutes[user.roles[0]].map((route, index) => (\r\n                            <Route\r\n                                exact\r\n                                path={`${url}/${route.path}`}\r\n                                key={index}\r\n                                component={route.component}\r\n                            />\r\n                        ))}\r\n                        <Route\r\n                            path={`${url}/profiles/:id`}\r\n                            // path={`${url}/profiles/${user.username}`}\r\n                            component={Profiles}\r\n                        />\r\n                        <Redirect from=\"*\" to=\"/errors\" />\r\n                    </Switch>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AppLayouts\r\n","import React from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport {\r\n    Avatar,\r\n    Button,\r\n    Chip,\r\n    Icon,\r\n    makeStyles,\r\n    Tab,\r\n    Tabs,\r\n    Typography,\r\n} from '@material-ui/core'\r\nimport { MdArrowBack } from 'react-icons/md'\r\nimport { Animation } from '../../components'\r\nimport { useAuth } from '../../hooks/AuthContext'\r\nimport { defaultRoutes } from '../../routes/routes'\r\nimport { statusNames, statusAcct } from '../../constants/Generals'\r\nimport classes from './DetailLayouts.module.scss'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: { color: 'rgba(0, 0, 0, 0.87)' },\r\n    indicator: { backgroundColor: '#2a4865' },\r\n    textColorInherit: {\r\n        opacity: 1,\r\n        '&$disabled': { opacity: 1 },\r\n    },\r\n    disabled: { opacity: 1 },\r\n}))\r\n\r\nfunction DetailLayouts(props) {\r\n    const {\r\n        linkBack,\r\n        avatar,\r\n        checkAvatar,\r\n        header,\r\n        subHeader,\r\n        isStatus,\r\n        tabs,\r\n        tabValue,\r\n        handleChangeTab,\r\n        children,\r\n    } = props\r\n\r\n    const { user } = useAuth()\r\n\r\n    const styles = useStyles()\r\n\r\n    const history = useHistory()\r\n\r\n    const getChipsByStatus = (status) => {\r\n        switch (status) {\r\n            case statusNames.lead:\r\n                return (\r\n                    <Chip\r\n                        label={status}\r\n                        style={{\r\n                            backgroundColor: 'rgba(54, 162, 235, 1)',\r\n                            color: '#fff',\r\n                            width: 'fit-content',\r\n                        }}\r\n                    />\r\n                )\r\n            case statusNames.customer:\r\n                return (\r\n                    <Chip\r\n                        label={status}\r\n                        style={{\r\n                            backgroundColor: 'rgba(75, 192, 192, 1)',\r\n                            color: '#fff',\r\n                            width: 'fit-content',\r\n                        }}\r\n                    />\r\n                )\r\n            case statusNames.pending:\r\n                return (\r\n                    <Chip\r\n                        label={status}\r\n                        style={{\r\n                            backgroundColor: 'rgba(0, 0, 0, 0.38)',\r\n                            color: '#fff',\r\n                            width: 'fit-content',\r\n                        }}\r\n                    />\r\n                )\r\n            case statusNames.potential:\r\n                return (\r\n                    <Chip\r\n                        label={status}\r\n                        style={{\r\n                            backgroundColor: 'rgba(255, 159, 64, 1)',\r\n                            color: '#fff',\r\n                            width: 'fit-content',\r\n                        }}\r\n                    />\r\n                )\r\n            case statusAcct.active:\r\n                return (\r\n                    <Chip\r\n                        label={status}\r\n                        style={{\r\n                            backgroundColor: '#4caf50',\r\n                            color: '#fff',\r\n                            width: 'fit-content',\r\n                        }}\r\n                    />\r\n                )\r\n            case statusAcct.inactive:\r\n                return (\r\n                    <Chip\r\n                        label={status}\r\n                        style={{\r\n                            backgroundColor: 'rgba(0, 0, 0, 0.38)',\r\n                            color: '#fff',\r\n                            width: 'fit-content',\r\n                        }}\r\n                    />\r\n                )\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <div className={classes.topBg} />\r\n            <div className={classes.container}>\r\n                <div className={classes.content}>\r\n                    <div className={classes.header}>\r\n                        {/* <Animation\r\n                            animation=\"transition.slideRightIn\"\r\n                            delay={300}\r\n                        > */}\r\n                        <Typography\r\n                            className={classes.nav}\r\n                            component={Button}\r\n                            onClick={() => {\r\n                                // if (history.location.state) {\r\n                                history.goBack()\r\n                                // } else {\r\n                                //     history.push(\r\n                                //         defaultRoutes[user.roles[0]].route\r\n                                //     )\r\n                                // }\r\n                            }}\r\n                        >\r\n                            <Icon className={classes.icon}>\r\n                                <MdArrowBack />\r\n                            </Icon>\r\n                            <span className={classes.text}>{linkBack}</span>\r\n                        </Typography>\r\n                        {/* </Animation> */}\r\n                        <div className={classes.headerInfo}>\r\n                            {avatar &&\r\n                                (checkAvatar ? (\r\n                                    // <Animation\r\n                                    //     animation=\"transition.expandIn\"\r\n                                    //     delay={300}\r\n                                    // >\r\n                                    <Avatar\r\n                                        src={avatar}\r\n                                        alt=\"avatar\"\r\n                                        className={classes.infoAvatar}\r\n                                    />\r\n                                    // </Animation>\r\n                                ) : (\r\n                                    // <Animation\r\n                                    //     animation=\"transition.expandIn\"\r\n                                    //     delay={300}\r\n                                    // >\r\n                                    <Avatar className={classes.infoAvatar}>\r\n                                        <Typography\r\n                                            className={classes.avatarTxt}\r\n                                        >\r\n                                            {avatar}\r\n                                        </Typography>\r\n                                    </Avatar>\r\n                                    // </Animation>\r\n                                ))}\r\n                            <div className={classes.infoBasic}>\r\n                                {/* <Animation\r\n                                    animation=\"transition.slideLeftIn\"\r\n                                    delay={300}\r\n                                > */}\r\n                                <Typography\r\n                                    // variant=\"h5\"\r\n                                    className={classes.basicMain}\r\n                                >\r\n                                    {header}\r\n                                </Typography>\r\n                                {/* </Animation> */}\r\n\r\n                                {isStatus ? (\r\n                                    // <Animation\r\n                                    //     animation=\"transition.slideLeftIn\"\r\n                                    //     delay={300}\r\n                                    // >\r\n                                    <>{getChipsByStatus(subHeader)}</>\r\n                                    // </Animation>\r\n                                ) : (\r\n                                    // <Animation\r\n                                    //     animation=\"transition.slideLeftIn\"\r\n                                    //     delay={300}\r\n                                    // >\r\n                                    <Typography\r\n                                        className={classes.basicSub}\r\n                                    >\r\n                                        {subHeader}\r\n                                    </Typography>\r\n                                    // </Animation>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className={classes.body}>\r\n                        {tabs.length >= 2 ? (\r\n                            <div>\r\n                                <Tabs\r\n                                    value={tabValue}\r\n                                    onChange={(event, value) =>\r\n                                        handleChangeTab(event, value)\r\n                                    }\r\n                                    variant=\"scrollable\"\r\n                                    scrollButtons=\"auto\"\r\n                                    classes={{\r\n                                        root: styles.root,\r\n                                        indicator: styles.indicator,\r\n                                    }}\r\n                                >\r\n                                    {tabs.map((tab, index) => (\r\n                                        <Tab\r\n                                            key={index}\r\n                                            label={tab}\r\n                                            classes={{\r\n                                                textColorInherit:\r\n                                                    styles.textColorInherit,\r\n                                                disabled: styles.disabled,\r\n                                            }}\r\n                                        />\r\n                                    ))}\r\n                                </Tabs>\r\n                            </div>\r\n                        ) : (\r\n                            <div className={classes.toolbar}>\r\n                                {tabs.map((tab, index) => (\r\n                                    <Typography\r\n                                        className={classes.toolbarTitle}\r\n                                        key={index}\r\n                                    >\r\n                                        {tab}\r\n                                    </Typography>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n\r\n                        <div className={classes.wrapper}>{children}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(DetailLayouts)\r\n\r\nDetailLayouts.defaultProps = {\r\n    tabValue: 0,\r\n    handleChangeTab: () => { },\r\n    isStatus: false,\r\n}\r\n","export const Consts = {\r\n    headers: {\r\n        child1: 'Account Detail',\r\n    },\r\n    operations: {\r\n        cancel: 'Cancel',\r\n        save: 'Save',\r\n    },\r\n    messages: {\r\n        info: '',\r\n        success: 'Updated Successfully',\r\n        error: 'Updated Failed',\r\n        warning: '',\r\n    },\r\n    fields: {\r\n        username: {\r\n            title: 'Username',\r\n        },\r\n        isMale: {\r\n            title: 'Gender *',\r\n            male: {\r\n                lb: 'Male',\r\n                value: 'true',\r\n            },\r\n            female: {\r\n                lb: 'Female',\r\n                value: 'false',\r\n            },\r\n        },\r\n        birthDate: {\r\n            title: 'Birthday',\r\n            format: 'dd/MM/yyyy',\r\n        },\r\n        email: {\r\n            title: 'Email',\r\n        },\r\n        phone: {\r\n            title: 'Phone Number',\r\n        },\r\n        addr: {\r\n            title: 'Address',\r\n        },\r\n        status: {\r\n            title: 'Account Active',\r\n        },\r\n        roles: {\r\n            title: 'Roles',\r\n        },\r\n    },\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport {\r\n    Button,\r\n    FormControlLabel,\r\n    Grid,\r\n    InputLabel,\r\n    makeStyles,\r\n    MenuItem,\r\n    Radio,\r\n    RadioGroup,\r\n    Select,\r\n    Switch,\r\n    TextField,\r\n    Typography,\r\n} from '@material-ui/core'\r\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from 'mui-pickers-v3' // '@material-ui/pickers'\r\nimport DateFnsUtils from '@date-io/date-fns'\r\nimport moment from 'moment'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport { useApp } from '../../../../hooks/AppContext'\r\nimport { Loading, AddressField } from '../../../../components'\r\nimport { Consts } from './GenInfoConfig'\r\nimport * as AccountsServices from '../../AccountsServices'\r\nimport { roleNames } from '../../../../constants/Generals'\r\nimport { PHONE_RGX } from '../../../../utils/Regex'\r\nimport * as Milk from '../../../../utils/Milk'\r\nimport { milkNames } from '../../../../constants/Generals'\r\nimport { useSnackbar } from 'notistack'\r\nimport classes from './GenInfo.module.scss'\r\n\r\nconst clientSchema = yup.object().shape({\r\n    phone: yup\r\n        .string()\r\n        .required('Phone is required')\r\n        .max(10, 'Phone must be at most 10 digits and has the correct format')\r\n        .matches(\r\n            PHONE_RGX,\r\n            'Phone number is in wrong format (03|5|7|9xxxxxxxx)'\r\n        ),\r\n    address: yup.string().trim().required('Address is required'),\r\n})\r\n\r\nconst ITEM_HEIGHT = 120\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT,\r\n        },\r\n    },\r\n    anchorOrigin: {\r\n        vertical: 'top',\r\n        horizontal: 'center',\r\n    },\r\n    transformOrigin: {\r\n        vertical: 'top',\r\n        horizontal: 'center',\r\n    },\r\n    getContentAnchorEl: null,\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {},\r\n    menuItemRoot: {\r\n        '&$menuItemSelected': { backgroundColor: 'rgba(0, 0, 0, 0.08)' },\r\n        '&$menuItemSelected:focus': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.12)',\r\n        },\r\n        '&$menuItemSelected:hover': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.04);',\r\n        },\r\n    },\r\n    menuItemSelected: {},\r\n\r\n    inputRoot: {\r\n        '&$disabled': {\r\n            color: 'black',\r\n        },\r\n    },\r\n    disabled: {},\r\n}))\r\n\r\nfunction GenInfo(props) {\r\n    const { account, refreshPage } = props\r\n    const { headers, operations, fields, messages } = Consts\r\n    const styles = useStyles()\r\n\r\n    const { enqueueSnackbar } = useSnackbar()\r\n\r\n    const history = useHistory()\r\n\r\n    const { roles } = useApp()\r\n    const bakRoles = roles ? roles : Milk.getMilk(milkNames.roles)\r\n\r\n    const [latitude, setLatitude] = useState(0.0)\r\n    const [longitude, setLongitude] = useState(0.0)\r\n\r\n    const defaultValues = {\r\n        username: account?.username,\r\n        email: account?.email,\r\n        phone: account?.phone ? account?.phone : '',\r\n        isMale: String(account?.isMale)\r\n            ? String(account?.isMale)\r\n            : String(true),\r\n        birthDate: account?.birthDate ? account?.birthDate : null,\r\n        roleName: account?.roleName ? account?.roleName : roleNames.salesman,\r\n        active: account?.active,\r\n        address: account?.address,\r\n        latitude: account?.latitude,\r\n        longitude: account?.longitude,\r\n    }\r\n\r\n    const { control, errors, handleSubmit, formState, reset } = useForm({\r\n        resolver: yupResolver(clientSchema),\r\n        defaultValues: defaultValues,\r\n    })\r\n\r\n    useEffect(() => {\r\n        reset({\r\n            username: account?.username,\r\n            email: account?.email,\r\n            phone: account?.phone ? account?.phone : '',\r\n            isMale: String(account?.isMale)\r\n                ? String(account?.isMale)\r\n                : String(true),\r\n            birthDate: account?.birthDate ? account?.birthDate : null,\r\n            roleName: account?.roleName\r\n                ? account?.roleName\r\n                : roleNames.salesman,\r\n            active: account?.active,\r\n            address: account?.address,\r\n            latitude: account?.latitude,\r\n            longitude: account?.longitude,\r\n        })\r\n    }, [account])\r\n\r\n    if (!roles) {\r\n        return <Loading />\r\n    }\r\n\r\n    if (!account) {\r\n        return <Loading />\r\n    }\r\n\r\n    const onSubmit = (data) => {\r\n        const model = {\r\n            ...data,\r\n            fullName: account?.fullName,\r\n            isMale: data?.isMale === 'true' ? true : false,\r\n            birthDate: data?.birthDate\r\n                ? moment(data?.birthDate).format('YYYY-MM-DD')\r\n                : null,\r\n            avatar: account?.avatar,\r\n            passwordHash: account?.passwordHash,\r\n            // address: data?.address,\r\n            latitude: latitude,\r\n            longitude: longitude,\r\n        }\r\n\r\n        AccountsServices.updateAccount(data?.username, model)\r\n            .then((res) => {\r\n                refreshPage(data.username)\r\n\r\n                enqueueSnackbar(messages.success, { variant: 'success' })\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n\r\n                enqueueSnackbar(messages.error, { variant: 'error' })\r\n            })\r\n\r\n        // alert(JSON.stringify(model))\r\n    }\r\n\r\n    return (\r\n        <div className={classes.panel}>\r\n            <Grid container spacing={0} className={classes.body}>\r\n                {/* Content Sector */}\r\n                <Grid\r\n                    item\r\n                    xs={12}\r\n                    sm={12}\r\n                    md={12}\r\n                    lg={12}\r\n                    className={classes.content}\r\n                >\r\n                    <form onSubmit={handleSubmit(onSubmit)} noValidate>\r\n                        {/* Account Detail*/}\r\n                        <Grid container spacing={0} className={classes.wrapper}>\r\n                            <Grid\r\n                                item\r\n                                xs={12}\r\n                                sm={12}\r\n                                md={3}\r\n                                lg={3}\r\n                                className={classes.row}\r\n                            >\r\n                                <Typography\r\n                                    color=\"inherit\"\r\n                                    className={classes.header}\r\n                                >\r\n                                    {headers.child1}\r\n                                </Typography>\r\n                            </Grid>\r\n                            {/* Detail */}\r\n                            <Grid\r\n                                item\r\n                                xs={12}\r\n                                sm={12}\r\n                                md={9}\r\n                                lg={8}\r\n                                className={classes.row}\r\n                            >\r\n                                <Grid container spacing={0}>\r\n                                    {/* Detail */}\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={5}\r\n                                        md={5}\r\n                                        lg={5}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <Controller\r\n                                            name=\"username\"\r\n                                            control={control}\r\n                                            render={({ value }) => (\r\n                                                <TextField\r\n                                                    label={\r\n                                                        fields.username.title\r\n                                                    }\r\n                                                    variant=\"standard\"\r\n                                                    // fullWidth\r\n                                                    disabled\r\n                                                    // InputProps={{\r\n                                                    //     classes: {\r\n                                                    //         root:\r\n                                                    //             styles.inputRoot,\r\n                                                    //         disabled:\r\n                                                    //             styles.disabled,\r\n                                                    //     },\r\n                                                    // }}\r\n                                                    value={value}\r\n                                                />\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={5}\r\n                                        md={5}\r\n                                        lg={5}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <Controller\r\n                                            name=\"email\"\r\n                                            control={control}\r\n                                            render={({ value }) => (\r\n                                                <TextField\r\n                                                    label={fields.email.title}\r\n                                                    variant=\"standard\"\r\n                                                    fullWidth\r\n                                                    disabled\r\n                                                    // InputProps={{\r\n                                                    //     classes: {\r\n                                                    //         root:\r\n                                                    //             styles.inputRoot,\r\n                                                    //         disabled:\r\n                                                    //             styles.disabled,\r\n                                                    //     },\r\n                                                    // }}\r\n                                                    value={value}\r\n                                                />\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={4}\r\n                                        md={4}\r\n                                        lg={4}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <Controller\r\n                                            name=\"phone\"\r\n                                            control={control}\r\n                                            render={({ value, onChange }) => (\r\n                                                <TextField\r\n                                                    label={fields.phone.title}\r\n                                                    variant=\"outlined\"\r\n                                                    required\r\n                                                    // fullWidth\r\n                                                    value={value}\r\n                                                    onChange={onChange}\r\n                                                    error={!!errors.phone}\r\n                                                    helperText={\r\n                                                        errors?.phone?.message\r\n                                                    }\r\n                                                />\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={12}\r\n                                        lg={12}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <Controller\r\n                                            name=\"address\"\r\n                                            control={control}\r\n                                            render={({ value, onChange }) => (\r\n                                                <AddressField\r\n                                                    setLatitude={setLatitude}\r\n                                                    setLongitude={setLongitude}\r\n                                                    inputValue={value}\r\n                                                    setInputValue={onChange}\r\n                                                    error={!!errors.address}\r\n                                                    helperText={\r\n                                                        errors?.address?.message\r\n                                                    }\r\n                                                />\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={5}\r\n                                        md={5}\r\n                                        lg={5}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <InputLabel>\r\n                                            {fields.isMale.title}\r\n                                        </InputLabel>\r\n                                        <Controller\r\n                                            name=\"isMale\"\r\n                                            control={control}\r\n                                            render={({ value, onChange }) => (\r\n                                                <RadioGroup\r\n                                                    value={value}\r\n                                                    onChange={onChange}\r\n                                                    row\r\n                                                >\r\n                                                    <FormControlLabel\r\n                                                        label={\r\n                                                            fields.isMale.male\r\n                                                                .lb\r\n                                                        }\r\n                                                        value={\r\n                                                            fields.isMale.male\r\n                                                                .value\r\n                                                        }\r\n                                                        control={<Radio />}\r\n                                                    />\r\n                                                    <FormControlLabel\r\n                                                        label={\r\n                                                            fields.isMale.female\r\n                                                                .lb\r\n                                                        }\r\n                                                        value={\r\n                                                            fields.isMale.female\r\n                                                                .value\r\n                                                        }\r\n                                                        control={<Radio />}\r\n                                                    />\r\n                                                </RadioGroup>\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={4}\r\n                                        md={4}\r\n                                        lg={4}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <MuiPickersUtilsProvider\r\n                                            utils={DateFnsUtils}\r\n                                        >\r\n                                            <Controller\r\n                                                name=\"birthDate\"\r\n                                                control={control}\r\n                                                render={({ ref, ...rest }) => (\r\n                                                    <KeyboardDatePicker\r\n                                                        label={\r\n                                                            fields.birthDate\r\n                                                                .title\r\n                                                        }\r\n                                                        format={\r\n                                                            fields.birthDate\r\n                                                                .format\r\n                                                        }\r\n                                                        allowKeyboardControl\r\n                                                        disableFuture\r\n                                                        {...rest}\r\n                                                    />\r\n                                                )}\r\n                                            />\r\n                                        </MuiPickersUtilsProvider>\r\n                                    </Grid>\r\n\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={5}\r\n                                        md={5}\r\n                                        lg={5}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <InputLabel required>\r\n                                            {fields.roles.title}\r\n                                        </InputLabel>\r\n                                        <Controller\r\n                                            name=\"roleName\"\r\n                                            control={control}\r\n                                            render={({ value, onChange }) => (\r\n                                                <Select\r\n                                                    value={value}\r\n                                                    onChange={onChange}\r\n                                                    MenuProps={MenuProps}\r\n                                                    disableUnderline\r\n                                                >\r\n                                                    {bakRoles.map((role) => (\r\n                                                        <MenuItem\r\n                                                            key={role}\r\n                                                            value={role}\r\n                                                            classes={{\r\n                                                                root: styles.menuItemRoot,\r\n                                                                selected:\r\n                                                                    styles.menuItemSelected,\r\n                                                            }}\r\n                                                        >\r\n                                                            {role}\r\n                                                        </MenuItem>\r\n                                                    ))}\r\n                                                </Select>\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={4}\r\n                                        md={4}\r\n                                        lg={4}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <InputLabel required>\r\n                                            {fields.status.title}\r\n                                        </InputLabel>\r\n                                        <Controller\r\n                                            name=\"active\"\r\n                                            control={control}\r\n                                            render={({ value, onChange }) => (\r\n                                                <Switch\r\n                                                    checked={value}\r\n                                                    onChange={(e) =>\r\n                                                        onChange(\r\n                                                            e.target.checked\r\n                                                        )\r\n                                                    }\r\n                                                />\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n                                    {/* Action */}\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={12}\r\n                                        lg={12}\r\n                                        className={classes.action}\r\n                                    >\r\n                                        <Button\r\n                                            className={classes.submit}\r\n                                            variant=\"contained\"\r\n                                            disabled={!formState.isDirty}\r\n                                            type=\"submit\"\r\n                                        >\r\n                                            {operations.save}\r\n                                        </Button>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                            {/* End Detail */}\r\n                        </Grid>\r\n                    </form>\r\n                </Grid>\r\n                {/* Another Sector */}\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(GenInfo)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useHistory, useLocation, useParams } from 'react-router-dom'\r\nimport { DetailLayouts } from '../../layouts'\r\nimport { GenInfo } from './panels'\r\nimport * as AccountsServices from './AccountsServices'\r\nimport { acctConsts } from './AccountsConfig'\r\nimport { Loading, NotFound } from '../../components'\r\n\r\nfunction Account() {\r\n    const { linkNames, tabNames, operations } = acctConsts\r\n    const [tabValue, setTabValue] = useState(0)\r\n\r\n    const { id } = useParams()\r\n    const location = useLocation()\r\n    const history = useHistory()\r\n\r\n    // const stateData = location.state?.data\r\n    const [account, setAccount] = useState(null)    //stateData?.model\r\n\r\n    const [exist, setExist] = useState(true)\r\n\r\n    let isMounted = true\r\n    const refreshPage = (username) => {\r\n        AccountsServices.getAccount(username)\r\n            .then((data) => {\r\n                if (isMounted) {\r\n                    setAccount(data)\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    if (error.response.status === 403) {\r\n                        setExist(false)\r\n                    } else {\r\n                        history.push({\r\n                            pathname: '/errors',\r\n                            state: { error: error.response.status },\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    useEffect(() => {\r\n        refreshPage(id)\r\n        return () => {\r\n            // eslint-disable-next-line react-hooks/exhaustive-deps\r\n            isMounted = false\r\n        }\r\n    }, [])\r\n\r\n    if (!account) {\r\n        if (!exist) {\r\n            return <NotFound title={operations.notFound} />\r\n        } else {\r\n            return <Loading />\r\n        }\r\n    }\r\n\r\n    const handleChangeTab = (event, value) => {\r\n        setTabValue(value)\r\n    }\r\n\r\n    return (\r\n        <DetailLayouts\r\n            linkBack={linkNames.back}\r\n            avatar={\r\n                account?.avatar\r\n                    ? account?.avatar\r\n                    : account?.fullName.split(' ').pop()[0]\r\n            }\r\n            checkAvatar={account?.avatar ? true : false}\r\n            header={account?.fullName}\r\n            subHeader={account?.active ? 'Active' : 'Inactive'}\r\n            isStatus={true}\r\n            tabs={[tabNames.tab1]}\r\n            tabValue={tabValue}\r\n            handleChangeTab={handleChangeTab}\r\n        >\r\n            {tabValue === 0 && (\r\n                <GenInfo account={account} refreshPage={refreshPage} />\r\n            )}\r\n        </DetailLayouts>\r\n    )\r\n}\r\n\r\nexport default Account\r\n","import { MdFiberNew, MdTrendingUp, MdLoop, MdLoyalty } from 'react-icons/md'\r\nimport { FaSearchDollar } from 'react-icons/fa'\r\nimport { GiProfit } from 'react-icons/gi'\r\n\r\nexport const Consts = {\r\n    header: {\r\n        child1: 'Leads',\r\n        child2: 'Customers',\r\n    },\r\n    toggleButtonOptions: {\r\n        serviceBarChart: {\r\n            // type: 'service types',\r\n            // year: 'school years'\r\n            ds: 'Sales',\r\n            sl: 'Quantity'\r\n        },\r\n    },\r\n    cardsConsts: {\r\n        // green\r\n        card1: {\r\n            title: 'Sales mới',\r\n            color: 'rgba(75, 192, 192, 0.2)',\r\n            // color: 'rgba(0, 0, 0, 0.87)',\r\n            icon: <MdFiberNew />,\r\n            des: 'school(s)',\r\n        },\r\n        // yellow\r\n        card2: {\r\n            title: 'Theo dõi',\r\n            color: 'rgba(255, 206, 86, 0.2)',\r\n            // color: 'rgba(0, 0, 0, 0.87)',\r\n            icon: <FaSearchDollar />,\r\n            des: 'school(s)',\r\n        },\r\n        // blue\r\n        card3: {\r\n            title: 'Tiềm năng',\r\n            color: 'rgba(54, 162, 235, 0.2)',\r\n            // color: 'rgba(0, 0, 0, 0.87)',\r\n            icon: <MdTrendingUp />,\r\n            des: 'school(s)',\r\n        },\r\n\r\n        // purple\r\n        card4: {\r\n            title: 'Ký mới hợp đồng',\r\n            color: 'rgba(153, 102, 255, 0.2)',\r\n            // color: 'rgba(0, 0, 0, 0.87)',\r\n            icon: <GiProfit />,\r\n            des: 'school(s)',\r\n        },\r\n        // orange\r\n        card5: {\r\n            title: 'Tái ký hợp đồng',\r\n            color: 'rgba(255, 159, 64, 0.2)',\r\n            // color: 'rgba(0, 0, 0, 0.87)',\r\n            icon: <MdLoop />,\r\n            des: 'school(s)',\r\n        },\r\n        // pink\r\n        card6: {\r\n            title: 'Chăm sóc',\r\n            color: 'rgba(255, 99, 132, 0.2)',\r\n            // color: 'rgba(0, 0, 0, 0.87)',\r\n            icon: <MdLoyalty />,\r\n            des: 'school(s)',\r\n        },\r\n    },\r\n    chartsConsts: {\r\n        chart1: {\r\n            title: 'Kết quả đi trường',\r\n        },\r\n    },\r\n}\r\n\r\n\r\n","import Api from '../../services/Api'\r\n\r\nexport async function getDashboards(type, name) {\r\n    let url = `/dashboard?type=${type}`\r\n    url = name ? url.concat(`&name=${name}`) : url\r\n\r\n    const response = await Api.get(url)\r\n    const data = await response.data\r\n    return data\r\n}","\r\nimport React from 'react';\r\nimport Chart from \"react-apexcharts\"\r\nimport { parseDateToString } from '../../../utils/DateTimes';\r\n\r\nconst GaugeCharts = (props) => {\r\n    const { kpiPoints, kpiName } = props\r\n\r\n    let values = []\r\n    values.push(kpiPoints)\r\n    // console.log('kpiPoints = ', kpiPoints);\r\n    // console.log('kpiName = ', kpiName);\r\n\r\n    const getTitle = (option) => {\r\n        switch (option) {\r\n            case 'status':\r\n                let title = `Number of Schools by Status (unit: school)\r\n                (until ${parseDateToString(new Date(), 'DD/MM/YYYY')})`\r\n                // return (<span>\r\n                //     Number of Schools by School status (unit: school) <br />\r\n                //     (until {parseDateToString(new Date(), 'DD/MM/YYYY')})\r\n                // </span>\r\n                // )\r\n                return title\r\n            case 'level':\r\n                return `Customer Segment Divided by Level (unit: school) (until ${parseDateToString(new Date(), 'DD/MM/YYYY')})`\r\n            case 'type':\r\n                return `Customer Segment Divided by Type (unit: school) (until ${parseDateToString(new Date(), 'DD/MM/YYYY')})`\r\n            case 'district':\r\n                return `Customer Segment Divided by District (unit: school) (until ${parseDateToString(new Date(), 'DD/MM/YYYY')})`\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    const state = {\r\n        series: values,\r\n        options: {\r\n            chart: {\r\n                height: 210,\r\n                type: 'radialBar',\r\n            },\r\n            plotOptions: {\r\n                radialBar: {\r\n                    offsetX: 0,\r\n                    offsetY: -22,\r\n                    hollow: {\r\n                        size: '60%',\r\n                        margin: 0,\r\n                    },\r\n                    dataLabels: {\r\n                        show: true,\r\n                        name: {\r\n                            fontSize: '13px',\r\n                            fontWeight: 100,\r\n                            color: '#000',\r\n                            offsetY: 85\r\n                        },\r\n                        value: {\r\n                            fontSize: '23px',\r\n                            fontWeight: 700,\r\n                            // color: '#ffc107',\r\n                            offsetY: -8\r\n                        }\r\n                    }\r\n                },\r\n            },\r\n            labels: [kpiName],\r\n            colors: [\r\n                function ({ value, seriesIndex, w }) {\r\n                    if (value < 50) {\r\n                        return '#f44336'\r\n                    } else if (value < 80) {\r\n                        return '#ff9800'\r\n                    } else {\r\n                        return '#4caf50'\r\n                    }\r\n                }\r\n            ]\r\n        },\r\n    };\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Chart options={state.options} series={state.series} type=\"radialBar\" height={210} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default GaugeCharts;","import React from \"react\";\r\n\r\nconst Legends = (props) => {\r\n    const caseName = 0\r\n    const { item } = props\r\n    // console.log(item)\r\n    return (\r\n        <div\r\n            style={{\r\n                display: \"flex\",\r\n                alignItems: \"stretch\",\r\n            }}\r\n        >\r\n            {item.map((item) => (\r\n                <div\r\n                    key={item.title}\r\n                    style={{\r\n                        backgroundColor: item.color,\r\n                        flex: 1,\r\n                        display: \"flex\",\r\n                        alignItems: \"center\", // vertical\r\n                        justifyContent: \"center\", // horiztontal\r\n                        color: item.textColor != null ? item.textColor : \"black\",\r\n                        fontWeight: \"bolder\",\r\n                        fontSize: \"1em\",\r\n                        height: \"6vh\",\r\n                    }}\r\n                >\r\n                    <span>{item.title}</span>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Legends;","import React, { useState, useEffect } from \"react\";\r\nimport Choropleth from \"react-leaflet-choropleth\";\r\nimport { Map } from \"react-leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\n\r\nconst style = {\r\n    fillColor: \"#ede7f6\",\r\n    weight: .5,\r\n    opacity: 1,\r\n    // color: \"white\",\r\n    //dashArray: \"3\",\r\n    fillOpacity: 1,\r\n};\r\n\r\nconst Maps = ({ geojson }) => {\r\n    // const distNames = geojson[\"features\"].map((dist) => dist = { ...dist, 'name': dist.properties.localname, 'value': 500 })\r\n    const calulateColor = (value) => {\r\n        if (value >= 21) return '#4527a0'\r\n        if (value >= 5 && value <= 20) return '#9575cd'\r\n        if (value >= 1 && value <= 4) return '#d1c4e9'\r\n        return '#ede7f6'\r\n    }\r\n    const onEachCountry = (country, layer) => {\r\n        //layer.options.fillColor = country.properties.color;\r\n        const color = calulateColor(country.properties.value)\r\n        const name = `${country.properties.localname}: ${country.properties.value}/ ${country.properties.total}`;\r\n        layer.options.fillColor = color\r\n        layer.on({\r\n            'mouseout': function (event) {\r\n                event.target.setStyle({\r\n                    fillColor: color,\r\n                    transition: '0.3s'\r\n                })\r\n\r\n            },\r\n            'mouseover': function (event) {\r\n                event.target.setStyle({\r\n                    transition: '0.3s',\r\n                    fillColor: \"#009688\"\r\n                })\r\n                // layer.bindPopup(name).openPopup();\r\n            }\r\n        })\r\n        layer.bindPopup(name).openPopup();\r\n        // const confirmedText = country.properties.confirmedText;\r\n        //layer.bindPopup(`${name}: 100`);\r\n        // layer.on('mouseover', function (e) {\r\n        //   layer.bindPopup(name).openPopup(); // here add openPopup()\r\n        // });\r\n    };\r\n    // console.log(geojson);\r\n    return (\r\n        <Map style={{ height: \"70vh\" }} zoom={11} center={[10.817396238910442, 106.69106344134427]}>\r\n            <Choropleth\r\n                data={geojson}\r\n                valueProperty={(feature) => feature.properties.localname}\r\n                //scale={['#b3cde0', '#011f4b']}\r\n                steps={7}\r\n                mode='e'\r\n                style={style}\r\n                onEachFeature={onEachCountry}\r\n            // (feature, layer) => layer.bindPopup(feature.properties.localname)\r\n\r\n            />\r\n        </Map>\r\n    );\r\n};\r\n\r\nexport default Maps;","import React, { useState, useEffect } from \"react\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport Legends from \"./Legends\";\r\nimport Maps from './Maps';\r\nimport { getDashboards } from '../../../pages/Dashboards/DashboardsServices';\r\n\r\nconst style = {\r\n    fillColor: \"#F28F3B\",\r\n    weight: 2,\r\n    opacity: 1,\r\n    color: \"white\",\r\n    dashArray: \"3\",\r\n    fillOpacity: 0.5,\r\n};\r\n\r\nconst MapCharts = () => {\r\n    const [districts, setDistricts] = useState(null);\r\n    const [data4Blocks, setData4Blocks] = useState(null);\r\n\r\n    async function fetchProfileData() {\r\n        return Promise.all([\r\n            getDashboards('map'),\r\n\r\n            fetch(\"../districts.json\", {\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    Accept: \"application/json\",\r\n                },\r\n            })\r\n        ]).then(([api, file]) => {\r\n            // console.log('file = ', file);\r\n            return { api, file };\r\n        })\r\n    }\r\n    const promise = fetchProfileData();\r\n\r\n    // useEffect(() => {\r\n    //     promise.then(data => {\r\n    //         setData4Blocks(data.api)\r\n\r\n    //         data.file.json().then(json => {\r\n    //             setDistricts(json.features)\r\n    //         })\r\n\r\n    //     });\r\n\r\n    useEffect(() => {\r\n        promise.then(data => {\r\n            setData4Blocks(data.api)\r\n\r\n            data.file.json().then(json => {\r\n                setDistricts(json.features)\r\n            })\r\n\r\n        });\r\n    }, []);\r\n\r\n    if (!districts) {\r\n        return null\r\n    }\r\n\r\n    if (!data4Blocks) {\r\n        return null\r\n    }\r\n\r\n    const item = [{\r\n        title: '21+',\r\n        color: '#4527a0',\r\n        textColor: 'white'\r\n\r\n    },\r\n    {\r\n        title: '5 - 20',\r\n        color: '#9575cd',\r\n        textColor: 'white'\r\n    },\r\n    {\r\n        title: '1 - 4',\r\n        color: '#d1c4e9',\r\n        textColor: 'black'\r\n\r\n    },\r\n    {\r\n        title: '0',\r\n        color: '#ede7f6',\r\n        textColor: 'black'\r\n\r\n    }]\r\n    const convert = () => {\r\n        let list = []\r\n        if (districts.length > 0 && data4Blocks.length > 0) {\r\n            districts.forEach(dist => {\r\n                data4Blocks.forEach(data => {\r\n                    if (dist.properties.localname === data.name) {\r\n                        dist.properties.value = data.value\r\n                        dist.properties.total = data.totalSchool\r\n                        list.push(dist)\r\n                    }\r\n                })\r\n            })\r\n        }\r\n        return list\r\n    }\r\n    const test = convert()\r\n    return (\r\n        <>\r\n            <div>{test && <Maps geojson={test} />}\r\n            </div>\r\n            <div>{<Legends item={item.reverse()} />}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default MapCharts;","\r\nimport React from 'react';\r\nimport Chart from \"react-apexcharts\"\r\nimport { parseDateToString } from '../../../utils/DateTimes';\r\n\r\nconst PieCharts = (props) => {\r\n    const { values, labels, option } = props\r\n\r\n    const getTitle = (option) => {\r\n        switch (option) {\r\n            case 'status':\r\n                let title = `Number of Schools by Status (unit: school)\r\n                (until ${parseDateToString(new Date(), 'DD/MM/YYYY')})`\r\n                // return (<span>\r\n                //     Number of Schools by School status (unit: school) <br />\r\n                //     (until {parseDateToString(new Date(), 'DD/MM/YYYY')})\r\n                // </span>\r\n                // )\r\n                return title\r\n            case 'level':\r\n                return `Customer Segment Divided by Level (unit: school) (until ${parseDateToString(new Date(), 'DD/MM/YYYY')})`\r\n            case 'type':\r\n                return `Customer Segment Divided by Type (unit: school) (until ${parseDateToString(new Date(), 'DD/MM/YYYY')})`\r\n            case 'district':\r\n                return `Customer Segment Divided by District (unit: school) (until ${parseDateToString(new Date(), 'DD/MM/YYYY')})`\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    const state = {\r\n        series: values,\r\n        options: {\r\n            chart: {\r\n                width: 350,\r\n                type: 'donut',\r\n                dropShadow: {\r\n                    enabled: true,\r\n                    color: '#111',\r\n                    top: -1,\r\n                    left: 3,\r\n                    blur: 3,\r\n                    opacity: 0.2\r\n                },\r\n            },\r\n            stroke: {\r\n                width: 0,\r\n            },\r\n            plotOptions: {\r\n                pie: {\r\n                    donut: {\r\n                        labels: {\r\n                            show: true,\r\n                            total: {\r\n                                showAlways: true,\r\n                                show: true,\r\n                                fontSize: '22px',\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            labels: labels,\r\n            dataLabels: {\r\n                dropShadow: {\r\n                    blur: 3,\r\n                    opacity: 0.8\r\n                }\r\n            },\r\n            legend: {\r\n                position: 'right',\r\n                offsetX: -20,\r\n                offsetY: 40,\r\n                fontSize: '14px'\r\n            },\r\n            fill: {\r\n                // type: 'pattern',\r\n                opacity: 1,\r\n                // pattern: {\r\n                //     enabled: true,\r\n                //     style: ['verticalLines', 'squares', 'horizontalLines', 'circles', 'slantedLines'],\r\n                // },\r\n            },\r\n            states: {\r\n                hover: {\r\n                    filter: 'none'\r\n                }\r\n            },\r\n            theme: {\r\n                palette: 'palette2'\r\n            },\r\n            title: {\r\n                text: getTitle(option),\r\n                whiteSpace: 'wrap'\r\n            },\r\n            responsive: [{\r\n                breakpoint: 480,\r\n                options: {\r\n                    chart: {\r\n                        width: 200\r\n                    },\r\n                    legend: {\r\n                        position: 'bottom'\r\n                    }\r\n                }\r\n            }]\r\n        },\r\n    };\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Chart options={state.options} series={state.series} type=\"donut\" height={350} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PieCharts;","import React from 'react';\r\nimport Chart from \"react-apexcharts\"\r\n\r\nconst RadarCharts = (props) => {\r\n    const { title, criteria, actualValues, targetValues, averageValues } = props.values\r\n\r\n    const state = {\r\n        series: [{\r\n            name: 'Actual',\r\n            data: actualValues,\r\n        }, {\r\n            name: 'Target',\r\n            data: targetValues,\r\n        }, {\r\n            name: 'Average',\r\n            data: averageValues,\r\n        }],\r\n        options: {\r\n            chart: {\r\n                height: 500,\r\n                type: 'radar',\r\n                dropShadow: {\r\n                    enabled: true,\r\n                    blur: 1,\r\n                    left: 1,\r\n                    top: 1\r\n                },\r\n                // style: {\r\n                //     marginBottom: '0 !important',\r\n                //     paddingBottom: '0 !important'\r\n                // }\r\n            },\r\n            dataLabels: {\r\n                enabled: true\r\n            },\r\n            plotOptions: {\r\n                radar: {\r\n                    size: 140,\r\n                    polygons: {\r\n                        strokeColors: '#e9e9e9',\r\n                        fill: {\r\n                            colors: ['#f8f8f8', '#fff']\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            title: {\r\n                text: title,\r\n                // style: {\r\n                //     marginBottom: '0 !important',\r\n                //     paddingBottom: '0 !important'\r\n                // }\r\n            },\r\n            stroke: {\r\n                width: 2\r\n            },\r\n            fill: { opacity: 0.2 },\r\n            markers: { size: 5 },\r\n            // markers: {\r\n            //     size: 4,\r\n            //     colors: ['#fff'],\r\n            //     strokeColor: '#FF4560',\r\n            //     strokeWidth: 2,\r\n            // },\r\n            tooltip: {\r\n                y: {\r\n                    formatter: function (val) {\r\n                        return `${parseFloat(val).toFixed(2)}%`\r\n                    }\r\n                }\r\n            },\r\n            xaxis: {\r\n                categories: criteria,\r\n                // style: {\r\n                //     color: '#000',\r\n\r\n                // }\r\n            },\r\n            dataLabels: {\r\n                style: {\r\n                    fontSize: '12px',\r\n                    fontWeight: 'bold',\r\n                },\r\n                background: {\r\n                    enabled: true,\r\n                    foreColor: '#fff',\r\n                    borderRadius: 2,\r\n                    padding: 4,\r\n                    opacity: 0.9,\r\n                    borderWidth: 1,\r\n                    borderColor: '#fff'\r\n                },\r\n            },\r\n        },\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Chart options={state.options} series={state.series} type=\"radar\" height={500} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RadarCharts;","import React from 'react';\r\nimport Chart from \"react-apexcharts\"\r\n\r\nconst SimpleColumnCharts = (props) => {\r\n    const { title, xAxis, yAxis } = props.values\r\n\r\n    let state = {\r\n        series: [{\r\n            name: 'KPI points',\r\n            data: yAxis\r\n            // data: [2.3, 3.1, 4.0, 10.1, 4.0, 3.6, 3.2, 2.3, 1.4, 0.8, 0.5, 0.2]\r\n        }],\r\n        options: {\r\n            chart: {\r\n                height: 350,\r\n                type: 'bar',\r\n                offsetY: 10,\r\n            },\r\n            plotOptions: {\r\n                bar: {\r\n                    borderRadius: 4,\r\n                    dataLabels: {\r\n                        position: 'top', // top, center, bottom\r\n                    },\r\n                }\r\n            },\r\n            dataLabels: {\r\n                enabled: true,\r\n                formatter: function (val) {\r\n                    return parseFloat(val).toFixed(2) + \"%\";\r\n                },\r\n                offsetY: -20,\r\n                style: {\r\n                    fontSize: '12px',\r\n                    colors: [\"#304758\"]\r\n                }\r\n            },\r\n            xaxis: {\r\n                categories: xAxis,\r\n                position: 'bottom',\r\n                axisBorder: {\r\n                    show: false\r\n                },\r\n                axisTicks: {\r\n                    show: false\r\n                },\r\n                crosshairs: {\r\n                    fill: {\r\n                        type: 'gradient',\r\n                        gradient: {\r\n                            colorFrom: '#D8E3F0',\r\n                            colorTo: '#BED1E6',\r\n                            stops: [0, 100],\r\n                            opacityFrom: 0.4,\r\n                            opacityTo: 0.5,\r\n                        }\r\n                    }\r\n                },\r\n                // tooltip: {\r\n                //     enabled: true,\r\n                // }\r\n            },\r\n            yaxis: {\r\n                axisBorder: {\r\n                    show: true\r\n                },\r\n                axisTicks: {\r\n                    show: true,\r\n                },\r\n                labels: {\r\n                    show: true,\r\n                    formatter: function (val) {\r\n                        return val + \"%\";\r\n                    }\r\n                }\r\n            },\r\n            title: {\r\n                text: title,\r\n                floating: true,\r\n                offsetY: -5,\r\n                align: 'center',\r\n                style: {\r\n                    color: '#444',\r\n                    // paddingBottom: '50px !important'\r\n                }\r\n            }\r\n        },\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Chart options={state.options} series={state.series} type=\"bar\" height={350} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SimpleColumnCharts;","\r\nimport React from 'react';\r\nimport Chart from \"react-apexcharts\"\r\n\r\nconst StackColumnCharts = (props) => {\r\n    const { values, years, option } = props\r\n    // let array = []\r\n    // array = props.values\r\n    // array.forEach(element => {\r\n    //     element = { ...element, seriesName: element.name, logarithmic: true }\r\n    // });\r\n\r\n    const getTitle = () => {\r\n        if (option === 'Sales')\r\n            return 'Yearly Total Sales of Services (unit: billion VND)'\r\n        else\r\n            return 'Yearly Quantity of Services (unit: service)'\r\n    }\r\n\r\n    const labelFormatter = function (value) {\r\n        let val = Math.abs(value);\r\n        if (val >= 1000000000) {\r\n            val = (val / 1000000000).toFixed(2) + \"B ₫\";\r\n            return val\r\n        }\r\n        if (val >= 1000000) {\r\n            val = (val / 1000000).toFixed(1) + \"M ₫\";\r\n            return val;\r\n        }\r\n        return val;\r\n    };\r\n\r\n    const state = {\r\n        // series: series,\r\n        options: {\r\n            chart: {\r\n                height: 350,\r\n                type: 'bar',\r\n                stacked: true,\r\n                toolbar: {\r\n                    show: true\r\n                },\r\n                // zoom: {\r\n                //     enabled: true\r\n                // }\r\n            },\r\n            // responsive: [{\r\n            //     breakpoint: 480,\r\n            //     options: {\r\n            //         legend: {\r\n            //             position: 'bottom',\r\n            //             offsetX: -10,\r\n            //             offsetY: 0\r\n            //         }\r\n            //     }\r\n            // }],\r\n            plotOptions: {\r\n                bar: {\r\n                    borderRadius: 2,\r\n                    horizontal: false,\r\n                },\r\n                dataLabels: {\r\n                    position: 'top', // top, center, bottom\r\n                },\r\n            },\r\n            dataLabels: {\r\n                enabled: true,\r\n                formatter: labelFormatter,\r\n            },\r\n            title: {\r\n                text: getTitle(),\r\n                // style: {\r\n                //     marginBottom: '0 !important',\r\n                //     paddingBottom: '0 !important'\r\n                // }\r\n            },\r\n            xaxis: { categories: years },\r\n            yaxis: {\r\n                labels: {\r\n                    formatter: labelFormatter,\r\n                }\r\n            },\r\n\r\n            // Try to convert from column to bar\r\n            // xaxis: {\r\n            //     labels: {\r\n            //         formatter: labelFormatter,\r\n            //     }\r\n            // },\r\n            // yaxis: {\r\n            //     categories: years\r\n            // },\r\n            legend: {\r\n                position: 'right',\r\n                offsetY: 40,\r\n                fontSize: '14px'\r\n            },\r\n            fill: {\r\n                opacity: 1\r\n            }\r\n        },\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Chart options={state.options} series={values} type=\"bar\" height={350} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StackColumnCharts;","import React from 'react'\r\nimport {\r\n    Paper,\r\n    Divider,\r\n    Typography,\r\n    Table,\r\n    TableHead,\r\n    TableCell,\r\n    TableRow,\r\n    TableBody,\r\n    Avatar,\r\n    TableContainer,\r\n    ListItemText,\r\n    Box,\r\n    makeStyles,\r\n} from '@material-ui/core'\r\nimport * as MedalIcons from '../../../../assets/icons'\r\nimport classes from './CardRanks.module.scss'\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    txtFullName: {\r\n        fontSize: '0.875rem'\r\n    },\r\n    txtUsername: {\r\n        fontSize: '0.8rem'\r\n    }\r\n}))\r\n\r\nfunction CardRanks(props) {\r\n    const styles = useStyles()\r\n    const { title, columns, data } = props\r\n    // const { rows } = data\r\n\r\n    const getRankMedal = (rank) => {\r\n        switch (rank) {\r\n            case 1:\r\n                return (\r\n                    <img\r\n                        className={classes.medalIcon}\r\n                        src={MedalIcons.GoldMedal}\r\n                        alt=\"gold-medal\"\r\n                    />\r\n                )\r\n            case 2:\r\n                return (\r\n                    <img\r\n                        className={classes.medalIcon}\r\n                        src={MedalIcons.SilverMedal}\r\n                        alt=\"silver-medal\"\r\n                    />\r\n                )\r\n            case 3:\r\n                return (\r\n                    <img\r\n                        className={classes.medalIcon}\r\n                        src={MedalIcons.BronzeMedal}\r\n                        alt=\"bronze-medal\"\r\n                    />\r\n                )\r\n            default:\r\n                return rank\r\n        }\r\n    }\r\n\r\n    const shortenCurrencyValue = (value) => {\r\n        let val = Math.abs(value);\r\n        if (val >= 1000000000) {\r\n            val = (val / 1000000000).toFixed(2) + \" B ₫\";\r\n            return val\r\n        } else if (val >= 1000000) {\r\n            val = (val / 1000000).toFixed(1) + \" M ₫\";\r\n            return val;\r\n        } else\r\n            return val + \" ₫\";\r\n    }\r\n\r\n    return (\r\n        <div className={classes.paper}>\r\n            <div className={classes.header}>\r\n                <Typography className={classes.title}>Salesmen Ranking by Sales</Typography>\r\n            </div>\r\n            <Divider />\r\n            <TableContainer className={classes.table}>\r\n                <Table stickyHeader size=\"small\">\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            {columns.map((key) => (\r\n                                <TableCell key={key} align=\"center\">\r\n                                    {key}\r\n                                </TableCell>\r\n                            ))}\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody className={classes.tBody}>\r\n                        {data.map((salesman, index) => (\r\n                            <TableRow key={index} className={classes.tBodyRow}>\r\n                                <TableCell align=\"center\" className={classes.tBodyCell}>\r\n                                    {getRankMedal(index + 1)}\r\n                                </TableCell>\r\n                                <TableCell className={classes.tBodyCell}>\r\n                                    <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\r\n                                        <Avatar className={classes.avatar}\r\n                                            src={salesman.avatar}\r\n                                            alt=\"avatar\"\r\n                                        />\r\n                                        <ListItemText primary={salesman.fullName} secondary={salesman.username}\r\n                                            classes={{ primary: styles.txtFullName, secondary: styles.txtUsername }}\r\n                                        />\r\n                                    </Box>\r\n                                </TableCell>\r\n                                <TableCell className={classes.tBodyCell} align=\"right\">\r\n                                    <strong>\r\n                                        {shortenCurrencyValue(salesman?.value)}\r\n                                    </strong>\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        ))}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(CardRanks)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { Box, Card, Grid, Avatar, makeStyles, Typography } from '@material-ui/core'\r\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab'\r\nimport { MdAttachMoney } from 'react-icons/md'\r\nimport { FaHandshake, FaSchool } from 'react-icons/fa'\r\nimport { AnimationGroup, Loading } from '../../components'\r\nimport { useAuth } from '../../hooks/AuthContext'\r\nimport { useApp } from '../../hooks/AppContext'\r\nimport { Consts } from './DashboardsConfig'\r\nimport * as Milk from '../../utils/Milk'\r\nimport { milkNames, roleNames } from '../../constants/Generals'\r\nimport * as DashboardsServices from './DashboardsServices'\r\nimport { MapCharts, PieCharts, StackColumnCharts } from '../../components/Charts'\r\nimport CardRanks from './components/CardRanks/CardRanks'\r\nimport { calculateSchoolYear, parseDateToString } from '../../utils/DateTimes'\r\n// import { createMuiTheme } from '@material-ui/core/styles'\r\nimport classes from './Dashboards.module.scss'\r\n\r\n// const theme = createMuiTheme({\r\n//     palette: {\r\n//         action: {\r\n//             disabledBackground: 'rgb(255, 252, 225)' || 'red',\r\n//             disabled: ''\r\n//         }\r\n//     }\r\n// }\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    btnToggles: {\r\n        minHeight: '1.8rem',\r\n        maxHeight: '1.8rem',\r\n        color: theme.palette.secondary.main,\r\n        // background: theme.palette.secondary.light\r\n    }\r\n}))\r\n\r\n\r\nfunction Dashboards() {\r\n    const styles = useStyles()\r\n    const { toggleButtonOptions } = Consts\r\n    const { user } = useAuth()\r\n    const { schYears } = useApp()\r\n    const bakschYears = schYears ? schYears : Milk.getMilk(milkNames.schYears)\r\n    const history = useHistory()\r\n\r\n    const [data4Blocks, setData4Blocks] = useState()\r\n    const [data4ServiceColumn, setData4ServiceColumn] = useState()\r\n    const [data4CustomerPie, setData4CustomerPie] = useState()\r\n    const [data4CustomerMap, setData4CustomerMap] = useState([])\r\n    const [data4Ranking, setData4Ranking] = useState([])\r\n\r\n    let isMounted = true\r\n    const getData4Blocks = (type) => {\r\n        DashboardsServices.getDashboards(type).then((data) => {\r\n            if (isMounted) {\r\n                setData4Blocks(data)\r\n            }\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                history.push({\r\n                    pathname: '/errors',\r\n                    state: { error: error.response.status },\r\n                })\r\n            }\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        getData4Blocks('div')\r\n        return () => {\r\n            isMounted = false\r\n        };\r\n    }, [])\r\n\r\n    // useEffect(() => {\r\n    //     getData4CustomerPie('pie', 'school-status')\r\n    //     return () => {\r\n    //         isMounted = false\r\n    //     };\r\n    // }, [])\r\n\r\n\r\n    const [years, setYears] = useState([])\r\n    const getData4ServiceColumn = (type, name) => {\r\n        DashboardsServices.getDashboards(type, name).then((data) => {\r\n            if (isMounted) {\r\n                setData4ServiceColumn(data)\r\n                setYears(data[0].years)\r\n            }\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                history.push({\r\n                    pathname: '/errors',\r\n                    state: { error: error.response.status },\r\n                })\r\n            }\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        getData4ServiceColumn('column', 'DS')\r\n        return () => {\r\n            isMounted = false\r\n        };\r\n    }, [])\r\n\r\n    const [pieLabels, setPieLabels] = useState([])\r\n    const getData4CustomerPie = (type, name) => {\r\n        DashboardsServices.getDashboards(type, name).then((data) => {\r\n            if (isMounted) {\r\n                // setData4CustomerPie(data)\r\n                let values = []\r\n                let labels = []\r\n                data.forEach(item => {\r\n                    labels.push(item?.name)\r\n                    values.push(item?.data)\r\n                });\r\n                setData4CustomerPie(values)\r\n                setPieLabels(labels)\r\n            }\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                history.push({\r\n                    pathname: '/errors',\r\n                    state: { error: error.response.status },\r\n                })\r\n            }\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        getData4CustomerPie('pie', 'school-status')\r\n        return () => {\r\n            isMounted = false\r\n        };\r\n    }, [])\r\n\r\n    const columns = ['Rank', 'Salesman', 'Sales']\r\n    const getData4Ranking = (type, name) => {\r\n        DashboardsServices.getDashboards(type, name).then((data) => {\r\n            if (isMounted) {\r\n                setData4Ranking(data)\r\n            }\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                history.push({\r\n                    pathname: '/errors',\r\n                    state: { error: error.response.status },\r\n                })\r\n            }\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        getData4Ranking('rank', 'month')\r\n        return () => {\r\n            isMounted = false\r\n        };\r\n    }, [])\r\n\r\n\r\n    // const [districts, setDistricts] = useState([]);\r\n    // const promise = DashboardsServices.fetchDistrictsData();\r\n    // useEffect(() => {\r\n    //     promise.then(data => {\r\n    //         setData4CustomerMap(data.api)\r\n\r\n    //         data.file.json().then(json => {\r\n    //             setDistricts(json.features)\r\n    //         })\r\n    //     });\r\n    // }, []);\r\n\r\n\r\n    // const getData = () => {\r\n    //     fetch('districts.json', {\r\n    //         headers: {\r\n    //             'Content-Type': 'application/json',\r\n    //             'Accept': 'application/json'\r\n    //         }\r\n    //     }).then(function (response) {\r\n    //         console.log(response)\r\n    //         return response.json();\r\n    //     }).then(function (myJson) {\r\n    //         console.log(myJson);\r\n    //     });\r\n    // }\r\n    // useEffect(() => {\r\n    //     getData()\r\n    // }, [])\r\n\r\n    //============================================================================\r\n\r\n    const [viewServiceBy, setViewServiceBy] = useState(\"Sales\");\r\n    const handleChangeViewServiceBy = (event, option) => {\r\n        if (option && option !== viewServiceBy) {\r\n            setViewServiceBy(option);\r\n            if (option === 'Sales') {\r\n                getData4ServiceColumn('column', 'DS')\r\n            } else {\r\n                getData4ServiceColumn('column', 'SL')\r\n            }\r\n        }   // if (option === null || option === viewServiceBy), then ignore it <=> still keep the current value\r\n    };\r\n\r\n    const [viewCustomerBy, setViewCustomerBy] = useState(\"status\");\r\n    const handleChangeViewCustomerBy = (event, option) => {\r\n        if (option !== null && option !== viewCustomerBy) {\r\n            setViewCustomerBy(option);\r\n            if (option === 'status') {\r\n                getData4CustomerPie('pie', 'school-status')\r\n            } else if (option === 'level') {\r\n                getData4CustomerPie('pie', 'level')\r\n            } else if (option === 'type') {\r\n                getData4CustomerPie('pie', 'school-type')\r\n            } else {\r\n                getData4CustomerPie('pie', 'district')\r\n            }\r\n        }\r\n    };\r\n\r\n    const [viewRankingBy, setViewRankingBy] = useState(\"month\");\r\n    const handleChangeViewRankingBy = (event, option) => {\r\n        if (option !== null && option !== viewRankingBy) {\r\n            setViewRankingBy(option);\r\n            if (option === 'month') {\r\n                getData4Ranking('rank', 'month')\r\n            } else if (option === 'year') {\r\n                getData4Ranking('rank', 'year')\r\n            } else {\r\n                getData4Ranking('rank', 'all')\r\n            }\r\n        }\r\n    };\r\n\r\n    if (!bakschYears || !data4Blocks || !data4ServiceColumn ||\r\n        !data4CustomerPie || !data4Ranking) {\r\n        return <Loading />\r\n    }\r\n\r\n    let dataBlockSales = { ...data4Blocks[1], isIncreased: true, changes: 0 }\r\n    let dataBlockServices = { ...data4Blocks[2], isIncreased: true, changes: 0 }\r\n    let dataBlockCustomers = { ...data4Blocks[0], isIncreased: true, changes: 0 }\r\n    const prepareDataFor3Blocks = () => {\r\n        const thisSchoolYear = calculateSchoolYear();\r\n\r\n        // dataBlockSales\r\n        dataBlockSales = {\r\n            ...dataBlockSales,\r\n            title: dataBlockSales.name.substring(0, dataBlockSales.name.indexOf(thisSchoolYear) - 1),\r\n            subtitle: dataBlockSales.name.substring(dataBlockSales.name.indexOf(thisSchoolYear))\r\n            // subtitle: `${dataBlockSales.name.substring(dataBlockSales.name.indexOf(thisSchoolYear))} • until ${parseDateToString(new Date(), 'DD/MM/YYYY')}`\r\n        }\r\n        if (dataBlockSales?.present > dataBlockSales?.previous) {\r\n            dataBlockSales = {\r\n                ...dataBlockSales,\r\n                isIncreased: true,\r\n                changes: ((dataBlockSales?.present - dataBlockSales?.previous) / dataBlockSales?.previous) * 100\r\n            }\r\n        } else if (dataBlockSales?.present < dataBlockSales?.previous) {\r\n            dataBlockSales = {\r\n                ...dataBlockSales,\r\n                isIncreased: false,\r\n                changes: ((dataBlockSales?.present - dataBlockSales?.previous) / dataBlockSales?.previous) * 100\r\n            }\r\n        } else {\r\n            dataBlockSales = {\r\n                ...dataBlockSales,\r\n                trend: 'stable',\r\n                changes: 0\r\n            }\r\n        }\r\n\r\n        // dataBlockServices\r\n        dataBlockServices = {\r\n            ...dataBlockServices,\r\n            title: dataBlockServices.name.substring(0, dataBlockServices.name.indexOf(thisSchoolYear) - 1),\r\n            subtitle: dataBlockServices.name.substring(dataBlockServices.name.indexOf(thisSchoolYear))\r\n            // subtitle: `${dataBlockServices.name.substring(dataBlockServices.name.indexOf(thisSchoolYear))} • until ${parseDateToString(new Date(), 'DD/MM/YYYY')}`\r\n        }\r\n        if (dataBlockServices?.present > dataBlockServices?.previous) {\r\n            dataBlockServices = {\r\n                ...dataBlockServices,\r\n                isIncreased: true,\r\n                changes: ((dataBlockServices?.present - dataBlockServices?.previous) / dataBlockServices?.previous) * 100\r\n            }\r\n        } else if (dataBlockServices?.present < dataBlockServices?.previous) {\r\n            dataBlockServices = {\r\n                ...dataBlockServices,\r\n                isIncreased: false,\r\n                changes: ((dataBlockServices?.present - dataBlockServices?.previous) / dataBlockServices?.previous) * 100\r\n            }\r\n        } else {\r\n            dataBlockServices = {\r\n                ...dataBlockServices,\r\n                trend: 'stable',\r\n                changes: 0\r\n            }\r\n        }\r\n\r\n        // dataBlockCustomers\r\n        dataBlockCustomers = {\r\n            ...dataBlockCustomers,\r\n            title: dataBlockCustomers.name.substring(0, dataBlockCustomers.name.indexOf(thisSchoolYear) - 1),\r\n            subtitle: dataBlockCustomers.name.substring(dataBlockCustomers.name.indexOf(thisSchoolYear))\r\n            // subtitle: `${dataBlockCustomers.name.substring(dataBlockCustomers.name.indexOf(thisSchoolYear))} • until ${parseDateToString(new Date(), 'DD/MM/YYYY')}`\r\n        }\r\n        if (dataBlockCustomers?.present > dataBlockCustomers?.previous) {\r\n            dataBlockCustomers = {\r\n                ...dataBlockCustomers,\r\n                isIncreased: true,\r\n                changes: ((dataBlockCustomers?.present - dataBlockCustomers?.previous) / dataBlockCustomers?.previous) * 100\r\n            }\r\n        } else if (dataBlockCustomers?.present < dataBlockCustomers?.previous) {\r\n            dataBlockCustomers = {\r\n                ...dataBlockCustomers,\r\n                isIncreased: false,\r\n                changes: ((dataBlockCustomers?.present - dataBlockCustomers?.previous) / dataBlockCustomers?.previous) * 100\r\n            }\r\n        } else {\r\n            dataBlockCustomers = {\r\n                ...dataBlockCustomers,\r\n                trend: true,\r\n                changes: 0\r\n            }\r\n        }\r\n\r\n    }\r\n    prepareDataFor3Blocks()\r\n    // console.log('dataBlockSales = ', dataBlockSales);\r\n    // console.log('dataBlockServices = ', dataBlockServices);\r\n    // console.log('dataBlockCustomers = ', dataBlockCustomers);\r\n\r\n    const shortenCurrencyValue = (value) => {\r\n        let val = Math.abs(value);\r\n        if (val >= 1000000000) {\r\n            val = (val / 1000000000).toFixed(2) + \"B ₫\";\r\n            return val\r\n        } else if (val >= 1000000) {\r\n            val = (val / 1000000).toFixed(1) + \"M ₫\";\r\n            return val;\r\n        } else\r\n            return val + \" ₫\";\r\n    }\r\n\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <Grid container spacing={0}>\r\n                <Grid item container xs={12} sm={12} md={12} lg={12} className={classes.root}>\r\n                    <Grid item xs={12} sm={12} md={12} lg={12} className={classes.body}>\r\n                        <AnimationGroup enter={{ animation: 'transition.slideUpBigIn' }}>\r\n                            <Grid container spacing={0}>\r\n                                {user.roles[0] !== roleNames.salesman && (\r\n                                    <>\r\n                                        {/**3 Info Blocks */}\r\n                                        <Grid item container spacing={3} xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                            {/**Block 1: Total Sales */}\r\n                                            <Grid item xs={12} sm={4} md={4} lg={4}>\r\n                                                <Card className={classes.blockSales} variant=\"elevation\" elevation={10}>\r\n                                                    <Box display=\"flex\" flexDirection=\"column\">\r\n                                                        <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"space-between\">\r\n                                                            <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\" className={classes.box1Block1} flexGrow={1}>\r\n                                                                <Avatar className={classes.avaBlock1}><MdAttachMoney className={classes.iconBlock1} /></Avatar>\r\n                                                                <Box display=\"flex\" flexDirection=\"column\">\r\n                                                                    <Typography className={classes.titleBlock1} color=\"textSecondary\">{dataBlockSales?.title}</Typography>\r\n                                                                    <span className={classes.subtitleBlock1}>\r\n                                                                        <span className={classes.subtitle1Block1}>{dataBlockSales?.subtitle}</span>\r\n                                                                        <span className={classes.subtitle2Block1}> • until </span>\r\n                                                                        <span className={classes.subtitle1Block1}>{parseDateToString(new Date(), 'DD/MM/YYYY')}</span>\r\n                                                                    </span>\r\n                                                                </Box>\r\n                                                            </Box>\r\n                                                            {dataBlockSales?.isIncreased ? (\r\n                                                                <Box className={classes.changesUpBlock1}>+{dataBlockSales?.changes.toFixed(1)}%▲</Box>\r\n                                                            ) : (\r\n                                                                <Box className={classes.changesDownBlock1}>{dataBlockSales?.changes.toFixed(1)}%▼</Box>\r\n                                                            )}\r\n                                                        </Box>\r\n                                                        <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\" justifyContent=\"space-around\">\r\n                                                            <Box display=\"flex\" flexDirection=\"column\">\r\n                                                                <Typography className={classes.content1Block1} variant=\"caption\" color=\"textSecondary\">Last year</Typography>\r\n                                                                <span className={classes.previousBlock1}>{shortenCurrencyValue(dataBlockSales?.previous)}</span>\r\n                                                            </Box>\r\n                                                            <Box display=\"flex\" flexDirection=\"column\">\r\n                                                                <Typography className={classes.content1Block1} variant=\"caption\" color=\"textSecondary\">Present</Typography>\r\n                                                                <span className={classes.presentBlock1}>{shortenCurrencyValue(dataBlockSales?.present)}</span>\r\n                                                            </Box>\r\n                                                        </Box>\r\n                                                    </Box>\r\n                                                </Card>\r\n                                            </Grid>\r\n                                            {/**Block 2: Sold Services */}\r\n                                            <Grid item xs={12} sm={4} md={4} lg={4}>\r\n                                                <Card className={classes.blockSevices} variant=\"elevation\" elevation={10}>\r\n                                                    <Box display=\"flex\" flexDirection=\"column\">\r\n                                                        <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"space-between\">\r\n                                                            <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\" className={classes.box1Block2} flexGrow={1}>\r\n                                                                <Avatar className={classes.avaBlock2}><FaHandshake className={classes.iconBlock2} /></Avatar>\r\n                                                                <Box display=\"flex\" flexDirection=\"column\">\r\n                                                                    <Typography className={classes.titleBlock2} color=\"textSecondary\">{dataBlockServices?.title}</Typography>\r\n                                                                    <span className={classes.subtitleBlock2}>\r\n                                                                        <span className={classes.subtitle1Block2}>{dataBlockServices?.subtitle}</span>\r\n                                                                        <span className={classes.subtitle2Block2}> • until </span>\r\n                                                                        <span className={classes.subtitle1Block2}>{parseDateToString(new Date(), 'DD/MM/YYYY')}</span>\r\n                                                                    </span>\r\n                                                                </Box>\r\n                                                            </Box>\r\n                                                            {dataBlockServices?.isIncreased ? (\r\n                                                                <Box className={classes.changesUpBlock2}>+{dataBlockServices?.changes.toFixed(1)}%▲</Box>\r\n                                                            ) : (\r\n                                                                <Box className={classes.changesDownBlock2}>{dataBlockServices?.changes.toFixed(1)}%▼</Box>\r\n                                                            )}\r\n                                                        </Box>\r\n                                                        <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\" justifyContent=\"space-around\">\r\n                                                            <Box display=\"flex\" flexDirection=\"column\">\r\n                                                                <Typography className={classes.content1Block2} variant=\"caption\" color=\"textSecondary\">Last year</Typography>\r\n                                                                <span className={classes.previousBlock2}>{dataBlockServices?.previous} services</span>\r\n                                                            </Box>\r\n                                                            <Box display=\"flex\" flexDirection=\"column\">\r\n                                                                <Typography className={classes.content1Block2} variant=\"caption\" color=\"textSecondary\">Present</Typography>\r\n                                                                <span className={classes.presentBlock2}>{dataBlockServices?.present} services</span>\r\n                                                            </Box>\r\n                                                        </Box>\r\n                                                    </Box>\r\n                                                </Card>\r\n                                            </Grid>\r\n                                            {/**Block 3: New Customers */}\r\n                                            <Grid item xs={12} sm={4} md={4} lg={4}>\r\n                                                <Card className={classes.blockCustomers} variant=\"elevation\" elevation={10}>\r\n                                                    <Box display=\"flex\" flexDirection=\"column\">\r\n                                                        <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"space-between\">\r\n                                                            <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\" className={classes.box1Block3} flexGrow={1}>\r\n                                                                <Avatar className={classes.avaBlock3}><FaSchool className={classes.iconBlock3} /></Avatar>\r\n                                                                <Box display=\"flex\" flexDirection=\"column\">\r\n                                                                    <Typography className={classes.titleBlock3} color=\"textSecondary\">{dataBlockCustomers?.title}</Typography>\r\n                                                                    <span className={classes.subtitleBlock3}>\r\n                                                                        <span className={classes.subtitle1Block3}>{dataBlockCustomers?.subtitle}</span>\r\n                                                                        <span className={classes.subtitle2Block3}> • until </span>\r\n                                                                        <span className={classes.subtitle1Block3}>{parseDateToString(new Date(), 'DD/MM/YYYY')}</span>\r\n                                                                    </span>\r\n                                                                </Box>\r\n                                                            </Box>\r\n                                                            {dataBlockCustomers?.isIncreased ? (\r\n                                                                <Box className={classes.changesUpBlock3}>+{dataBlockCustomers?.changes.toFixed(1)}%▲</Box>\r\n                                                            ) : (\r\n                                                                <Box className={classes.changesDownBlock3}>{dataBlockCustomers?.changes.toFixed(1)}%▼</Box>\r\n                                                            )}\r\n                                                        </Box>\r\n                                                        <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\" justifyContent=\"space-around\">\r\n                                                            <Box display=\"flex\" flexDirection=\"column\">\r\n                                                                <Typography className={classes.content1Block3} variant=\"caption\" color=\"textSecondary\">Last year</Typography>\r\n                                                                <span className={classes.previousBlock3}>{dataBlockCustomers?.previous} schools</span>\r\n                                                            </Box>\r\n                                                            <Box display=\"flex\" flexDirection=\"column\">\r\n                                                                <Typography className={classes.content1Block3} variant=\"caption\" color=\"textSecondary\">Present</Typography>\r\n                                                                <span className={classes.presentBlock3}>{dataBlockCustomers?.present} schools</span>\r\n                                                            </Box>\r\n                                                        </Box>\r\n                                                    </Box>\r\n                                                </Card>\r\n                                            </Grid>\r\n                                        </Grid>\r\n\r\n                                        {/**Services & Customer */}\r\n                                        <Grid item xs={12} sm={12} md={12} lg={12} className={classes.rowt}>\r\n                                            <Grid item container spacing={3} xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                                {/* Services (bar) */}\r\n                                                <Grid item xs={12} sm={7} md={7} lg={7}>\r\n                                                    <Card className={classes.panelServices} variant=\"elevation\" elevation={4}>\r\n                                                        <Grid container spacing={2}>\r\n                                                            <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                                                <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\" justifyContent=\"flex-end\" className={classes.toggleOptions}>\r\n                                                                    <Typography variant=\"subtitle2\" className={classes.txtViewBy}>View by </Typography>\r\n                                                                    {/* <ThemeProvider theme={theme}> */}\r\n                                                                    <ToggleButtonGroup\r\n                                                                        value={viewServiceBy}\r\n                                                                        exclusive\r\n                                                                        onChange={handleChangeViewServiceBy}\r\n                                                                        size=\"small\"\r\n                                                                        color=\"primary\"\r\n                                                                        classes={{ root: styles.btnToggles }}\r\n                                                                    >\r\n                                                                        <ToggleButton value={toggleButtonOptions.serviceBarChart.ds}>Sales</ToggleButton>\r\n                                                                        <ToggleButton value={toggleButtonOptions.serviceBarChart.sl}>Quantity</ToggleButton>\r\n                                                                    </ToggleButtonGroup>\r\n                                                                    {/* </ThemeProvider> */}\r\n                                                                </Box>\r\n                                                            </Grid>\r\n                                                            <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                                                {data4ServiceColumn && years &&\r\n                                                                    <StackColumnCharts values={data4ServiceColumn} years={years} option={viewServiceBy} />\r\n                                                                }\r\n                                                            </Grid>\r\n                                                        </Grid>\r\n                                                    </Card>\r\n                                                </Grid>\r\n\r\n                                                {/** Customers (pie) */}\r\n                                                <Grid item xs={12} sm={5} md={5} lg={5}>\r\n                                                    <Card className={classes.panelCustomers} variant=\"elevation\" elevation={4}>\r\n                                                        <Grid container spacing={2}>\r\n                                                            <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                                                <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\" justifyContent=\"flex-end\" className={classes.toggleOptions}>\r\n                                                                    <Typography variant=\"subtitle2\" className={classes.txtViewBy}>View by </Typography>\r\n                                                                    <ToggleButtonGroup\r\n                                                                        value={viewCustomerBy}\r\n                                                                        exclusive\r\n                                                                        onChange={handleChangeViewCustomerBy}\r\n                                                                        size=\"small\"\r\n                                                                        color=\"secondary\"\r\n                                                                        classes={{ root: styles.btnToggles }}\r\n                                                                    >\r\n                                                                        <ToggleButton color=\"secondary\" value=\"status\">Status</ToggleButton>\r\n                                                                        <ToggleButton color=\"secondary\" value=\"level\">Level</ToggleButton>\r\n                                                                        <ToggleButton color=\"secondary\" value=\"type\">Type</ToggleButton>\r\n                                                                        <ToggleButton color=\"secondary\" value=\"district\">District</ToggleButton>\r\n                                                                    </ToggleButtonGroup>\r\n                                                                </Box>\r\n                                                            </Grid>\r\n                                                            <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                                                {data4ServiceColumn &&\r\n                                                                    <PieCharts values={data4CustomerPie} labels={pieLabels} option={viewCustomerBy} />\r\n                                                                }\r\n                                                            </Grid>\r\n                                                        </Grid>\r\n                                                    </Card>\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </>\r\n                                )}\r\n\r\n                                {/**HCM Map (Customer) & Salesmen Ranking */}\r\n                                <Grid item xs={12} sm={12} md={12} lg={12} className={classes.rowy}>\r\n                                    <Grid item container spacing={3} xs={12} sm={12} md={12} lg={12} className={classes.rowx}>\r\n                                        {/** Customers Map Chart */}\r\n                                        <Grid item xs={12} sm={8} md={8} lg={8}>\r\n                                            <Card className={classes.panelMap} variant=\"elevation\" elevation={4}>\r\n                                                <Typography className={classes.title}>\r\n                                                    Number of Customers by Districts in HCMC <br />\r\n                                                    (until {parseDateToString(new Date(), 'DD/MM/YYYY')})\r\n                                                </Typography>\r\n                                                <div className={classes.mapPanel}>\r\n                                                    <MapCharts />\r\n                                                </div>\r\n                                            </Card>\r\n                                        </Grid>\r\n\r\n                                        {/** Salesmen Ranking */}\r\n                                        <Grid item xs={12} sm={4} md={4} lg={4}>\r\n                                            <Card className={classes.panelRanking} variant=\"elevation\" elevation={4}>\r\n                                                <Grid container spacing={2}>\r\n                                                    <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                                        <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\" justifyContent=\"flex-end\" className={classes.toggleOptions}>\r\n                                                            <Typography variant=\"subtitle2\" className={classes.txtViewBy}>View by </Typography>\r\n                                                            <ToggleButtonGroup\r\n                                                                value={viewRankingBy}\r\n                                                                exclusive\r\n                                                                onChange={handleChangeViewRankingBy}\r\n                                                                size=\"small\"\r\n                                                                color=\"primary\"\r\n                                                                classes={{ root: styles.btnToggles }}\r\n                                                            >\r\n                                                                <ToggleButton value=\"month\">This month</ToggleButton>\r\n                                                                <ToggleButton value=\"year\">This year</ToggleButton>\r\n                                                                <ToggleButton value=\"all\">Whole time</ToggleButton>\r\n                                                            </ToggleButtonGroup>\r\n                                                        </Box>\r\n                                                    </Grid>\r\n                                                    <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                                        <CardRanks data={data4Ranking} columns={columns} />\r\n                                                    </Grid>\r\n                                                </Grid>\r\n                                            </Card>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </AnimationGroup>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dashboards","const errors = [\r\n    {\r\n        code: 400,\r\n        message: 'What is this? Is it a cake?',\r\n        link: '',\r\n        des: 'Go back',\r\n    },\r\n    {\r\n        code: 401,\r\n        message: 'Who are you now?',\r\n        link: '/',\r\n        des: 'Go back',\r\n    },\r\n    {\r\n        code: 403,\r\n        message: 'Sorry, this is THAT restricted area!',\r\n        link: '/',\r\n        des: 'Go back',\r\n    },\r\n    {\r\n        code: 404,\r\n        message: 'Sorry, we could not find that page!',\r\n        link: '',\r\n        des: 'Go back',\r\n    },\r\n    {\r\n        code: 500,\r\n        message: 'Well, you broke the Internet!',\r\n        link: '',\r\n        des: 'Go back',\r\n    },\r\n]\r\n\r\nexport function getError(code) {\r\n    const result = errors.filter((error) => error.code === code)\r\n    return result\r\n}\r\n","import React from 'react'\r\nimport { Typography } from '@material-ui/core'\r\nimport { Link } from 'react-router-dom'\r\nimport { Animation } from '../../components'\r\nimport classes from './Errors.module.scss'\r\nimport { getError } from './ErrorsConfig'\r\nimport { useLocation, useHistory } from 'react-router-dom'\r\n\r\nfunction Errors(props) {\r\n    const { defaultError } = props\r\n    const location = useLocation()\r\n    const history = useHistory()\r\n\r\n    const getCurrError = () => {\r\n        if (typeof location.state !== 'undefined') {\r\n            return getError(location.state.error)\r\n        } else {\r\n            return defaultError\r\n        }\r\n    }\r\n\r\n    const error = getCurrError()\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            {error.map((item, index) => (\r\n                <div className={classes.main} key={index}>\r\n                    <Animation animation=\"transition.expandIn\" delay={100}>\r\n                        <Typography variant=\"h1\" className={classes.code}>\r\n                            {item.code}\r\n                        </Typography>\r\n                    </Animation>\r\n                    <Animation delay={500}>\r\n                        <Typography variant=\"h5\" className={classes.message}>\r\n                            {item.message}\r\n                        </Typography>\r\n                    </Animation>\r\n                    {item.link !== '' ? (\r\n                        <Link className={classes.link} to={item.link}>\r\n                            {item.des}\r\n                        </Link>\r\n                    ) : (\r\n                        <Typography\r\n                            className={classes.link}\r\n                            component=\"a\"\r\n                            onClick={() => history.goBack()}\r\n                        >\r\n                            {item.des}\r\n                        </Typography>\r\n                    )}\r\n\r\n                    {/* <Link className={classes.link} to={item.link}>\r\n                        {item.des}\r\n                    </Link> */}\r\n                </div>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Errors\r\n","export default __webpack_public_path__ + \"static/media/logo-major-edu.0f6c111a.png\";","export default __webpack_public_path__ + \"static/media/banner-major-edu.95f51a71.png\";","export default __webpack_public_path__ + \"static/media/spring.7443a7bd.jpg\";","export default __webpack_public_path__ + \"static/media/summer.894e8ba5.jpg\";","export default __webpack_public_path__ + \"static/media/autumn.533e02dc.jpg\";","export default __webpack_public_path__ + \"static/media/winter.f47d7b20.jpg\";","export default __webpack_public_path__ + \"static/media/doughnut-chart.722df6d0.png\";","export const Consts = {\r\n    header: 'Log In',\r\n    username: 'Username',\r\n    password: 'Password',\r\n    login: 'Log In',\r\n    forgotPwd: 'Forgot password?',\r\n}\r\n","import Api from '../../services/Api'\r\n\r\nexport async function checkUser(usr, pwd) {\r\n    const response = await Api.post('/access-tokens', {\r\n        username: usr,\r\n        password: pwd,\r\n    })\r\n\r\n    const data = await response.data\r\n\r\n    return data\r\n}\r\n","import React from 'react'\r\nimport { MajorLogo } from '../../assets/images'\r\nimport {\r\n    Button,\r\n    TextField,\r\n    Paper,\r\n    Typography,\r\n    Link as MdLink,\r\n    Avatar,\r\n} from '@material-ui/core'\r\nimport { MdLockOutline } from 'react-icons/md'\r\nimport { useHistory, Link } from 'react-router-dom'\r\nimport { Consts } from './LoginsConfig'\r\nimport * as LoginsServices from './LoginsServices'\r\nimport * as Cookies from '../../utils/Cookies'\r\nimport * as Milk from '../../utils/Milk'\r\nimport { useForm } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport { useAuth } from '../../hooks/AuthContext'\r\nimport { milkNames, cookieNames } from '../../constants/Generals'\r\nimport classes from './Logins.module.scss'\r\n\r\nconst clientSchema = yup.object().shape({\r\n    username: yup.string().required('Username is required'),\r\n    password: yup.string().required('Password is required'),\r\n})\r\n\r\nconst serverSchema = [\r\n    {\r\n        type: 'server',\r\n        name: 'username',\r\n        message: null,\r\n    },\r\n    {\r\n        type: 'server',\r\n        name: 'password',\r\n        message: null,\r\n    },\r\n    {\r\n        type: 'server',\r\n        name: 'credential',\r\n        message: 'Invalid username or password',\r\n    },\r\n]\r\n\r\nfunction Logins() {\r\n    const { setUser } = useAuth()\r\n\r\n    const history = useHistory()\r\n\r\n    const { register, handleSubmit, errors, setError, clearErrors } = useForm({\r\n        resolver: yupResolver(clientSchema),\r\n    })\r\n\r\n    const onSubmit = (data) => {\r\n        const userObj = (username, roles) => {\r\n            return {\r\n                username: username,\r\n                roles: roles,\r\n            }\r\n        }\r\n\r\n        LoginsServices.checkUser(data.username, data.password)\r\n            .then((data) => {\r\n                Cookies.setCookie(cookieNames.accessToken, data.token, 7)\r\n                Milk.setMilkExpiry(\r\n                    milkNames.token,\r\n                    userObj(data.username, data.roles),\r\n                    2\r\n                )\r\n                setUser(Milk.getMilkExpiry(milkNames.token))\r\n                // getFiltersData()\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    if (\r\n                        error.response.status === 403 ||\r\n                        error.response.status === 500\r\n                    ) {\r\n                        serverSchema.forEach(({ name, type, message }) =>\r\n                            setError(name, { type, message })\r\n                        )\r\n                    } else {\r\n                        history.push({\r\n                            pathname: '/errors',\r\n                            state: { error: error.response.status },\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className={classes.bg}>\r\n            <div className={classes.wrapper}>\r\n                <div className={classes.leftSection}>\r\n                    <Paper className={classes.logo} variant=\"outlined\">\r\n                        <img\r\n                            src={MajorLogo}\r\n                            alt=\"major logo\"\r\n                            className={classes.majorImg}\r\n                        />\r\n                    </Paper>\r\n                </div>\r\n                <div className={classes.rightSection}>\r\n                    <div className={classes.header}>\r\n                        <Avatar className={classes.avatar}>\r\n                            <MdLockOutline />\r\n                        </Avatar>\r\n                        <Typography component=\"h1\" variant=\"h5\">\r\n                            {Consts.header}\r\n                        </Typography>\r\n                    </div>\r\n                    <form\r\n                        className={classes.form}\r\n                        onSubmit={handleSubmit(onSubmit)}\r\n                        noValidate\r\n                    >\r\n                        {errors.credential && (\r\n                            <Typography color=\"error\">\r\n                                {errors.credential.message}\r\n                            </Typography>\r\n                        )}\r\n                        <TextField\r\n                            id=\"username\"\r\n                            name=\"username\"\r\n                            label={Consts.username}\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            autoFocus\r\n                            autoComplete=\"username\"\r\n                            inputRef={register}\r\n                            error={!!errors.username}\r\n                            helperText={errors?.username?.message}\r\n                            onClick={() =>\r\n                                clearErrors(['username', 'credential'])\r\n                            }\r\n                        />\r\n                        <TextField\r\n                            id=\"password\"\r\n                            name=\"password\"\r\n                            label={Consts.password}\r\n                            type=\"password\"\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            autoComplete=\"current-password\"\r\n                            inputRef={register}\r\n                            error={!!errors.password}\r\n                            helperText={errors?.password?.message}\r\n                            onClick={() =>\r\n                                clearErrors(['password', 'credential'])\r\n                            }\r\n                        />\r\n\r\n                        <Button\r\n                            className={classes.submit}\r\n                            type=\"submit\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            fullWidth\r\n                        >\r\n                            {Consts.login}\r\n                        </Button>\r\n                    </form>\r\n                    <MdLink\r\n                        component={Link}\r\n                        className={classes.forgetPwd}\r\n                        to=\"/password-reset/\"\r\n                        variant=\"body2\"\r\n                    >\r\n                        {Consts.forgotPwd}\r\n                    </MdLink>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Logins\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport { useAuth } from '../hooks/AuthContext'\r\n\r\nfunction VerifyRoute(props) {\r\n    const { component: Component, ...rest } = props\r\n\r\n    const { verifyCode } = useAuth()\r\n\r\n    // const isAuthenticated = user != null ? true : false\r\n    const isVerified = !!verifyCode\r\n\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={(props) => {\r\n                return isVerified ? (\r\n                    <Component {...props} />\r\n                ) : (\r\n                    <Redirect to=\"/\" />\r\n                )\r\n            }}\r\n        />\r\n    )\r\n}\r\n\r\nexport default VerifyRoute\r\n","export const Consts = {\r\n    headers: {\r\n        reset: 'Password Reset',\r\n        msg1: `Enter the email associated with this account and we'll send you an email to reset your password`,\r\n        msg2: `Please enter the code from the email we just sent you to confirm your account`,\r\n        msg3: `Sweet! Your new password has now been set and you are logged in.`,\r\n    },\r\n    operations: {\r\n        submit: 'Send',\r\n        link: 'Back to Log In',\r\n    },\r\n    fields: {\r\n        username: 'Username',\r\n        email: 'Email address',\r\n        code: 'Verify code',\r\n        newPwd: 'New Password',\r\n        confirmPwd: 'Confirm Password',\r\n    },\r\n    prompts: {\r\n        leave:\r\n            'Leaving the page might cause any action you took to be repeated. Do you want to continue?',\r\n    },\r\n}\r\n","import Api from '../../services/Api'\r\n\r\nexport async function checkUser(username) {\r\n    const response = await Api.get(`/recover-password?username=${username}`)\r\n    // const data = await response.data\r\n\r\n    return response\r\n}\r\n\r\nexport async function verifyCode(code) {\r\n    const response = await Api.post(`/recover-password`, code)\r\n    // const data = await response.data\r\n\r\n    return response\r\n}\r\n\r\nexport async function resetPwd(username, password) {\r\n    const response = await Api.patch(`/recover-password/${username}`, password)\r\n    // const data = await response.data\r\n\r\n    return response\r\n}\r\n","import React from 'react'\r\nimport {\r\n    Avatar,\r\n    Button,\r\n    TextField,\r\n    Typography,\r\n    Link as MdLink,\r\n} from '@material-ui/core'\r\nimport { RiRotateLockFill } from 'react-icons/ri'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport { USERNAME_RGX } from '../../../utils/Regex'\r\nimport { Consts } from '../ForgotPwdConfig'\r\nimport * as ForgotPwdServices from '../ForgotPwdServices'\r\nimport classes from './ResetLink.module.scss'\r\n\r\nconst clientSchema = yup.object().shape({\r\n    username: yup\r\n        .string()\r\n        .trim()\r\n        .min(8, 'Username must be at least 8 characters')\r\n        .max(30, 'Username must be at most 30 characters')\r\n        .required('Username is required')\r\n        .matches(USERNAME_RGX, 'Incorrect entry'),\r\n})\r\n\r\nconst serverSchema = [\r\n    {\r\n        type: 'server',\r\n        name: 'username',\r\n        message: 'Username does not exist',\r\n    },\r\n]\r\n\r\nfunction ResetLink() {\r\n    const { headers, operations, fields } = Consts\r\n\r\n    const history = useHistory()\r\n\r\n    const defaultValues = {\r\n        username: '',\r\n    }\r\n\r\n    const {\r\n        control,\r\n        errors,\r\n        setError,\r\n        handleSubmit,\r\n        formState,\r\n        reset,\r\n    } = useForm({\r\n        resolver: yupResolver(clientSchema),\r\n        defaultValues: defaultValues,\r\n    })\r\n\r\n    const onSubmit = (data) => {\r\n        ForgotPwdServices.checkUser(data?.username)\r\n            .then((res) => {\r\n                reset({\r\n                    username: '',\r\n                })\r\n                history.push({\r\n                    pathname: '/password-reset/verify',\r\n                    state: { username: data?.username },\r\n                })\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    if (\r\n                        error.response.status === 403 ||\r\n                        error.response.status === 500\r\n                    ) {\r\n                        serverSchema.forEach(({ name, type, message }) =>\r\n                            setError(name, { type, message })\r\n                        )\r\n                    } else {\r\n                        history.push({\r\n                            pathname: '/errors',\r\n                            state: { error: error.response.status },\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <div className={classes.header}>\r\n                <Avatar className={classes.avatar}>\r\n                    <RiRotateLockFill />\r\n                </Avatar>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    {headers.reset}\r\n                </Typography>\r\n                <Typography variant=\"body2\" className={classes.msg}>\r\n                    {headers.msg1}\r\n                </Typography>\r\n            </div>\r\n            <form\r\n                className={classes.form}\r\n                onSubmit={handleSubmit(onSubmit)}\r\n                noValidate\r\n            >\r\n                <Controller\r\n                    name=\"username\"\r\n                    control={control}\r\n                    render={({ value, onChange }) => (\r\n                        <TextField\r\n                            label={fields.username}\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            autoFocus\r\n                            value={value}\r\n                            onChange={onChange}\r\n                            error={!!errors.username}\r\n                            helperText={errors?.username?.message}\r\n                        />\r\n                    )}\r\n                />\r\n                <Button\r\n                    className={classes.submit}\r\n                    type=\"submit\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    fullWidth\r\n                    disabled={!formState.isDirty}\r\n                >\r\n                    {operations.submit}\r\n                </Button>\r\n            </form>\r\n            <MdLink\r\n                className={classes.login}\r\n                component={Link}\r\n                to=\"/\"\r\n                variant=\"body2\"\r\n            >\r\n                {operations.link}\r\n            </MdLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ResetLink\r\n","import React from 'react'\r\nimport {\r\n    Avatar,\r\n    Button,\r\n    TextField,\r\n    Typography,\r\n    Link as MdLink,\r\n} from '@material-ui/core'\r\nimport { RiRotateLockFill } from 'react-icons/ri'\r\nimport { Link, useHistory, useLocation } from 'react-router-dom'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport { Consts } from '../ForgotPwdConfig'\r\nimport { useAuth } from '../../../hooks/AuthContext'\r\nimport { VERIFY_CODE_RGX } from '../../../utils/Regex'\r\nimport * as ForgotPwdServices from '../ForgotPwdServices'\r\nimport classes from './VerifyCode.module.scss'\r\n\r\nconst clientSchema = yup.object().shape({\r\n    code: yup\r\n        .string()\r\n        .trim()\r\n        .required('Verify code is required')\r\n        .matches(VERIFY_CODE_RGX, 'Invalid code'),\r\n})\r\n\r\nconst serverSchema = [\r\n    {\r\n        type: 'server',\r\n        name: 'code',\r\n        message: 'Invalid code',\r\n    },\r\n]\r\n\r\nfunction VerifyCode() {\r\n    const { headers, operations, fields } = Consts\r\n\r\n    const history = useHistory()\r\n    const location = useLocation()\r\n    const username = location?.state?.username\r\n\r\n    const { setVerifyCode } = useAuth()\r\n\r\n    const defaultValues = {\r\n        code: '',\r\n    }\r\n\r\n    const {\r\n        control,\r\n        errors,\r\n        setError,\r\n        handleSubmit,\r\n        formState,\r\n        reset,\r\n    } = useForm({\r\n        resolver: yupResolver(clientSchema),\r\n        defaultValues: defaultValues,\r\n    })\r\n\r\n    const onSubmit = (data) => {\r\n        const model = {\r\n            privateToken: data?.code,\r\n            username: username,\r\n        }\r\n\r\n        ForgotPwdServices.verifyCode(model)\r\n            .then((res) => {\r\n                if (res.data) {\r\n                    setVerifyCode(username)\r\n                    reset({\r\n                        code: '',\r\n                    })\r\n                    history.push({\r\n                        pathname: '/password-reset/change',\r\n                        state: { username: username },\r\n                    })\r\n                } else {\r\n                    serverSchema.forEach(({ name, type, message }) =>\r\n                        setError(name, { type, message })\r\n                    )\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <div className={classes.header}>\r\n                <Avatar className={classes.avatar}>\r\n                    <RiRotateLockFill />\r\n                </Avatar>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    {headers.reset}\r\n                </Typography>\r\n                <Typography variant=\"body2\" className={classes.msg}>\r\n                    {headers.msg2}\r\n                </Typography>\r\n            </div>\r\n            <form\r\n                className={classes.form}\r\n                onSubmit={handleSubmit(onSubmit)}\r\n                noValidate\r\n            >\r\n                <Controller\r\n                    name=\"code\"\r\n                    control={control}\r\n                    render={({ value, onChange }) => (\r\n                        <TextField\r\n                            label={fields.code}\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            autoFocus\r\n                            value={value}\r\n                            onChange={onChange}\r\n                            error={!!errors.code}\r\n                            helperText={errors?.code?.message}\r\n                        />\r\n                    )}\r\n                />\r\n                <Button\r\n                    className={classes.submit}\r\n                    type=\"submit\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    fullWidth\r\n                    disabled={!formState.isDirty}\r\n                >\r\n                    {operations.submit}\r\n                </Button>\r\n            </form>\r\n            <MdLink\r\n                className={classes.login}\r\n                component={Link}\r\n                to=\"/\"\r\n                variant=\"body2\"\r\n            >\r\n                {operations.link}\r\n            </MdLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VerifyCode\r\n","import React, { useEffect } from 'react'\r\nimport { Avatar, Button, TextField, Typography } from '@material-ui/core'\r\nimport { RiRotateLockFill } from 'react-icons/ri'\r\nimport { useHistory, useLocation, Prompt } from 'react-router-dom'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport { Consts } from '../ForgotPwdConfig'\r\nimport { PWD_RGX } from '../../../utils/Regex'\r\nimport * as ForgotPwdServices from '../ForgotPwdServices'\r\nimport classes from './PwdReset.module.scss'\r\n\r\nconst clientSchema = yup.object().shape({\r\n    newPwd: yup\r\n        .string()\r\n        .matches(\r\n            PWD_RGX,\r\n            'Password must contain 8 characters, 1 uppercase, 1 lowercase, 1 number and 1 special case character'\r\n        ),\r\n    confirmPwd: yup\r\n        .string()\r\n        .oneOf([yup.ref('newPwd'), null], 'Confirm password is not match')\r\n        .required('Confirm is required'),\r\n})\r\n\r\nfunction PwdReset() {\r\n    const { headers, operations, fields, prompts } = Consts\r\n\r\n    const history = useHistory()\r\n    const location = useLocation()\r\n    const username = location?.state?.username\r\n\r\n    const defaultValues = {\r\n        newPwd: '',\r\n        confirmPwd: '',\r\n    }\r\n\r\n    const { control, errors, handleSubmit, formState, reset } = useForm({\r\n        resolver: yupResolver(clientSchema),\r\n        defaultValues: defaultValues,\r\n    })\r\n\r\n    // window.onbeforeunload = (event) => {\r\n    //     // if (formState.isDirty) {\r\n    //     const e = event || window.event\r\n    //     e.preventDefault()\r\n    //     if (e) {\r\n    //         e.returnValue = ''\r\n    //     }\r\n    //     return ''\r\n    //     // }\r\n    // }\r\n\r\n    const alertUser = (e) => {\r\n        e.preventDefault()\r\n        e.returnValue = ''\r\n    }\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('beforeunload', alertUser)\r\n        return () => {\r\n            window.removeEventListener('beforeunload', alertUser)\r\n        }\r\n    }, [])\r\n\r\n    const onSubmit = (data) => {\r\n        const model = {\r\n            ...data,\r\n            username: username,\r\n            password: data?.confirmPwd,\r\n        }\r\n\r\n        ForgotPwdServices.resetPwd(username, model)\r\n            .then((res) => {\r\n                reset({\r\n                    newPwd: '',\r\n                    confirmPwd: '',\r\n                })\r\n                history.replace('/')\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    // if (\r\n                    //     error.response.status === 403 ||\r\n                    //     error.response.status === 500\r\n                    // ) {\r\n                    //     serverSchema.forEach(({ name, type, message }) =>\r\n                    //         setError(name, { type, message })\r\n                    //     )\r\n                    // } else {\r\n                    //     history.push({\r\n                    //         pathname: '/errors',\r\n                    //         state: { error: error.response.status },\r\n                    //     })\r\n                    // }\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <div className={classes.header}>\r\n                <Avatar className={classes.avatar}>\r\n                    <RiRotateLockFill />\r\n                </Avatar>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    {headers.reset}\r\n                </Typography>\r\n            </div>\r\n            <form\r\n                className={classes.form}\r\n                onSubmit={handleSubmit(onSubmit)}\r\n                noValidate\r\n            >\r\n                <Controller\r\n                    name=\"newPwd\"\r\n                    control={control}\r\n                    render={({ value, onChange }) => (\r\n                        <TextField\r\n                            label={fields.newPwd}\r\n                            variant=\"outlined\"\r\n                            type=\"password\"\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            autoFocus\r\n                            value={value}\r\n                            onChange={onChange}\r\n                            error={!!errors.newPwd}\r\n                            helperText={errors?.newPwd?.message}\r\n                        />\r\n                    )}\r\n                />\r\n                <Controller\r\n                    name=\"confirmPwd\"\r\n                    control={control}\r\n                    render={({ value, onChange }) => (\r\n                        <TextField\r\n                            label={fields.confirmPwd}\r\n                            variant=\"outlined\"\r\n                            type=\"password\"\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            value={value}\r\n                            onChange={onChange}\r\n                            error={!!errors.confirmPwd}\r\n                            helperText={errors?.confirmPwd?.message}\r\n                        />\r\n                    )}\r\n                />\r\n                <Button\r\n                    className={classes.submit}\r\n                    type=\"submit\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    fullWidth\r\n                    disabled={!formState.isDirty}\r\n                >\r\n                    {operations.submit}\r\n                </Button>\r\n            </form>\r\n            {/* <Prompt when={formState.isSubmitted} message={prompts.leave} /> */}\r\n            <Prompt\r\n                message={() => {\r\n                    if (formState.isDirty && !formState.isSubmitting) {\r\n                        return prompts.leave\r\n                    }\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PwdReset\r\n","import React from 'react'\r\nimport { Route, Switch, Redirect, useRouteMatch } from 'react-router-dom'\r\nimport VerifyRoute from '../../routes/VerifyRoute'\r\nimport ResetLink from './ResetLink/ResetLink'\r\nimport VerifyCode from './VerifyCode/VerifyCode'\r\nimport PwdReset from './PwdReset/PwdReset'\r\nimport classes from './ForgotPwd.module.scss'\r\n\r\nfunction ForgotPwdLayout() {\r\n    const { url } = useRouteMatch()\r\n\r\n    return (\r\n        <div className={classes.bg}>\r\n            <div className={classes.wrapper}>\r\n                <Switch>\r\n                    <Route exact path={`${url}/`} component={ResetLink} />\r\n                    <Route path={`${url}/verify`} component={VerifyCode} />\r\n                    <VerifyRoute path={`${url}/change`} component={PwdReset} />\r\n                    <Redirect from=\"*\" to=\"/errors\" />\r\n                </Switch>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ForgotPwdLayout\r\n","import Api from '../../services/Api'\r\n\r\nexport async function getProfile(username) {\r\n    const response = await Api.get(`/users/${username}`)\r\n    const data = await response.data\r\n\r\n    return data\r\n}\r\n\r\nexport async function updateGeneral(username, value) {\r\n    const response = await Api.patch(`/users/${username}`, value)\r\n    const data = await response.data\r\n\r\n    return data\r\n}\r\n// export async function updateGeneral(username, attribute, value) {\r\n//     const response = await Api.patch(`/users/${username}`, {\r\n//         attribute: attribute,\r\n//         value: value,\r\n//     })\r\n//     const data = await response.data\r\n\r\n//     return data\r\n// }\r\n\r\nexport async function updateAccount(username, newPassword, oldPassword) {\r\n    const response = await Api.post(`/users/${username}`, {\r\n        newPassword: newPassword,\r\n        oldPassword: oldPassword,\r\n    })\r\n    const data = await response.data\r\n\r\n    return data\r\n}\r\n","export const Consts = {\r\n    headers: {\r\n        child1: 'Account Info',\r\n        child2: 'General Info',\r\n    },\r\n    operations: {\r\n        logout: 'Log Out',\r\n        cancel: 'Clear',\r\n        save: 'Save',\r\n        empty: 'User not found!',\r\n    },\r\n    messages: {\r\n        info: '',\r\n        success: 'Updated Successfully',\r\n        error: 'Updated Failed',\r\n        warning: '',\r\n    },\r\n    fields: {\r\n        username: {\r\n            title: 'Username',\r\n        },\r\n        password: {\r\n            title: 'Password',\r\n            defaultValue: '12345678',\r\n            labels: {\r\n                old: 'Old Password',\r\n                new: 'New Password',\r\n                confirm: 'Confirm Password',\r\n            },\r\n        },\r\n        fullName: {\r\n            title: 'Full Name',\r\n        },\r\n        dob: {\r\n            title: 'Birthday',\r\n            empty: 'N/A',\r\n        },\r\n        isMale: {\r\n            title: 'Gender',\r\n            male: {\r\n                lb: 'Male',\r\n                value: 'true',\r\n            },\r\n            female: {\r\n                lb: 'Female',\r\n                value: 'false',\r\n            },\r\n        },\r\n        email: {\r\n            title: 'Email',\r\n            label: 'New Email',\r\n        },\r\n        phone: {\r\n            title: 'Phone Number',\r\n            label: 'New Number',\r\n        },\r\n        address: {\r\n            title: 'Address',\r\n            label: 'New Address',\r\n        },\r\n    },\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { AppBar, Toolbar, Typography } from '@material-ui/core'\r\nimport classes from './CardHeaders.module.scss'\r\n\r\nfunction CardHeaders(props) {\r\n    const { header } = props\r\n\r\n    return (\r\n        <AppBar className={classes.appBar} position=\"static\" elevation={0}>\r\n            <Toolbar>\r\n                <Typography variant=\"h5\">{header}</Typography>\r\n            </Toolbar>\r\n        </AppBar>\r\n    )\r\n}\r\n\r\nexport default React.memo(CardHeaders)\r\n\r\nCardHeaders.propTypes = {\r\n    header: PropTypes.string.isRequired,\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Grid, Icon, Typography } from '@material-ui/core'\r\nimport { AiOutlineMan, AiOutlineWoman } from 'react-icons/ai'\r\nimport classes from './ContentCards.module.scss'\r\n\r\nfunction ContentCards(props) {\r\n    const { title, detail, icon } = props\r\n    // console.log(detail)\r\n    // console.log(typeof detail)\r\n\r\n    const configElement = (icon, detail) => {\r\n        if (icon === 'none') {\r\n            return (\r\n                <div className={classes.detailZone}>\r\n                    <Typography className={classes.details}>\r\n                        {detail}\r\n                    </Typography>\r\n                    <Icon style={{ display: icon }}>{detail}</Icon>\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div className={classes.detailZone}>\r\n                    <Typography className={classes.details}>\r\n                        {detail ? 'Male' : 'Female'}\r\n                    </Typography>\r\n                    <Icon style={{ display: icon }}>\r\n                        {detail === true ? (\r\n                            <AiOutlineMan color=\"#005BB5\" />\r\n                        ) : (\r\n                            <AiOutlineWoman color=\"#E26A89\" />\r\n                        )}\r\n                    </Icon>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.cardText}>\r\n            <Grid container spacing={2}>\r\n                <Grid item sm={3} md={3} lg={3}>\r\n                    <Typography className={classes.titles}>{title}</Typography>\r\n                </Grid>\r\n                <Grid item sm={6} md={6} lg={6}>\r\n                    {/* <div className={classes.detailZone}>\r\n                        <Typography className={classes.details}>\r\n                            {detail}\r\n                        </Typography>\r\n                        <Icon style={{ display: icon }}>\r\n                            {detail}\r\n                        </Icon>\r\n                    </div> */}\r\n\r\n                    {configElement(icon, detail)}\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(ContentCards)\r\n\r\nContentCards.defaultProps = {\r\n    icon: 'none',\r\n}\r\n\r\nContentCards.propTypes = {\r\n    title: PropTypes.string.isRequired,\r\n    // detail: PropTypes.string.isRequired,\r\n    icon: PropTypes.string,\r\n}\r\n","import React from 'react'\r\nimport clsx from 'clsx'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n    Accordion,\r\n    AccordionActions,\r\n    AccordionDetails,\r\n    AccordionSummary,\r\n    Button,\r\n    Divider,\r\n    Grid,\r\n    InputBase,\r\n    TextField,\r\n    Typography,\r\n    withStyles,\r\n} from '@material-ui/core'\r\nimport { MdEdit } from 'react-icons/md'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport classes from './ContentAccordions.module.scss'\r\n\r\nconst validationSchema = yup.object().shape({\r\n    // avatar: yup\r\n    //     .mixed()\r\n    //     .test(\r\n    //         'fileSize',\r\n    //         'The file is too large',\r\n    //         (value) => value && value[0].size <= 2000000\r\n    //     )\r\n    //     .test(\r\n    //         'type',\r\n    //         'We only support jpeg',\r\n    //         (value) => value && value[0].type === 'image/jpeg'\r\n    //     ),\r\n    oldPassword: yup\r\n        .string()\r\n        .min(8, 'Invalid password')\r\n        .required('Field not null'),\r\n    newPassword: yup\r\n        .string()\r\n        .min(8, 'Invalid password')\r\n        .required('Field not null'),\r\n    // .matches(\r\n    //     /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/,\r\n    //     'Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and one special case Character'\r\n    // ),\r\n    confirmPassword: yup\r\n        .string()\r\n        .oneOf([yup.ref('newPassword')], \"Password's not match\")\r\n        .required('Field not null'),\r\n    email: yup.string().email('Invalid email'),\r\n    phone: yup\r\n        .string()\r\n        .required('Field not null')\r\n        .matches(/^0[0-9]{8}$/),\r\n    address: yup.string(),\r\n})\r\n\r\nfunction ContentAccordions(props) {\r\n    const { title, detail, type, data } = props\r\n\r\n    const { handleSubmit, control } = useForm({\r\n        resolver: yupResolver(validationSchema),\r\n    })\r\n\r\n    const CustomAccordion = withStyles({\r\n        root: {\r\n            '&:before': {\r\n                display: 'none',\r\n            },\r\n        },\r\n    })(Accordion)\r\n\r\n    const onSubmit = (data) => {\r\n        return\r\n        // alert(JSON.stringify(data))\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n            <CustomAccordion elevation={0} className={classes.accor}>\r\n                <AccordionSummary\r\n                    expandIcon={<MdEdit />}\r\n                    className={classes.accorSum}\r\n                >\r\n                    <Grid container spacing={2}>\r\n                        <Grid item sm={3} md={3} lg={3}>\r\n                            <Typography className={classes.titles}>\r\n                                {title}\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item sm={6} md={6} lg={6}>\r\n                            <InputBase\r\n                                className={clsx(\r\n                                    classes.details,\r\n                                    classes.detailsAccor\r\n                                )}\r\n                                type={type}\r\n                                defaultValue={detail}\r\n                                disabled\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </AccordionSummary>\r\n                <AccordionDetails className={classes.accorDetails}>\r\n                    <Grid container direction=\"column\">\r\n                        {data.map((datum) => {\r\n                            return (\r\n                                <Grid\r\n                                    item\r\n                                    sm={6}\r\n                                    md={6}\r\n                                    lg={6}\r\n                                    className={classes.inputZone}\r\n                                >\r\n                                    {/* <TextField\r\n                                        label={datum.label}\r\n                                        variant=\"outlined\"\r\n                                        type={datum.type}\r\n                                        className={classes.inputField}\r\n                                    /> */}\r\n                                    <Controller\r\n                                        control={control}\r\n                                        name={datum.name}\r\n                                        defaultValue=\"\"\r\n                                        // render={(props) => (\r\n                                        //     <TextField\r\n                                        //         className={classes.inputField}\r\n                                        //         label={datum.label}\r\n                                        //         variant=\"outlined\"\r\n                                        //         type={datum.type}\r\n                                        //     />\r\n                                        // )}\r\n                                        as={TextField}\r\n                                    />\r\n                                </Grid>\r\n                            )\r\n                        })}\r\n                    </Grid>\r\n\r\n                    {/* <Grid container direction=\"column\">\r\n                        {labels.map((label) => {\r\n                            return (\r\n                                <Grid\r\n                                    item\r\n                                    sm={6}\r\n                                    md={6}\r\n                                    lg={6}\r\n                                    className={classes.inputZone}\r\n                                >\r\n                                    <TextField\r\n                                        label={label}\r\n                                        variant=\"outlined\"\r\n                                        type={type}\r\n                                        className={classes.inputField}\r\n                                    />\r\n                                    <Controller\r\n                                        control={control}\r\n                                        name={}\r\n                                        render={(props) => (\r\n                                            <TextField\r\n                                                className={classes.inputField}\r\n                                                label={label}\r\n                                                variant=\"outlined\"\r\n                                                type={type}\r\n                                                helperText\r\n                                            />\r\n                                        )}\r\n                                    />\r\n                                </Grid>\r\n                            )\r\n                        })}\r\n                    </Grid> */}\r\n                </AccordionDetails>\r\n                <Divider />\r\n                <AccordionActions className={classes.accorActions}>\r\n                    <Button size=\"small\" className={classes.cancelBtn}>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button\r\n                        size=\"small\"\r\n                        className={classes.saveBtn}\r\n                        type=\"submit\"\r\n                    >\r\n                        Save\r\n                    </Button>\r\n                </AccordionActions>\r\n            </CustomAccordion>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default React.memo(ContentAccordions)\r\n\r\nContentAccordions.propTypes = {\r\n    title: PropTypes.string.isRequired,\r\n    detail: PropTypes.string.isRequired,\r\n    type: PropTypes.string,\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport clsx from 'clsx'\r\nimport { useHistory, useParams, useLocation } from 'react-router-dom'\r\nimport {\r\n    Avatar,\r\n    Card,\r\n    CardContent,\r\n    IconButton,\r\n    Typography,\r\n    Accordion,\r\n    AccordionActions,\r\n    AccordionDetails,\r\n    AccordionSummary,\r\n    Button,\r\n    Grid,\r\n    TextField,\r\n    Icon,\r\n    Tooltip,\r\n} from '@material-ui/core'\r\nimport { AiOutlineMan, AiOutlineWoman } from 'react-icons/ai'\r\nimport { MdEdit, MdPhotoCamera } from 'react-icons/md'\r\nimport { Animation, AnimationGroup, NotFound } from '../../components'\r\nimport * as ProfilesServices from './ProfilesServices'\r\nimport { Consts } from './ProfilesConfig'\r\nimport { CardHeaders } from './components'\r\nimport { Controller, useForm } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport { useAuth } from '../../hooks/AuthContext'\r\nimport { useApp } from '../../hooks/AppContext'\r\nimport { storage } from '../../services/firebase'\r\nimport Resizer from 'react-image-file-resizer'\r\nimport moment from 'moment'\r\nimport { Loading, AddressField } from '../../components'\r\nimport { PWD_RGX, PHONE_RGX } from '../../utils/Regex'\r\nimport { useSnackbar } from 'notistack'\r\n// import Geocode from 'react-geocode'\r\nimport classes from './Profiles.module.scss'\r\n\r\nconst pwdSchema = yup.object().shape({\r\n    oldPassword: yup.string().required('Password is required'),\r\n    newPassword: yup\r\n        .string()\r\n        .notOneOf(\r\n            [yup.ref('oldPassword'), null],\r\n            'The new password you entered is the same as your old password. Please enter a different password'\r\n        )\r\n        .matches(\r\n            PWD_RGX,\r\n            'Password must contain 8 characters, 1 uppercase, 1 lowercase, 1 number and 1 special case character'\r\n        ),\r\n    confirmPassword: yup\r\n        .string()\r\n        .oneOf([yup.ref('newPassword'), null], 'Confirm password is not match')\r\n        .required('Confirm is required'),\r\n})\r\n\r\nconst emailSchema = yup.object().shape({\r\n    email: yup\r\n        .string()\r\n        .trim()\r\n        .email('Invalid email')\r\n        .required('Email is required'),\r\n})\r\n\r\nconst phoneSchema = yup.object().shape({\r\n    phone: yup\r\n        .string()\r\n        .required('Phone is required')\r\n        .max(\r\n            10,\r\n            'Phone number must be at most 10 digits and has the correct format'\r\n        )\r\n        .matches(\r\n            PHONE_RGX,\r\n            'Phone number is in wrong format (03|5|7|9xxxxxxxx)'\r\n        ),\r\n})\r\n\r\nconst addrSchema = yup.object().shape({\r\n    address: yup.string().trim().required('Address is required'),\r\n})\r\n\r\nconst serverSchema = [\r\n    {\r\n        type: 'server',\r\n        name: 'oldPassword',\r\n        message: null,\r\n    },\r\n    {\r\n        type: 'server',\r\n        name: 'credential',\r\n        message: 'Invalid password',\r\n    },\r\n]\r\n\r\nfunction Profiles() {\r\n    const { user } = useAuth()\r\n    const { headers, operations, fields, messages } = Consts\r\n\r\n    const { enqueueSnackbar } = useSnackbar()\r\n    const { setUserInfo } = useApp()\r\n\r\n    const location = useLocation()\r\n    const history = useHistory()\r\n    const { id } = useParams()\r\n\r\n    const [data, setData] = useState(null)\r\n\r\n    const [expanded, setExpanded] = useState(false)\r\n\r\n    const [latitude, setLatitude] = useState(0.0)\r\n    const [longitude, setLongitude] = useState(0.0)\r\n\r\n    const pwdValues = { oldPassword: '', newPassword: '', confirmPassword: '' }\r\n\r\n    const emailValues = { email: '' }\r\n\r\n    const phoneValues = { phone: '' }\r\n\r\n    const addrValues = {\r\n        address: '',\r\n        latitude: latitude,\r\n        longitude: longitude,\r\n    }\r\n\r\n    const {\r\n        handleSubmit: pwdSubmit,\r\n        errors: pwdErrors,\r\n        register: pwdRegister,\r\n        reset: pwdReset,\r\n        setError: setPwdError,\r\n        formState: pwdState,\r\n    } = useForm({\r\n        resolver: yupResolver(pwdSchema),\r\n        defaultValues: pwdValues,\r\n    })\r\n\r\n    const {\r\n        handleSubmit: emailSubmit,\r\n        errors: emailErrors,\r\n        register: emailRegister,\r\n        reset: emailReset,\r\n        formState: emailState,\r\n    } = useForm({\r\n        resolver: yupResolver(emailSchema),\r\n        defaultValues: emailValues,\r\n    })\r\n\r\n    const {\r\n        handleSubmit: phoneSubmit,\r\n        errors: phoneErrors,\r\n        register: phoneRegister,\r\n        reset: phoneReset,\r\n        formState: phoneState,\r\n    } = useForm({\r\n        resolver: yupResolver(phoneSchema),\r\n        defaultValues: phoneValues,\r\n    })\r\n\r\n    const {\r\n        handleSubmit: addrSubmit,\r\n        errors: addrErrors,\r\n        // register: addrRegister,\r\n        reset: addrReset,\r\n        formState: addrState,\r\n        control: addrControl,\r\n    } = useForm({\r\n        resolver: yupResolver(addrSchema),\r\n        defaultValues: addrValues,\r\n    })\r\n\r\n    let isMounted = true\r\n    const refreshPage = () => {\r\n        if (id === user.username) {\r\n            ProfilesServices.getProfile(user.username)\r\n                .then((data) => {\r\n                    if (isMounted) {\r\n                        setData(data)\r\n                        setUserInfo(data)\r\n                    }\r\n                })\r\n                .catch((error) => {\r\n                    if (error.response) {\r\n                        console.log(error)\r\n                        history.push({\r\n                            pathname: '/errors',\r\n                            state: { error: error.response.status },\r\n                        })\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    useEffect(() => {\r\n        refreshPage()\r\n        return () => {\r\n            // eslint-disable-next-line react-hooks/exhaustive-deps\r\n            isMounted = false\r\n        }\r\n    }, [location.pathname])\r\n\r\n    if (!data) {\r\n        if (id !== user.username) {\r\n            return <NotFound title={operations.empty} />\r\n        }\r\n        return <Loading />\r\n    }\r\n\r\n    const {\r\n        username,\r\n        fullName,\r\n        email,\r\n        phone,\r\n        avatar,\r\n        isMale,\r\n        address,\r\n        birthDate,\r\n    } = data\r\n\r\n    const handleUploadAvatar = async (event) => {\r\n        const file = event.target.files[0]\r\n\r\n        if (!file) {\r\n            enqueueSnackbar(messages.error, { variant: 'error' })\r\n            return false\r\n        }\r\n\r\n        if (!file.name.match(/\\.(jpg|jpeg|png)$/)) {\r\n            enqueueSnackbar(messages.error, { variant: 'error' })\r\n            return false\r\n        }\r\n\r\n        const resizeFile = (file) =>\r\n            new Promise((resolve) => {\r\n                Resizer.imageFileResizer(\r\n                    file,\r\n                    300,\r\n                    300,\r\n                    'JPEG',\r\n                    100,\r\n                    0,\r\n                    (uri) => {\r\n                        resolve(uri)\r\n                    },\r\n                    'file'\r\n                )\r\n            })\r\n        const finalFile = await resizeFile(file)\r\n        const url = await uploadAvatarToFirebase(finalFile)\r\n        // console.log('url avatar = ', url)\r\n        saveAvatarToDb(url)\r\n\r\n        enqueueSnackbar(messages.success, { variant: 'success' })\r\n    }\r\n\r\n    const uploadAvatarToFirebase = async (file) => {\r\n        return new Promise((resolve, reject) => {\r\n            const uploadImageTask = storage\r\n                .ref(`images/avatars/${user.username}-${file.name}`)\r\n                .put(file)\r\n            uploadImageTask.on(\r\n                'stage_changed',\r\n                (snapshot) => {},\r\n                (error) => {\r\n                    console.log(error)\r\n                    reject('Upload Image to firebase failed: ' + error)\r\n                },\r\n                () => {\r\n                    storage\r\n                        .ref('images/avatars/')\r\n                        .child(`${user.username}-${file.name}`)\r\n                        .getDownloadURL()\r\n                        .then((url) => {\r\n                            resolve(url)\r\n                        })\r\n                }\r\n            )\r\n        })\r\n    }\r\n\r\n    const saveAvatarToDb = (url) => {\r\n        const model = {\r\n            attribute: 'avatar',\r\n            value: url,\r\n        }\r\n\r\n        ProfilesServices.updateGeneral(user.username, model)\r\n            .then((data) => {\r\n                refreshPage()\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    const onPwdSubmit = (data) => {\r\n        ProfilesServices.updateAccount(\r\n            user.username,\r\n            data.newPassword,\r\n            data.oldPassword\r\n        )\r\n            .then((data) => {\r\n                refreshPage()\r\n\r\n                enqueueSnackbar(messages.success, { variant: 'success' })\r\n                pwdReset({\r\n                    oldPassword: '',\r\n                    newPassword: '',\r\n                    confirmPassword: '',\r\n                })\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    if (error.response.status === 500) {\r\n                        serverSchema.forEach(({ name, type, message }) =>\r\n                            setPwdError(name, { type, message })\r\n                        )\r\n                    } else {\r\n                        history.push({\r\n                            pathname: '/errors',\r\n                            state: { error: error.response.status },\r\n                        })\r\n                    }\r\n                }\r\n\r\n                enqueueSnackbar(messages.error, { variant: 'error' })\r\n            })\r\n        // pwdReset({ oldPassword: '', newPassword: '', confirmPassword: '' })\r\n    }\r\n\r\n    const onEmailSubmit = (data) => {\r\n        const model = {\r\n            attribute: 'email',\r\n            value: data?.email,\r\n        }\r\n\r\n        ProfilesServices.updateGeneral(user.username, model)\r\n            .then((data) => {\r\n                refreshPage()\r\n\r\n                enqueueSnackbar(messages.success, { variant: 'success' })\r\n                emailReset({ email: '' })\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n\r\n                enqueueSnackbar(messages.error, { variant: 'error' })\r\n            })\r\n        // emailReset({ email: '' })\r\n    }\r\n\r\n    const onPhoneSubmit = (data) => {\r\n        const model = {\r\n            attribute: 'phone',\r\n            value: data?.phone,\r\n        }\r\n\r\n        ProfilesServices.updateGeneral(user.username, model)\r\n            .then((data) => {\r\n                refreshPage()\r\n\r\n                enqueueSnackbar(messages.success, { variant: 'success' })\r\n                phoneReset({ phone: '' })\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n\r\n                enqueueSnackbar(messages.error, { variant: 'error' })\r\n            })\r\n        // phoneReset({ phone: '' })\r\n    }\r\n\r\n    const onAddrSubmit = (data) => {\r\n        const model = {\r\n            attribute: 'address',\r\n            value: data?.address,\r\n            latitude: latitude,\r\n            longitude: longitude,\r\n        }\r\n\r\n        // Geocode.fromLatLng(latitude, longitude).then(\r\n        //     (response) => {\r\n        //         const address = response.results[0].formatted_address\r\n        //         let district, city, country\r\n        //         for (\r\n        //             let i = 0;\r\n        //             i < response.results[0].address_components.length;\r\n        //             i++\r\n        //         ) {\r\n        //             for (\r\n        //                 let j = 0;\r\n        //                 j <\r\n        //                 response.results[0].address_components[i].types.length;\r\n        //                 j++\r\n        //             ) {\r\n        //                 switch (\r\n        //                     response.results[0].address_components[i].types[j]\r\n        //                 ) {\r\n        //                     case 'administrative_area_level_2':\r\n        //                         district =\r\n        //                             response.results[0].address_components[i]\r\n        //                                 .long_name\r\n        //                         break\r\n        //                     case 'administrative_area_level_1':\r\n        //                         city =\r\n        //                             response.results[0].address_components[i]\r\n        //                                 .long_name\r\n        //                         break\r\n        //                     case 'country':\r\n        //                         country =\r\n        //                             response.results[0].address_components[i]\r\n        //                                 .long_name\r\n        //                         break\r\n        //                 }\r\n        //             }\r\n        //         }\r\n        //         console.log(district, city, country)\r\n        //         console.log(address)\r\n        //     },\r\n        //     (error) => {\r\n        //         console.error(error)\r\n        //     }\r\n        // )\r\n\r\n        ProfilesServices.updateGeneral(user.username, model)\r\n            .then((data) => {\r\n                refreshPage()\r\n\r\n                enqueueSnackbar(messages.success, { variant: 'success' })\r\n\r\n                addrReset({ address: '' })\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n\r\n                enqueueSnackbar(messages.error, { variant: 'error' })\r\n            })\r\n        // addrReset({ address: '' })\r\n    }\r\n\r\n    // const handleLogout = () => {\r\n    //     Cookies.setCookie('accessToken', '', 0)\r\n    //     localStorage.clear()\r\n    //     setUser()\r\n    // }\r\n\r\n    // -------------------------------------------Page config-------------------------------------------\r\n\r\n    const handleChange = (panel) => (event, isExpanded) => {\r\n        setExpanded(isExpanded ? panel : false)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <div className={classes.infoContent}>\r\n                {/* <div className={classes.logout}>\r\n                    <Button\r\n                        startIcon={<MdExitToApp />}\r\n                        className={classes.logoutBtn}\r\n                        onClick={handleLogout}\r\n                    >\r\n                        {operations.logout}\r\n                    </Button>\r\n                </div> */}\r\n                <div className={classes.infoAvatar}>\r\n                    <Animation animation=\"transition.expandIn\" delay={300}>\r\n                        {avatar ? (\r\n                            <Avatar\r\n                                className={classes.avatar}\r\n                                alt=\"user avatar\"\r\n                                src={avatar}\r\n                            />\r\n                        ) : (\r\n                            <Avatar className={classes.avatar}>\r\n                                <Typography className={classes.avatarTxt}>\r\n                                    {fullName.split(' ').pop()[0]}\r\n                                </Typography>\r\n                            </Avatar>\r\n                        )}\r\n                    </Animation>\r\n                    <input\r\n                        id=\"icon-button-file\"\r\n                        className={classes.inputAvatar}\r\n                        accept=\"image/*\"\r\n                        type=\"file\"\r\n                        onChange={(event) => handleUploadAvatar(event)}\r\n                    />\r\n                    <label htmlFor=\"icon-button-file\">\r\n                        <Tooltip title=\"Upload avatar\">\r\n                            <IconButton\r\n                                className={classes.uploadBtn}\r\n                                component=\"span\"\r\n                            >\r\n                                <MdPhotoCamera />\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                    </label>\r\n                </div>\r\n                <Animation animation=\"transition.slideLeftIn\" delay={300}>\r\n                    <Typography className={classes.infoName} variant=\"h4\">\r\n                        {fullName}\r\n                    </Typography>\r\n                </Animation>\r\n            </div>\r\n\r\n            <div className={classes.about}>\r\n                <AnimationGroup\r\n                    enter={{\r\n                        animation: 'transition.slideUpBigIn',\r\n                    }}\r\n                >\r\n                    <Card className={classes.account} elevation={1}>\r\n                        <CardHeaders header={headers.child1} />\r\n                        <CardContent className={classes.cardContent}>\r\n                            {/* Username section */}\r\n                            <div className={classes.cardText}>\r\n                                <Grid container spacing={2}>\r\n                                    <Grid item sm={3} md={3} lg={3}>\r\n                                        <Typography className={classes.titles}>\r\n                                            {fields.username.title}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid item sm={6} md={6} lg={4}>\r\n                                        <div className={classes.detailZone}>\r\n                                            <Typography\r\n                                                className={classes.details}\r\n                                            >\r\n                                                {username}\r\n                                            </Typography>\r\n                                        </div>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </div>\r\n\r\n                            {/* Password section */}\r\n                            <form noValidate onSubmit={pwdSubmit(onPwdSubmit)}>\r\n                                <Accordion\r\n                                    className={classes.accor}\r\n                                    elevation={0}\r\n                                    expanded={expanded === 'password'}\r\n                                    onChange={handleChange('password')}\r\n                                >\r\n                                    <AccordionSummary\r\n                                        className={classes.accorSum}\r\n                                        id=\"password\"\r\n                                        expandIcon={<MdEdit />}\r\n                                    >\r\n                                        <Grid container spacing={2}>\r\n                                            <Grid item sm={3} md={3} lg={3}>\r\n                                                <Typography\r\n                                                    className={classes.titles}\r\n                                                >\r\n                                                    {fields.password.title}\r\n                                                </Typography>\r\n                                            </Grid>\r\n                                            <Grid item sm={6} md={6} lg={4}>\r\n                                                <TextField\r\n                                                    className={clsx(\r\n                                                        classes.details,\r\n                                                        classes.detailsAccor\r\n                                                    )}\r\n                                                    type=\"password\"\r\n                                                    defaultValue={\r\n                                                        fields.password\r\n                                                            .defaultValue\r\n                                                    }\r\n                                                    fullWidth\r\n                                                    disabled\r\n                                                    InputProps={{\r\n                                                        disableUnderline: true,\r\n                                                    }}\r\n                                                />\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </AccordionSummary>\r\n                                    <AccordionDetails\r\n                                        className={classes.accorDetails}\r\n                                    >\r\n                                        <Grid container>\r\n                                            <Grid\r\n                                                item\r\n                                                xs={12}\r\n                                                sm={12}\r\n                                                md={12}\r\n                                                lg={12}\r\n                                            >\r\n                                                <Grid container>\r\n                                                    <Grid\r\n                                                        item\r\n                                                        xs={1}\r\n                                                        sm={3}\r\n                                                        md={3}\r\n                                                        lg={3}\r\n                                                    />\r\n                                                    <Grid\r\n                                                        item\r\n                                                        xs={12}\r\n                                                        sm={6}\r\n                                                        md={6}\r\n                                                        lg={4}\r\n                                                        className={\r\n                                                            classes.inputZone\r\n                                                        }\r\n                                                    >\r\n                                                        {pwdErrors.credential && (\r\n                                                            <Typography color=\"error\">\r\n                                                                {\r\n                                                                    pwdErrors\r\n                                                                        .credential\r\n                                                                        .message\r\n                                                                }\r\n                                                            </Typography>\r\n                                                        )}\r\n                                                        <TextField\r\n                                                            className={\r\n                                                                classes.inputField\r\n                                                            }\r\n                                                            fullWidth\r\n                                                            autoFocus\r\n                                                            required\r\n                                                            name=\"oldPassword\"\r\n                                                            label={\r\n                                                                fields.password\r\n                                                                    .labels.old\r\n                                                            }\r\n                                                            variant=\"outlined\"\r\n                                                            type=\"password\"\r\n                                                            inputRef={\r\n                                                                pwdRegister\r\n                                                            }\r\n                                                            error={\r\n                                                                !!pwdErrors.oldPassword\r\n                                                            }\r\n                                                            helperText={\r\n                                                                pwdErrors\r\n                                                                    ?.oldPassword\r\n                                                                    ?.message\r\n                                                            }\r\n                                                        />\r\n                                                    </Grid>\r\n                                                </Grid>\r\n\r\n                                                <Grid\r\n                                                    item\r\n                                                    xs={12}\r\n                                                    sm={12}\r\n                                                    md={12}\r\n                                                    lg={12}\r\n                                                >\r\n                                                    <Grid container>\r\n                                                        <Grid\r\n                                                            item\r\n                                                            xs={1}\r\n                                                            sm={3}\r\n                                                            md={3}\r\n                                                            lg={3}\r\n                                                        />\r\n                                                        <Grid\r\n                                                            item\r\n                                                            xs={12}\r\n                                                            sm={6}\r\n                                                            md={6}\r\n                                                            lg={4}\r\n                                                            className={\r\n                                                                classes.inputZone\r\n                                                            }\r\n                                                        >\r\n                                                            <TextField\r\n                                                                className={\r\n                                                                    classes.inputField\r\n                                                                }\r\n                                                                fullWidth\r\n                                                                required\r\n                                                                name=\"newPassword\"\r\n                                                                label={\r\n                                                                    fields\r\n                                                                        .password\r\n                                                                        .labels\r\n                                                                        .new\r\n                                                                }\r\n                                                                variant=\"outlined\"\r\n                                                                type=\"password\"\r\n                                                                inputRef={\r\n                                                                    pwdRegister\r\n                                                                }\r\n                                                                error={\r\n                                                                    !!pwdErrors.newPassword\r\n                                                                }\r\n                                                                helperText={\r\n                                                                    pwdErrors\r\n                                                                        ?.newPassword\r\n                                                                        ?.message\r\n                                                                }\r\n                                                            />\r\n                                                        </Grid>\r\n                                                    </Grid>\r\n                                                </Grid>\r\n\r\n                                                <Grid\r\n                                                    item\r\n                                                    xs={12}\r\n                                                    sm={12}\r\n                                                    md={12}\r\n                                                    lg={12}\r\n                                                >\r\n                                                    <Grid container>\r\n                                                        <Grid\r\n                                                            item\r\n                                                            xs={1}\r\n                                                            sm={3}\r\n                                                            md={3}\r\n                                                            lg={3}\r\n                                                        />\r\n                                                        <Grid\r\n                                                            item\r\n                                                            xs={12}\r\n                                                            sm={6}\r\n                                                            md={6}\r\n                                                            lg={4}\r\n                                                            className={\r\n                                                                classes.inputZone\r\n                                                            }\r\n                                                        >\r\n                                                            <TextField\r\n                                                                className={\r\n                                                                    classes.inputField\r\n                                                                }\r\n                                                                fullWidth\r\n                                                                required\r\n                                                                name=\"confirmPassword\"\r\n                                                                label={\r\n                                                                    fields\r\n                                                                        .password\r\n                                                                        .labels\r\n                                                                        .confirm\r\n                                                                }\r\n                                                                variant=\"outlined\"\r\n                                                                type=\"password\"\r\n                                                                inputRef={\r\n                                                                    pwdRegister\r\n                                                                }\r\n                                                                error={\r\n                                                                    !!pwdErrors.confirmPassword\r\n                                                                }\r\n                                                                helperText={\r\n                                                                    pwdErrors\r\n                                                                        ?.confirmPassword\r\n                                                                        ?.message\r\n                                                                }\r\n                                                            />\r\n                                                        </Grid>\r\n                                                    </Grid>\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </AccordionDetails>\r\n\r\n                                    <AccordionActions\r\n                                        className={classes.accorActions}\r\n                                    >\r\n                                        <Button\r\n                                            className={classes.saveBtn}\r\n                                            size=\"large\"\r\n                                            type=\"submit\"\r\n                                            disabled={!pwdState.isDirty}\r\n                                        >\r\n                                            {operations.save}\r\n                                        </Button>\r\n                                        <Button\r\n                                            className={classes.cancelBtn}\r\n                                            size=\"large\"\r\n                                            onClick={() =>\r\n                                                pwdReset({\r\n                                                    pwdErrors: false,\r\n                                                    oldPassword: '',\r\n                                                    newPassword: '',\r\n                                                    confirmPassword: '',\r\n                                                })\r\n                                            }\r\n                                        >\r\n                                            {operations.cancel}\r\n                                        </Button>\r\n                                    </AccordionActions>\r\n                                </Accordion>\r\n                            </form>\r\n                        </CardContent>\r\n                    </Card>\r\n                </AnimationGroup>\r\n\r\n                <AnimationGroup\r\n                    enter={{ animation: 'transition.slideUpBigIn' }}\r\n                >\r\n                    <Card className={classes.me} elevation={1}>\r\n                        <CardHeaders header={headers.child2} />\r\n                        <CardContent className={classes.cardContent}>\r\n                            {/* Full name section */}\r\n                            <div className={classes.cardText}>\r\n                                <Grid container spacing={2}>\r\n                                    <Grid item sm={3} md={3} lg={3}>\r\n                                        <Typography className={classes.titles}>\r\n                                            {fields.fullName.title}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid item sm={6} md={6} lg={4}>\r\n                                        <div className={classes.detailZone}>\r\n                                            <Typography\r\n                                                className={classes.details}\r\n                                            >\r\n                                                {fullName}\r\n                                            </Typography>\r\n                                        </div>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </div>\r\n\r\n                            {/* Birth date section */}\r\n                            <div className={classes.cardText}>\r\n                                <Grid container spacing={2}>\r\n                                    <Grid item sm={3} md={3} lg={3}>\r\n                                        <Typography className={classes.titles}>\r\n                                            {fields.dob.title}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid item sm={6} md={6} lg={4}>\r\n                                        <div className={classes.detailZone}>\r\n                                            <Typography\r\n                                                className={classes.details}\r\n                                            >\r\n                                                {birthDate ? (\r\n                                                    moment(birthDate).format(\r\n                                                        'DD/MM/YYYY'\r\n                                                    )\r\n                                                ) : (\r\n                                                    <div>\r\n                                                        {fields.dob.empty}\r\n                                                    </div>\r\n                                                )}\r\n                                            </Typography>\r\n                                        </div>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </div>\r\n\r\n                            {/* isMale section */}\r\n                            <div className={classes.cardText}>\r\n                                <Grid container spacing={2}>\r\n                                    <Grid item sm={3} md={3} lg={3}>\r\n                                        <Typography className={classes.titles}>\r\n                                            {fields.isMale.title}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid item sm={6} md={6} lg={4}>\r\n                                        <div className={classes.detailZone}>\r\n                                            <Typography\r\n                                                className={classes.details}\r\n                                            >\r\n                                                {isMale\r\n                                                    ? fields.isMale.male.lb\r\n                                                    : fields.isMale.female.lb}\r\n                                            </Typography>\r\n                                            <Icon>\r\n                                                {isMale ? (\r\n                                                    <AiOutlineMan color=\"#005BB5\" />\r\n                                                ) : (\r\n                                                    <AiOutlineWoman color=\"#E26A89\" />\r\n                                                )}\r\n                                            </Icon>\r\n                                        </div>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </div>\r\n\r\n                            {/* Email section */}\r\n                            <form\r\n                                noValidate\r\n                                onSubmit={emailSubmit(onEmailSubmit)}\r\n                            >\r\n                                <Accordion\r\n                                    className={classes.accor}\r\n                                    elevation={0}\r\n                                    expanded={expanded === 'email'}\r\n                                    onChange={handleChange('email')}\r\n                                >\r\n                                    <AccordionSummary\r\n                                        className={classes.accorSum}\r\n                                        id=\"email\"\r\n                                        expandIcon={<MdEdit />}\r\n                                    >\r\n                                        <Grid container spacing={2}>\r\n                                            <Grid item sm={3} md={3} lg={3}>\r\n                                                <Typography\r\n                                                    className={classes.titles}\r\n                                                >\r\n                                                    {fields.email.title}\r\n                                                </Typography>\r\n                                            </Grid>\r\n                                            <Grid item sm={6} md={6} lg={4}>\r\n                                                <TextField\r\n                                                    className={clsx(\r\n                                                        classes.details,\r\n                                                        classes.detailsAccor\r\n                                                    )}\r\n                                                    type=\"text\"\r\n                                                    value={email}\r\n                                                    fullWidth\r\n                                                    disabled\r\n                                                    InputProps={{\r\n                                                        disableUnderline: true,\r\n                                                        className:\r\n                                                            classes.details,\r\n                                                    }}\r\n                                                />\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </AccordionSummary>\r\n                                    <AccordionDetails\r\n                                        className={classes.accorDetails}\r\n                                    >\r\n                                        <Grid container>\r\n                                            <Grid\r\n                                                item\r\n                                                xs={1}\r\n                                                sm={3}\r\n                                                md={3}\r\n                                                lg={3}\r\n                                            />\r\n                                            <Grid\r\n                                                item\r\n                                                xs={12}\r\n                                                sm={6}\r\n                                                md={6}\r\n                                                lg={4}\r\n                                                className={classes.inputZone}\r\n                                            >\r\n                                                <TextField\r\n                                                    className={\r\n                                                        classes.inputField\r\n                                                    }\r\n                                                    fullWidth\r\n                                                    autoFocus\r\n                                                    required\r\n                                                    name=\"email\"\r\n                                                    label={fields.email.label}\r\n                                                    variant=\"outlined\"\r\n                                                    type=\"text\"\r\n                                                    inputRef={emailRegister}\r\n                                                    error={!!emailErrors.email}\r\n                                                    helperText={\r\n                                                        emailErrors?.email\r\n                                                            ?.message\r\n                                                    }\r\n                                                />\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </AccordionDetails>\r\n\r\n                                    <AccordionActions\r\n                                        className={classes.accorActions}\r\n                                    >\r\n                                        <Button\r\n                                            className={classes.saveBtn}\r\n                                            size=\"large\"\r\n                                            type=\"submit\"\r\n                                            disabled={!emailState.isDirty}\r\n                                        >\r\n                                            {operations.save}\r\n                                        </Button>\r\n                                        <Button\r\n                                            className={classes.cancelBtn}\r\n                                            size=\"large\"\r\n                                            onClick={() =>\r\n                                                emailReset({\r\n                                                    emailErrors: false,\r\n                                                    email: '',\r\n                                                })\r\n                                            }\r\n                                        >\r\n                                            {operations.cancel}\r\n                                        </Button>\r\n                                    </AccordionActions>\r\n                                </Accordion>\r\n                            </form>\r\n\r\n                            {/* Phone section */}\r\n                            <form\r\n                                noValidate\r\n                                onSubmit={phoneSubmit(onPhoneSubmit)}\r\n                            >\r\n                                <Accordion\r\n                                    className={classes.accor}\r\n                                    elevation={0}\r\n                                    expanded={expanded === 'phone'}\r\n                                    onChange={handleChange('phone')}\r\n                                >\r\n                                    <AccordionSummary\r\n                                        className={classes.accorSum}\r\n                                        id=\"phone\"\r\n                                        expandIcon={<MdEdit />}\r\n                                    >\r\n                                        <Grid container spacing={2}>\r\n                                            <Grid item sm={3} md={3} lg={3}>\r\n                                                <Typography\r\n                                                    className={classes.titles}\r\n                                                >\r\n                                                    {fields.phone.title}\r\n                                                </Typography>\r\n                                            </Grid>\r\n                                            <Grid item sm={6} md={6} lg={4}>\r\n                                                <TextField\r\n                                                    className={clsx(\r\n                                                        classes.details,\r\n                                                        classes.detailsAccor\r\n                                                    )}\r\n                                                    type=\"text\"\r\n                                                    value={phone}\r\n                                                    fullWidth\r\n                                                    disabled\r\n                                                    InputProps={{\r\n                                                        disableUnderline: true,\r\n                                                        className:\r\n                                                            classes.details,\r\n                                                    }}\r\n                                                />\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </AccordionSummary>\r\n                                    <AccordionDetails\r\n                                        className={classes.accorDetails}\r\n                                    >\r\n                                        <Grid container>\r\n                                            <Grid\r\n                                                item\r\n                                                xs={1}\r\n                                                sm={3}\r\n                                                md={3}\r\n                                                lg={3}\r\n                                            />\r\n                                            <Grid\r\n                                                item\r\n                                                xs={12}\r\n                                                sm={6}\r\n                                                md={6}\r\n                                                lg={4}\r\n                                                className={classes.inputZone}\r\n                                            >\r\n                                                <TextField\r\n                                                    className={\r\n                                                        classes.inputField\r\n                                                    }\r\n                                                    fullWidth\r\n                                                    autoFocus\r\n                                                    required\r\n                                                    name=\"phone\"\r\n                                                    label={fields.phone.label}\r\n                                                    variant=\"outlined\"\r\n                                                    type=\"text\"\r\n                                                    inputRef={phoneRegister}\r\n                                                    error={!!phoneErrors.phone}\r\n                                                    helperText={\r\n                                                        phoneErrors?.phone\r\n                                                            ?.message\r\n                                                    }\r\n                                                />\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </AccordionDetails>\r\n\r\n                                    <AccordionActions\r\n                                        className={classes.accorActions}\r\n                                    >\r\n                                        <Button\r\n                                            className={classes.saveBtn}\r\n                                            size=\"large\"\r\n                                            type=\"submit\"\r\n                                            disabled={!phoneState.isDirty}\r\n                                        >\r\n                                            {operations.save}\r\n                                        </Button>\r\n                                        <Button\r\n                                            className={classes.cancelBtn}\r\n                                            size=\"large\"\r\n                                            onClick={() =>\r\n                                                phoneReset({\r\n                                                    phoneErrors: false,\r\n                                                    phone: '',\r\n                                                })\r\n                                            }\r\n                                        >\r\n                                            {operations.cancel}\r\n                                        </Button>\r\n                                    </AccordionActions>\r\n                                </Accordion>\r\n                            </form>\r\n\r\n                            {/* Address section */}\r\n                            <form\r\n                                noValidate\r\n                                onSubmit={addrSubmit(onAddrSubmit)}\r\n                            >\r\n                                <Accordion\r\n                                    className={classes.accor}\r\n                                    elevation={0}\r\n                                    expanded={expanded === 'address'}\r\n                                    onChange={handleChange('address')}\r\n                                >\r\n                                    <AccordionSummary\r\n                                        className={classes.accorSum}\r\n                                        id=\"address\"\r\n                                        expandIcon={<MdEdit />}\r\n                                    >\r\n                                        <Grid container spacing={2}>\r\n                                            <Grid item sm={3} md={3} lg={3}>\r\n                                                <Typography\r\n                                                    className={classes.titles}\r\n                                                >\r\n                                                    {fields.address.title}\r\n                                                </Typography>\r\n                                            </Grid>\r\n                                            <Grid item sm={9} md={9} lg={9}>\r\n                                                <TextField\r\n                                                    className={clsx(\r\n                                                        classes.details,\r\n                                                        classes.detailsAccor\r\n                                                    )}\r\n                                                    type=\"text\"\r\n                                                    value={address}\r\n                                                    fullWidth\r\n                                                    disabled\r\n                                                    InputProps={{\r\n                                                        disableUnderline: true,\r\n                                                        className:\r\n                                                            classes.details,\r\n                                                    }}\r\n                                                />\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </AccordionSummary>\r\n                                    <AccordionDetails\r\n                                        className={classes.accorDetails}\r\n                                    >\r\n                                        <Grid container>\r\n                                            <Grid\r\n                                                item\r\n                                                xs={1}\r\n                                                sm={3}\r\n                                                md={3}\r\n                                                lg={3}\r\n                                            />\r\n                                            <Grid\r\n                                                item\r\n                                                xs={12}\r\n                                                sm={9}\r\n                                                md={9}\r\n                                                lg={9}\r\n                                                className={classes.inputZone}\r\n                                            >\r\n                                                <Controller\r\n                                                    className={\r\n                                                        classes.inputField\r\n                                                    }\r\n                                                    name=\"address\"\r\n                                                    control={addrControl}\r\n                                                    render={({\r\n                                                        value,\r\n                                                        onChange,\r\n                                                    }) => (\r\n                                                        <AddressField\r\n                                                            setLatitude={\r\n                                                                setLatitude\r\n                                                            }\r\n                                                            setLongitude={\r\n                                                                setLongitude\r\n                                                            }\r\n                                                            inputValue={value}\r\n                                                            setInputValue={\r\n                                                                onChange\r\n                                                            }\r\n                                                            error={\r\n                                                                !!addrErrors.address\r\n                                                            }\r\n                                                            helperText={\r\n                                                                addrErrors\r\n                                                                    ?.address\r\n                                                                    ?.message\r\n                                                            }\r\n                                                        />\r\n                                                    )}\r\n                                                />\r\n                                                {/* <TextField\r\n                                                    className={ classes.inputField}\r\n                                                    fullWidth\r\n                                                    autoFocus\r\n                                                    name=\"address\"\r\n                                                    label={fields.address.label}\r\n                                                    variant=\"outlined\"\r\n                                                    type=\"text\"\r\n                                                    inputRef={addrRegister}\r\n                                                    error={!!addrErrors.address}\r\n                                                    helperText={\r\n                                                        addrErrors?.address\r\n                                                            ?.message\r\n                                                    }\r\n                                                /> */}\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </AccordionDetails>\r\n\r\n                                    <AccordionActions\r\n                                        className={classes.accorActions}\r\n                                    >\r\n                                        <Button\r\n                                            className={classes.saveBtn}\r\n                                            size=\"large\"\r\n                                            type=\"submit\"\r\n                                            disabled={!addrState.isDirty}\r\n                                        >\r\n                                            {operations.save}\r\n                                        </Button>\r\n                                        <Button\r\n                                            className={classes.cancelBtn}\r\n                                            size=\"large\"\r\n                                            onClick={() =>\r\n                                                addrReset({\r\n                                                    // addrErrors: false,\r\n                                                    address: '',\r\n                                                })\r\n                                            }\r\n                                        >\r\n                                            {operations.cancel}\r\n                                        </Button>\r\n                                    </AccordionActions>\r\n                                </Accordion>\r\n                            </form>\r\n                        </CardContent>\r\n                    </Card>\r\n                </AnimationGroup>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profiles\r\n","export const columns = [\r\n    { key: 'no', name: '#', sortable: false, width: '0%' },\r\n    { key: 'date', name: 'Date', sortable: true, width: '10%' },\r\n    { key: 'task.school.name', name: 'School Name', sortable: true, width: '20%' }, // SchoolName - primary, District - secondary\r\n    { key: 'task.user.fullName', name: 'PIC', sortable: true, width: '20%' },\r\n    { key: 'task.purpose.name', name: 'Purpose', sortable: true, width: '12%' }, // Purpose - primary\r\n    { key: 'isSuccess', name: 'Result', sortable: true, width: '13%' },\r\n    { key: 'description', name: 'Description', sortable: true, width: '25%' }, // truncate 30 kí tự thôi\r\n    // { key: \"comment\", name: 'Comment', sortable: false }, // truncate 30 kí tự thôi\r\n    { key: '', name: '', sortable: false, width: '0%' },\r\n]\r\n\r\nexport const rpConsts = {\r\n    linkNames: {\r\n        back: 'Reports',\r\n    },\r\n    tabNames: {\r\n        tab1: 'Report Info',\r\n        tab2: 'Assign Info',\r\n    },\r\n    operations: {\r\n        notFound: 'Report Not Found',\r\n    },\r\n}\r\n\r\nexport const Consts = {\r\n    operations: {\r\n        filter: 'Filters',\r\n        search: {\r\n            placeholder: 'Search...',\r\n        },\r\n        create: 'Create',\r\n    },\r\n    filters: {\r\n        pic: {\r\n            title: 'PICs',\r\n            placeholder: \"PIC's name\",\r\n        },\r\n        purpose: {\r\n            title: 'Purposes',\r\n            options: { all: 'All' },\r\n        },\r\n        district: {\r\n            title: 'Districts',\r\n            options: { all: 'All' },\r\n        },\r\n        schoolYear: {\r\n            title: 'School Years',\r\n            options: { all: 'All' },\r\n        },\r\n        dateRange: {\r\n            titleFrom: 'From date',\r\n            titleTo: 'To date',\r\n        },\r\n        result: {\r\n            title: 'Result',\r\n            options: {\r\n                all: 'All',\r\n                success: 'Đã gặp HT/HP',\r\n                failed: 'Chưa gặp HT/HP',\r\n            },\r\n        },\r\n    },\r\n    messages: {\r\n        notFound: 'No records found.',\r\n    },\r\n    menuItems: {\r\n        details: {\r\n            title: 'View details',\r\n        },\r\n    },\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Avatar, Button, Chip } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport * as ReducerActions from '../../../../../constants/ActionTypes'\r\nimport {\r\n    PIC_FILTER,\r\n    DISTRICT_FILTER,\r\n    SCHOOL_YEAR_FILTER,\r\n    PURPOSE_FILTER,\r\n    // STATUS_FILTER,\r\n    DATE_RANGE_FILTER,\r\n    REPORT_RESULT_FILTER,\r\n} from '../../../../../constants/Filters'\r\nimport { Consts } from '../../../ReportsConfig'\r\n// import PropTypes from 'prop-types'\r\n// import classes from './Chips.module.scss'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        flexWrap: 'wrap',\r\n    },\r\n    ul: {\r\n        maxWidth: 810,\r\n        overflowX: 'auto',\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        flexWrap: 'nowrap',\r\n        listStyle: 'none',\r\n        margin: 0,\r\n        paddingLeft: '0.5rem',\r\n    },\r\n    btnClear: {\r\n        fontSize: '0.75rem',\r\n    },\r\n    chip: {\r\n        margin: theme.spacing(0.5),\r\n    },\r\n}))\r\n\r\nfunction Chips(props) {\r\n    const classes = useStyles()\r\n    const { chips, dispatch, handleChipsRemoved } = props\r\n    const { filters } = Consts\r\n\r\n    //================Generate chips according to filters================\r\n    const [btnClearAll, setBtnClearAll] = useState(false)\r\n\r\n    const handleChipDelete = (chipToDelete) => () => {\r\n        switch (chipToDelete.filterType) {\r\n            case PIC_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_PIC,\r\n                    payload: { filterType: PIC_FILTER, filterValue: null },\r\n                })\r\n                break\r\n            case DISTRICT_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_DISTRICT,\r\n                    payload: { filterType: DISTRICT_FILTER, filterValue: '' },\r\n                })\r\n                break\r\n            case SCHOOL_YEAR_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_SCHOOL_YEAR,\r\n                    payload: {\r\n                        filterType: SCHOOL_YEAR_FILTER,\r\n                        filterValue: '',\r\n                    },\r\n                })\r\n                break\r\n            case PURPOSE_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_PURPOSE,\r\n                    payload: { filterType: PURPOSE_FILTER, filterValue: '' },\r\n                })\r\n                break\r\n            // case STATUS_FILTER:\r\n            //     dispatch({\r\n            //         type: ReducerActions.FILTER_SCHOOL_STATUS,\r\n            //         payload: { filterType: STATUS_FILTER, filterValue: '' },\r\n            //     })\r\n            //     break\r\n            case REPORT_RESULT_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_REPORT_RESULT,\r\n                    payload: { filterType: REPORT_RESULT_FILTER, filterValue: null },\r\n                })\r\n                break\r\n            case DATE_RANGE_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_DATE_RANGE,\r\n                    payload: {\r\n                        filterType: DATE_RANGE_FILTER,\r\n                        filterValue: [null, null],\r\n                    },\r\n                })\r\n                // dispatch({\r\n                //     type: ReducerActions.FILTER_FROM_DATE,\r\n                //     payload: { filterType: 'fromDate', filterValue: null }\r\n                // })\r\n                // dispatch({\r\n                //     type: ReducerActions.FILTER_TO_DATE,\r\n                //     payload: { filterType: 'toDate', filterValue: null }\r\n                // })\r\n                break\r\n            // case 'fromDate':\r\n            //     dispatch({\r\n            //         type: ReducerActions.FILTER_FROM_DATE,\r\n            //         payload: { filterType: 'fromDate', filterValue: null }\r\n            //     })\r\n            //     break;\r\n\r\n            // case 'toDate':\r\n            //     dispatch({\r\n            //         type: ReducerActions.FILTER_TO_DATE,\r\n            //         payload: { filterType: 'toDate', filterValue: null }\r\n            //     })\r\n            //     break;\r\n\r\n            default:\r\n                break\r\n        }\r\n\r\n        if (!handleChipsRemoved) return\r\n        // Reset corresponding filters' value to \"All\" / null\r\n        const removedFilters = [chipToDelete.filterType]\r\n        handleChipsRemoved(removedFilters)\r\n    }\r\n\r\n    const handleClearAllChips = () => {\r\n        setBtnClearAll(false)\r\n\r\n        if (!handleChipsRemoved) return\r\n\r\n        dispatch({\r\n            type: ReducerActions.FILTER_PIC,\r\n            payload: { filterType: PIC_FILTER, filterValue: null },\r\n        })\r\n        dispatch({\r\n            type: ReducerActions.FILTER_DISTRICT,\r\n            payload: { filterType: DISTRICT_FILTER, filterValue: '' },\r\n        })\r\n        dispatch({\r\n            type: ReducerActions.FILTER_SCHOOL_YEAR,\r\n            payload: { filterType: SCHOOL_YEAR_FILTER, filterValue: '' },\r\n        })\r\n        // dispatch({\r\n        //     type: ReducerActions.FILTER_SCHOOL_STATUS,\r\n        //     payload: { filterType: STATUS_FILTER, filterValue: '' },\r\n        // })\r\n        dispatch({\r\n            type: ReducerActions.FILTER_PURPOSE,\r\n            payload: { filterType: PURPOSE_FILTER, filterValue: '' },\r\n        })\r\n        dispatch({\r\n            type: ReducerActions.FILTER_REPORT_RESULT,\r\n            payload: { filterType: REPORT_RESULT_FILTER, filterValue: null },\r\n        })\r\n        dispatch({\r\n            type: ReducerActions.FILTER_DATE_RANGE,\r\n            payload: {\r\n                filterType: DATE_RANGE_FILTER,\r\n                filterValue: [null, null],\r\n            },\r\n        })\r\n        // dispatch({\r\n        //     type: ReducerActions.FILTER_FROM_DATE,\r\n        //     payload: { filterType: 'fromDate', filterValue: null }\r\n        // })\r\n        // dispatch({\r\n        //     type: ReducerActions.FILTER_TO_DATE,\r\n        //     payload: { filterType: 'toDate', filterValue: null }\r\n        // })\r\n\r\n        // const removedFilters = [\r\n        //     'PIC',\r\n        //     'district',\r\n        //     'schoolYear',\r\n        //     'status',\r\n        //     'purpose',\r\n        //     'dateRange', //,'fromDate', 'toDate'\r\n        // ]\r\n\r\n        const removedFilters = [\r\n            PIC_FILTER,\r\n            DISTRICT_FILTER,\r\n            SCHOOL_YEAR_FILTER,\r\n            PURPOSE_FILTER,\r\n            // STATUS_FILTER,\r\n            DATE_RANGE_FILTER,\r\n            REPORT_RESULT_FILTER\r\n        ]\r\n\r\n        handleChipsRemoved(removedFilters)\r\n    }\r\n\r\n    const handleShowClearAllButton = () => {\r\n        let count = 0\r\n        chips.forEach((chip) => {\r\n            if (chip.filterValue === '' || chip.filterValue === null || chip.filterValue === undefined) {\r\n                count++\r\n            }\r\n            else if (\r\n                chip.filterType === DATE_RANGE_FILTER &&\r\n                typeof chip.filterValue !== 'string'\r\n            ) {\r\n                count++\r\n            }\r\n        })\r\n        // console.log('count = ', count);\r\n        return count\r\n    }\r\n\r\n    const renderChips = (chip) => {\r\n        if (chip.filterType === PIC_FILTER && chip.filterValue) {\r\n            return (\r\n                <Chip\r\n                    label={chip.filterValue.fullName}\r\n                    avatar={<Avatar src={chip.filterValue.avatar} />}\r\n                    onDelete={handleChipDelete(chip)}\r\n                    className={classes.chip}\r\n                    color=\"secondary\"\r\n                />\r\n            )\r\n        } else if (chip.filterType === DATE_RANGE_FILTER && chip.filterValue) {\r\n            if (typeof chip.filterValue === 'string') {\r\n                return (\r\n                    <Chip\r\n                        label={chip.filterValue}\r\n                        onDelete={handleChipDelete(chip)}\r\n                        className={classes.chip}\r\n                        color=\"secondary\"\r\n                    />\r\n                )\r\n            }\r\n        } else if (chip.filterType === REPORT_RESULT_FILTER) {\r\n            if (chip.filterValue !== null) {\r\n                return (\r\n                    <Chip\r\n                        label={chip.filterValue ? `${filters.result.options.success}` : `${filters.result.options.failed}`}\r\n                        onDelete={handleChipDelete(chip)}\r\n                        className={classes.chip}\r\n                        color=\"secondary\"\r\n                    />\r\n                )\r\n            }\r\n        } else {\r\n            // } else if (chip.filterType !== 'dateRange') {\r\n            return (\r\n                <Chip\r\n                    label={chip.filterValue}\r\n                    onDelete={handleChipDelete(chip)}\r\n                    className={classes.chip}\r\n                    color=\"secondary\"\r\n                />\r\n            )\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {handleShowClearAllButton() !== 6 && (\r\n                <div className={classes.root}>\r\n                    <Button\r\n                        size=\"small\"\r\n                        className={classes.btnClear}\r\n                        onClick={handleClearAllChips}\r\n                    >\r\n                        Clear all\r\n                    </Button>\r\n                    <ul className={classes.ul}>\r\n                        {chips.map((chip) => {\r\n                            return (\r\n                                <li key={chip.filterType}>\r\n                                    {chip.filterType === PIC_FILTER && chip.filterValue &&\r\n                                        <Chip\r\n                                            label={chip.filterValue.fullName}\r\n                                            avatar={\r\n                                                <Avatar src={chip.filterValue.avatar} />\r\n                                            }\r\n                                            onDelete={handleChipDelete(chip)}\r\n                                            className={classes.chip}\r\n                                            color=\"secondary\"\r\n                                        />\r\n                                    }\r\n                                    {(chip.filterType === DATE_RANGE_FILTER\r\n                                        && chip.filterValue\r\n                                        && typeof chip.filterValue === 'string') && (\r\n                                            <Chip\r\n                                                label={chip.filterValue}\r\n                                                onDelete={handleChipDelete(chip)}\r\n                                                className={classes.chip}\r\n                                                color=\"secondary\"\r\n                                            />\r\n                                        )\r\n                                    }\r\n                                    {(chip.filterType === REPORT_RESULT_FILTER && chip.filterValue !== null) && (\r\n                                        <Chip\r\n                                            label={chip.filterValue ? `${filters.result.options.success}` : `${filters.result.options.failed}`}\r\n                                            onDelete={handleChipDelete(chip)}\r\n                                            className={classes.chip}\r\n                                            color=\"secondary\"\r\n                                        />\r\n                                    )}\r\n                                    {((chip.filterType !== PIC_FILTER)\r\n                                        && (chip.filterType !== DATE_RANGE_FILTER)\r\n                                        && (chip.filterType !== REPORT_RESULT_FILTER)\r\n                                        && chip.filterValue) && (\r\n                                            <Chip\r\n                                                label={chip.filterValue}\r\n                                                onDelete={handleChipDelete(chip)}\r\n                                                className={classes.chip}\r\n                                                color=\"secondary\"\r\n                                            />\r\n                                        )\r\n                                    }\r\n                                </li>\r\n\r\n                                // <div key={chip.filterType}>\r\n                                //     {chip.filterValue && (\r\n                                //         <li>\r\n                                //             {renderChips(chip)}\r\n                                //         </li>\r\n                                //     )}\r\n                                // </div>\r\n                            )\r\n                        })}\r\n                    </ul>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Chips)\r\n\r\n// Chips.propTypes = {\r\n//     chips: PropTypes.array.isRequired,\r\n//     dispatch: PropTypes.func.isRequired,\r\n//     handleChipsRemoved: PropTypes.func,\r\n// }\r\n","import React from 'react'\r\nimport { FormControl, Grid, makeStyles, TextField } from '@material-ui/core'\r\nimport { DateRangePicker, LocalizationProvider } from 'mui-pickers-v4' //DateRangeDelimiter\r\n// import DateFnsUtils from \"mui-pickers-v4/adapter/date-fns\";\r\nimport DateFnsAdapter from 'mui-pickers-v4/adapter/date-fns'\r\nimport { useReport } from '../../../hooks/ReportContext'\r\nimport { DATE_RANGE_FILTER } from '../../../../../constants/Filters'\r\nimport { Consts } from '../../../ReportsConfig'\r\n// import classes from \"./DateRangePickers.module.scss\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        width: 130,\r\n        margin: theme.spacing(1),\r\n        // paddingRight: '0.5rem',\r\n    },\r\n}))\r\n\r\nfunction DateRangePickers(props) {\r\n    const classes = useStyles()\r\n\r\n    const { handleDateRangeChange } = props\r\n    const { filters } = Consts\r\n\r\n    const {\r\n        dateRange,\r\n        // setDateRange\r\n        setFilter,\r\n    } = useReport()\r\n\r\n    const handleChangeDate = (newDate) => {\r\n        // setDateRange(newDate)\r\n        // setFilter(DATE_RANGE_FILTER, [null, null])\r\n        setFilter(DATE_RANGE_FILTER, newDate)\r\n        handleDateRangeChange(newDate)\r\n        // console.log('newDate: ', newDate);\r\n    }\r\n\r\n    return (\r\n        <LocalizationProvider dateAdapter={DateFnsAdapter}>\r\n            <DateRangePicker\r\n                className={classes.picker}\r\n                startText={filters.dateRange.titleFrom}\r\n                endText={filters.dateRange.titleTo}\r\n                // clearable\r\n                disableFuture\r\n                allowSameDateSelection\r\n                showToolbar\r\n                minDate={new Date('2010-01-01')}\r\n                inputFormat='dd/MM/yyyy'\r\n                value={dateRange}\r\n                onChange={(newRange) => handleChangeDate(newRange)}\r\n                renderInput={(startProps, endProps) => (\r\n                    <Grid container>\r\n                        <Grid item xs={12} sm={5} md={5} lg={5}>\r\n                            <FormControl className={classes.formControl}>\r\n                                <TextField\r\n                                    {...startProps}\r\n                                    variant=\"standard\"\r\n                                />\r\n                            </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={5} md={5} lg={5}>\r\n                            <FormControl className={classes.formControl}>\r\n                                <TextField\r\n                                    {...endProps}\r\n                                    variant=\"standard\"\r\n                                />\r\n                            </FormControl>\r\n                        </Grid>\r\n                    </Grid>\r\n                )}\r\n            />\r\n        </LocalizationProvider>\r\n    )\r\n}\r\n\r\nexport default DateRangePickers\r\n","import { parseDateToString } from '../../../utils/DateTimes'\r\n\r\nexport const Consts = {\r\n    headers: {\r\n        create: 'Create Reports',\r\n        comment: 'Comment on Report',\r\n        confirm: 'Confirm Remove',\r\n        cannot: 'Cannot Remove',\r\n        child1: 'Preview:',\r\n    },\r\n    operations: {\r\n        cancel: 'Cancel',\r\n        save: 'Save',\r\n        remove: 'Remove',\r\n        ok: 'OK, I understood',\r\n    },\r\n    messages: {\r\n        info: '',\r\n        success: 'Created Successfully',\r\n        error: 'Created Failed',\r\n        warning: '',\r\n    },\r\n    fields: {\r\n        task: {\r\n            name: 'task',\r\n            label: 'School Name',\r\n        },\r\n        level: {\r\n            name: 'level',\r\n        },\r\n        id: {\r\n            name: 'taskId',\r\n        },\r\n        isSuccess: {\r\n            name: 'isSuccess',\r\n            label: 'Result',\r\n        },\r\n        description: {\r\n            name: 'description',\r\n            label: 'Description',\r\n        },\r\n        positivity: {\r\n            name: 'positivity',\r\n            label: 'Positivity',\r\n        },\r\n        difficulty: {\r\n            name: 'difficulty',\r\n            label: 'Difficulty',\r\n        },\r\n        futurePlan: {\r\n            name: 'futurePlan',\r\n            label: 'Future Plan',\r\n        },\r\n    },\r\n}\r\n\r\nexport const columns = ['#', 'School Name', 'Result', 'Description', '']\r\n\r\n// Form \"Create Reports\" keys\r\nexport const IS_SUCCESS = 'isSuccess'\r\nexport const DESCRIPTION = 'description'\r\nexport const POSITIVITY = 'positivity'\r\nexport const DIFFICULTY = 'difficulty'\r\nexport const FUTURE_PLAN = 'futurePlan'\r\n\r\nexport const confirmMessage = (schoolLevel, schoolName, date) => {\r\n    return (\r\n        <>\r\n            Do you really want to remove report of school\r\n            <strong>\r\n                <em>\r\n                    {' '}\r\n                    {schoolLevel} {schoolName}{' '}\r\n                </em>\r\n            </strong>\r\n            on <strong>{parseDateToString(date, 'DD/MM/YYYY')}</strong>?\r\n            <br />\r\n            This process cannot be undone.\r\n        </>\r\n    )\r\n}\r\n\r\nexport const cannotMessage = (\r\n    schoolLevel,\r\n    schoolName,\r\n    date,\r\n    commentedPerson\r\n) => {\r\n    return (\r\n        <>\r\n            You cannot remove the report of school\r\n            <strong>\r\n                <em>\r\n                    {' '}\r\n                    {schoolLevel} {schoolName}{' '}\r\n                </em>\r\n            </strong>\r\n            on <strong>{parseDateToString(date, 'DD/MM/YYYY')}</strong>.\r\n            <br />\r\n            This report is already commented by{' '}\r\n            <strong>{commentedPerson}</strong>.\r\n        </>\r\n    )\r\n}\r\n","import Api from '../../services/Api'\r\nimport queryString from 'query-string'\r\n\r\nexport async function getReports(\r\n    page = 0,\r\n    limit = 10,\r\n    column = 'date',\r\n    direction = 'desc',\r\n    searchKey = undefined,\r\n    filters,\r\n    taskId\r\n) {\r\n    let url = `/reports?page=${page}&limit=${limit}&column=${column}&direction=${direction}`\r\n\r\n    url = searchKey ? url.concat(`&key=${searchKey}`) : url\r\n\r\n    // Tiền xử lý 7 filters\r\n    if (filters) {\r\n        url = filters['schoolYear'].filterValue\r\n            ? url.concat(`&schoolYear=${filters['schoolYear'].filterValue}`)\r\n            : url\r\n        url = filters['district'].filterValue\r\n            ? url.concat(`&district=${filters['district'].filterValue}`)\r\n            : url\r\n        url = filters['PIC'].filterValue\r\n            ? url.concat(`&fullName=${filters['PIC'].filterValue.fullName}`)\r\n            : url\r\n        url = filters['purpose'].filterValue\r\n            ? url.concat(`&purpose=${filters['purpose'].filterValue}`)\r\n            : url\r\n        url = filters['result'].filterValue !== null\r\n            ? url.concat(`&isSuccess=${filters['result'].filterValue}`)\r\n            : url\r\n        url = filters['dateRange'].filterValue[0]\r\n            ? url.concat(`&fromDate=${filters['dateRange'].filterValue[0]}`)\r\n            : url\r\n        url = filters['dateRange'].filterValue[1]\r\n            ? url.concat(`&toDate=${filters['dateRange'].filterValue[1]}`)\r\n            : url\r\n    }\r\n    url = taskId ? url.concat(`&taskId=${taskId}`) : url\r\n\r\n    const response = await Api.get(url)\r\n    const data = await response.data\r\n\r\n    return data\r\n}\r\n\r\nexport async function getReport(reportId) {\r\n    const response = await Api.get(`/reports/${reportId}`)\r\n    const data = await response.data\r\n\r\n    return data\r\n}\r\n\r\nexport async function updateReport(reportId, report) {\r\n    const response = await Api.put(`/reports/${reportId}`, report)\r\n    // const data = await response.data\r\n\r\n    return response\r\n}\r\n\r\nexport async function updateComment(reportId, comment) {\r\n    const response = await Api.patch(`/reports/${reportId}`, comment)\r\n    // const data = await response.data\r\n\r\n    return response\r\n}\r\n\r\n// List of task schools for reporting (for one user in a specific school year)\r\nexport async function getTasks(params) {\r\n    const paramString = queryString.stringify(params)\r\n    const response = await Api.get(`/tasks?${paramString}`)\r\n    const data = await response.data\r\n\r\n    return data.list\r\n}\r\n\r\nexport async function addReport(newReports) {\r\n    const response = await Api.post('/reports', newReports)\r\n    const data = await response.data\r\n\r\n    return data\r\n}\r\n\r\nexport async function removeReport(reportId) {\r\n    const response = await Api.delete(`/reports/${reportId}`, { reportId })\r\n    const data = await response.data\r\n\r\n    return data\r\n}\r\n\r\n// export async function getReports() {\r\n//     const response = await Api.get('/reports')\r\n//     const data = await response.data\r\n\r\n//     return data\r\n// }\r\n\r\n// export async function getReportsByKeys(...keys) {\r\n//     const response = await Api.get('/reports', { ...keys })\r\n//     const data = await response.data\r\n\r\n//     return data\r\n// }\r\n","// Remove an object in array of object based on its attribute name and value\r\nexport function removeItem(array, attributeName, attributeValue) {\r\n    let index = array.length;\r\n    while (index--) {\r\n        if (array[index]\r\n            && array[index].hasOwnProperty(attributeName)\r\n            && (arguments.length > 2 && array[index][attributeName] === attributeValue)) {\r\n            array.splice(index, 1);\r\n        }\r\n    }\r\n    return array;\r\n}\r\n\r\nexport function chunkArray(bigArray, chunkSize) {\r\n    let newArray = [];\r\n    for (let i = 0; i < bigArray.length; i += chunkSize) {\r\n        newArray.push(bigArray.slice(i, i + chunkSize));\r\n    }\r\n    return newArray;\r\n}\r\n\r\n// Check duplicate item in array\r\n// export const checkDuplicate = (array, newItemID) => {\r\n//     array.forEach(item => {\r\n//         if (item.id === newItemID)\r\n//             return true;\r\n//     });\r\n//     return false;\r\n// }","import React, { useEffect, useRef, useState } from 'react'\r\nimport {\r\n    Button,\r\n    TextField,\r\n    DialogContent,\r\n    DialogActions,\r\n    IconButton,\r\n    Grid,\r\n    Typography,\r\n    ListItemText,\r\n    TableContainer,\r\n    Table,\r\n    TableHead,\r\n    TableRow,\r\n    TableCell,\r\n    TableBody,\r\n    Chip,\r\n    Box,\r\n    FormControl,\r\n    InputLabel,\r\n    Select,\r\n    MenuItem,\r\n    makeStyles,\r\n} from '@material-ui/core'\r\nimport { MdAdd, MdDelete } from 'react-icons/md'\r\nimport { useForm } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport { Autocomplete } from '@material-ui/lab'\r\nimport { parseDateToString } from '../../../../utils/DateTimes'\r\nimport * as ReportsServices from '../../ReportsServices'\r\nimport { useHistory } from 'react-router'\r\nimport * as ArrayUtils from '../../../../utils/Arrays'\r\nimport { calculateSchoolYear } from '../../../../utils/DateTimes'\r\nimport { useAuth } from '../../../../hooks/AuthContext'\r\nimport {\r\n    Consts,\r\n    columns,\r\n    IS_SUCCESS,\r\n    DESCRIPTION,\r\n    POSITIVITY,\r\n    DIFFICULTY,\r\n    FUTURE_PLAN,\r\n} from '../DialogConfig'\r\nimport { useReport } from '../../hooks/ReportContext'\r\nimport { useSnackbar } from 'notistack'\r\nimport classes from './CreateReports.module.scss'\r\n\r\nconst clientSchema = yup.object().shape({\r\n    // username: yup.string().trim().min(8).max(30).required(),\r\n    // fullName: yup.string().trim().max(50).required(),\r\n})\r\n\r\n//===============Set max-height for dropdown list===============\r\nconst ITEM_HEIGHT = 38\r\nconst ITEM_PADDING_TOP = 5\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT * 4 + ITEM_PADDING_TOP,\r\n        },\r\n    },\r\n}\r\n//==============================================================\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        // minWidth: 160,\r\n    },\r\n    option: {\r\n        fontSize: '0.875rem',\r\n    },\r\n    root: {},\r\n    menuItemRoot: {\r\n        '&$menuItemSelected': { backgroundColor: 'rgba(0, 0, 0, 0.08)' },\r\n        '&$menuItemSelected:focus': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.12)',\r\n        },\r\n        '&$menuItemSelected:hover': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.04);',\r\n        },\r\n    },\r\n    menuItemSelected: {},\r\n}))\r\n\r\nfunction CreateReportsForm(props) {\r\n    const styles = useStyles()\r\n    const { onClose, refreshAPI, setNotify } = props\r\n    const { headers, operations, fields } = Consts\r\n\r\n    const { user } = useAuth()\r\n    const history = useHistory()\r\n    const { enqueueSnackbar } = useSnackbar()\r\n\r\n    const { params } = useReport()\r\n    const { listFilters, page, limit, column, direction, searchKey } = params\r\n\r\n    const typingTimeoutRef = useRef({})\r\n\r\n    const { register, errors } = useForm({\r\n        // getValues, , setError, control, handleSubmit, formState\r\n        resolver: yupResolver(clientSchema),\r\n    })\r\n\r\n    // const onSubmit = (data) => {\r\n    //     console.log(data)\r\n    // }\r\n\r\n    const defaultTask = {\r\n        avatar: '',\r\n        district: '',\r\n        fullName: '',\r\n        id: -1,\r\n        level: '',\r\n        note: '',\r\n        noteBy: '',\r\n        purpose: '',\r\n        reprEmail: '',\r\n        reprIsMale: false,\r\n        reprName: '',\r\n        reprPhone: '',\r\n        schoolAddress: '',\r\n        schoolId: -1,\r\n        schoolName: '',\r\n        // schoolScale: '',\r\n        schoolStatus: '',\r\n        schoolType: '',\r\n        schoolYear: '',\r\n        userEmail: '',\r\n        userPhone: '',\r\n        username: '',\r\n    }\r\n    const defaultFormValue = {\r\n        isSuccess: true,\r\n        description: '',\r\n        positivity: '',\r\n        difficulty: '',\r\n        futurePlan: '',\r\n    }\r\n    const [task, setTask] = useState(defaultTask)\r\n    const [tasks, setTasks] = useState([])\r\n    const [formValue, setFormValue] = useState(defaultFormValue)\r\n\r\n    const getListTasks = (searchKey) => {\r\n        ReportsServices.getTasks({\r\n            username: user.username,\r\n            schoolYear: calculateSchoolYear(),\r\n            key: searchKey,\r\n        })\r\n            .then((data) => {\r\n                setTasks(data)\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n            })\r\n    }\r\n    useEffect(() => {\r\n        getListTasks()\r\n        // return () => setTasks([])\r\n    }, [])\r\n\r\n    const onSearchTaskChange = (event) => {\r\n        if (typingTimeoutRef.current) {\r\n            clearTimeout(typingTimeoutRef.current)\r\n        }\r\n\r\n        typingTimeoutRef.current = setTimeout(() => {\r\n            const searchKey = event.target.value\r\n            // console.log('searchKey = ', searchKey)\r\n            if (searchKey) {\r\n                // setTask(searchKey);\r\n                getListTasks(searchKey)\r\n            } else {\r\n                getListTasks()\r\n            }\r\n        }, 300)\r\n    }\r\n\r\n    // console.log('initial value for task: ', task);\r\n\r\n    const handleTaskChange = (event, newTask) => {\r\n        // console.log('handleTaskChange - event: ', event);\r\n        if (newTask) {\r\n            // console.log('ko null');\r\n            setTask(newTask)\r\n        } else {\r\n            // console.log('null roi');\r\n            setTask(defaultTask)\r\n        }\r\n        // console.log('newTask: ', newTask)\r\n    }\r\n\r\n    const [listReports, setListReports] = useState([])\r\n\r\n    // const listReportsData = () => {\r\n    //     console.log('listReportsData - form value: ', formValue);\r\n    //     console.log('listReportsData - task: ', task);\r\n\r\n    //     const report = {\r\n    //         username: user.username,\r\n    //         date: parseDateToString(new Date(), 'YYYY-MM-DD'),\r\n    //         schoolYear: calculateSchoolYear(),\r\n    //         taskId: parseInt(task.id),\r\n    //         schoolName: task.schoolName,\r\n    //         level: task.level,\r\n    //         result: formValue.result,\r\n    //         description: formValue.description,\r\n    //         positivity: formValue.positivity,\r\n    //         difficulty: formValue.difficulty,\r\n    //         futurePlan: formValue.futurePlan,\r\n    //     }\r\n\r\n    //     listReports.forEach(re => {\r\n    //         if (re.taskId === report.taskId) {\r\n    //             removeReport(re.taskId)\r\n    //         }\r\n    //     });\r\n    //     setListReports([...listReports, report])\r\n    //     resetForm()\r\n    // }\r\n\r\n    const addReports = (event) => {\r\n        event.preventDefault()\r\n        // const e = event.target;\r\n\r\n        // const report = {\r\n        //     username: user.username,\r\n        //     date: parseDateToString(new Date(), 'YYYY-MM-DD'),\r\n        //     schoolYear: calculateSchoolYear(),\r\n        //     taskId: parseInt(e.taskId.value),\r\n        //     schoolName: e.targetName.value,\r\n        //     level: e.level.value,\r\n        //     result: e.result.value,\r\n        //     description: e.description.value,\r\n        //     positivity: e.positivity.value,\r\n        //     difficulty: e.difficulty.value,\r\n        //     futurePlan: e.futurePlan.value,\r\n        // }\r\n\r\n        const report = {\r\n            // username: user.username,\r\n            date: parseDateToString(new Date(), 'YYYY-MM-DD HH:mm:ss'),\r\n            // schoolYear: calculateSchoolYear(),\r\n            taskId: parseInt(task.id),\r\n            schoolName: task.schoolName,\r\n            level: task.level,\r\n            isSuccess: formValue.isSuccess,\r\n            description: formValue.description,\r\n            positivity: formValue.positivity,\r\n            difficulty: formValue.difficulty,\r\n            futurePlan: formValue.futurePlan,\r\n        }\r\n\r\n        listReports.forEach((re) => {\r\n            if (re.taskId === report.taskId) {\r\n                // Remove task cũ, ghi đè bằng task đó bản chỉnh sửa\r\n                // console.log('Remove duplicate task ', re.taskId)\r\n                // setListReports([\r\n                //     ...ArrayUtils.removeItem(listReports, 'taskId', re.taskId),\r\n                // ])\r\n                removeReport(re.taskId) // tại sao phải viết lại 3 dòng code trên trong khi có thể gọi lại hàm này?\r\n                // setListReports([...listReports, report])\r\n            }\r\n        })\r\n        setListReports([...listReports, report]) // Để ngoài này vì có trùng hay ko thì cũng vẫn add vô list\r\n        resetForm()\r\n\r\n        // listReportsData()\r\n    }\r\n\r\n    const removeReport = (taskId) => {\r\n        setListReports([\r\n            ...ArrayUtils.removeItem(listReports, 'taskId', taskId),\r\n        ])\r\n        resetForm()\r\n        // console.log('Remove task ', taskId)\r\n    }\r\n\r\n    const resetForm = () => {\r\n        setTask(defaultTask)\r\n        setFormValue(defaultFormValue)\r\n    }\r\n\r\n    const handleFormChange = (event, key) => {\r\n        const value = event.target.value\r\n\r\n        switch (key) {\r\n            case IS_SUCCESS:\r\n                setFormValue({\r\n                    ...formValue,\r\n                    isSuccess: value,\r\n                })\r\n                break\r\n            case DESCRIPTION:\r\n                setFormValue({\r\n                    ...formValue,\r\n                    description: value,\r\n                })\r\n                break\r\n            case POSITIVITY:\r\n                setFormValue({\r\n                    ...formValue,\r\n                    positivity: value,\r\n                })\r\n                break\r\n            case DIFFICULTY:\r\n                setFormValue({\r\n                    ...formValue,\r\n                    difficulty: value,\r\n                })\r\n                break\r\n            case FUTURE_PLAN:\r\n                setFormValue({\r\n                    ...formValue,\r\n                    futurePlan: value,\r\n                })\r\n                break\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    // console.log('form value: ', formValue);\r\n\r\n    // Click on a row in the preview table --> data is displayed in form\r\n    const handleShowClickedRow = (event, row) => {\r\n        const foundTask = searchTasksSchoolById(row.taskId)\r\n        setTask(foundTask)\r\n\r\n        setFormValue({\r\n            isSuccess: row?.isSuccess,\r\n            description: row?.description,\r\n            positivity: row?.positivity,\r\n            difficulty: row?.difficulty,\r\n            futurePlan: row?.futurePlan,\r\n        })\r\n\r\n        // console.log('foundTask: ', foundTask);\r\n        // console.log('Data of row: ', row);\r\n    }\r\n\r\n    const searchTasksSchoolById = (id) => {\r\n        let foundTask = { ...defaultTask }\r\n\r\n        tasks.forEach((aTask) => {\r\n            if (aTask.id === id) {\r\n                foundTask = { ...aTask }\r\n            }\r\n        })\r\n\r\n        return foundTask\r\n    }\r\n\r\n    const handleCreateReport = (event) => {\r\n        // Add to list\r\n        // listReportsData()\r\n        // console.log('handleCreateReport - listReports: ', listReports);\r\n        let reports = []\r\n        if (listReports.length === 0) {\r\n            const report = {\r\n                // username: user.username,\r\n                date: parseDateToString(new Date(), 'YYYY-MM-DD HH:mm:ss'),\r\n                // schoolYear: calculateSchoolYear(),\r\n                taskId: parseInt(task?.id),\r\n                // schoolName: task.schoolName,\r\n                // level: task.level,\r\n                isSuccess: formValue?.isSuccess,\r\n                description: formValue?.description,\r\n                positivity: formValue?.positivity,\r\n                difficulty: formValue?.difficulty,\r\n                futurePlan: formValue?.futurePlan,\r\n            }\r\n            reports.push(report)\r\n        } else {\r\n            reports = [...listReports]\r\n        }\r\n\r\n        ReportsServices.addReport(reports)\r\n            .then((data) => {\r\n                // console.log('data: ', data);               \r\n\r\n                // Chưa báo đc snackbars chỗ này\r\n                if (!String(data).includes('already submitted') && !String(data).includes('Created 0 records')) {\r\n                    enqueueSnackbar(\"Created Report successfully\", { variant: 'success' })\r\n\r\n                    // setNotify({\r\n                    //     isOpen: true,\r\n                    //     message: 'Created successfully.',\r\n                    //     type: 'success',\r\n                    // })\r\n                } else if (String(data).includes('already submitted')) {\r\n                    enqueueSnackbar(\"Created Report failed. ${data} today.\", { variant: 'error' })\r\n\r\n                    // setNotify({\r\n                    //     isOpen: true,\r\n                    //     message: `Created failed. ${data} today.`,\r\n                    //     type: 'error',\r\n                    // })\r\n                } else {\r\n                    enqueueSnackbar(\"Created Report failed\", { variant: 'error' })\r\n                    // setNotify({\r\n                    //     isOpen: true,\r\n                    //     message: 'Created failed.',\r\n                    //     type: 'error',\r\n                    // })\r\n                }\r\n                refreshAPI(page, limit, column, direction, searchKey, listFilters)\r\n\r\n                handleCloseDialog()\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n                enqueueSnackbar(\"Created Report failed\", { variant: 'error' })\r\n                // setNotify({\r\n                //     isOpen: true,\r\n                //     message: 'Created failed.',\r\n                //     type: 'error',\r\n                // })\r\n                handleCloseDialog()\r\n            })\r\n    }\r\n\r\n    const truncateString = (str) => {\r\n        if (str) return str.length > 30 ? str.substring(0, 27) + '...' : str\r\n        else return ''\r\n    }\r\n\r\n    const handleCloseDialog = () => {\r\n        setListReports([])\r\n        onClose()\r\n    }\r\n\r\n    // console.log('formvalue: ', formValue);\r\n\r\n    return (\r\n        <>\r\n            <form onSubmit={addReports}>\r\n                <DialogContent className={classes.wrapper}>\r\n                    <Grid container spacing={4}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={5}>\r\n                            <Grid container spacing={2}>\r\n                                <Grid item xs={12} sm={8} md={7} lg={12}>\r\n                                    <Autocomplete\r\n                                        autoComplete\r\n                                        autoSelect\r\n                                        autoHighlight\r\n                                        clearOnEscape\r\n                                        options={tasks ? tasks : []}\r\n                                        // getOptionLabel={(task) => task.schoolName}\r\n                                        getOptionLabel={(task) =>\r\n                                            task?.schoolName\r\n                                                ? `${task?.level} ${task?.schoolName}`\r\n                                                : ''\r\n                                        }\r\n                                        value={task || defaultTask}\r\n                                        // value={task || {}}\r\n                                        renderInput={(params) => (\r\n                                            <>\r\n                                                <TextField\r\n                                                    {...params}\r\n                                                    label={\r\n                                                        fields.task.label\r\n                                                    }\r\n                                                    variant=\"outlined\"\r\n                                                    name={\r\n                                                        fields.task.name\r\n                                                    }\r\n                                                    // value={task}\r\n                                                    required\r\n                                                    inputRef={register}\r\n                                                    error={!!errors.task}\r\n                                                    helperText={\r\n                                                        errors?.task?.message\r\n                                                    }\r\n                                                    className={\r\n                                                        classes.autoComplete\r\n                                                    }\r\n                                                    onChange={\r\n                                                        onSearchTaskChange\r\n                                                    }\r\n                                                />\r\n                                                <input\r\n                                                    type=\"hidden\"\r\n                                                    name={fields.level.name}\r\n                                                    value={task?.level}\r\n                                                />\r\n                                            </>\r\n                                        )}\r\n                                        renderOption={(task) => {\r\n                                            return (\r\n                                                <div className={classes.item}>\r\n                                                    <ListItemText\r\n                                                        primary={\r\n                                                            task?.schoolName\r\n                                                                ? `${task?.level} ${task?.schoolName}`\r\n                                                                : ''\r\n                                                        }\r\n                                                        secondary={\r\n                                                            task?.district\r\n                                                                ? task?.district\r\n                                                                : ''\r\n                                                        }\r\n                                                        classes={{\r\n                                                            primary:\r\n                                                                classes.itemTextPrimary,\r\n                                                            secondary:\r\n                                                                classes.itemTextSecondary,\r\n                                                        }}\r\n                                                    />\r\n                                                </div>\r\n                                            )\r\n                                        }}\r\n                                        onChange={(event, newTask) =>\r\n                                            handleTaskChange(event, newTask)\r\n                                        }\r\n                                    />\r\n                                    <input\r\n                                        type=\"hidden\"\r\n                                        name={fields.id.name}\r\n                                        value={task?.id}\r\n                                    />\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} sm={8} md={6} lg={8}>\r\n                                    <FormControl variant=\"outlined\" fullWidth required>\r\n                                        <InputLabel id=\"isSuccess-label\">{fields.isSuccess.label}</InputLabel>\r\n                                        <Select\r\n                                            labelId=\"isSuccess-label\"\r\n                                            label={fields.isSuccess.label}\r\n                                            value={formValue.isSuccess || false}\r\n                                            onChange={(e, key) => handleFormChange(e, IS_SUCCESS)}\r\n                                            MenuProps={MenuProps}\r\n                                        // fullWidth\r\n                                        // inputRef={register}\r\n                                        // error={!!errors.isSuccess}\r\n                                        // helperText={errors?.isSuccess?.message}\r\n                                        >\r\n                                            <MenuItem\r\n                                                value={true}\r\n                                                className={styles.option}\r\n                                                classes={{\r\n                                                    root: styles.menuItemRoot,\r\n                                                    selected: styles.menuItemSelected,\r\n                                                }}\r\n                                            >\r\n                                                Đã gặp người đại diện (HT/HP)\r\n                                            </MenuItem>\r\n                                            <MenuItem\r\n                                                value={false}\r\n                                                className={styles.option}\r\n                                                classes={{\r\n                                                    root: styles.menuItemRoot,\r\n                                                    selected: styles.menuItemSelected,\r\n                                                }}\r\n                                            >\r\n                                                Chưa gặp người đại diện (HT/HP)\r\n                                            </MenuItem>\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                    <TextField\r\n                                        label={fields.description.label}\r\n                                        name={fields.description.name}\r\n                                        className=\"\"\r\n                                        variant=\"outlined\"\r\n                                        type=\"text\"\r\n                                        required\r\n                                        multiline\r\n                                        rows={3}\r\n                                        fullWidth\r\n                                        value={formValue.description || ''}\r\n                                        onChange={(e, key) =>\r\n                                            handleFormChange(e, DESCRIPTION)\r\n                                        }\r\n                                        inputRef={register}\r\n                                        error={!!errors.description}\r\n                                        helperText={\r\n                                            errors?.description?.message\r\n                                        }\r\n                                    />\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                    <TextField\r\n                                        label={fields.positivity.label}\r\n                                        name={fields.positivity.name}\r\n                                        variant=\"outlined\"\r\n                                        fullWidth\r\n                                        value={formValue.positivity || ''}\r\n                                        onChange={(e, key) =>\r\n                                            handleFormChange(e, POSITIVITY)\r\n                                        }\r\n                                    // inputRef={register}\r\n                                    // error={!!errors.positivity}\r\n                                    // helperText={errors?.positivity?.message}\r\n                                    />\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                    <TextField\r\n                                        label={fields.difficulty.label}\r\n                                        name={fields.difficulty.name}\r\n                                        variant=\"outlined\"\r\n                                        fullWidth\r\n                                        value={formValue.difficulty || ''}\r\n                                        onChange={(e, key) =>\r\n                                            handleFormChange(e, DIFFICULTY)\r\n                                        }\r\n                                    // inputRef={register}\r\n                                    // error={!!errors.difficulty}\r\n                                    // helperText={errors?.difficulty?.message}\r\n                                    />\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                    <TextField\r\n                                        label={fields.futurePlan.label}\r\n                                        name={fields.futurePlan.name}\r\n                                        variant=\"outlined\"\r\n                                        fullWidth\r\n                                        value={formValue.futurePlan || ''}\r\n                                        onChange={(e, key) =>\r\n                                            handleFormChange(e, FUTURE_PLAN)\r\n                                        }\r\n                                    // inputRef={register}\r\n                                    // error={!!errors.futurePlan}\r\n                                    // helperText={errors?.futurePlan?.message}\r\n                                    />\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={12} md={12} lg={7}>\r\n                            <Grid container spacing={2}>\r\n                                <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                    <Box\r\n                                        display=\"flex\"\r\n                                        flexDirection=\"row\"\r\n                                        flexWrap=\"nowrap\"\r\n                                    >\r\n                                        <Box flexGrow={1}>\r\n                                            <Button\r\n                                                variant=\"contained\"\r\n                                                color=\"secondary\"\r\n                                                type=\"submit\"\r\n                                                disabled={formValue === defaultFormValue}\r\n                                            // onClick={addReports}\r\n                                            >\r\n                                                <MdAdd fontSize=\"large\" />\r\n                                            </Button>\r\n                                        </Box>\r\n                                        <Box>\r\n                                            {/* <Chip\r\n                                                label={parseDateToString(\r\n                                                    new Date(),\r\n                                                    'dddd, DD/MM/YYYY'\r\n                                                )}\r\n                                                variant=\"outlined\"\r\n                                                className={classes.chipDate}\r\n                                            /> */}\r\n                                            <Typography\r\n                                                variant=\"subtitle1\"\r\n                                                className={classes.title}\r\n                                            >\r\n                                                {parseDateToString(\r\n                                                    new Date(),\r\n                                                    'dddd, DD/MM/YYYY'\r\n                                                )}\r\n                                            </Typography>\r\n                                        </Box>\r\n                                    </Box>\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                    {/* <Box\r\n                                        display=\"flex\"\r\n                                        justifyContent=\"flex-end\"\r\n                                    >\r\n                                        <Typography variant=\"subtitle1\">\r\n                                            {`${\r\n                                                headers.child1\r\n                                            } ${parseDateToString(\r\n                                                new Date(),\r\n                                                'dddd, DD/MM/YYYY'\r\n                                            )}`}\r\n                                        </Typography>\r\n                                    </Box> */}\r\n                                    <Typography variant=\"subtitle1\">\r\n                                        {headers.child1}\r\n                                    </Typography>\r\n                                    <TableContainer\r\n                                        className={classes.container}\r\n                                        component=\"div\"\r\n                                    >\r\n                                        <Table\r\n                                            className={classes.table}\r\n                                            stickyHeader\r\n                                            size=\"small\"\r\n                                        >\r\n                                            <TableHead>\r\n                                                <TableRow\r\n                                                    className={classes.tHead}\r\n                                                >\r\n                                                    {columns.map((col) => (\r\n                                                        <TableCell\r\n                                                            key={col}\r\n                                                            className={\r\n                                                                classes.tHeadCell\r\n                                                            }\r\n                                                        >\r\n                                                            {col}\r\n                                                        </TableCell>\r\n                                                    ))}\r\n                                                </TableRow>\r\n                                            </TableHead>\r\n                                            <TableBody>\r\n                                                {listReports.map(\r\n                                                    (row, index) => (\r\n                                                        <TableRow\r\n                                                            key={row.taskId}\r\n                                                            className={\r\n                                                                classes.tBodyRow\r\n                                                            }\r\n                                                        >\r\n                                                            <TableCell\r\n                                                                className={\r\n                                                                    classes.tBodyCell\r\n                                                                }\r\n                                                                onClick={(\r\n                                                                    e,\r\n                                                                    data\r\n                                                                ) =>\r\n                                                                    handleShowClickedRow(\r\n                                                                        e,\r\n                                                                        row\r\n                                                                    )\r\n                                                                }\r\n                                                            >\r\n                                                                {index + 1}\r\n                                                            </TableCell>\r\n                                                            <TableCell\r\n                                                                className={\r\n                                                                    classes.tBodyCell\r\n                                                                }\r\n                                                                onClick={(\r\n                                                                    e,\r\n                                                                    data\r\n                                                                ) =>\r\n                                                                    handleShowClickedRow(\r\n                                                                        e,\r\n                                                                        row\r\n                                                                    )\r\n                                                                }\r\n                                                            >\r\n                                                                {`${row.level} ${row.schoolName}`}\r\n                                                            </TableCell>\r\n                                                            <TableCell\r\n                                                                className={\r\n                                                                    classes.tBodyCell\r\n                                                                }\r\n                                                                onClick={(e, data) =>\r\n                                                                    handleShowClickedRow(\r\n                                                                        e, row)\r\n                                                                }\r\n                                                            >\r\n                                                                {row?.isSuccess ? 'Đã gặp người đại diện (HT/HP)' : 'Chưa gặp người đại diện (HT/HP)'}\r\n                                                            </TableCell>\r\n                                                            <TableCell\r\n                                                                className={classes.tBodyCell}\r\n                                                                onClick={(e, data) => handleShowClickedRow(e, row)}\r\n                                                            >\r\n                                                                {truncateString(\r\n                                                                    row.description\r\n                                                                )}\r\n                                                            </TableCell>\r\n                                                            <TableCell\r\n                                                                className={\r\n                                                                    classes.tBodyCell\r\n                                                                }\r\n                                                                align=\"right\"\r\n                                                            >\r\n                                                                <IconButton\r\n                                                                    size=\"small\"\r\n                                                                    onClick={(\r\n                                                                        id\r\n                                                                    ) =>\r\n                                                                        removeReport(\r\n                                                                            row.taskId\r\n                                                                        )\r\n                                                                    }\r\n                                                                >\r\n                                                                    <MdDelete />\r\n                                                                </IconButton>\r\n                                                            </TableCell>\r\n                                                        </TableRow>\r\n                                                    )\r\n                                                )}\r\n                                            </TableBody>\r\n                                        </Table>\r\n                                    </TableContainer>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </DialogContent>\r\n                {/* <Divider /> */}\r\n                <DialogActions className=\"\">\r\n                    <Button\r\n                        className={classes.btnSave}\r\n                        // type=\"submit\"\r\n                        // onSubmit={handleCreateReport}\r\n                        // disabled={!formState.isDirty}\r\n                        // onClick={handleSubmit(onSubmit)}\r\n                        disabled={listReports.length < 1}\r\n                        onClick={handleCreateReport}\r\n                    >\r\n                        {operations.save}\r\n                    </Button>\r\n                    <Button onClick={handleCloseDialog}>\r\n                        {operations.cancel}\r\n                    </Button>\r\n                </DialogActions>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CreateReportsForm\r\n","import React from 'react'\r\nimport {\r\n    Dialog,\r\n    IconButton,\r\n    DialogTitle,\r\n    Typography,\r\n    withStyles,\r\n} from '@material-ui/core'\r\nimport { MdClose } from 'react-icons/md'\r\nimport { Consts } from '../DialogConfig'\r\nimport CreateReportsForm from './CreateReportsForm'\r\nimport classes from './CreateReports.module.scss'\r\n\r\nconst stylesTitle = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n})\r\n\r\nconst DialogTitleWithIconClose = withStyles(stylesTitle)((props) => {\r\n    const { children, classes, onClose, ...other } = props\r\n    return (\r\n        <DialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton\r\n                    aria-label=\"close\"\r\n                    className={classes.closeButton}\r\n                    onClick={onClose}\r\n                >\r\n                    <MdClose />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    )\r\n})\r\n\r\nfunction CreateReports(props) {\r\n    const { open, onClose, refreshAPI, setNotify } = props\r\n    const { headers } = Consts\r\n\r\n    return (\r\n        <Dialog\r\n            open={open}\r\n            onClose={onClose}\r\n            maxWidth=\"lg\"\r\n            fullWidth\r\n            // component=\"form\"\r\n            className={classes.dialog}\r\n        >\r\n            <DialogTitleWithIconClose onClose={onClose}>\r\n                {headers.create}\r\n            </DialogTitleWithIconClose>\r\n            <CreateReportsForm\r\n                onClose={onClose}\r\n                refreshAPI={refreshAPI}\r\n                setNotify={setNotify}\r\n            />\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default CreateReports\r\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n    Accordion,\r\n    AccordionSummary,\r\n    AccordionDetails,\r\n    Typography,\r\n    Select,\r\n    Grid,\r\n    Box,\r\n    InputLabel,\r\n    MenuItem,\r\n    FormControl,\r\n    TextField,\r\n    InputAdornment,\r\n    ListItemAvatar,\r\n    ListItemText,\r\n    Avatar,\r\n    Button,\r\n    Tooltip,\r\n} from '@material-ui/core'\r\nimport {\r\n    MdAccountCircle,\r\n    MdAdd,\r\n    MdExpandMore,\r\n    MdFilterList,\r\n} from 'react-icons/md'\r\nimport { SearchFields, Snackbars } from '../../../../components'\r\nimport * as ReducerActions from '../../../../constants/ActionTypes'\r\nimport { useReport } from '../../hooks/ReportContext'\r\nimport Chips from './Chips/Chips'\r\nimport { Autocomplete } from '@material-ui/lab'\r\nimport DateRangePickers from './DateRangePickers/DateRangePickers'\r\nimport moment from 'moment'\r\nimport CreateReports from '../../dialogs/CreateReports/CreateReports'\r\nimport {\r\n    PIC_FILTER,\r\n    DISTRICT_FILTER,\r\n    SCHOOL_YEAR_FILTER,\r\n    PURPOSE_FILTER,\r\n    DATE_RANGE_FILTER,\r\n    REPORT_RESULT_FILTER,\r\n    // STATUS_FILTER,\r\n} from '../../../../constants/Filters'\r\nimport { useApp } from '../../../../hooks/AppContext'\r\nimport { useAuth } from '../../../../hooks/AuthContext'\r\nimport * as Milk from '../../../../utils/Milk'\r\nimport { milkNames, roleNames } from '../../../../constants/Generals'\r\nimport { Consts } from '../../ReportsConfig'\r\nimport { getAccount } from '../../../Accounts/AccountsServices'\r\n// import { getPurpsByStatus } from '../../../../utils/Sortings'\r\nimport styles from './Filters.module.scss'\r\nimport { useLocation } from 'react-router'\r\n\r\n//===============Set max-height for dropdown list===============\r\nconst ITEM_HEIGHT = 38\r\nconst ITEM_PADDING_TOP = 5\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT * 4 + ITEM_PADDING_TOP,\r\n        },\r\n    },\r\n}\r\n//==============================================================\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 160,\r\n    },\r\n    flexBox: {\r\n        padding: 0,\r\n    },\r\n    flexItem: {\r\n        padding: 0,\r\n    },\r\n    option: {\r\n        fontSize: '0.875rem',\r\n    },\r\n    autoComplete: {\r\n        width: 260,\r\n        marginLeft: '0.5rem',\r\n    },\r\n    btn: {\r\n        padding: '0.5rem',\r\n        margin: '0 0.3rem',\r\n        borderRadius: '8px',\r\n        // minWidth: 3, // minHeight: 0, // lineHeight: 0,\r\n    },\r\n    itemPIC: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        padding: 0,\r\n        margin: 0,\r\n    },\r\n    itemTextPrimary: {\r\n        fontSize: '0.875rem',\r\n    },\r\n    paddingTop: {\r\n        paddingTop: '0.3rem',\r\n    },\r\n    root: {},\r\n    menuItemRoot: {\r\n        '&$menuItemSelected': { backgroundColor: 'rgba(0, 0, 0, 0.08)' },\r\n        '&$menuItemSelected:focus': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.12)',\r\n        },\r\n        '&$menuItemSelected:hover': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.04);',\r\n        },\r\n    },\r\n    menuItemSelected: {},\r\n}))\r\n\r\nconst MuiAccordion = withStyles({\r\n    root: {\r\n        backgroundColor: 'rgb(238, 238, 238)',\r\n        borderRadius: '8px',\r\n        marginBottom: '0.5rem',\r\n        boxShadow: 'none',\r\n        '&:not(:last-child)': {\r\n            borderBottom: 0,\r\n            borderRadius: '8px',\r\n        },\r\n        '&:before': {\r\n            display: 'none',\r\n        },\r\n        '&$expanded': {\r\n            margin: 'auto',\r\n            borderRadius: '8px',\r\n        },\r\n    },\r\n    expanded: {},\r\n})(Accordion)\r\n\r\nconst MuiAccordionSummary = withStyles({\r\n    root: {\r\n        height: 41.5,\r\n        minHeight: 35,\r\n        maxWidth: 120,\r\n        backgroundColor: 'rgb(255, 255, 255)',\r\n        fontWeight: 'bold',\r\n        // borderBottom: '1px solid rgba(0, 0, 0, .125)',\r\n        // boxShadow: '1px 1px 2px gray',\r\n        boxShadow: '0 4px 6px -6px #000', // 0px 1px 1px gray\r\n        borderRadius: '8px',\r\n        paddingButtom: 0,\r\n        '&$expanded': {\r\n            minHeight: 35,\r\n            borderRadius: '8px',\r\n        },\r\n    },\r\n    content: {\r\n        '&$expanded': {\r\n            margin: '12px 0',\r\n        },\r\n    },\r\n    expanded: {},\r\n})(AccordionSummary)\r\n\r\nconst MuiAccordionDetails = withStyles(() => ({\r\n    root: {\r\n        backgroundColor: 'rgb(255, 255, 255)',\r\n        margin: '0.2rem 0 0.5rem 0',\r\n        padding: '0 0 0.3rem 1.5rem',\r\n        borderRadius: '8px',\r\n    },\r\n}))(AccordionDetails)\r\n\r\nfunction Filters(props) {\r\n    const classes = useStyles()\r\n    const { operations, filters } = Consts\r\n    const { setTaskId, refreshAPI } = props\r\n\r\n    const { user } = useAuth()\r\n    const { dists, schYears, salesPurps } = useApp()\r\n\r\n    const location = useLocation()\r\n    const schoolName = location?.state?.schoolName\r\n        ? location?.state?.schoolName\r\n        : ''\r\n    const picUsername = location?.state?.PIC ? location?.state?.PIC : ''\r\n    // console.log('Filters.js: ', location);\r\n\r\n    const bakDists = dists ? dists : Milk.getMilk(milkNames.dists)\r\n    const bakSchYears = schYears ? schYears : Milk.getMilk(milkNames.schYears)\r\n    const bakSalesPurps = salesPurps\r\n        ? salesPurps\r\n        : Milk.getMilk(milkNames.salesPurps)\r\n    // const purposes = getPurpsByStatus()\r\n\r\n    //Use states which have been declared in the ReportContext\r\n    const {\r\n        params,\r\n        dispatchParams,\r\n        PICs,\r\n        // districts,\r\n        // schoolYears,\r\n        // schoolStatuses,\r\n        PIC,\r\n        district,\r\n        schoolYear,\r\n        purpose,\r\n        // schoolStatus,\r\n        // setPIC,\r\n        // setDistrict,\r\n        // setSchoolYear,\r\n        // setPurpose,\r\n        // setSchoolStatus,\r\n        // setDateRange,\r\n        setFilter,\r\n        getListPICs,\r\n        result,\r\n        reportResults,\r\n    } = useReport()\r\n\r\n    const [searchKey, setSearchKey] = useState(schoolName)\r\n    const [openCreateDialog, setOpenCreateDialog] = useState(false)\r\n\r\n    const [notify, setNotify] = useState({\r\n        isOpen: false,\r\n        message: '',\r\n        type: '',\r\n    })\r\n\r\n    const typingTimeoutRef = useRef({})\r\n    const onSearchPICChange = (event) => {\r\n        if (typingTimeoutRef.current) {\r\n            clearTimeout(typingTimeoutRef.current)\r\n        }\r\n        typingTimeoutRef.current = setTimeout(() => {\r\n            const searchPIC = event?.target?.value\r\n            if (searchPIC) {\r\n                getListPICs(searchPIC)\r\n            } else {\r\n                getListPICs()\r\n            }\r\n        }, 300)\r\n    }\r\n\r\n    //================Handle useState() of filters================\r\n    const handlePICChange = (event, newPIC) => {\r\n        setFilter(PIC_FILTER, newPIC)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_PIC,\r\n            payload: {\r\n                filterType: PIC_FILTER,\r\n                filterValue: newPIC ? newPIC : null,\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleDistrictChange = (event) => {\r\n        const selectedDistrict = event?.target?.value\r\n        setFilter(DISTRICT_FILTER, selectedDistrict)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_DISTRICT,\r\n            payload: {\r\n                filterType: DISTRICT_FILTER,\r\n                filterValue: selectedDistrict ? selectedDistrict : '',\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleSchoolYearChange = (event) => {\r\n        const selectedSchoolYear = event?.target?.value\r\n        setFilter(SCHOOL_YEAR_FILTER, selectedSchoolYear)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_SCHOOL_YEAR,\r\n            payload: {\r\n                filterType: SCHOOL_YEAR_FILTER,\r\n                filterValue: selectedSchoolYear ? selectedSchoolYear : '',\r\n            },\r\n        })\r\n    }\r\n\r\n    // const handleSchoolStatusChange = (event) => {\r\n    //     const selectedSchoolStatus = event?.target?.value\r\n\r\n    //     // setSchoolStatus(selectedSchoolStatus)\r\n    //     // if (selectedSchoolStatus) {\r\n    //     //     dispatchParams({\r\n    //     //         type: ReducerActions.FILTER_SCHOOL_STATUS,\r\n    //     //         payload: {\r\n    //     //             filterType: 'status',\r\n    //     //             filterValue: selectedSchoolStatus,\r\n    //     //         },\r\n    //     //     })\r\n    //     // } else {\r\n    //     //     dispatchParams({\r\n    //     //         type: ReducerActions.FILTER_SCHOOL_STATUS,\r\n    //     //         payload: { filterType: 'status', filterValue: '' },\r\n    //     //     })\r\n    //     // }\r\n    //     setFilter(STATUS_FILTER, selectedSchoolStatus)\r\n    //     dispatchParams({\r\n    //         type: ReducerActions.FILTER_SCHOOL_STATUS,\r\n    //         payload: {\r\n    //             filterType: STATUS_FILTER,\r\n    //             filterValue: selectedSchoolStatus ? selectedSchoolStatus : '',\r\n    //         },\r\n    //     })\r\n    // }\r\n\r\n    const handlePurposeChange = (event) => {\r\n        const selectedPurpose = event?.target?.value\r\n        setFilter(PURPOSE_FILTER, selectedPurpose)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_PURPOSE,\r\n            payload: {\r\n                filterType: PURPOSE_FILTER,\r\n                filterValue: selectedPurpose ? selectedPurpose : '',\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleResultChange = (event) => {\r\n        const selectedResult = event?.target?.value\r\n        setFilter(REPORT_RESULT_FILTER, selectedResult)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_REPORT_RESULT,\r\n            payload: {\r\n                filterType: REPORT_RESULT_FILTER,\r\n                filterValue: selectedResult,\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleDateRangeChange = (selectedDate) => {\r\n        const fromDate = selectedDate[0]\r\n            ? moment(selectedDate[0]).format('YYYY-MM-DD')\r\n            : null\r\n        const toDate = selectedDate[1]\r\n            ? moment(selectedDate[1]).format('YYYY-MM-DD')\r\n            : null\r\n\r\n        setFilter(DATE_RANGE_FILTER, [fromDate, toDate])\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_DATE_RANGE,\r\n            payload: {\r\n                filterType: DATE_RANGE_FILTER,\r\n                filterValue: [fromDate, toDate]\r\n                    ? [fromDate, toDate]\r\n                    : [null, null],\r\n            },\r\n        })\r\n    }\r\n\r\n    //=================Handle action enter / submit of SearchFields==================\r\n    const handleSearch = (keyword) => {\r\n        setSearchKey(keyword)\r\n        dispatchParams({\r\n            type: ReducerActions.ENTER_SEARCH_KEYWORD,\r\n            payload: keyword,\r\n        })\r\n        setTaskId(0)\r\n    }\r\n    // console.log('Filters.js --- searchKey: ', searchKey);\r\n\r\n    const resetFilters = () => {\r\n        // handlePICChange(null, null)\r\n        handleDistrictChange(null)\r\n        handleSchoolYearChange(null)\r\n        handlePurposeChange(null)\r\n        handleResultChange(null)\r\n        handleDateRangeChange([null, null])\r\n        // handleSearch('')\r\n    }\r\n\r\n    // When React router redirects to this screen while containing taskId and PIC's username,\r\n    // it will filter all reports of this school which is assigned to this PIC\r\n    useEffect(() => {\r\n        if (picUsername) {\r\n            resetFilters() // chặn chỗ này cho hợp lý\r\n            getAccount(picUsername)\r\n                .then((res) => {\r\n                    // setSearchingPIC(res)\r\n                    handlePICChange(null, res)\r\n                })\r\n                .catch((error) => {\r\n                    if (error.response) {\r\n                        console.log(error)\r\n                    }\r\n                })\r\n        }\r\n    }, [])\r\n    // console.log('searchingPIC: ', searchingPIC);\r\n\r\n    const handleChipsRemoved = (removedFilters) => {\r\n        let count = 0\r\n        removedFilters.forEach((removedFilter) => {\r\n            switch (removedFilter) {\r\n                case PIC_FILTER:\r\n                    setFilter(PIC_FILTER, null)\r\n                    setTaskId(0)\r\n                    count++\r\n                    break\r\n                case DISTRICT_FILTER:\r\n                    setFilter(DISTRICT_FILTER, '')\r\n                    count++\r\n                    break\r\n                case SCHOOL_YEAR_FILTER:\r\n                    setFilter(SCHOOL_YEAR_FILTER, '')\r\n                    count++\r\n                    break\r\n                case PURPOSE_FILTER:\r\n                    setFilter(PURPOSE_FILTER, '')\r\n                    count++\r\n                    break\r\n                case REPORT_RESULT_FILTER:\r\n                    setFilter(REPORT_RESULT_FILTER, null)\r\n                    count++\r\n                    break\r\n                case DATE_RANGE_FILTER:\r\n                    setFilter(DATE_RANGE_FILTER, [null, null])\r\n                    count++\r\n                    break\r\n                default:\r\n                    break\r\n            }\r\n        })\r\n        // console.log('count removed filters: ', count);\r\n        // console.log('length = ', Object.keys(params.listFilters).length)\r\n        if (count === Object.keys(params.listFilters).length) {\r\n            handleSearch('')\r\n        }\r\n    }\r\n\r\n    const generateChipsArray = (listFilters) => {\r\n        const listChips = []\r\n        let newListFilters = { ...listFilters }\r\n\r\n        for (const chip in newListFilters) {\r\n            if (chip === DATE_RANGE_FILTER) {\r\n                const fromDate = moment(\r\n                    newListFilters[chip].filterValue[0]\r\n                ).format('MMM D, YYYY')\r\n                const toDate = moment(\r\n                    newListFilters[chip].filterValue[1]\r\n                ).format('MMM D, YYYY')\r\n                if (fromDate !== 'Invalid date' && toDate !== 'Invalid date') {\r\n                    newListFilters = {\r\n                        ...newListFilters,\r\n                        dateRange: {\r\n                            filterType: DATE_RANGE_FILTER,\r\n                            filterValue: `${fromDate} ➜ ${toDate}`,\r\n                        },\r\n                    }\r\n                }\r\n            }\r\n            listChips.push(newListFilters[chip])\r\n        }\r\n        // console.log('Reports - listChips: ', listChips);\r\n        return listChips\r\n    }\r\n    //===============================================================================\r\n\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <MuiAccordion>\r\n                <Box\r\n                    display=\"flex\"\r\n                    flexWrap=\"nowrap\"\r\n                    className={classes.flexBox}\r\n                >\r\n                    <Box className={classes.flexItem}>\r\n                        <MuiAccordionSummary expandIcon={<MdExpandMore />}>\r\n                            <MdFilterList className={styles.iconFilter} />{' '}\r\n                            &nbsp;\r\n                            <Typography>{operations.filter}</Typography>\r\n                        </MuiAccordionSummary>\r\n                    </Box>\r\n                    <Box flexGrow={1} className={classes.flexItem}>\r\n                        <Chips\r\n                            chips={generateChipsArray(params.listFilters)}\r\n                            dispatch={dispatchParams}\r\n                            handleChipsRemoved={handleChipsRemoved}\r\n                        />\r\n                    </Box>\r\n                    <Box className={classes.flexItem}>\r\n                        <SearchFields\r\n                            searchValue={searchKey}\r\n                            placeholder={operations.search.placeholder}\r\n                            onChange={handleSearch}\r\n                        />\r\n                    </Box>\r\n                    {user?.roles[0] === roleNames.salesman && (\r\n                        <Box className={classes.flexItem}>\r\n                            <Tooltip title=\"Create Reports\">\r\n                                <Button\r\n                                    className={classes.btn}\r\n                                    variant=\"contained\"\r\n                                    color=\"secondary\"\r\n                                    onClick={() => setOpenCreateDialog(true)}\r\n                                >\r\n                                    <MdAdd fontSize=\"large\" />\r\n                                    {/* &nbsp;{operations.create} */}\r\n                                </Button>\r\n                            </Tooltip>\r\n                            <CreateReports\r\n                                open={openCreateDialog}\r\n                                onClose={() => setOpenCreateDialog(false)}\r\n                                refreshAPI={refreshAPI}\r\n                                setNotify={setNotify}\r\n                            />\r\n                        </Box>\r\n                    )}\r\n                </Box>\r\n                <MuiAccordionDetails>\r\n                    <Grid container>\r\n                        <Grid item xs={12} sm={6} md={4} lg={4}>\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>{filters.purpose.title}</InputLabel>\r\n                                <Select\r\n                                    value={purpose || ''}\r\n                                    onChange={handlePurposeChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    <MenuItem\r\n                                        value=\"\"\r\n                                        className={classes.option}\r\n                                        classes={{\r\n                                            root: classes.menuItemRoot,\r\n                                            selected: classes.menuItemSelected,\r\n                                        }}\r\n                                    >\r\n                                        {filters.purpose.options.all}\r\n                                    </MenuItem>\r\n                                    {bakSalesPurps?.map((purp) => (\r\n                                        <MenuItem\r\n                                            key={purp}\r\n                                            value={purp}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {purp}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={6} md={4} lg={4}>\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>\r\n                                    {filters.district.title}\r\n                                </InputLabel>\r\n                                <Select\r\n                                    value={district || ''}\r\n                                    onChange={handleDistrictChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    <MenuItem\r\n                                        value=\"\"\r\n                                        className={classes.option}\r\n                                        classes={{\r\n                                            root: classes.menuItemRoot,\r\n                                            selected: classes.menuItemSelected,\r\n                                        }}\r\n                                    >\r\n                                        {filters.district.options.all}\r\n                                    </MenuItem>\r\n                                    {bakDists?.map((dist) => (\r\n                                        <MenuItem\r\n                                            key={dist}\r\n                                            value={dist}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {dist}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={6} md={4} lg={4}>\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>\r\n                                    {filters.schoolYear.title}\r\n                                </InputLabel>\r\n                                <Select\r\n                                    value={schoolYear || ''}\r\n                                    onChange={handleSchoolYearChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    <MenuItem\r\n                                        value=\"\"\r\n                                        className={classes.option}\r\n                                        classes={{\r\n                                            root: classes.menuItemRoot,\r\n                                            selected: classes.menuItemSelected,\r\n                                        }}\r\n                                    >\r\n                                        {filters.schoolYear.options.all}\r\n                                    </MenuItem>\r\n                                    {bakSchYears?.map((year) => (\r\n                                        <MenuItem\r\n                                            key={year}\r\n                                            value={year}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {year}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={6} md={4} lg={4}>\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>\r\n                                    {filters.result.title}\r\n                                </InputLabel>\r\n                                <Select\r\n                                    value={result === null ? '' : result}\r\n                                    onChange={handleResultChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    {reportResults?.map((result) => (\r\n                                        <MenuItem\r\n                                            key={result}\r\n                                            value={result}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {result === null\r\n                                                ? `${filters.result.options.all}`\r\n                                                : result\r\n                                                    ? `${filters.result.options.success}`\r\n                                                    : `${filters.result.options.failed}`\r\n                                            }\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={6} md={5} lg={4}>\r\n                            <Autocomplete\r\n                                autoComplete\r\n                                autoSelect\r\n                                autoHighlight\r\n                                clearOnEscape\r\n                                options={PICs ? PICs : []}\r\n                                getOptionLabel={(pic) =>\r\n                                    pic.fullName ? pic.fullName : ''\r\n                                }\r\n                                value={PIC}\r\n                                // value={searchingPIC ?? PIC}\r\n                                renderInput={(params) => (\r\n                                    <TextField\r\n                                        {...params}\r\n                                        label={filters.pic.title}\r\n                                        margin=\"normal\"\r\n                                        placeholder={filters.pic.placeholder}\r\n                                        onChange={onSearchPICChange}\r\n                                        // ref={params.InputProps.ref}\r\n                                        InputProps={{\r\n                                            ...params.InputProps,\r\n                                            startAdornment: (\r\n                                                <>\r\n                                                    <InputAdornment position=\"start\">\r\n                                                        <MdAccountCircle />\r\n                                                    </InputAdornment>\r\n                                                    {\r\n                                                        params.InputProps\r\n                                                            .startAdornment\r\n                                                    }\r\n                                                </>\r\n                                            ),\r\n                                        }}\r\n                                    />\r\n                                )}\r\n                                renderOption={(option) => {\r\n                                    return (\r\n                                        <div\r\n                                            className={classes.itemPIC}\r\n                                            key={option.username}\r\n                                        >\r\n                                            <ListItemAvatar>\r\n                                                <Avatar src={option.avatar} />\r\n                                            </ListItemAvatar>\r\n                                            <ListItemText\r\n                                                primary={\r\n                                                    option.fullName\r\n                                                        ? option.fullName\r\n                                                        : ''\r\n                                                }\r\n                                                classes={{\r\n                                                    primary:\r\n                                                        classes.itemTextPrimary,\r\n                                                }}\r\n                                            />\r\n                                        </div>\r\n                                    )\r\n                                }}\r\n                                className={classes.autoComplete}\r\n                                onChange={(event, newPIC) =>\r\n                                    handlePICChange(event, newPIC)\r\n                                }\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={7} md={5} lg={4}>\r\n                            <DateRangePickers\r\n                                handleDateRangeChange={handleDateRangeChange}\r\n                            />\r\n                            {/* <FormControl className={classes.formControl}>\r\n                            </FormControl> */}\r\n                        </Grid>\r\n\r\n                        {/* <Grid item xs={6} sm={6} md={4} lg={3}>\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>School Statuses</InputLabel>\r\n                                <Select\r\n                                    value={schoolStatus || ''}\r\n                                    onChange={handleSchoolStatusChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    <MenuItem\r\n                                        value=\"\"\r\n                                        className={classes.option}\r\n                                        classes={{\r\n                                            root: classes.menuItemRoot,\r\n                                            selected: classes.menuItemSelected,\r\n                                        }}\r\n                                    >\r\n                                        All\r\n                                    </MenuItem>\r\n                                    {schStatus?.map((status) => (\r\n                                        <MenuItem\r\n                                            key={status}\r\n                                            value={status}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {status}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid> */}\r\n                    </Grid>\r\n                </MuiAccordionDetails>\r\n            </MuiAccordion>\r\n\r\n            <Snackbars notify={notify} setNotify={setNotify} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filters\r\n","import React from 'react'\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogActions,\r\n    withStyles,\r\n    Typography,\r\n    IconButton,\r\n} from '@material-ui/core'\r\nimport { removeReport } from '../../ReportsServices'\r\nimport { useReport } from '../../hooks/ReportContext'\r\nimport { MdClose } from 'react-icons/md'\r\nimport { Consts, confirmMessage } from '../DialogConfig'\r\nimport { useSnackbar } from 'notistack'\r\nimport classes from './ConfirmRemove.module.scss'\r\n\r\nconst stylesTitle = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n});\r\n\r\nconst DialogTitleWithIconClose = withStyles(stylesTitle)((props) => {\r\n    const { children, classes, onClose, ...other } = props;\r\n    return (\r\n        <DialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n                    <MdClose />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    );\r\n});\r\n\r\nfunction ConfirmRemove(props) {\r\n    const { open, onClose, data, refreshAPI } = props\r\n    const { headers, operations } = Consts\r\n    const { enqueueSnackbar } = useSnackbar()\r\n\r\n    const { params } = useReport()\r\n    const { listFilters, page, limit, column, direction, searchKey } = params\r\n\r\n    const handleRemove = (id) => {\r\n        removeReport(id).then((data) => {\r\n            refreshAPI(page, limit, column, direction, searchKey, listFilters)\r\n            enqueueSnackbar('Removed report successfully', { variant: 'success' })\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                // history.push({\r\n                //     pathname: '/errors',\r\n                //     state: { error: error.response.status },\r\n                // })\r\n                enqueueSnackbar('Removed report failed', { variant: 'error' })\r\n            }\r\n        })\r\n\r\n        onClose();\r\n    }\r\n\r\n    return (\r\n        <Dialog open={open} onClose={onClose}>\r\n            <DialogTitleWithIconClose onClose={onClose}>{headers.confirm}</DialogTitleWithIconClose>\r\n            {/* <Divider /> */}\r\n            <DialogContent>\r\n                <DialogContentText className={classes.dialogText}>\r\n                    {confirmMessage(data?.educationalLevel, data?.schoolName, data?.date)}\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            {/* <Divider /> */}\r\n            <DialogActions>\r\n                <Button className={classes.btnRemove} onClick={() => handleRemove(data?.id)} autoFocus>\r\n                    {operations.remove}\r\n                </Button>\r\n                <Button onClick={onClose}>\r\n                    {operations.cancel}\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default React.memo(ConfirmRemove)","import React from 'react'\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogActions,\r\n    withStyles,\r\n    Typography,\r\n    IconButton,\r\n} from '@material-ui/core'\r\nimport { MdClose } from 'react-icons/md'\r\nimport { Consts, cannotMessage } from '../DialogConfig'\r\nimport classes from './CannotRemove.module.scss'\r\n\r\nconst stylesTitle = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n});\r\n\r\nconst DialogTitleWithIconClose = withStyles(stylesTitle)((props) => {\r\n    const { children, classes, onClose, ...other } = props;\r\n    return (\r\n        <DialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n                    <MdClose />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    );\r\n});\r\n\r\nfunction CannotRemove(props) {\r\n    const { open, onClose, data } = props\r\n    const { headers, operations } = Consts\r\n\r\n    return (\r\n        <Dialog open={open} onClose={onClose}>\r\n            <DialogTitleWithIconClose onClose={onClose}>{headers.cannot}</DialogTitleWithIconClose>\r\n            {/* <Divider /> */}\r\n            <DialogContent>\r\n                <DialogContentText className={classes.dialogText}>\r\n                    {cannotMessage(data?.educationalLevel, data?.schoolName, data?.date, data?.commentedPerson)}\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            {/* <Divider /> */}\r\n            <DialogActions>\r\n                <Button disableElevation autoFocus onClick={onClose}>\r\n                    {operations.ok}\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default React.memo(CannotRemove)","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n    IconButton,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    Menu,\r\n    MenuItem,\r\n    Tooltip,\r\n} from '@material-ui/core'\r\nimport { Link, useRouteMatch } from 'react-router-dom'\r\nimport { MdMoreVert, MdInfo, MdDelete } from 'react-icons/md'\r\nimport ConfirmRemove from '../../../dialogs/ConfirmRemove/ConfirmRemove'\r\nimport CannotRemove from '../../../dialogs/CannotRemove/CannotRemove'\r\nimport { useAuth } from '../../../../../hooks/AuthContext'\r\nimport { useReport } from '../../../hooks/ReportContext'\r\nimport { roleNames } from '../../../../../constants/Generals'\r\nimport classes from './MenuOptions.module.scss'\r\n\r\nfunction MenuOptions(props) {\r\n    const { data, refreshAPI } = props\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const [openConfirmDialog, setOpenConfirmDialog] = useState(false);\r\n\r\n    const { user } = useAuth()\r\n    const { url } = useRouteMatch()\r\n\r\n    const { params } = useReport()\r\n\r\n    // console.log('Reports: data = ', data);\r\n\r\n    const stateData = {\r\n        model: data,\r\n        params: params,\r\n        pathName: `${url}/${data.id}`,\r\n    }\r\n\r\n    const handleOpen = (event) => {\r\n        setAnchorEl(event.currentTarget)\r\n    }\r\n\r\n    const handleCloseMenus = () => {\r\n        setAnchorEl(null)\r\n    }\r\n\r\n    const handleOpenConfirmation = () => {\r\n        setAnchorEl(null)\r\n        setOpenConfirmDialog(true)\r\n    }\r\n\r\n    const renderRemoveDialog = () => {\r\n        // const comment = data.comment ? { ...data.comment } : null;\r\n        // const commentedBy = [];\r\n\r\n        // if (comments.length > 0) {\r\n        // comments.forEach(comment => {\r\n        //     commentedBy.push(comment.fullName);\r\n        // });\r\n        // if (user.username === data?.username) {\r\n        if (data?.contextComments) {\r\n            return (\r\n                <CannotRemove\r\n                    open={openConfirmDialog}\r\n                    onClose={() => setOpenConfirmDialog(false)}\r\n                    data={data}\r\n                />\r\n            )\r\n        }\r\n        // else if (data.comments.length === 0) {\r\n        else {\r\n            return (\r\n                <ConfirmRemove open={openConfirmDialog} onClose={() => setOpenConfirmDialog(false)} data={data} refreshAPI={refreshAPI} />\r\n            )\r\n        }\r\n        // } else {\r\n        //     const newData = {...data, msg: 'You cannot remove reports of the others.'}\r\n        //     return (\r\n        //         <CannotRemove open={openConfirmDialog} onClose={() => setOpenConfirmDialog(false)} data={newData} />\r\n        //     )\r\n        // }\r\n    }\r\n\r\n    // console.log('user = ', user);\r\n    const renderMenus = (role) => {\r\n        switch (role) {\r\n            case roleNames.manager:\r\n            case roleNames.supervisor:\r\n                return (\r\n                    <div>\r\n                        <MenuItem\r\n                            onClick={handleCloseMenus}\r\n                            component={Link}\r\n                            to={{\r\n                                pathname: `${url}/${data.id}`,\r\n                                state: { data: stateData },\r\n                            }}\r\n                        >\r\n                            <ListItemIcon className={classes.itemIcon}>\r\n                                <MdInfo fontSize=\"large\" />\r\n                            </ListItemIcon>\r\n                            <ListItemText className={classes.itemText}>\r\n                                View details\r\n                            </ListItemText>\r\n                        </MenuItem>\r\n                        {/**For Salesman:\r\n                            - View details and update report inside that form.\r\n                            For Manager & Supervisor:\r\n                            - View details and give comment inside that form.\r\n                        */}\r\n                    </div>\r\n                )\r\n\r\n            case roleNames.salesman:\r\n                return (\r\n                    <div>\r\n                        <MenuItem\r\n                            onClick={handleCloseMenus}\r\n                            component={Link}\r\n                            to={{\r\n                                pathname: `${url}/${data.id}`,\r\n                                state: { data: stateData },\r\n                            }}\r\n                        >\r\n                            <ListItemIcon className={classes.itemIcon}>\r\n                                <MdInfo fontSize=\"large\" />\r\n                            </ListItemIcon>\r\n                            <ListItemText className={classes.itemText}>\r\n                                View details\r\n                            </ListItemText>\r\n                        </MenuItem>\r\n                        {user.username === data?.username && (\r\n                            <div>\r\n                                <MenuItem onClick={handleOpenConfirmation}>\r\n                                    <ListItemIcon className={classes.itemIcon}>\r\n                                        <MdDelete fontSize=\"large\" />\r\n                                    </ListItemIcon>\r\n                                    <ListItemText className={classes.itemText}>\r\n                                        Remove\r\n                                    </ListItemText>\r\n                                </MenuItem>\r\n                                {renderRemoveDialog()}\r\n                            </div>\r\n                        )}\r\n                        {/**For Salesman:\r\n                            - View details and update report inside that form.\r\n                            For Manager & Supervisor:\r\n                            - View details and give comment inside that form.\r\n                        */}\r\n                    </div>\r\n                )\r\n\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Tooltip title=\"Actions\">\r\n                <IconButton color=\"primary\" onClick={handleOpen}>\r\n                    <MdMoreVert />\r\n                </IconButton>\r\n            </Tooltip>\r\n            <Menu\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={!!anchorEl}\r\n                onClose={handleCloseMenus}\r\n            >\r\n                {renderMenus(user.roles[0])}\r\n            </Menu>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(MenuOptions)\r\n\r\n// MenuOptions.propTypes = {\r\n//     data: PropTypes.object.isRequired,\r\n// }\r\n","import React from 'react'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\r\nimport {\r\n    TableContainer,\r\n    Table,\r\n    TableHead,\r\n    TableBody,\r\n    TableRow,\r\n    TableCell,\r\n    TablePagination,\r\n    IconButton,\r\n    Chip,\r\n    TableSortLabel,\r\n    withStyles,\r\n    ListItemText,\r\n    ListItem,\r\n    ListItemAvatar,\r\n    Avatar,\r\n    Badge,\r\n} from '@material-ui/core'\r\nimport {\r\n    MdChat,\r\n    MdFirstPage,\r\n    MdKeyboardArrowLeft,\r\n    MdKeyboardArrowRight,\r\n    MdLastPage,\r\n} from 'react-icons/md'\r\n// import PropTypes from 'prop-types'\r\nimport { useReport } from '../../hooks/ReportContext'\r\nimport MenuOptions from './MenuOptions/MenuOptions'\r\nimport * as ReducerActions from '../../../../constants/ActionTypes'\r\nimport { parseDateToString } from '../../../../utils/DateTimes'\r\nimport Highlighter from 'react-highlight-words';\r\nimport { purposeNames } from '../../../../constants/Generals'\r\nimport classes from './Tables.module.scss'\r\n\r\n// Customize component TablePagination\r\nfunction TablePaginationActions(props) {\r\n    const theme = useTheme()\r\n\r\n    const { count, page, rowsPerPage, totalPage, onChangePage } = props\r\n\r\n    const handleFirstPageButtonClick = (event) => {\r\n        onChangePage(event, 0) // firstPage has index = 0\r\n    }\r\n\r\n    const handleLastPageButtonClick = (event) => {\r\n        onChangePage(event, Math.ceil(count / rowsPerPage) - 1)\r\n    }\r\n\r\n    const handleBackPageButtonClick = (event) => {\r\n        onChangePage(event, page - 1) // current page - 1\r\n    }\r\n\r\n    const handleNextPageButtonClick = (event) => {\r\n        onChangePage(event, page + 1) // current page + 1\r\n    }\r\n\r\n    return (\r\n        <div className={classes.paging}>\r\n            <IconButton\r\n                onClick={handleFirstPageButtonClick}\r\n                disabled={page === 0}\r\n                aria-label=\"first page\"\r\n            >\r\n                {theme.direction === 'rtl' ? <MdLastPage /> : <MdFirstPage />}\r\n            </IconButton>\r\n            <IconButton\r\n                onClick={handleBackPageButtonClick}\r\n                disabled={page === 0}\r\n                aria-label=\"previous page\"\r\n            >\r\n                {theme.direction === 'rtl' ? (\r\n                    <MdKeyboardArrowRight />\r\n                ) : (\r\n                    <MdKeyboardArrowLeft />\r\n                )}\r\n            </IconButton>\r\n            <span>\r\n                {page + 1} / {totalPage}\r\n            </span>\r\n            <IconButton\r\n                onClick={handleNextPageButtonClick}\r\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n                aria-label=\"next page\"\r\n            >\r\n                {theme.direction === 'rtl' ? (\r\n                    <MdKeyboardArrowLeft />\r\n                ) : (\r\n                    <MdKeyboardArrowRight />\r\n                )}\r\n            </IconButton>\r\n            <IconButton\r\n                onClick={handleLastPageButtonClick}\r\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n                aria-label=\"last page\"\r\n            >\r\n                {theme.direction === 'rtl' ? <MdFirstPage /> : <MdLastPage />}\r\n            </IconButton>\r\n        </div>\r\n    )\r\n}\r\n\r\n// TablePaginationActions.propTypes = {\r\n//     count: PropTypes.number.isRequired,\r\n//     page: PropTypes.number.isRequired,\r\n//     rowsPerPage: PropTypes.number.isRequired,\r\n//     onChangePage: PropTypes.func.isRequired,\r\n//     totalPage: PropTypes.number.isRequired,\r\n// }\r\n\r\nfunction SortableTableHeaders(props) {\r\n    const { columns, direction, column, onRequestSort } = props\r\n    const createSortHandler = (col, direction) => {\r\n        onRequestSort(col, direction)\r\n    }\r\n\r\n    const MuiTableSortLabel = withStyles({\r\n        root: {\r\n            color: 'white !important',\r\n            '&:hover': {\r\n                color: 'white !important',\r\n            },\r\n            '&$active': {\r\n                color: 'white !important',\r\n            },\r\n        },\r\n        active: {},\r\n        icon: {\r\n            color: 'white !important',\r\n        },\r\n    })(TableSortLabel)\r\n\r\n    return (\r\n        <TableHead>\r\n            <TableRow className={classes.tHead}>\r\n                {columns.map((col) => (\r\n                    <TableCell\r\n                        key={col.key}\r\n                        className={classes.tHeadCell}\r\n                        sortDirection={column === col.key ? direction : false}\r\n                        width={col.width}\r\n                    >\r\n                        {col?.sortable ? (\r\n                            <MuiTableSortLabel\r\n                                active={column === col.key}\r\n                                direction={column === col.key ? direction : 'asc'}\r\n                                onClick={() => createSortHandler(col, direction)}\r\n                            >\r\n                                {col.name}\r\n                            </MuiTableSortLabel>\r\n                        ) :\r\n                            col.name\r\n                        }\r\n                    </TableCell>\r\n                ))}\r\n            </TableRow>\r\n        </TableHead>\r\n    )\r\n}\r\n\r\n// SortableTableHeaders.propTypes = {\r\n//     columns: PropTypes.array.isRequired,\r\n//     direction: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n//     column: PropTypes.string.isRequired,\r\n//     onRequestSort: PropTypes.func.isRequired,\r\n// }\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    itemPIC: {\r\n        padding: 0,\r\n        margin: 0,\r\n    },\r\n    itemTextLarge: {\r\n        fontSize: '0.95rem',\r\n    },\r\n    itemTextMedium: {\r\n        fontSize: '0.875rem',\r\n    },\r\n    itemTextSmall: {\r\n        fontSize: '0.8rem',\r\n    },\r\n}))\r\n\r\n// Customize component Table\r\nfunction Tables(props) {\r\n    const styles = useStyles();\r\n    const { columns, rows, totalRecord, totalPage, refreshAPI } = props;\r\n\r\n    const {\r\n        params,\r\n        dispatchParams,\r\n        limit,\r\n        direction,\r\n        column,\r\n        setColumn,\r\n        setLimit,\r\n        setPage,\r\n        setDirection,\r\n    } = useReport()\r\n\r\n    // ====================Paging====================\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage)\r\n        dispatchParams({\r\n            type: ReducerActions.CHANGE_PAGE,\r\n            payload: {\r\n                page: newPage,\r\n                limit: params.limit,\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleChangeLimit = (event) => {\r\n        setLimit(parseInt(event.target.value, 10))\r\n        setPage(0)\r\n        dispatchParams({\r\n            type: ReducerActions.CHANGE_PAGE,\r\n            payload: {\r\n                page: 0,\r\n                limit: parseInt(event.target.value, 10),\r\n            },\r\n        })\r\n    }\r\n\r\n    const onSortBy = (col, direction) => {\r\n        if (col.sortable) {\r\n            setDirection(direction === 'desc' ? 'asc' : 'desc')\r\n            setColumn(col.key)\r\n\r\n            dispatchParams({\r\n                type: ReducerActions.SORT_BY,\r\n                payload: {\r\n                    column: col.key,\r\n                    direction: direction,\r\n                },\r\n            })\r\n        }\r\n    }\r\n\r\n    const setPurposeChipColor = (purpose) => {\r\n        switch (purpose) {\r\n            case purposeNames.purp1:\r\n                return <Chip label={purpose} className={classes.chipSalesMoi} />\r\n            // case purposeNames.purp2:\r\n            //     return <Chip label={purpose} className={classes.chipTheoDoi} />\r\n            case purposeNames.purp3:\r\n                return <Chip label={purpose} className={classes.chipChamSoc} />\r\n            case purposeNames.purp4:\r\n                return <Chip label={purpose} className={classes.chipTaiKy} />\r\n            case purposeNames.purp5:\r\n                return <Chip label={purpose} className={classes.chipKyMoi} />\r\n            default:\r\n                return <Chip label={purpose} /> // #5c21f3\r\n        }\r\n    }\r\n\r\n    // const setResultChipColor = (result) => {\r\n    //     if (result === true) {\r\n    //         return <Chip label='Đã gặp HT/HP' className={classes.chipSuccess} />\r\n    //     } else if (result === false) {\r\n    //         return <Chip label='Chưa gặp HT/HP' className={classes.chipFailed} />\r\n    //     }\r\n    // }\r\n\r\n    const truncateString = (str) => {\r\n        if (str) return str.length > 60 ? str.substring(0, 57) + '...' : str\r\n        else return ''\r\n    }\r\n\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <TableContainer className={classes.container} component=\"div\">\r\n                <Table\r\n                    className={classes.table}\r\n                    stickyHeader\r\n                    size=\"small\"\r\n                    aria-label=\"sticky table\"\r\n                >\r\n                    <SortableTableHeaders\r\n                        columns={columns}\r\n                        direction={direction}\r\n                        column={column}\r\n                        onRequestSort={onSortBy}\r\n                    />\r\n                    <TableBody className={classes.tBody}>\r\n                        {rows?.length > 0 ? (\r\n                            rows.map((row, index) => (\r\n                                <TableRow\r\n                                    key={row?.id}\r\n                                    className={classes.tBodyRow}\r\n                                >\r\n                                    <TableCell className={classes.tableCell} align=\"center\">{params.page * params.limit + index + 1}</TableCell>\r\n                                    <TableCell className={classes.tBodyCell}>\r\n                                        {parseDateToString(row?.date, 'DD/MM/YYYY')} &nbsp;\r\n                                        {row?.contextComments && (\r\n                                            <Badge\r\n                                                color=\"secondary\"\r\n                                                variant=\"dot\"\r\n                                            >\r\n                                                <MdChat />\r\n                                            </Badge>\r\n                                        )}\r\n                                    </TableCell>\r\n                                    <TableCell className={classes.tBodyCell}>\r\n                                        <ListItemText\r\n                                            primary={\r\n                                                <>\r\n                                                    {`${row?.level} `}\r\n                                                    <Highlighter\r\n                                                        highlightClassName=\"YourHighlightClass\"\r\n                                                        searchWords={[params.searchKey]}\r\n                                                        autoEscape={true}\r\n                                                        textToHighlight={row?.schoolName || ''}\r\n                                                    />\r\n                                                </>\r\n                                            }\r\n                                            secondary={row?.district}\r\n                                            classes={{\r\n                                                primary: styles.itemTextLarge,\r\n                                                secondary:\r\n                                                    styles.itemTextMedium,\r\n                                            }}\r\n                                        />\r\n                                    </TableCell>\r\n                                    <TableCell className={classes.tBodyCell}>\r\n                                        <ListItem className={styles.itemPIC}>\r\n                                            <ListItemAvatar>\r\n                                                <Avatar src={row?.avatar} />\r\n                                            </ListItemAvatar>\r\n                                            <ListItemText\r\n                                                className={classes.picName}\r\n                                                primary={\r\n                                                    <Highlighter\r\n                                                        highlightClassName=\"YourHighlightClass\"\r\n                                                        searchWords={[params.searchKey]}\r\n                                                        autoEscape={true}\r\n                                                        textToHighlight={row?.fullName || ''}\r\n                                                    />\r\n                                                }\r\n                                                secondary={\r\n                                                    <Highlighter\r\n                                                        highlightClassName=\"YourHighlightClass\"\r\n                                                        searchWords={[params.searchKey]}\r\n                                                        autoEscape={true}\r\n                                                        textToHighlight={row?.username || ''}\r\n                                                    />\r\n                                                }\r\n                                                classes={{\r\n                                                    primary:\r\n                                                        styles.itemTextMedium,\r\n                                                    secondary:\r\n                                                        styles.itemTextSmall,\r\n                                                }}\r\n                                            />\r\n                                        </ListItem>\r\n                                    </TableCell>\r\n                                    <TableCell className={classes.tBodyCell}>\r\n                                        {row?.purpose && setPurposeChipColor(row?.purpose)}\r\n                                    </TableCell>\r\n                                    <TableCell className={classes.tBodyCell}>\r\n                                        <span className={row?.isSuccess ? classes.rpDaGap : classes.rpChuaGap}>\r\n                                            {row?.isSuccess ? 'Đã gặp HT/HP' : 'Chưa gặp HT/HP'}\r\n                                        </span>\r\n                                    </TableCell>\r\n                                    <TableCell className={classes.tBodyCell}>\r\n                                        <Highlighter\r\n                                            highlightClassName=\"YourHighlightClass\"\r\n                                            searchWords={[params.searchKey]}\r\n                                            autoEscape={true}\r\n                                            textToHighlight={truncateString(row?.description) || ''}\r\n                                        />\r\n                                    </TableCell>\r\n                                    {/* <TableCell className={classes.tBodyCell}>{truncateString(row?.comment?.content)}</TableCell> */}\r\n                                    <TableCell className={classes.tBodyCell} align=\"right\">\r\n                                        <MenuOptions data={row} refreshAPI={refreshAPI} />\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            ))\r\n                        ) : (\r\n                            <TableRow className={classes.tBodyRow}>\r\n                                <TableCell\r\n                                    className={classes.noRecord}\r\n                                    component=\"td\"\r\n                                    colSpan=\"100%\"\r\n                                >\r\n                                    No records found.\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        )}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n            <TablePagination\r\n                rowsPerPageOptions={[10, 20, 50]}\r\n                component=\"div\"\r\n                count={totalRecord ? totalRecord : 0}\r\n                rowsPerPage={limit}\r\n                page={params.page}\r\n                SelectProps={{\r\n                    inputProps: {\r\n                        'aria-label': 'rows per page',\r\n                    },\r\n                    native: true,\r\n                }}\r\n                onChangePage={handleChangePage}\r\n                onChangeRowsPerPage={handleChangeLimit}\r\n                ActionsComponent={() => (\r\n                    <TablePaginationActions\r\n                        count={totalRecord ? totalRecord : 0}\r\n                        page={params.page}\r\n                        rowsPerPage={params.limit}\r\n                        totalPage={totalPage}\r\n                        onChangePage={handleChangePage}\r\n                    />\r\n                )}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Tables)\r\n\r\n// Tables.propTypes = {\r\n//     rows: PropTypes.array,\r\n//     columns: PropTypes.array.isRequired,\r\n//     totalRecord: PropTypes.number.isRequired,\r\n//     totalPage: PropTypes.number.isRequired,\r\n//     refreshAPI: PropTypes.func\r\n// };\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useHistory, useLocation } from 'react-router'\r\nimport { Filters, Tables } from './components'\r\nimport { columns } from './ReportsConfig'\r\nimport { useReport } from './hooks/ReportContext'\r\nimport * as ReportsServices from './ReportsServices'\r\nimport { Loading } from '../../components'\r\nimport classes from './Reports.module.scss'\r\n\r\nfunction Reports() {\r\n    const history = useHistory()\r\n    const location = useLocation()\r\n\r\n    const [taskId, setTaskId] = useState(\r\n        location?.state?.taskId ? location?.state?.taskId : 0\r\n    )\r\n    // const schoolName = location?.state?.schoolName ? location?.state?.schoolName : ''\r\n    // const PIC = location?.state?.PIC ? location?.state?.PIC : null\r\n\r\n    // console.log('location: ', location);\r\n\r\n    const { params } = useReport()\r\n    const { listFilters, page, limit, column, direction, searchKey } = params\r\n\r\n    const [data, setData] = useState(null)\r\n\r\n    const getAllReports = (\r\n        page = 0,\r\n        limit = 10,\r\n        column = 'date',\r\n        direction = 'desc',\r\n        searchKey,\r\n        listFilters,\r\n        taskId\r\n    ) => {\r\n        ReportsServices.getReports(\r\n            page,\r\n            limit,\r\n            column,\r\n            direction,\r\n            searchKey,\r\n            listFilters,\r\n            taskId\r\n        )\r\n            .then((res) => {\r\n                setData(res)\r\n                // console.log('reports nè: ', res);\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        getAllReports(page, limit, column, direction, searchKey, listFilters, taskId)\r\n\r\n        // return () => setData(null)\r\n    }, [params, taskId])  // Coi lại chỗ này nữa, click lại Sidebar thì ko thấy load lại từ đầu\r\n\r\n    if (!data) {\r\n        return <Loading />\r\n    }\r\n\r\n    return (\r\n        <div className={classes.panel}>\r\n            <Filters setTaskId={setTaskId} refreshAPI={getAllReports} />\r\n            <Tables\r\n                columns={columns}\r\n                rows={data.list}\r\n                totalRecord={data.totalElements}\r\n                totalPage={data.totalPage}\r\n                refreshAPI={getAllReports}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Reports\r\n","export const Consts = {\r\n    headers: {\r\n        child1: 'Report detail',\r\n        child2: 'Manager comment',\r\n        child3: 'Comment',\r\n    },\r\n    operations: {\r\n        cancel: 'Cancel',\r\n        save: 'Save',\r\n    },\r\n    messages: {\r\n        info: '',\r\n        success: 'Updated Successfully',\r\n        error: 'Updated Failed',\r\n        warning: '',\r\n    },\r\n    fields: {\r\n        rs: {\r\n            title: 'Result',\r\n        },\r\n        des: {\r\n            title: 'Description',\r\n        },\r\n        pos: {\r\n            title: 'Positivity',\r\n        },\r\n        diffic: {\r\n            title: 'Difficulty',\r\n        },\r\n        futPl: {\r\n            title: 'Future Plan',\r\n        },\r\n        cmt: {\r\n            hasCmt: 'Last comment by',\r\n            noCmt: 'No comments yet',\r\n        },\r\n    },\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport {\r\n    Button,\r\n    Grid,\r\n    TextField,\r\n    Typography,\r\n    makeStyles,\r\n    Chip,\r\n    Select,\r\n    MenuItem,\r\n    FormControl,\r\n    InputLabel,\r\n} from '@material-ui/core'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport * as yup from 'yup'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport { Loading } from '../../../../components'\r\nimport { Consts } from './ReportInfoConfig'\r\nimport * as ReportsServices from '../../ReportsServices'\r\nimport { useAuth } from '../../../../hooks/AuthContext'\r\nimport { roleNames } from '../../../../constants/Generals'\r\nimport { app as FirebaseApp } from '../../../../services/firebase'\r\nimport { useApp } from '../../../../hooks/AppContext'\r\nimport moment from 'moment'\r\nimport { parseDateToString } from '../../../../utils/DateTimes'\r\nimport { useSnackbar } from 'notistack'\r\nimport classes from './ReportInfo.module.scss'\r\n\r\nconst rpSchema = yup.object().shape({\r\n    isSuccess: yup.string().trim().required('Result is required'),\r\n    description: yup.string().trim().required('Description is required'),\r\n    positivity: yup.string().trim(),\r\n    difficulty: yup.string().trim(),\r\n    futurePlan: yup.string().trim(),\r\n})\r\n\r\nconst cmtSchema = yup.object().shape({\r\n    contextComments: yup.string().trim(),\r\n})\r\n\r\n//===============Set max-height for dropdown list===============\r\nconst ITEM_HEIGHT = 38\r\nconst ITEM_PADDING_TOP = 5\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT * 4 + ITEM_PADDING_TOP,\r\n        },\r\n    },\r\n}\r\n//==============================================================\r\n\r\n// const useStyles = makeStyles((theme) => ({\r\n//     formControl: {\r\n//         margin: theme.spacing(1),\r\n//         // minWidth: 160,\r\n//     },\r\n// }))\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    // disabledInput: {\r\n    //     '& .MuiInputBase-root.Mui-disabled': {\r\n    //         color: 'black',\r\n    //     },\r\n    // },\r\n    inputRoot: {\r\n        '&$disabled': {\r\n            color: 'black',\r\n        },\r\n    },\r\n    disabled: {},\r\n    option: {\r\n        fontSize: '0.875rem',\r\n    },\r\n    root: {},\r\n    menuItemRoot: {\r\n        '&$menuItemSelected': { backgroundColor: 'rgba(0, 0, 0, 0.08)' },\r\n        '&$menuItemSelected:focus': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.12)',\r\n        },\r\n        '&$menuItemSelected:hover': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.04);',\r\n        },\r\n    },\r\n    menuItemSelected: {},\r\n}))\r\n\r\nfunction RepInfo(props) {\r\n    const styles = useStyles()\r\n    const { report, refreshPage } = props\r\n    const { headers, operations, fields, messages } = Consts\r\n\r\n    const { enqueueSnackbar } = useSnackbar()\r\n\r\n    const { user } = useAuth()\r\n    const { userInfo } = useApp()\r\n\r\n    const history = useHistory()\r\n\r\n    const rpValues = {\r\n        id: report?.id,\r\n        isSuccess: report?.isSuccess,\r\n        description: report?.description ? report?.description : '',\r\n        positivity: report?.positivity ? report?.positivity : '',\r\n        difficulty: report?.difficulty ? report?.difficulty : '',\r\n        futurePlan: report?.futurePlan ? report?.futurePlan : '',\r\n    }\r\n\r\n    const cmtValues = {\r\n        id: report?.id,\r\n        contextComments: report?.contextComments ? report?.contextComments : '',\r\n    }\r\n\r\n    const {\r\n        control: rpControl,\r\n        errors: rpErrors,\r\n        handleSubmit: rpSubmit,\r\n        formState: rpState,\r\n        reset: rpReset,\r\n    } = useForm({\r\n        resolver: yupResolver(rpSchema),\r\n        defaultValues: rpValues,\r\n    })\r\n\r\n    const {\r\n        control: cmtControl,\r\n        errors: cmtErrors,\r\n        handleSubmit: cmtSubmit,\r\n        formState: cmtState,\r\n        reset: cmtReset,\r\n    } = useForm({\r\n        resolver: yupResolver(cmtSchema),\r\n        defaultValues: cmtValues,\r\n    })\r\n\r\n    useEffect(() => {\r\n        rpReset({\r\n            id: report?.id,\r\n            isSuccess: report?.isSuccess,\r\n            description: report?.description ? report?.description : '',\r\n            positivity: report?.positivity ? report?.positivity : '',\r\n            difficulty: report?.difficulty ? report?.difficulty : '',\r\n            futurePlan: report?.futurePlan ? report?.futurePlan : '',\r\n        })\r\n    }, [report])\r\n\r\n    useEffect(() => {\r\n        cmtReset({\r\n            id: report?.id,\r\n            contextComments: report?.contextComments\r\n                ? report.contextComments\r\n                : '',\r\n        })\r\n    }, [report])\r\n\r\n    if (!report) {\r\n        return <Loading />\r\n    }\r\n\r\n    const onRpSubmit = (data) => {\r\n        const model = {\r\n            ...data,\r\n            date: parseDateToString(report?.date, 'YYYY-MM-DD HH:mm:ss'),\r\n            isSuccess:\r\n                data?.isSuccess === ''\r\n                    ? false\r\n                    : data?.isSuccess === 'true'\r\n                    ? true\r\n                    : false,\r\n\r\n            // schoolName: report?.name,\r\n            // address: report?.address,\r\n            // district: report?.district,\r\n            // reprName: report?.reprName,\r\n            // reprIsMale: report?.reprIsMale,\r\n\r\n            // taskId: report?.taskId,\r\n            // schoolYear: report?.schoolYear,\r\n            // purpose: report?.schoolYear,\r\n\r\n            // avatar: report?.avatar,\r\n            // username: report?.username,\r\n            // fullName: report?.fullName,\r\n        }\r\n\r\n        ReportsServices.updateReport(data.id, model)\r\n            .then((res) => {\r\n                refreshPage(data.id)\r\n\r\n                enqueueSnackbar(messages.success, { variant: 'success' })\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n\r\n                enqueueSnackbar(messages.error, { variant: 'error' })\r\n            })\r\n\r\n        // alert(JSON.stringify(model))\r\n    }\r\n\r\n    const createNotify = (value) => {\r\n        new Promise((resolve, reject) => {\r\n            FirebaseApp.database()\r\n                .ref('notify')\r\n                .child(report.username)\r\n                .push({\r\n                    avatar: userInfo.avatar,\r\n                    actor: user.username,\r\n                    type: 'report',\r\n                    timestamp: moment(new Date()).format('YYYY-MM-DD HH:mm:ss'),\r\n                    content: \"You've just received a message from Manager.\",\r\n                    // content: `${user.fullName} has just commented on your report.`,\r\n                    uid: value.id,\r\n                    isSeen: false,\r\n                })\r\n        })\r\n    }\r\n\r\n    const onCmtSubmit = (data) => {\r\n        const model = {\r\n            ...data,\r\n            commentedPerson: user.username,\r\n        }\r\n\r\n        ReportsServices.updateComment(data.id, model)\r\n            .then((res) => {\r\n                refreshPage(data.id)\r\n\r\n                enqueueSnackbar(messages.success, { variant: 'success' })\r\n\r\n                createNotify(data)\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n\r\n                enqueueSnackbar(messages.error, { variant: 'error' })\r\n            })\r\n\r\n        // alert(JSON.stringify(model))\r\n    }\r\n\r\n    const setResultChipColor = (result) => {\r\n        if (result === true) {\r\n            return (\r\n                <Chip\r\n                    label=\"Đã gặp người đại diện (HT/HP)\"\r\n                    className={classes.chipSuccess}\r\n                />\r\n            )\r\n        } else if (result === false) {\r\n            return (\r\n                <Chip\r\n                    label=\"Chưa gặp người đại diện (HT/HP)\"\r\n                    className={classes.chipFailed}\r\n                />\r\n            )\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.panel}>\r\n            <Grid container spacing={0} className={classes.body}>\r\n                {/* Content Sector */}\r\n                <Grid\r\n                    item\r\n                    xs={12}\r\n                    sm={12}\r\n                    md={12}\r\n                    lg={12}\r\n                    className={classes.content}\r\n                >\r\n                    {user.username === report?.username &&\r\n                    report?.commentedPerson === null &&\r\n                    report?.contextComments === null ? (\r\n                        <form onSubmit={rpSubmit(onRpSubmit)} noValidate>\r\n                            {/* Report Detail */}\r\n                            <Grid\r\n                                container\r\n                                spacing={0}\r\n                                className={classes.wrapper}\r\n                            >\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={3}\r\n                                    lg={3}\r\n                                    className={classes.row}\r\n                                >\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.header}\r\n                                    >\r\n                                        {headers.child1}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                {/* Detail */}\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={9}\r\n                                    lg={8}\r\n                                    className={classes.row}\r\n                                >\r\n                                    <Grid container spacing={0}>\r\n                                        <Grid\r\n                                            item\r\n                                            xs={12}\r\n                                            sm={12}\r\n                                            md={6}\r\n                                            lg={6}\r\n                                            className={classes.row}\r\n                                        >\r\n                                            <Controller\r\n                                                name=\"id\"\r\n                                                control={rpControl}\r\n                                                render={({ value }) => (\r\n                                                    <input\r\n                                                        type=\"hidden\"\r\n                                                        name=\"id\"\r\n                                                        value={value}\r\n                                                    />\r\n                                                )}\r\n                                            />\r\n                                            <FormControl\r\n                                                variant=\"outlined\"\r\n                                                fullWidth\r\n                                                required\r\n                                            >\r\n                                                <InputLabel id=\"isSuccess-label\">\r\n                                                    {fields.rs.title}\r\n                                                </InputLabel>\r\n                                                <Controller\r\n                                                    name=\"isSuccess\"\r\n                                                    control={rpControl}\r\n                                                    render={({\r\n                                                        value,\r\n                                                        onChange,\r\n                                                    }) => (\r\n                                                        <Select\r\n                                                            labelId=\"isSuccess-label\"\r\n                                                            label={\r\n                                                                fields.rs.title\r\n                                                            }\r\n                                                            value={value}\r\n                                                            onChange={onChange}\r\n                                                            MenuProps={\r\n                                                                MenuProps\r\n                                                            }\r\n                                                            // fullWidth\r\n                                                            // variant=\"outlined\"\r\n                                                            // inputRef={register}\r\n                                                            // error={!!errors.isSuccess}\r\n                                                            // helperText={errors?.isSuccess?.message}\r\n                                                        >\r\n                                                            <MenuItem\r\n                                                                value={true}\r\n                                                                className={\r\n                                                                    styles.option\r\n                                                                }\r\n                                                                classes={{\r\n                                                                    root: styles.menuItemRoot,\r\n                                                                    selected:\r\n                                                                        styles.menuItemSelected,\r\n                                                                }}\r\n                                                            >\r\n                                                                Đã gặp người đại\r\n                                                                diện (HT/HP)\r\n                                                            </MenuItem>\r\n                                                            <MenuItem\r\n                                                                value={false}\r\n                                                                className={\r\n                                                                    styles.option\r\n                                                                }\r\n                                                                classes={{\r\n                                                                    root: styles.menuItemRoot,\r\n                                                                    selected:\r\n                                                                        styles.menuItemSelected,\r\n                                                                }}\r\n                                                            >\r\n                                                                Chưa gặp người\r\n                                                                đại diện (HT/HP)\r\n                                                            </MenuItem>\r\n                                                        </Select>\r\n                                                        // <TextField\r\n                                                        //     label={fields.rs.title}\r\n                                                        //     variant=\"outlined\"\r\n                                                        //     required\r\n                                                        //     fullWidth\r\n                                                        //     autoFocus\r\n                                                        //     value={value}\r\n                                                        //     onChange={onChange}\r\n                                                        //     error={\r\n                                                        //         !!rpErrors.isSuccess\r\n                                                        //     }\r\n                                                        //     helperText={\r\n                                                        //         rpErrors?.isSuccess\r\n                                                        //             ?.message\r\n                                                        //     }\r\n                                                        // />\r\n                                                    )}\r\n                                                />\r\n                                            </FormControl>\r\n                                        </Grid>\r\n\r\n                                        <Grid\r\n                                            item\r\n                                            xs={12}\r\n                                            sm={12}\r\n                                            md={10}\r\n                                            lg={10}\r\n                                            className={classes.row}\r\n                                        >\r\n                                            <Controller\r\n                                                name=\"description\"\r\n                                                control={rpControl}\r\n                                                render={({\r\n                                                    value,\r\n                                                    onChange,\r\n                                                }) => (\r\n                                                    <TextField\r\n                                                        label={fields.des.title}\r\n                                                        variant=\"outlined\"\r\n                                                        required\r\n                                                        fullWidth\r\n                                                        multiline\r\n                                                        rows={3}\r\n                                                        value={value}\r\n                                                        onChange={onChange}\r\n                                                        error={\r\n                                                            !!rpErrors.description\r\n                                                        }\r\n                                                        helperText={\r\n                                                            rpErrors\r\n                                                                ?.description\r\n                                                                ?.message\r\n                                                        }\r\n                                                    />\r\n                                                )}\r\n                                            />\r\n                                        </Grid>\r\n\r\n                                        <Grid\r\n                                            item\r\n                                            xs={12}\r\n                                            sm={12}\r\n                                            md={10}\r\n                                            lg={10}\r\n                                            className={classes.row}\r\n                                        >\r\n                                            <Controller\r\n                                                name=\"positivity\"\r\n                                                control={rpControl}\r\n                                                render={({\r\n                                                    value,\r\n                                                    onChange,\r\n                                                }) => (\r\n                                                    <TextField\r\n                                                        label={fields.pos.title}\r\n                                                        variant=\"outlined\"\r\n                                                        fullWidth\r\n                                                        value={value}\r\n                                                        onChange={onChange}\r\n                                                        error={\r\n                                                            !!rpErrors.positivity\r\n                                                        }\r\n                                                        helperText={\r\n                                                            rpErrors?.positivity\r\n                                                                ?.message\r\n                                                        }\r\n                                                    />\r\n                                                )}\r\n                                            />\r\n                                        </Grid>\r\n\r\n                                        <Grid\r\n                                            item\r\n                                            xs={12}\r\n                                            sm={12}\r\n                                            md={10}\r\n                                            lg={10}\r\n                                            className={classes.row}\r\n                                        >\r\n                                            <Controller\r\n                                                name=\"difficulty\"\r\n                                                control={rpControl}\r\n                                                render={({\r\n                                                    value,\r\n                                                    onChange,\r\n                                                }) => (\r\n                                                    <TextField\r\n                                                        label={\r\n                                                            fields.diffic.title\r\n                                                        }\r\n                                                        variant=\"outlined\"\r\n                                                        fullWidth\r\n                                                        value={value}\r\n                                                        onChange={onChange}\r\n                                                        error={\r\n                                                            !!rpErrors.difficulty\r\n                                                        }\r\n                                                        helperText={\r\n                                                            rpErrors?.difficulty\r\n                                                                ?.message\r\n                                                        }\r\n                                                    />\r\n                                                )}\r\n                                            />\r\n                                        </Grid>\r\n\r\n                                        <Grid\r\n                                            item\r\n                                            xs={12}\r\n                                            sm={12}\r\n                                            md={10}\r\n                                            lg={10}\r\n                                            className={classes.row}\r\n                                        >\r\n                                            <Controller\r\n                                                name=\"futurePlan\"\r\n                                                control={rpControl}\r\n                                                render={({\r\n                                                    value,\r\n                                                    onChange,\r\n                                                }) => (\r\n                                                    <TextField\r\n                                                        label={\r\n                                                            fields.futPl.title\r\n                                                        }\r\n                                                        variant=\"outlined\"\r\n                                                        fullWidth\r\n                                                        value={value}\r\n                                                        onChange={onChange}\r\n                                                        error={\r\n                                                            !!rpErrors.futurePlan\r\n                                                        }\r\n                                                        helperText={\r\n                                                            rpErrors?.futurePlan\r\n                                                                ?.message\r\n                                                        }\r\n                                                    />\r\n                                                )}\r\n                                            />\r\n                                        </Grid>\r\n                                        {/* Action */}\r\n                                        <Grid\r\n                                            item\r\n                                            xs={12}\r\n                                            sm={12}\r\n                                            md={10}\r\n                                            lg={10}\r\n                                            className={classes.action}\r\n                                        >\r\n                                            <Button\r\n                                                className={classes.submit}\r\n                                                // variant=\"contained\"\r\n                                                disabled={!rpState.isDirty}\r\n                                                type=\"submit\"\r\n                                            >\r\n                                                {operations.save}\r\n                                            </Button>\r\n                                        </Grid>\r\n                                        {/* End action */}\r\n                                    </Grid>\r\n                                </Grid>\r\n                                {/* End Detail */}\r\n                            </Grid>\r\n                        </form>\r\n                    ) : (\r\n                        <Grid container spacing={0} className={classes.wrapper}>\r\n                            <Grid\r\n                                item\r\n                                xs={12}\r\n                                sm={12}\r\n                                md={12}\r\n                                lg={12}\r\n                                className={classes.row}\r\n                            >\r\n                                <Typography\r\n                                    color=\"inherit\"\r\n                                    className={classes.header}\r\n                                >\r\n                                    {headers.child1}\r\n                                </Typography>\r\n                            </Grid>\r\n\r\n                            <Grid\r\n                                item\r\n                                xs={12}\r\n                                sm={12}\r\n                                md={12}\r\n                                lg={12}\r\n                                className={classes.row}\r\n                            >\r\n                                <Grid\r\n                                    container\r\n                                    spacing={0}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={3}\r\n                                        lg={3}\r\n                                        className={classes.rowx}\r\n                                    >\r\n                                        <Typography\r\n                                            color=\"inherit\"\r\n                                            className={classes.title}\r\n                                        >\r\n                                            {fields.rs.title}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={8}\r\n                                        lg={6}\r\n                                        className={classes.rowx}\r\n                                    >\r\n                                        <Typography color=\"inherit\">\r\n                                            {(report?.isSuccess === true ||\r\n                                                report?.isSuccess === false) &&\r\n                                                setResultChipColor(\r\n                                                    report?.isSuccess\r\n                                                )}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid\r\n                                item\r\n                                xs={12}\r\n                                sm={12}\r\n                                md={12}\r\n                                lg={12}\r\n                                className={classes.row}\r\n                            >\r\n                                <Grid\r\n                                    container\r\n                                    spacing={0}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={3}\r\n                                        lg={3}\r\n                                        className={classes.rowx}\r\n                                    >\r\n                                        <Typography\r\n                                            color=\"inherit\"\r\n                                            className={classes.title}\r\n                                        >\r\n                                            {fields.des.title}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={8}\r\n                                        lg={6}\r\n                                        className={classes.rowx}\r\n                                    >\r\n                                        <Typography color=\"inherit\">\r\n                                            {report?.description}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid\r\n                                item\r\n                                xs={12}\r\n                                sm={12}\r\n                                md={12}\r\n                                lg={12}\r\n                                className={classes.row}\r\n                            >\r\n                                <Grid\r\n                                    container\r\n                                    spacing={0}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={3}\r\n                                        lg={3}\r\n                                        className={classes.rowx}\r\n                                    >\r\n                                        <Typography\r\n                                            color=\"inherit\"\r\n                                            className={classes.title}\r\n                                        >\r\n                                            {fields.pos.title}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={8}\r\n                                        lg={6}\r\n                                        className={classes.rowx}\r\n                                    >\r\n                                        <Typography color=\"inherit\">\r\n                                            {report?.positivity}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid\r\n                                item\r\n                                xs={12}\r\n                                sm={12}\r\n                                md={12}\r\n                                lg={12}\r\n                                className={classes.row}\r\n                            >\r\n                                <Grid\r\n                                    container\r\n                                    spacing={0}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={3}\r\n                                        lg={3}\r\n                                        className={classes.rowx}\r\n                                    >\r\n                                        <Typography\r\n                                            color=\"inherit\"\r\n                                            className={classes.title}\r\n                                        >\r\n                                            {fields.diffic.title}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={8}\r\n                                        lg={6}\r\n                                        className={classes.rowx}\r\n                                    >\r\n                                        <Typography color=\"inherit\">\r\n                                            {report?.difficulty}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid\r\n                                item\r\n                                xs={12}\r\n                                sm={12}\r\n                                md={12}\r\n                                lg={12}\r\n                                className={classes.row}\r\n                            >\r\n                                <Grid\r\n                                    container\r\n                                    spacing={0}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={3}\r\n                                        lg={3}\r\n                                        className={classes.rowx}\r\n                                    >\r\n                                        <Typography\r\n                                            color=\"inherit\"\r\n                                            className={classes.title}\r\n                                        >\r\n                                            {fields.futPl.title}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={8}\r\n                                        lg={6}\r\n                                        className={classes.rowx}\r\n                                    >\r\n                                        <Typography color=\"inherit\">\r\n                                            {report?.futurePlan}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    )}\r\n                </Grid>\r\n                {/* Another Sector */}\r\n                <Grid\r\n                    item\r\n                    xs={12}\r\n                    sm={12}\r\n                    md={12}\r\n                    lg={12}\r\n                    className={classes.content}\r\n                >\r\n                    {user.roles[0] === roleNames.salesman ||\r\n                    (user.roles[0] !== roleNames.salesman &&\r\n                        user.username === report?.username) ? (\r\n                        <Grid container spacing={0} className={classes.wrapper}>\r\n                            <Grid\r\n                                item\r\n                                xs={12}\r\n                                sm={12}\r\n                                md={3}\r\n                                lg={3}\r\n                                className={classes.row}\r\n                            >\r\n                                <Typography\r\n                                    color=\"inherit\"\r\n                                    className={classes.header}\r\n                                >\r\n                                    {headers.child2}\r\n                                </Typography>\r\n                            </Grid>\r\n\r\n                            <Grid\r\n                                item\r\n                                xs={12}\r\n                                sm={12}\r\n                                md={9}\r\n                                lg={8}\r\n                                className={classes.row}\r\n                            >\r\n                                <Grid\r\n                                    container\r\n                                    spacing={0}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={10}\r\n                                        lg={10}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <Controller\r\n                                            name=\"contextComments\"\r\n                                            control={cmtControl}\r\n                                            render={({ value }) => (\r\n                                                <TextField\r\n                                                    label={\r\n                                                        report?.commentedPerson\r\n                                                            ? `${fields.cmt.hasCmt} ${report?.commentedPerson}`\r\n                                                            : fields.cmt.noCmt\r\n                                                    }\r\n                                                    variant=\"outlined\"\r\n                                                    fullWidth\r\n                                                    multiline\r\n                                                    rows={4}\r\n                                                    disabled\r\n                                                    InputProps={{\r\n                                                        classes: {\r\n                                                            root: styles.inputRoot,\r\n                                                            disabled:\r\n                                                                styles.disabled,\r\n                                                        },\r\n                                                    }}\r\n                                                    value={value}\r\n                                                />\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    ) : (\r\n                        <form onSubmit={cmtSubmit(onCmtSubmit)} noValidate>\r\n                            {/* Comment Detail */}\r\n                            <Grid\r\n                                container\r\n                                spacing={0}\r\n                                className={classes.wrapper}\r\n                            >\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={3}\r\n                                    lg={3}\r\n                                    className={classes.row}\r\n                                >\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.header}\r\n                                    >\r\n                                        {headers.child2}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                {/* Detail */}\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={9}\r\n                                    lg={8}\r\n                                    className={classes.row}\r\n                                >\r\n                                    <Grid container spacing={0}>\r\n                                        <Grid\r\n                                            item\r\n                                            xs={12}\r\n                                            sm={12}\r\n                                            md={10}\r\n                                            lg={10}\r\n                                            className={classes.row}\r\n                                        >\r\n                                            <Controller\r\n                                                name=\"id\"\r\n                                                control={cmtControl}\r\n                                                render={({ value }) => (\r\n                                                    <input\r\n                                                        type=\"hidden\"\r\n                                                        name=\"id\"\r\n                                                        value={value}\r\n                                                    />\r\n                                                )}\r\n                                            />\r\n\r\n                                            <Controller\r\n                                                name=\"contextComments\"\r\n                                                control={cmtControl}\r\n                                                render={({\r\n                                                    value,\r\n                                                    onChange,\r\n                                                }) => (\r\n                                                    <TextField\r\n                                                        label={\r\n                                                            report?.commentedPerson\r\n                                                                ? `${fields.cmt.hasCmt} ${report?.commentedPerson}`\r\n                                                                : fields.cmt\r\n                                                                      .noCmt\r\n                                                        }\r\n                                                        variant=\"outlined\"\r\n                                                        fullWidth\r\n                                                        multiline\r\n                                                        rows={5}\r\n                                                        value={value}\r\n                                                        onChange={onChange}\r\n                                                        error={\r\n                                                            !!cmtErrors.contextComments\r\n                                                        }\r\n                                                        helperText={\r\n                                                            cmtErrors\r\n                                                                ?.contextComments\r\n                                                                ?.message\r\n                                                        }\r\n                                                    />\r\n                                                )}\r\n                                            />\r\n                                        </Grid>\r\n                                        {/* Action */}\r\n                                        <Grid\r\n                                            item\r\n                                            xs={12}\r\n                                            sm={12}\r\n                                            md={10}\r\n                                            lg={10}\r\n                                            className={classes.action}\r\n                                        >\r\n                                            <Button\r\n                                                className={classes.submit}\r\n                                                variant=\"contained\"\r\n                                                disabled={!cmtState.isDirty}\r\n                                                type=\"submit\"\r\n                                            >\r\n                                                {operations.save}\r\n                                            </Button>\r\n                                        </Grid>\r\n                                        {/* End Action */}\r\n                                    </Grid>\r\n                                </Grid>\r\n                                {/* End Detail */}\r\n                            </Grid>\r\n                        </form>\r\n                    )}\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RepInfo\r\n","export const Consts = {\r\n    headers: {\r\n        child1: 'Assign detail',\r\n        child2: 'School detail',\r\n    },\r\n    operations: {\r\n        cancel: 'Cancel',\r\n        save: 'Save',\r\n    },\r\n    fields: {\r\n        name: {\r\n            title: 'School Name',\r\n        },\r\n        addr: {\r\n            title: 'Address',\r\n        },\r\n        dist: {\r\n            title: 'District',\r\n        },\r\n        eduLvl: {\r\n            title: 'Educational Level',\r\n        },\r\n        // scale: {\r\n        //     title: 'School Scale',\r\n        // },\r\n        type: {\r\n            title: 'School Type',\r\n        },\r\n        salesStatus: {\r\n            title: 'School Status',\r\n        },\r\n        tel: {\r\n            title: 'Tel',\r\n        },\r\n        reprName: {\r\n            title: 'Principal Name',\r\n        },\r\n        pic: {\r\n            title: 'PIC',\r\n        },\r\n        purpose: {\r\n            title: 'Sales Purpose',\r\n        },\r\n        schlYear: {\r\n            title: 'School Year',\r\n        },\r\n        empty: {\r\n            title: 'N/A',\r\n        },\r\n        duration: {\r\n            title: 'Duration'\r\n        }\r\n    },\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Grid, Typography, Icon, Avatar, Chip } from '@material-ui/core'\r\nimport { Loading } from '../../../../components'\r\nimport { Consts } from './AssignInfoConfig'\r\nimport { purposeNames } from '../../../../constants/Generals'\r\nimport { getTask } from '../../../Tasks/TasksServices'\r\nimport { parseDateToString } from '../../../../utils/DateTimes'\r\nimport classes from './AssignInfo.module.scss'\r\n\r\nfunction AssignInfo(props) {\r\n    const { report } = props\r\n    const { headers, fields } = Consts\r\n\r\n    const [taskDetail, setTaskDetail] = useState(null)\r\n\r\n    useEffect(() => {\r\n        getTask(report?.taskId)\r\n            .then((res) => {\r\n                // console.log('task of the report: ', res)\r\n                setTaskDetail(res)\r\n            })\r\n            .catch((error) => {\r\n                console.log(error.response.data.message)\r\n            })\r\n    }, [])\r\n\r\n    if (!report || !taskDetail) {\r\n        return <Loading />\r\n    }\r\n\r\n    const setPurposeChipColor = (purpose) => {\r\n        switch (purpose) {\r\n            case purposeNames.purp1:\r\n                return <Chip label={purpose} className={classes.chipSalesMoi} />\r\n            // case purposeNames.purp2:\r\n            //     return <Chip label={purpose} className={classes.chipTheoDoi} />\r\n            case purposeNames.purp3:\r\n                return <Chip label={purpose} className={classes.chipChamSoc} />\r\n            case purposeNames.purp4:\r\n                return <Chip label={purpose} className={classes.chipTaiKy} />\r\n            case purposeNames.purp5:\r\n                return <Chip label={purpose} className={classes.chipKyMoi} />\r\n            default:\r\n                return <Chip label={purpose} /> // #5c21f3\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.panel}>\r\n            <Grid container spacing={0} className={classes.body}>\r\n                {/* Assign Info*/}\r\n                <Grid\r\n                    item\r\n                    xs={12}\r\n                    sm={12}\r\n                    md={12}\r\n                    lg={12}\r\n                    className={classes.content}\r\n                >\r\n                    <Grid container spacing={0} className={classes.wrapper}>\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            md={12}\r\n                            lg={12}\r\n                            className={classes.row}\r\n                        >\r\n                            <Typography\r\n                                color=\"inherit\"\r\n                                className={classes.header}\r\n                            >\r\n                                {headers.child1}\r\n                            </Typography>\r\n                        </Grid>\r\n\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            md={12}\r\n                            lg={12}\r\n                            className={classes.row}\r\n                        >\r\n                            <Grid\r\n                                container\r\n                                spacing={0}\r\n                                className={classes.rowx}\r\n                            >\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={4}\r\n                                    lg={3}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.title}\r\n                                    >\r\n                                        {fields.pic.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={8}\r\n                                    lg={6}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    {/* <Typography color=\"inherit\"> */}\r\n                                    <div className={classes.user}>\r\n                                        {report?.avatar ? (\r\n                                            <Avatar\r\n                                                className={classes.avatar}\r\n                                                alt=\"user avatar\"\r\n                                                src={report?.avatar}\r\n                                            />\r\n                                        ) : (\r\n                                            <Avatar className={classes.avatar}>\r\n                                                {\r\n                                                    report?.fullName\r\n                                                        .split(' ')\r\n                                                        .pop()[0]\r\n                                                }\r\n                                            </Avatar>\r\n                                        )}\r\n\r\n                                        <div className={classes.info}>\r\n                                            <Typography\r\n                                                component=\"span\"\r\n                                                className={classes.fullName}\r\n                                            >\r\n                                                {report?.fullName}\r\n                                            </Typography>\r\n                                            <Typography\r\n                                                className={classes.username}\r\n                                            >\r\n                                                {report?.username}\r\n                                            </Typography>\r\n                                        </div>\r\n                                    </div>\r\n                                    {/* </Typography> */}\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            md={12}\r\n                            lg={12}\r\n                            className={classes.row}\r\n                        >\r\n                            <Grid\r\n                                container\r\n                                spacing={0}\r\n                                className={classes.rowx}\r\n                            >\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={4}\r\n                                    lg={3}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.title}\r\n                                    >\r\n                                        {fields.schlYear.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={8}\r\n                                    lg={6}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography color=\"inherit\">\r\n                                        {report?.schoolYear}\r\n                                    </Typography>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            md={12}\r\n                            lg={12}\r\n                            className={classes.row}\r\n                        >\r\n                            <Grid\r\n                                container\r\n                                spacing={0}\r\n                                className={classes.rowx}\r\n                            >\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={4}\r\n                                    lg={3}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.title}\r\n                                    >\r\n                                        {fields.duration.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={8}\r\n                                    lg={6}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography color=\"inherit\">\r\n                                        {parseDateToString(\r\n                                            taskDetail?.assignDate,\r\n                                            'DD-MM-YYYY'\r\n                                        )}\r\n                                        &nbsp; ➜ &nbsp;\r\n                                        {parseDateToString(\r\n                                            taskDetail?.endDate,\r\n                                            'DD-MM-YYYY'\r\n                                        )}\r\n                                    </Typography>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            md={12}\r\n                            lg={12}\r\n                            className={classes.row}\r\n                        >\r\n                            <Grid\r\n                                container\r\n                                spacing={0}\r\n                                className={classes.rowx}\r\n                            >\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={4}\r\n                                    lg={3}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.title}\r\n                                    >\r\n                                        {fields.purpose.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={8}\r\n                                    lg={6}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography color=\"inherit\">\r\n                                        {report?.purpose && setPurposeChipColor(report?.purpose)}\r\n                                    </Typography>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                    {/* end wrapper */}\r\n                </Grid>\r\n                {/* end content */}\r\n\r\n                {/*School Info */}\r\n                <Grid\r\n                    item\r\n                    xs={12}\r\n                    sm={12}\r\n                    md={12}\r\n                    lg={12}\r\n                    className={classes.content}\r\n                >\r\n                    <Grid container spacing={0} className={classes.wrapper}>\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            md={12}\r\n                            lg={12}\r\n                            className={classes.row}\r\n                        >\r\n                            <Typography\r\n                                color=\"inherit\"\r\n                                className={classes.header}\r\n                            >\r\n                                {headers.child2}\r\n                            </Typography>\r\n                        </Grid>\r\n\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            md={12}\r\n                            lg={12}\r\n                            className={classes.row}\r\n                        >\r\n                            <Grid\r\n                                container\r\n                                spacing={0}\r\n                                className={classes.rowx}\r\n                            >\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={4}\r\n                                    lg={3}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.title}\r\n                                    >\r\n                                        {fields.name.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={8}\r\n                                    lg={6}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography color=\"inherit\">\r\n                                        {report?.level} {report?.schoolName}\r\n                                    </Typography>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            md={12}\r\n                            lg={12}\r\n                            className={classes.row}\r\n                        >\r\n                            <Grid\r\n                                container\r\n                                spacing={0}\r\n                                className={classes.rowx}\r\n                            >\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={4}\r\n                                    lg={3}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.title}\r\n                                    >\r\n                                        {fields.addr.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={8}\r\n                                    lg={6}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography color=\"inherit\">\r\n                                        {report?.address}\r\n                                    </Typography>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            md={12}\r\n                            lg={12}\r\n                            className={classes.row}\r\n                        >\r\n                            <Grid\r\n                                container\r\n                                spacing={0}\r\n                                className={classes.rowx}\r\n                            >\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={4}\r\n                                    lg={3}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.title}\r\n                                    >\r\n                                        {fields.dist.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={8}\r\n                                    lg={6}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography color=\"inherit\">\r\n                                        {report?.district}\r\n                                    </Typography>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            md={12}\r\n                            lg={12}\r\n                            className={classes.row}\r\n                        >\r\n                            <Grid\r\n                                container\r\n                                spacing={0}\r\n                                className={classes.rowx}\r\n                            >\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={4}\r\n                                    lg={3}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.title}\r\n                                    >\r\n                                        {fields.reprName.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={8}\r\n                                    lg={6}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography color=\"inherit\">\r\n                                        {report?.reprName\r\n                                            ? `${report?.reprIsMale\r\n                                                ? 'Mr. '\r\n                                                : 'Ms. '\r\n                                            } ${report?.reprName}`\r\n                                            : fields.empty.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                    {/* end wrapper */}\r\n                </Grid>\r\n                {/* end content */}\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AssignInfo\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useLocation, useParams, useHistory } from 'react-router-dom'\r\nimport { DetailLayouts } from '../../layouts'\r\nimport { AssignInfo, ReportInfo } from './panels'\r\nimport * as ReportsServices from './ReportsServices'\r\nimport { rpConsts } from './ReportsConfig'\r\nimport { Loading, NotFound } from '../../components'\r\nimport { parseDateToString } from '../../utils/DateTimes'\r\n\r\nfunction Report() {\r\n    const { linkNames, tabNames, operations } = rpConsts\r\n    const [tabValue, setTabValue] = useState(0)\r\n\r\n    const { id } = useParams()\r\n    const location = useLocation()\r\n    const history = useHistory()\r\n\r\n    // const stateData = location.state?.data\r\n    const [report, setReport] = useState(null)  //stateData?.model\r\n    const [exist, setExist] = useState(true)\r\n\r\n    let isMounted = true\r\n    const refreshPage = (reportId) => {\r\n        ReportsServices.getReport(reportId)\r\n            .then((data) => {\r\n                if (isMounted) {\r\n                    setReport(data)\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    if (error.response.status === 403) {\r\n                        setExist(false)\r\n                    } else {\r\n                        history.push({\r\n                            pathname: '/errors',\r\n                            state: { error: error.response.status },\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    useEffect(() => {\r\n        refreshPage(id)\r\n        return () => {\r\n            // eslint-disable-next-line react-hooks/exhaustive-deps\r\n            isMounted = false\r\n        }\r\n    }, [])\r\n\r\n    if (!report) {\r\n        if (!exist) {\r\n            return <NotFound title={operations.notFound} />\r\n        } else {\r\n            return <Loading />\r\n        }\r\n    }\r\n\r\n    const handleChangeTab = (event, value) => {\r\n        setTabValue(value)\r\n    }\r\n\r\n    return (\r\n        <DetailLayouts\r\n            linkBack={linkNames.back}\r\n            header={`${report?.level} ${report?.schoolName}`}\r\n            subHeader={parseDateToString(report?.date, 'DD/MM/YYYY')}\r\n            // subHeader={moment(report?.date).format('DD/MM/YYYY')}\r\n            tabs={[tabNames.tab1, tabNames.tab2]}\r\n            tabValue={tabValue}\r\n            handleChangeTab={handleChangeTab}\r\n        >\r\n            {tabValue === 0 && (\r\n                <ReportInfo report={report} refreshPage={refreshPage} />\r\n            )}\r\n\r\n            {tabValue === 1 && <AssignInfo report={report} />}\r\n        </DetailLayouts>\r\n    )\r\n}\r\n\r\nexport default Report\r\n","import React, { useState } from 'react'\r\nimport { Button, Chip } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport PropTypes from 'prop-types'\r\nimport * as ReducerActions from '../../../../../constants/ActionTypes'\r\nimport { ACTIVE_FILTER, ROLE_FILTER } from '../../../../../constants/Filters'\r\n// import classes from './Chips.module.scss'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        flexWrap: 'wrap',\r\n    },\r\n    ul: {\r\n        maxWidth: 810,\r\n        overflowX: 'auto',\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        flexWrap: 'nowrap',\r\n        listStyle: 'none',\r\n        margin: 0,\r\n        paddingLeft: '0.5rem',\r\n    },\r\n    btnClear: {\r\n        fontSize: '0.75rem',\r\n    },\r\n    chip: {\r\n        margin: theme.spacing(0.5),\r\n    },\r\n}))\r\n\r\nfunction Chips(props) {\r\n    const classes = useStyles()\r\n    const { chips, dispatch, handleChipsRemoved } = props\r\n\r\n    //================Generate chips according to filters================\r\n    const [btnClearAll, setBtnClearAll] = useState(false)\r\n\r\n    const handleChipDelete = (chipToDelete) => () => {\r\n        // console.log('chipToDelete = ', chipToDelete);\r\n\r\n        switch (chipToDelete.filterType) {\r\n            case ACTIVE_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_ACTIVE,\r\n                    payload: { filterType: ACTIVE_FILTER, filterValue: null },\r\n                    // payload: { filterType: ACTIVE_FILTER, filterValue: { isActive: true, status: \"Active\" } },\r\n                })\r\n                break;\r\n\r\n            case ROLE_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_ROLE,\r\n                    payload: { filterType: ROLE_FILTER, filterValue: '' },\r\n                })\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n\r\n        if (!handleChipsRemoved) return\r\n        // Reset corresponding filters' value to \"All\" / null\r\n        const removedFilters = [chipToDelete.filterType]\r\n        handleChipsRemoved(removedFilters)\r\n    }\r\n\r\n    const handleClearAllChips = () => {\r\n        setBtnClearAll(false)\r\n\r\n        if (!handleChipsRemoved) return\r\n\r\n        dispatch({\r\n            type: ReducerActions.FILTER_ACTIVE,\r\n            payload: { filterType: ACTIVE_FILTER, filterValue: null }\r\n            // payload: { filterType: ACTIVE_FILTER, filterValue: { isActive: true, status: \"Active\" } }\r\n        })\r\n        dispatch({\r\n            type: ReducerActions.FILTER_ROLE,\r\n            payload: { filterType: ROLE_FILTER, filterValue: '' },\r\n        })\r\n\r\n        // const removedFilters = ['active', 'role']\r\n        const removedFilters = [ACTIVE_FILTER, ROLE_FILTER]\r\n\r\n        handleChipsRemoved(removedFilters)\r\n    }\r\n\r\n    const handleShowClearAllButton = () => {\r\n        let count = 0\r\n        chips.forEach((chip) => {\r\n            if (chip.filterValue === '' || chip.filterValue === null || chip.filterValue === undefined)\r\n                count++;\r\n        })\r\n        return count\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {handleShowClearAllButton() !== 2 && (\r\n                <div className={classes.root}>\r\n                    <Button\r\n                        size=\"small\"\r\n                        className={classes.btnClear}\r\n                        onClick={handleClearAllChips}\r\n                    >\r\n                        Clear all\r\n                    </Button>\r\n                    <ul className={classes.ul}>\r\n                        {chips.map((chip) => {\r\n                            return (\r\n                                <li key={chip.filterType}>\r\n                                    {chip.filterType !== ACTIVE_FILTER && chip.filterValue && (\r\n                                        <Chip\r\n                                            label={chip.filterValue}\r\n                                            onDelete={handleChipDelete(chip)}\r\n                                            className={classes.chip}\r\n                                            color=\"secondary\"\r\n                                        />\r\n                                    )}\r\n                                    {chip.filterType === ACTIVE_FILTER && (chip.filterValue !== null) && (\r\n                                        <Chip\r\n                                            label={chip.filterValue ? 'Active' : 'Inactive'}\r\n                                            onDelete={handleChipDelete(chip)}\r\n                                            className={classes.chip}\r\n                                            color=\"secondary\"\r\n                                        />\r\n                                    )}\r\n                                </li>\r\n                            )\r\n                        })}\r\n                    </ul>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Chips)\r\n\r\n// Chips.propTypes = {\r\n//     chips: PropTypes.array.isRequired,\r\n//     dispatch: PropTypes.func.isRequired,\r\n//     handleChipsRemoved: PropTypes.func,\r\n// }\r\n","import React, { useState } from 'react'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n    Accordion,\r\n    AccordionSummary,\r\n    AccordionDetails,\r\n    Typography,\r\n    Select,\r\n    Grid,\r\n    Box,\r\n    InputLabel,\r\n    MenuItem,\r\n    FormControl,\r\n    Button,\r\n} from '@material-ui/core'\r\nimport { MdAdd, MdExpandMore, MdFilterList } from 'react-icons/md'\r\nimport { SearchFields } from '../../../../components'\r\nimport Chips from './Chips/Chips'\r\nimport * as ReducerActions from '../../../../constants/ActionTypes'\r\nimport { useSalesman } from '../../hooks/SalesmanContext'\r\nimport { ACTIVE_FILTER, ROLE_FILTER } from '../../../../constants/Filters'\r\nimport { useApp } from '../../../../hooks/AppContext'\r\nimport * as Milk from '../../../../utils/Milk'\r\nimport { milkNames } from '../../../../constants/Generals'\r\nimport { Consts } from '../../SalesmenConfig'\r\nimport styles from './Filters.module.scss'\r\n\r\n//===============Set max-height for dropdown list===============\r\nconst ITEM_HEIGHT = 38\r\nconst ITEM_PADDING_TOP = 5\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT * 4 + ITEM_PADDING_TOP,\r\n        },\r\n    },\r\n}\r\n//==============================================================\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    formControl: {\r\n        margin: '0.3rem 0',\r\n        minWidth: 160,\r\n    },\r\n    flexBox: {\r\n        padding: 0,\r\n    },\r\n    flexItem: {\r\n        padding: 0,\r\n    },\r\n    option: {\r\n        fontSize: '0.875rem',\r\n    },\r\n    btn: {\r\n        padding: '0.5rem',\r\n        marginLeft: '0.5rem',\r\n        borderRadius: '8px',\r\n        // minWidth: 3, // minHeight: 0, // lineHeight: 0,\r\n    },\r\n    root: {},\r\n    menuItemRoot: {\r\n        '&$menuItemSelected': { backgroundColor: 'rgba(0, 0, 0, 0.08)' },\r\n        '&$menuItemSelected:focus': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.12)',\r\n        },\r\n        '&$menuItemSelected:hover': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.04);',\r\n        },\r\n    },\r\n    menuItemSelected: {},\r\n}))\r\n\r\nconst MuiAccordion = withStyles({\r\n    root: {\r\n        backgroundColor: 'rgb(238, 238, 238)',\r\n        // backgroundColor: 'rgb(255, 255, 255)',\r\n        borderRadius: '8px',\r\n        marginBottom: '0.5rem',\r\n        boxShadow: 'none',\r\n        '&:not(:last-child)': {\r\n            borderBottom: 0,\r\n            borderRadius: '8px',\r\n        },\r\n        '&:before': {\r\n            display: 'none',\r\n        },\r\n        '&$expanded': {\r\n            margin: 'auto',\r\n            borderRadius: '8px',\r\n        },\r\n    },\r\n    expanded: {},\r\n})(Accordion)\r\n\r\nconst MuiAccordionSummary = withStyles({\r\n    root: {\r\n        height: 41.5,\r\n        minHeight: 35,\r\n        maxWidth: 120,\r\n        backgroundColor: 'rgb(255, 255, 255)',\r\n        fontWeight: 'bold',\r\n        // borderBottom: '1px solid rgba(0, 0, 0, .125)',\r\n        // boxShadow: '1px 1px 2px gray',\r\n        boxShadow: '0 4px 6px -6px #000', // 0px 1px 1px gray\r\n        borderRadius: '8px',\r\n        paddingButtom: 0,\r\n        '&$expanded': {\r\n            minHeight: 35,\r\n            borderRadius: '8px',\r\n        },\r\n    },\r\n    content: {\r\n        '&$expanded': {\r\n            margin: '12px 0',\r\n        },\r\n    },\r\n    expanded: {},\r\n})(AccordionSummary)\r\n\r\nconst MuiAccordionDetails = withStyles((theme) => ({\r\n    root: {\r\n        backgroundColor: 'rgb(255, 255, 255)',\r\n        margin: '0.5rem 0',\r\n        padding: '0.3rem 0 1rem 2rem',\r\n        borderRadius: '8px',\r\n    },\r\n}))(AccordionDetails)\r\n\r\nfunction Filters(props) {\r\n    const classes = useStyles()\r\n\r\n    //Use states which have been declared in the SalesmanContext\r\n    const {\r\n        params,\r\n        dispatchParams,\r\n        isActive,\r\n        role,\r\n        workingStatuses,\r\n        setFilter,\r\n    } = useSalesman() // isActive,\r\n\r\n    const { roles } = useApp()\r\n    const bakRoles = roles ? roles : Milk.getMilk(milkNames.roles)\r\n\r\n    const { operations, filters } = Consts\r\n\r\n    const [openCreateDialog, setOpenCreateDialog] = useState(false)\r\n\r\n    //================Handle useState() of filters================\r\n    const handleIsActiveChange = (event) => {\r\n        const selectedIsActive = event.target.value\r\n\r\n        // console.log('handleIsActiveChange - selectedIsActive: ', selectedIsActive);\r\n\r\n        // setFilter(ACTIVE_FILTER, selectedIsActive ? selectedIsActive : { isActive: true, status: \"Active\" })\r\n        setFilter(ACTIVE_FILTER, selectedIsActive)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_ACTIVE,\r\n            payload: {\r\n                filterType: ACTIVE_FILTER,\r\n                filterValue: selectedIsActive,\r\n                // filterValue: selectedIsActive.isActive ? { isActive: true, status: \"Active\" } : { isActive: false, status: \"Inactive\" },\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleRoleChange = (event) => {\r\n        const selectedRole = event.target.value\r\n        setFilter(ROLE_FILTER, selectedRole)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_ROLE,\r\n            payload: {\r\n                filterType: ROLE_FILTER,\r\n                filterValue: selectedRole ? selectedRole : '',\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleChipsRemoved = (removedFilters) => {\r\n        removedFilters.forEach((removedFilter) => {\r\n            switch (removedFilter) {\r\n                case ACTIVE_FILTER:\r\n                    setFilter(ACTIVE_FILTER, null)\r\n                    break\r\n                case ROLE_FILTER:\r\n                    setFilter(ROLE_FILTER, '')\r\n                    break\r\n                default:\r\n                    break\r\n            }\r\n        })\r\n    }\r\n\r\n    const generateChipsArray = (listFilters) => {\r\n        const listChips = []\r\n        for (const chip in listFilters) {\r\n            listChips.push(listFilters[chip])\r\n        }\r\n        return listChips\r\n    }\r\n    //===============================================================================\r\n\r\n    //=================Handle action enter / submit of SearchFields==================\r\n    const handleSearch = (keyword) => {\r\n        dispatchParams({\r\n            type: ReducerActions.ENTER_SEARCH_KEYWORD,\r\n            payload: keyword,\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <MuiAccordion>\r\n                <Box\r\n                    display=\"flex\"\r\n                    flexWrap=\"nowrap\"\r\n                    className={classes.flexBox}\r\n                >\r\n                    <Box className={classes.flexItem}>\r\n                        <MuiAccordionSummary expandIcon={<MdExpandMore />}>\r\n                            <MdFilterList className={styles.iconFilter} />{' '}\r\n                            &nbsp;\r\n                            <Typography>{operations.filter}</Typography>\r\n                        </MuiAccordionSummary>\r\n                    </Box>\r\n                    <Box flexGrow={1} className={classes.flexItem}>\r\n                        <Chips\r\n                            chips={generateChipsArray(params.listFilters)}\r\n                            dispatch={dispatchParams}\r\n                            handleChipsRemoved={handleChipsRemoved}\r\n                        />\r\n                    </Box>\r\n                    <Box className={classes.flexItem}>\r\n                        <SearchFields\r\n                            placeholder={operations.search.placeholder}\r\n                            onChange={handleSearch}\r\n                        />\r\n                    </Box>\r\n                    <Box className={classes.flexItem}>\r\n                        <Button\r\n                            className={classes.btn}\r\n                            variant=\"contained\"\r\n                            color=\"secondary\"\r\n                            onClick={() => setOpenCreateDialog(true)}\r\n                        >\r\n                            <MdAdd fontSize=\"large\" />\r\n                            {/* &nbsp;{operations.create} */}\r\n                        </Button>\r\n                        {/**Dialog evaluate */}\r\n                    </Box>\r\n                </Box>\r\n                <MuiAccordionDetails>\r\n                    <Grid container>\r\n                        <Grid item xs={6} sm={4} md={4} lg={3}>\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>\r\n                                    {filters.workingStatus.title}\r\n                                </InputLabel>\r\n                                <Select\r\n                                    value={isActive === null ? '' : isActive}\r\n                                    onChange={handleIsActiveChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    {workingStatuses.map((workingStatus) => (\r\n                                        <MenuItem\r\n                                            key={workingStatus}\r\n                                            value={workingStatus}\r\n                                            // value={workingStatus || null}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {workingStatus === null\r\n                                                ? `${filters.workingStatus.options.all}`\r\n                                                : workingStatus\r\n                                                    ? `${filters.workingStatus.options.active}`\r\n                                                    : `${filters.workingStatus.options.inactive}`}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={6} sm={4} md={4} lg={3}>\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>{filters.role.title}</InputLabel>\r\n                                <Select\r\n                                    value={role || ''}\r\n                                    onChange={handleRoleChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    <MenuItem\r\n                                        value=\"\"\r\n                                        className={classes.option}\r\n                                        classes={{\r\n                                            root: classes.menuItemRoot,\r\n                                            selected: classes.menuItemSelected,\r\n                                        }}\r\n                                    >\r\n                                        All\r\n                                    </MenuItem>\r\n                                    {bakRoles?.map((role) => (\r\n                                        <MenuItem\r\n                                            key={role}\r\n                                            value={role}\r\n                                            // value={role || ''}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {role}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n                    </Grid>\r\n                </MuiAccordionDetails>\r\n            </MuiAccordion>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filters\r\n","import React, { useState, useEffect } from 'react'\r\nimport {\r\n    Button,\r\n    FormControlLabel,\r\n    Grid,\r\n    InputLabel,\r\n    makeStyles,\r\n    MenuItem,\r\n    Radio,\r\n    RadioGroup,\r\n    Select,\r\n    Switch,\r\n    TextField,\r\n    Typography,\r\n} from '@material-ui/core'\r\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from 'mui-pickers-v3' // '@material-ui/pickers'\r\nimport DateFnsUtils from '@date-io/date-fns'\r\nimport moment from 'moment'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport { useApp } from '../../../../hooks/AppContext'\r\nimport { Loading, AddressField } from '../../../../components'\r\nimport { Consts } from './GenInfoConfig'\r\nimport { roleNames } from '../../../../constants/Generals'\r\nimport { PHONE_RGX } from '../../../../utils/Regex'\r\nimport * as Milk from '../../../../utils/Milk'\r\nimport { milkNames } from '../../../../constants/Generals'\r\nimport classes from './GenInfo.module.scss'\r\n\r\nconst clientSchema = yup.object().shape({\r\n    phone: yup\r\n        .string()\r\n        .required('Phone is required')\r\n        .max(10, 'Phone must be at most 10 digits and has the correct format')\r\n        .matches(\r\n            PHONE_RGX,\r\n            'Phone number is in wrong format (03|5|7|9xxxxxxxx)'\r\n        ),\r\n    // address: yup.string().trim().required('Address is required'),\r\n})\r\n\r\nconst ITEM_HEIGHT = 120\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT,\r\n        },\r\n    },\r\n    anchorOrigin: {\r\n        vertical: 'top',\r\n        horizontal: 'center',\r\n    },\r\n    transformOrigin: {\r\n        vertical: 'top',\r\n        horizontal: 'center',\r\n    },\r\n    getContentAnchorEl: null,\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {},\r\n    menuItemRoot: {\r\n        '&$menuItemSelected': { backgroundColor: 'rgba(0, 0, 0, 0.08)' },\r\n        '&$menuItemSelected:focus': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.12)',\r\n        },\r\n        '&$menuItemSelected:hover': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.04);',\r\n        },\r\n    },\r\n    menuItemSelected: {},\r\n\r\n    inputRoot: {\r\n        '&$disabled': {\r\n            color: 'black',\r\n        },\r\n    },\r\n    disabled: {},\r\n}))\r\n\r\nfunction GenInfo(props) {\r\n    const { account } = props\r\n    const { headers, operations, fields, messages } = Consts\r\n    const styles = useStyles()\r\n\r\n    const [isClicked, setIsClicked] = useState(false)\r\n\r\n    const { roles } = useApp()\r\n    const bakRoles = roles ? roles : Milk.getMilk(milkNames.roles)\r\n\r\n    // const [address, setAddress] = useState('');\r\n    const [latitude, setLatitude] = useState(0.0)\r\n    const [longitude, setLongitude] = useState(0.0)\r\n\r\n    const defaultValues = {\r\n        username: account?.username,\r\n        email: account?.email,\r\n        phone: account?.phone ? account?.phone : '',\r\n        isMale: String(account?.isMale)\r\n            ? String(account?.isMale)\r\n            : String(true),\r\n        birthDate: account?.birthDate ? account?.birthDate : null,\r\n        roleName: account?.roleName ? account?.roleName : roleNames.salesman,\r\n        active: account?.active,\r\n        address: account?.address,\r\n        latitude: account?.latitude,\r\n        longitude: account?.longitude,\r\n    }\r\n\r\n    const { control, errors, handleSubmit, formState, reset } = useForm({\r\n        resolver: yupResolver(clientSchema),\r\n        defaultValues: defaultValues,\r\n    })\r\n\r\n    useEffect(() => {\r\n        reset({\r\n            username: account?.username,\r\n            email: account?.email,\r\n            phone: account?.phone ? account?.phone : '',\r\n            isMale: String(account?.isMale)\r\n                ? String(account?.isMale)\r\n                : String(true),\r\n            birthDate: account?.birthDate ? account?.birthDate : null,\r\n            roleName: account?.roleName\r\n                ? account?.roleName\r\n                : roleNames.salesman,\r\n            active: account?.active,\r\n            address: account?.address,\r\n            latitude: account?.latitude,\r\n            longitude: account?.longitude,\r\n        })\r\n    }, [account])\r\n\r\n    if (!roles) {\r\n        return <Loading />\r\n    }\r\n\r\n    if (!account) {\r\n        return <Loading />\r\n    }\r\n\r\n    const onSubmit = (data) => {\r\n        // console.log('---------GenInfo nè---------')\r\n        // console.log('address nè: ', data?.address)\r\n        // console.log(`[${latitude}, ${longitude}]`)\r\n\r\n        const model = {\r\n            ...data,\r\n            fullName: account?.fullName,\r\n            isMale: data?.isMale === 'true' ? true : false,\r\n            birthDate: data?.birthDate\r\n                ? moment(data?.birthDate).format('YYYY-MM-DD')\r\n                : null,\r\n            avatar: account?.avatar,\r\n            passwordHash: account?.passwordHash,\r\n            // address: data?.address,\r\n            latitude: latitude,\r\n            longitude: longitude,\r\n        }\r\n\r\n        // updateAccount(data?.username, model)\r\n        //     .then((res) => {\r\n        //         refreshPage(data.username)\r\n        //         setNotify({\r\n        //             isOpen: true,\r\n        //             message: 'Updated Successfully',\r\n        //             type: 'success',\r\n        //         })\r\n        //     })\r\n        //     .catch((error) => {\r\n        //         if (error.response) {\r\n        //             console.log(error)\r\n        //             history.push({\r\n        //                 pathname: '/errors',\r\n        //                 state: { error: error.response.status },\r\n        //             })\r\n        //         }\r\n        //         setNotify({\r\n        //             isOpen: true,\r\n        //             message: 'Updated failed',\r\n        //             type: 'error',\r\n        //         })\r\n        //     })\r\n\r\n        // alert(JSON.stringify(model))\r\n    }\r\n\r\n    return (\r\n        <div className={classes.panel}>\r\n            <Grid container spacing={0} className={classes.body}>\r\n                {/* Content Sector */}\r\n                <Grid\r\n                    item\r\n                    xs={12}\r\n                    sm={12}\r\n                    md={12}\r\n                    lg={12}\r\n                    className={classes.content}\r\n                >\r\n                    <form onSubmit={handleSubmit(onSubmit)} noValidate>\r\n                        {/* Account Detail*/}\r\n                        <Grid container spacing={0} className={classes.wrapper}>\r\n                            <Grid\r\n                                item\r\n                                xs={12}\r\n                                sm={12}\r\n                                md={3}\r\n                                lg={3}\r\n                                className={classes.row}\r\n                            >\r\n                                <Typography\r\n                                    color=\"inherit\"\r\n                                    className={classes.header}\r\n                                >\r\n                                    {headers.child1}\r\n                                </Typography>\r\n                            </Grid>\r\n                            {/* Detail */}\r\n                            <Grid\r\n                                item\r\n                                xs={12}\r\n                                sm={12}\r\n                                md={9}\r\n                                lg={8}\r\n                                className={classes.row}\r\n                            >\r\n                                <Grid container spacing={0}>\r\n                                    {/* Detail */}\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={5}\r\n                                        md={5}\r\n                                        lg={5}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <Controller\r\n                                            name=\"username\"\r\n                                            control={control}\r\n                                            render={({ value }) => (\r\n                                                <TextField\r\n                                                    label={\r\n                                                        fields.username.title\r\n                                                    }\r\n                                                    variant=\"standard\"\r\n                                                    // fullWidth\r\n                                                    disabled\r\n                                                    // InputProps={{\r\n                                                    //     classes: {\r\n                                                    //         root:\r\n                                                    //             styles.inputRoot,\r\n                                                    //         disabled:\r\n                                                    //             styles.disabled,\r\n                                                    //     },\r\n                                                    // }}\r\n                                                    value={value}\r\n                                                />\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={5}\r\n                                        md={5}\r\n                                        lg={5}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <Controller\r\n                                            name=\"email\"\r\n                                            control={control}\r\n                                            render={({ value }) => (\r\n                                                <TextField\r\n                                                    label={fields.email.title}\r\n                                                    variant=\"standard\"\r\n                                                    fullWidth\r\n                                                    disabled\r\n                                                    // InputProps={{\r\n                                                    //     classes: {\r\n                                                    //         root:\r\n                                                    //             styles.inputRoot,\r\n                                                    //         disabled:\r\n                                                    //             styles.disabled,\r\n                                                    //     },\r\n                                                    // }}\r\n                                                    value={value}\r\n                                                />\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={4}\r\n                                        md={4}\r\n                                        lg={4}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <Controller\r\n                                            name=\"phone\"\r\n                                            control={control}\r\n                                            render={({ value, onChange }) => (\r\n                                                <TextField\r\n                                                    label={fields.phone.title}\r\n                                                    variant=\"outlined\"\r\n                                                    required\r\n                                                    // fullWidth\r\n                                                    value={value}\r\n                                                    onChange={onChange}\r\n                                                    error={!!errors.phone}\r\n                                                    helperText={\r\n                                                        errors?.phone?.message\r\n                                                    }\r\n                                                />\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={12}\r\n                                        lg={12}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <Controller\r\n                                            name=\"address\"\r\n                                            control={control}\r\n                                            render={({ value, onChange }) => {\r\n                                                if (!isClicked) {\r\n                                                    return (\r\n                                                        <TextField\r\n                                                            label={\r\n                                                                fields.addr\r\n                                                                    .title\r\n                                                            }\r\n                                                            variant=\"outlined\"\r\n                                                            required\r\n                                                            fullWidth\r\n                                                            value={value}\r\n                                                            onClick={() =>\r\n                                                                setIsClicked(\r\n                                                                    true\r\n                                                                )\r\n                                                            }\r\n                                                            error={\r\n                                                                !!errors.phone\r\n                                                            }\r\n                                                            helperText={\r\n                                                                errors?.phone\r\n                                                                    ?.message\r\n                                                            }\r\n                                                        />\r\n                                                    )\r\n                                                }\r\n                                                if (isClicked) {\r\n                                                    return (\r\n                                                        <AddressField\r\n                                                            setLatitude={\r\n                                                                setLatitude\r\n                                                            }\r\n                                                            setLongitude={\r\n                                                                setLongitude\r\n                                                            }\r\n                                                            inputValue={value}\r\n                                                            setInputValue={\r\n                                                                onChange\r\n                                                            }\r\n                                                            onBlur={() =>\r\n                                                                setIsClicked(\r\n                                                                    false\r\n                                                                )\r\n                                                            }\r\n                                                            // error={!!errors.address}\r\n                                                            // helperText={\r\n                                                            //     errors?.address?.message\r\n                                                            // }\r\n                                                        />\r\n                                                    )\r\n                                                }\r\n                                            }}\r\n                                        />\r\n                                    </Grid>\r\n\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={5}\r\n                                        md={5}\r\n                                        lg={5}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <InputLabel>\r\n                                            {fields.isMale.title}\r\n                                        </InputLabel>\r\n                                        <Controller\r\n                                            name=\"isMale\"\r\n                                            control={control}\r\n                                            render={({ value, onChange }) => (\r\n                                                <RadioGroup\r\n                                                    value={value}\r\n                                                    onChange={onChange}\r\n                                                    row\r\n                                                >\r\n                                                    <FormControlLabel\r\n                                                        label={\r\n                                                            fields.isMale.male\r\n                                                                .lb\r\n                                                        }\r\n                                                        value={\r\n                                                            fields.isMale.male\r\n                                                                .value\r\n                                                        }\r\n                                                        control={<Radio />}\r\n                                                    />\r\n                                                    <FormControlLabel\r\n                                                        label={\r\n                                                            fields.isMale.female\r\n                                                                .lb\r\n                                                        }\r\n                                                        value={\r\n                                                            fields.isMale.female\r\n                                                                .value\r\n                                                        }\r\n                                                        control={<Radio />}\r\n                                                    />\r\n                                                </RadioGroup>\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={4}\r\n                                        md={4}\r\n                                        lg={4}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <MuiPickersUtilsProvider\r\n                                            utils={DateFnsUtils}\r\n                                        >\r\n                                            <Controller\r\n                                                name=\"birthDate\"\r\n                                                control={control}\r\n                                                render={({ ref, ...rest }) => (\r\n                                                    <KeyboardDatePicker\r\n                                                        label={\r\n                                                            fields.birthDate\r\n                                                                .title\r\n                                                        }\r\n                                                        format={\r\n                                                            fields.birthDate\r\n                                                                .format\r\n                                                        }\r\n                                                        allowKeyboardControl\r\n                                                        disableFuture\r\n                                                        {...rest}\r\n                                                    />\r\n                                                )}\r\n                                            />\r\n                                        </MuiPickersUtilsProvider>\r\n                                    </Grid>\r\n\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={5}\r\n                                        md={5}\r\n                                        lg={5}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <InputLabel>\r\n                                            {fields.roles.title}\r\n                                        </InputLabel>\r\n                                        <Controller\r\n                                            name=\"roleName\"\r\n                                            control={control}\r\n                                            render={({ value, onChange }) => (\r\n                                                <Select\r\n                                                    value={value}\r\n                                                    onChange={onChange}\r\n                                                    MenuProps={MenuProps}\r\n                                                    disableUnderline\r\n                                                >\r\n                                                    {bakRoles.map((role) => (\r\n                                                        <MenuItem\r\n                                                            key={role}\r\n                                                            value={role}\r\n                                                            classes={{\r\n                                                                root: styles.menuItemRoot,\r\n                                                                selected:\r\n                                                                    styles.menuItemSelected,\r\n                                                            }}\r\n                                                        >\r\n                                                            {role}\r\n                                                        </MenuItem>\r\n                                                    ))}\r\n                                                </Select>\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={4}\r\n                                        md={4}\r\n                                        lg={4}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <InputLabel>\r\n                                            {fields.status.title}\r\n                                        </InputLabel>\r\n                                        <Controller\r\n                                            name=\"active\"\r\n                                            control={control}\r\n                                            render={({ value, onChange }) => (\r\n                                                <Switch\r\n                                                    checked={value}\r\n                                                    onChange={(e) =>\r\n                                                        onChange(\r\n                                                            e.target.checked\r\n                                                        )\r\n                                                    }\r\n                                                />\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n                                    {/* Action */}\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={12}\r\n                                        lg={12}\r\n                                        className={classes.action}\r\n                                    >\r\n                                        <Button\r\n                                            className={classes.submit}\r\n                                            variant=\"contained\"\r\n                                            disabled={!formState.isDirty}\r\n                                            type=\"submit\"\r\n                                        >\r\n                                            {operations.save}\r\n                                        </Button>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                            {/* End Detail */}\r\n                        </Grid>\r\n                    </form>\r\n                </Grid>\r\n                {/* Another Sector */}\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GenInfo\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useHistory, useLocation, useParams } from 'react-router-dom'\r\nimport { DetailLayouts } from '../../layouts'\r\nimport { GenInfo } from './panels'\r\nimport { getSalesman } from './SalesmenServices'\r\nimport { acctConsts } from './SalesmenConfig'\r\nimport { Loading, NotFound } from '../../components'\r\n\r\nfunction Salesman() {\r\n    const { linkNames, tabNames, operations } = acctConsts\r\n    const [tabValue, setTabValue] = useState(0)\r\n\r\n    const { id } = useParams()\r\n    const location = useLocation()\r\n    const history = useHistory()\r\n\r\n    // const stateData = location.state?.data\r\n    const [salesman, setSalesman] = useState(null)  //stateData?.model\r\n\r\n    const [exist, setExist] = useState(true)\r\n\r\n    let isMounted = true\r\n    const refreshPage = (username) => {\r\n        getSalesman(username)\r\n            .then((data) => {\r\n                if (isMounted) {\r\n                    setSalesman(data)\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    if (error.response.status === 403) {\r\n                        setExist(false)\r\n                    } else {\r\n                        history.push({\r\n                            pathname: '/errors',\r\n                            state: { error: error.response.status },\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    useEffect(() => {\r\n        refreshPage(id)\r\n        return () => {\r\n            // eslint-disable-next-line react-hooks/exhaustive-deps\r\n            isMounted = false\r\n        }\r\n    }, [])\r\n\r\n    if (!salesman) {\r\n        if (!exist) {\r\n            return <NotFound title={operations.notFound} />\r\n        } else {\r\n            return <Loading />\r\n        }\r\n    }\r\n\r\n    const handleChangeTab = (event, value) => {\r\n        setTabValue(value)\r\n    }\r\n\r\n    return (\r\n        <DetailLayouts\r\n            linkBack={linkNames.back}\r\n            avatar={\r\n                salesman?.avatar\r\n                    ? salesman?.avatar\r\n                    : salesman?.fullName.split(' ').pop()[0]\r\n            }\r\n            checkAvatar={salesman?.avatar ? true : false}\r\n            header={salesman?.fullName}\r\n            subHeader={salesman?.active ? 'Active' : 'Inactive'}\r\n            isStatus={true}\r\n            tabs={[tabNames.tab1]}\r\n            tabValue={tabValue}\r\n            handleChangeTab={handleChangeTab}\r\n        >\r\n            {tabValue === 0 && (\r\n                <GenInfo salesman={salesman} refreshPage={refreshPage} />\r\n            )}\r\n        </DetailLayouts>\r\n    )\r\n}\r\n\r\nexport default Salesman\r\n","import React, { useState } from 'react'\r\nimport { Button, Chip } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n// import PropTypes from 'prop-types'\r\nimport * as ReducerActions from '../../../../../constants/ActionTypes'\r\nimport {\r\n    DISTRICT_FILTER,\r\n    TYPE_FILTER,\r\n    LEVEL_FILTER,\r\n    // SCALE_FILTER,\r\n    STATUS_FILTER,\r\n    ACTIVE_FILTER\r\n} from '../../../../../constants/Filters'\r\n// import classes from './Chips.module.scss'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        flexWrap: 'wrap',\r\n    },\r\n    ul: {\r\n        // maxWidth: 10 * 6 + 5,\r\n        maxWidth: 810,\r\n        overflowX: 'auto',\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        flexWrap: 'nowrap',\r\n        listStyle: 'none',\r\n        margin: 0,\r\n        paddingLeft: '0.5rem',\r\n    },\r\n    btnClear: {\r\n        fontSize: '0.75rem',\r\n    },\r\n    chip: {\r\n        margin: theme.spacing(0.5),\r\n    },\r\n}))\r\n\r\nfunction Chips(props) {\r\n    const classes = useStyles()\r\n    const { chips, dispatch, handleChipsRemoved } = props\r\n\r\n    //================Generate chips according to filters================\r\n    const [btnClearAll, setBtnClearAll] = useState(false)\r\n\r\n    const handleChipDelete = (chipToDelete) => () => {\r\n        switch (chipToDelete.filterType) {\r\n            case DISTRICT_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_DISTRICT,\r\n                    payload: { filterType: DISTRICT_FILTER, filterValue: '' },\r\n                })\r\n                break\r\n\r\n            case TYPE_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_SCHOOL_TYPE,\r\n                    payload: { filterType: TYPE_FILTER, filterValue: '' },\r\n                })\r\n                break\r\n\r\n            case LEVEL_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_SCHOOL_LEVEL,\r\n                    payload: { filterType: LEVEL_FILTER, filterValue: '' },\r\n                })\r\n                break\r\n\r\n            // case SCALE_FILTER:\r\n            //     dispatch({\r\n            //         type: ReducerActions.FILTER_SCHOOL_SCALE,\r\n            //         payload: { filterType: SCALE_FILTER, filterValue: '' },\r\n            //     })\r\n            //     break\r\n\r\n            case STATUS_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_SCHOOL_STATUS,\r\n                    payload: { filterType: STATUS_FILTER, filterValue: '' },\r\n                })\r\n                break\r\n\r\n            case ACTIVE_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_ACTIVE,\r\n                    payload: { filterType: ACTIVE_FILTER, filterValue: null },\r\n                })\r\n                break\r\n\r\n            default:\r\n                // break;\r\n                break\r\n        }\r\n\r\n        if (!handleChipsRemoved) return\r\n        // Reset corresponding filters' value to \"All\" / null\r\n        const removedFilters = [chipToDelete.filterType]\r\n        handleChipsRemoved(removedFilters)\r\n    }\r\n\r\n    const handleClearAllChips = () => {\r\n        setBtnClearAll(false)\r\n\r\n        if (!handleChipsRemoved) return\r\n\r\n        dispatch({\r\n            type: ReducerActions.FILTER_DISTRICT,\r\n            payload: { filterType: DISTRICT_FILTER, filterValue: '' },\r\n        })\r\n        dispatch({\r\n            type: ReducerActions.FILTER_SCHOOL_TYPE,\r\n            payload: { filterType: TYPE_FILTER, filterValue: '' },\r\n        })\r\n        dispatch({\r\n            type: ReducerActions.FILTER_SCHOOL_LEVEL,\r\n            payload: { filterType: LEVEL_FILTER, filterValue: '' },\r\n        })\r\n        // dispatch({\r\n        //     type: ReducerActions.FILTER_SCHOOL_SCALE,\r\n        //     payload: { filterType: SCALE_FILTER, filterValue: '' },\r\n        // })\r\n        dispatch({\r\n            type: ReducerActions.FILTER_SCHOOL_STATUS,\r\n            payload: { filterType: STATUS_FILTER, filterValue: '' },\r\n        })\r\n        dispatch({\r\n            type: ReducerActions.FILTER_ACTIVE,\r\n            payload: { filterType: ACTIVE_FILTER, filterValue: null },\r\n        })\r\n\r\n        const removedFilters = [\r\n            DISTRICT_FILTER,\r\n            TYPE_FILTER,\r\n            LEVEL_FILTER,\r\n            // SCALE_FILTER,\r\n            STATUS_FILTER,\r\n            ACTIVE_FILTER\r\n        ]\r\n\r\n        handleChipsRemoved(removedFilters)\r\n    }\r\n\r\n    const handleShowClearAllButton = () => {\r\n        let count = 0\r\n        chips.forEach((chip) => {\r\n            if (chip.filterValue === '' || chip.filterValue === null || chip.filterValue === undefined) {\r\n                count++\r\n            }\r\n        })\r\n        return count;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {handleShowClearAllButton() !== 5 && (\r\n                <div className={classes.root}>\r\n                    <Button\r\n                        size=\"small\"\r\n                        className={classes.btnClear}\r\n                        onClick={handleClearAllChips}\r\n                    >\r\n                        Clear all\r\n                    </Button>\r\n                    <ul className={classes.ul}>\r\n                        {chips.map((chip) => {\r\n                            return (\r\n                                <li key={chip.filterType}>\r\n                                    {chip.filterType !== ACTIVE_FILTER && chip.filterValue &&\r\n                                        <Chip\r\n                                            label={chip.filterValue}\r\n                                            onDelete={handleChipDelete(chip)}\r\n                                            className={classes.chip}\r\n                                            color=\"secondary\"\r\n                                        />\r\n                                    }\r\n                                    {chip.filterType === ACTIVE_FILTER && chip.filterValue !== null &&\r\n                                        <Chip\r\n                                            label={chip.filterValue ? 'Active' : 'Inactive'}\r\n                                            onDelete={handleChipDelete(chip)}\r\n                                            className={classes.chip}\r\n                                            color=\"secondary\"\r\n                                        />\r\n                                    }\r\n                                </li>\r\n                            )\r\n                        })}\r\n                    </ul>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Chips)\r\n\r\n// Chips.propTypes = {\r\n//     chips: PropTypes.array.isRequired,\r\n//     dispatch: PropTypes.func.isRequired,\r\n//     handleChipsRemoved: PropTypes.func,\r\n// }\r\n","import { roleNames } from '../../constants/Generals'\r\nimport Api from '../../services/Api'\r\n\r\nexport async function getSchools(\r\n    page = 0,\r\n    limit = 10,\r\n    column = 'schoolId',\r\n    direction = 'asc',\r\n    searchKey = undefined,\r\n    filters = undefined,\r\n    userRole\r\n) {\r\n    let url = `/schools?page=${page}&limit=${limit}&column=${column}&direction=${direction}`\r\n\r\n    url = searchKey ? url.concat(`&key=${searchKey}`) : url\r\n\r\n    if (filters) {\r\n        url = filters['district'].filterValue\r\n            ? url.concat(`&district=${filters['district'].filterValue}`)\r\n            : url\r\n        url = filters['type'].filterValue\r\n            ? url.concat(`&type=${filters['type'].filterValue}`)\r\n            : url\r\n        url = filters['level'].filterValue\r\n            ? url.concat(`&level=${filters['level'].filterValue}`)\r\n            : url\r\n        // url = filters['scale'].filterValue\r\n        //     ? url.concat(`&scale=${filters['scale'].filterValue}`)\r\n        //     : url\r\n        url = filters['status'].filterValue\r\n            ? url.concat(`&status=${filters['status'].filterValue}`)\r\n            : url\r\n        if (userRole === roleNames.admin) {\r\n            url =\r\n                filters['isActive'].filterValue !== null\r\n                    ? url.concat(`&active=${filters['isActive'].filterValue}`)\r\n                    : url\r\n        } else {\r\n            url = url.concat('&active=true')\r\n        }\r\n    }\r\n\r\n    // console.log('url = ', url)\r\n    const response = await Api.get(url)\r\n\r\n    return response\r\n}\r\n\r\n// export async function getSchoolsByKeys(...keys) {\r\n//     const response = await Api.get('/schools', { ...keys })\r\n//     const data = await response.data\r\n//     return data\r\n// }\r\n\r\nexport async function getSchool(schoolId) {\r\n    const response = await Api.get(`/schools/${schoolId}`)\r\n    const data = await response.data\r\n    return data\r\n}\r\n\r\nexport async function createSchool(school) {\r\n    const response = await Api.post('/schools/', school)\r\n    // const data = await response.data\r\n    return response\r\n}\r\n\r\nexport async function importSchool(schools) {\r\n    const response = await Api.post('/schools/import', schools)\r\n    // const data = await response.data\r\n    return response\r\n}\r\n\r\nexport async function updateSchool(id, school) {\r\n    const response = await Api.put(`/schools/${id}`, school)\r\n    // const data = await response.data\r\n    return response\r\n}\r\n\r\nexport async function getTimeline(schoolId) {\r\n    const response = await Api.get(`/schools/timeline/${schoolId}`)\r\n    const data = await response.data\r\n    return data\r\n}","export const Consts = {\r\n    headers: {\r\n        child1: 'Create School',\r\n        child2: 'Import File',\r\n    },\r\n    operations: {\r\n        cancel: 'Cancel',\r\n        save: 'Save',\r\n        WithData: 'With Representative',\r\n    },\r\n    messages: {\r\n        info: '',\r\n        success: 'Created Successfully',\r\n        error: 'Created Failed',\r\n        warning: '',\r\n    },\r\n    fields: {\r\n        name: {\r\n            title: 'School Name',\r\n        },\r\n        addr: {\r\n            title: 'Address',\r\n        },\r\n        dist: {\r\n            title: 'District',\r\n        },\r\n        status: {\r\n            title: 'School Active',\r\n        },\r\n        eduLvl: {\r\n            title: 'Educational Level',\r\n        },\r\n        // scale: {\r\n        //     title: 'School Scale',\r\n        // },\r\n        type: {\r\n            title: 'School Type',\r\n        },\r\n        salesStatus: {\r\n            title: 'School Status',\r\n        },\r\n        des: {\r\n            title: 'Description',\r\n        },\r\n        tel: {\r\n            title: 'Tel',\r\n        },\r\n        repName: {\r\n            title: 'Full Name',\r\n        },\r\n        repGender: {\r\n            title: 'Gender',\r\n            male: {\r\n                lb: 'Male',\r\n                value: 'true',\r\n            },\r\n            female: {\r\n                lb: 'Female',\r\n                value: 'false',\r\n            },\r\n        },\r\n        repEmail: {\r\n            title: 'Email',\r\n        },\r\n        repPhone: {\r\n            title: 'Phone Number',\r\n        },\r\n    },\r\n\r\n    excel: {\r\n        name: 'Tên trường',\r\n        educationalLevel: 'Cấp học',\r\n        phone: 'SĐT trường',\r\n        district: 'Quận/Huyện',\r\n        address: 'Địa chỉ (tồn tại duy nhất)',\r\n        reprName: 'Hiệu trưởng/Hiệu phó',\r\n        isMale: 'Giới tính',\r\n        reprPhone: 'SĐT HT/HP',\r\n        reprEmail: 'Email HT/HP',\r\n        type: 'Loại hình',\r\n        // scale: 'Quy mô',\r\n        status: 'Tình trạng',\r\n        description: 'Thông tin chi tiết',\r\n        isMaleValue: 'Nam',\r\n    },\r\n    contentText1:\r\n        'To import file to this system, please select a file in your device. The system only accepts ',\r\n    fileFormat: ' xlsx, xls, csv ',\r\n    contentText2: 'file format.',\r\n    contentLink: 'to download an import sample file.',\r\n    linkText: 'Click here ',\r\n    alertText: 'Total rows will be inserted  — ',\r\n    alertType: {\r\n        warning: 'Warning',\r\n        success: 'Checked',\r\n        error: 'Error',\r\n    },\r\n    refFile: 'documents/Import_Sample.xlsx',\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport {\r\n    Button,\r\n    TextField,\r\n    DialogContent,\r\n    DialogActions,\r\n    Grid,\r\n    InputLabel,\r\n    Select,\r\n    MenuItem,\r\n    makeStyles,\r\n    RadioGroup,\r\n    Radio,\r\n    Checkbox,\r\n    FormLabel,\r\n    FormControlLabel,\r\n} from '@material-ui/core'\r\nimport { Controller, useForm } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport { useApp } from '../../../../hooks/AppContext'\r\nimport * as Milk from '../../../../utils/Milk'\r\nimport { milkNames } from '../../../../constants/Generals'\r\nimport * as SchoolsServices from '../../SchoolsServices'\r\nimport { Consts } from '../DialogConfig'\r\nimport { PHONE_RGX, TEL_RGX } from '../../../../utils/Regex' //SCHOOL_NAME_RGX,\r\nimport { useSchool } from '../../hooks/SchoolContext'\r\nimport { AddressField } from '../../../../components'\r\nimport { useSnackbar } from 'notistack'\r\nimport classes from './CreateSchool.module.scss'\r\n\r\nconst clientSchema = yup.object().shape({\r\n    name: yup\r\n        .string()\r\n        .trim()\r\n        .min(3, 'Name must be at least 3 characters')\r\n        .max(30, 'Name must be at most 30 characters')\r\n        .required('Name is required'),\r\n    // .matches(SCHOOL_NAME_RGX, 'Incorrect entry'),\r\n    // address: yup.string().trim().required('Address is required'),\r\n    phone: yup\r\n        .string()\r\n        .max(11, 'Tel must be at most 11 digits and has the correct format')\r\n        .matches(TEL_RGX, {\r\n            message: 'Telephone number is in wrong format (02xxxxxxxxx)',\r\n            excludeEmptyString: true,\r\n        }),\r\n    reprName: yup\r\n        .string()\r\n        .trim()\r\n        .min(4, 'Name must be at least 4 characters')\r\n        .max(30, 'Name must be at most 30 characters'),\r\n    reprPhone: yup\r\n        .string()\r\n        .max(10, 'Phone must be at most 10 digits')\r\n        .matches(PHONE_RGX, {\r\n            message: 'Phone number is in wrong format (03|5|7|9xxxxxxxx)',\r\n            excludeEmptyString: true,\r\n        }),\r\n    reprEmail: yup.string().trim().email('Invalid email'),\r\n})\r\n\r\nconst serverSchema = [\r\n    {\r\n        type: 'server',\r\n        name: 'address',\r\n        message: 'School address already exists',\r\n    },\r\n]\r\n\r\nconst ITEM_HEIGHT = 120\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT,\r\n        },\r\n    },\r\n    anchorOrigin: {\r\n        vertical: 'top',\r\n        horizontal: 'center',\r\n    },\r\n    transformOrigin: {\r\n        vertical: 'top',\r\n        horizontal: 'center',\r\n    },\r\n    getContentAnchorEl: null,\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {},\r\n    menuItemRoot: {\r\n        '&$menuItemSelected': { backgroundColor: 'rgba(0, 0, 0, 0.08)' },\r\n        '&$menuItemSelected:focus': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.12)',\r\n        },\r\n        '&$menuItemSelected:hover': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.04);',\r\n        },\r\n    },\r\n    menuItemSelected: {},\r\n    formControl: {\r\n        width: 200,\r\n    },\r\n}))\r\n\r\nfunction CreateSchoolForm(props) {\r\n    const { onClose, refreshPage } = props\r\n    const { operations, fields, messages } = Consts\r\n    const styles = useStyles()\r\n\r\n    const { enqueueSnackbar } = useSnackbar()\r\n\r\n    const { dists, schEduLvls, schTypes, schStatus } = useApp() //, schScales\r\n    const { params } = useSchool()\r\n    const { page, limit, column, direction, searchKey, listFilters } = params\r\n\r\n    const bakDists = dists ? dists : Milk.getMilk(milkNames.dists)\r\n    const bakSchEduLvls = schEduLvls\r\n        ? schEduLvls\r\n        : Milk.getMilk(milkNames.eduLvls)\r\n    const bakSchTypes = schTypes ? schTypes : Milk.getMilk(milkNames.types)\r\n    // const bakSchScales = schScales ? schScales : Milk.getMilk(milkNames.scales)\r\n    const bakSchStatus = schStatus ? schStatus : Milk.getMilk(milkNames.status)\r\n\r\n    const history = useHistory()\r\n\r\n    // const [notify, setNotify] = useState({\r\n    //     isOpen: false,\r\n    //     message: '',\r\n    //     type: '',\r\n    // })\r\n\r\n    const [latitude, setLatitude] = useState(0.0)\r\n    const [longitude, setLongitude] = useState(0.0)\r\n\r\n    let district = ''\r\n    const defaultValues = {\r\n        name: '',\r\n        address: '',\r\n        district: bakDists[0],\r\n        phone: '',\r\n        educationalLevel: bakSchEduLvls[0],\r\n        type: bakSchTypes[0],\r\n        // scale: bakSchScales[0],\r\n\r\n        showRep: false,\r\n    }\r\n\r\n    const {\r\n        control,\r\n        handleSubmit,\r\n        errors,\r\n        setError,\r\n        formState,\r\n        reset,\r\n        watch,\r\n        // register\r\n    } = useForm({\r\n        mode: 'onBlur',\r\n        resolver: yupResolver(clientSchema),\r\n        defaultValues: defaultValues,\r\n    })\r\n\r\n    const repWatch = watch('showRep')\r\n\r\n    const [addressErr, setAddressErr] = useState('')\r\n    const validateAddress = (address) => {\r\n        setAddressErr('')\r\n        if (address) {\r\n            if (address.includes('Thành phố Hồ Chí Minh')) {\r\n                if (address.includes('Quận')) {\r\n                    const tmp1 = address.substring(address.lastIndexOf('Quận'))\r\n                    district = tmp1.substring(0, tmp1.indexOf(', '))\r\n                    setAddressErr('')\r\n                    return true\r\n                } else {\r\n                    // Quận/Huyện tên chữ, ko có số\r\n                    const tmp1 = address.substring(\r\n                        0,\r\n                        address.lastIndexOf(', Thành phố Hồ Chí Minh')\r\n                    )\r\n                    // const tmp2 = tmp1.substring(tmp1.lastIndexOf(', '))\r\n                    district = tmp1.substring(tmp1.lastIndexOf(', ') + 1).trim()\r\n                    // district = tmp2.substring(2)\r\n                    setAddressErr('')\r\n                    if (!district || district.includes('Hồ Chí Minh')) {\r\n                        setAddressErr('Please input exactly address')\r\n                        return false\r\n                    }\r\n                    return true\r\n                }\r\n            } else if (address) {\r\n                setAddressErr(\r\n                    'Please choose address locates in Ho Chi Minh City'\r\n                )\r\n                return false\r\n            }\r\n        } else {\r\n            setLatitude(0.0)\r\n            setLongitude(0.0)\r\n            setAddressErr('Address is required')\r\n            return false\r\n        }\r\n    }\r\n\r\n    const onSubmit = (data) => {\r\n        if (validateAddress(data.address)) {\r\n            const model = {\r\n                ...data,\r\n                status: bakSchStatus[0],\r\n\r\n                // active: true,\r\n                district: district,\r\n                latitude: latitude,\r\n                longitude: longitude,\r\n\r\n                // reprName: null,\r\n                // reprIsMale: false,\r\n                // reprPhone: null,\r\n                // reprEmail: null,\r\n            }\r\n            delete model.showRep\r\n\r\n            // console.log('data?.address: ', data?.address);\r\n\r\n            SchoolsServices.createSchool(model)\r\n                .then((res) => {\r\n                    enqueueSnackbar(messages.success, { variant: 'success' })\r\n                    refreshPage(\r\n                        page,\r\n                        limit,\r\n                        column,\r\n                        direction,\r\n                        searchKey,\r\n                        listFilters\r\n                    )\r\n                    onClose()\r\n                })\r\n                .catch((error) => {\r\n                    if (error.response) {\r\n                        console.log(error)\r\n                        if (error.response.status === 409) {\r\n                            serverSchema.forEach(({ name, type, message }) =>\r\n                                setError(name, { type, message })\r\n                            )\r\n                        } else {\r\n                            history.push({\r\n                                pathname: '/errors',\r\n                                state: { error: error.response.status },\r\n                            })\r\n                        }\r\n\r\n                        enqueueSnackbar(messages.error, {\r\n                            variant: 'error',\r\n                        })\r\n                    }\r\n                })\r\n            // alert(JSON.stringify(model))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <DialogContent className={classes.dialogCont}>\r\n                <form\r\n                    noValidate\r\n                    // onSubmit={handleSubmit(onSubmit)}\r\n                >\r\n                    <Grid container spacing={2} className={classes.wrapper}>\r\n                        <Grid item xs={12} sm={8} md={8} lg={8}>\r\n                            <Controller\r\n                                name=\"name\"\r\n                                control={control}\r\n                                render={({ value, onChange }) => (\r\n                                    <TextField\r\n                                        label={fields.name.title}\r\n                                        variant=\"outlined\"\r\n                                        required\r\n                                        fullWidth\r\n                                        autoFocus\r\n                                        value={value}\r\n                                        onChange={onChange}\r\n                                        error={!!errors.name}\r\n                                        helperText={errors?.name?.message}\r\n                                    />\r\n                                )}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                            <Controller\r\n                                name=\"address\"\r\n                                control={control}\r\n                                render={({ value, onChange }) => (\r\n                                    <AddressField\r\n                                        setLatitude={setLatitude}\r\n                                        setLongitude={setLongitude}\r\n                                        inputValue={value}\r\n                                        setInputValue={onChange}\r\n                                        onBlur={() => validateAddress(value)}\r\n                                        errText={\r\n                                            formState.isDirty ? addressErr : ''\r\n                                        }\r\n                                    />\r\n                                    // <TextField\r\n                                    //     label={fields.addr.title}\r\n                                    //     variant=\"outlined\"\r\n                                    //     required\r\n                                    //     fullWidth\r\n                                    //     value={value}\r\n                                    //     onChange={onChange}\r\n                                    //     error={!!errors.address}\r\n                                    //     helperText={errors?.address?.message}\r\n                                    // />\r\n                                )}\r\n                            />\r\n                        </Grid>\r\n                        {/* <Grid item xs={12} sm={12} md={6} lg={6}>\r\n                            <InputLabel>{fields.dist.title}</InputLabel>\r\n                            <Controller\r\n                                name=\"district\"\r\n                                control={control}\r\n                                render={({ value, onChange }) => (\r\n                                    <Select\r\n                                        value={value}\r\n                                        onChange={onChange}\r\n                                        MenuProps={MenuProps}\r\n                                        disableUnderline\r\n                                    >\r\n                                        {bakDists.map((data) => (\r\n                                            <MenuItem\r\n                                                key={data}\r\n                                                value={data}\r\n                                                classes={{\r\n                                                    root: styles.menuItemRoot,\r\n                                                    selected:\r\n                                                        styles.menuItemSelected,\r\n                                                }}\r\n                                            >\r\n                                                {data}\r\n                                            </MenuItem>\r\n                                        ))}\r\n                                    </Select>\r\n                                )}\r\n                            />\r\n                        </Grid> */}\r\n                        <Grid item xs={12} sm={6} md={6} lg={6}>\r\n                            <Controller\r\n                                name=\"phone\"\r\n                                control={control}\r\n                                render={({ value, onChange }) => (\r\n                                    <TextField\r\n                                        label={fields.tel.title}\r\n                                        variant=\"outlined\"\r\n                                        // fullWidth\r\n                                        value={value}\r\n                                        onChange={onChange}\r\n                                        error={!!errors.phone}\r\n                                        helperText={errors?.phone?.message}\r\n                                    />\r\n                                )}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={7} md={7} lg={7}>\r\n                            <InputLabel>{fields.eduLvl.title}</InputLabel>\r\n                            <Controller\r\n                                name=\"educationalLevel\"\r\n                                control={control}\r\n                                render={({ value, onChange }) => (\r\n                                    <Select\r\n                                        value={value}\r\n                                        onChange={onChange}\r\n                                        MenuProps={MenuProps}\r\n                                        disableUnderline\r\n                                    >\r\n                                        {bakSchEduLvls.map((data) => (\r\n                                            <MenuItem\r\n                                                key={data}\r\n                                                value={data}\r\n                                                classes={{\r\n                                                    root: styles.menuItemRoot,\r\n                                                    selected:\r\n                                                        styles.menuItemSelected,\r\n                                                }}\r\n                                            >\r\n                                                {data}\r\n                                            </MenuItem>\r\n                                        ))}\r\n                                    </Select>\r\n                                )}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={5} md={5} lg={5}>\r\n                            <InputLabel>{fields.type.title}</InputLabel>\r\n                            <Controller\r\n                                name=\"type\"\r\n                                control={control}\r\n                                render={({ value, onChange }) => (\r\n                                    <Select\r\n                                        value={value}\r\n                                        onChange={onChange}\r\n                                        MenuProps={MenuProps}\r\n                                        disableUnderline\r\n                                    >\r\n                                        {bakSchTypes.map((data) => (\r\n                                            <MenuItem\r\n                                                key={data}\r\n                                                value={data}\r\n                                                classes={{\r\n                                                    root: styles.menuItemRoot,\r\n                                                    selected:\r\n                                                        styles.menuItemSelected,\r\n                                                }}\r\n                                            >\r\n                                                {data}\r\n                                            </MenuItem>\r\n                                        ))}\r\n                                    </Select>\r\n                                )}\r\n                            />\r\n                        </Grid>\r\n                        {/* <Grid item xs={12} sm={6} md={6} lg={6}>\r\n                            <InputLabel>{fields.scale.title}</InputLabel>\r\n                            <Controller\r\n                                name=\"scale\"\r\n                                control={control}\r\n                                render={({ value, onChange }) => (\r\n                                    <Select\r\n                                        value={value}\r\n                                        onChange={onChange}\r\n                                        MenuProps={MenuProps}\r\n                                        disableUnderline\r\n                                    >\r\n                                        {bakSchScales.map((data) => (\r\n                                            <MenuItem\r\n                                                key={data}\r\n                                                value={data}\r\n                                                classes={{\r\n                                                    root: styles.menuItemRoot,\r\n                                                    selected:\r\n                                                        styles.menuItemSelected,\r\n                                                }}\r\n                                            >\r\n                                                {data}\r\n                                            </MenuItem>\r\n                                        ))}\r\n                                    </Select>\r\n                                )}\r\n                            />\r\n                        </Grid> */}\r\n\r\n                        <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                            <FormLabel>{operations.WithData}</FormLabel>\r\n                            <Controller\r\n                                name=\"showRep\"\r\n                                control={control}\r\n                                render={({ value, onChange }) => (\r\n                                    <Checkbox\r\n                                        onChange={(e) =>\r\n                                            onChange(e.target.checked)\r\n                                        }\r\n                                        checked={value}\r\n                                    />\r\n                                )}\r\n                            />\r\n                        </Grid>\r\n\r\n                        {repWatch && (\r\n                            <>\r\n                                <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                    <Controller\r\n                                        name=\"reprName\"\r\n                                        control={control}\r\n                                        defaultValue=\"\"\r\n                                        render={({ value, onChange }) => (\r\n                                            <TextField\r\n                                                label={fields.repName.title}\r\n                                                variant=\"outlined\"\r\n                                                fullWidth\r\n                                                value={value}\r\n                                                onChange={onChange}\r\n                                                error={!!errors.reprName}\r\n                                                helperText={\r\n                                                    errors?.reprName?.message\r\n                                                }\r\n                                            />\r\n                                        )}\r\n                                    />\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                    <InputLabel>\r\n                                        {fields.repGender.title}\r\n                                    </InputLabel>\r\n                                    <Controller\r\n                                        name=\"reprIsMale\"\r\n                                        control={control}\r\n                                        defaultValue={String(true)}\r\n                                        render={({ value, onChange }) => (\r\n                                            <RadioGroup\r\n                                                value={value}\r\n                                                onChange={onChange}\r\n                                                row\r\n                                            >\r\n                                                <FormControlLabel\r\n                                                    label={\r\n                                                        fields.repGender.male.lb\r\n                                                    }\r\n                                                    value={\r\n                                                        fields.repGender.male\r\n                                                            .value\r\n                                                    }\r\n                                                    control={<Radio />}\r\n                                                />\r\n                                                <FormControlLabel\r\n                                                    label={\r\n                                                        fields.repGender.female\r\n                                                            .lb\r\n                                                    }\r\n                                                    value={\r\n                                                        fields.repGender.female\r\n                                                            .value\r\n                                                    }\r\n                                                    control={<Radio />}\r\n                                                />\r\n                                            </RadioGroup>\r\n                                        )}\r\n                                    />\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={6} md={6} lg={6}>\r\n                                    <Controller\r\n                                        name=\"reprPhone\"\r\n                                        control={control}\r\n                                        defaultValue=\"\"\r\n                                        render={({ value, onChange }) => (\r\n                                            <TextField\r\n                                                label={fields.repPhone.title}\r\n                                                variant=\"outlined\"\r\n                                                fullWidth\r\n                                                value={value}\r\n                                                onChange={onChange}\r\n                                                error={!!errors.reprPhone}\r\n                                                helperText={\r\n                                                    errors?.reprPhone?.message\r\n                                                }\r\n                                            />\r\n                                        )}\r\n                                    />\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                    <Controller\r\n                                        name=\"reprEmail\"\r\n                                        control={control}\r\n                                        defaultValue=\"\"\r\n                                        render={({ value, onChange }) => (\r\n                                            <TextField\r\n                                                label={fields.repEmail.title}\r\n                                                variant=\"outlined\"\r\n                                                fullWidth\r\n                                                value={value}\r\n                                                onChange={onChange}\r\n                                                error={!!errors.reprEmail}\r\n                                                helperText={\r\n                                                    errors?.reprEmail?.message\r\n                                                }\r\n                                            />\r\n                                        )}\r\n                                    />\r\n                                </Grid>\r\n                            </>\r\n                        )}\r\n                    </Grid>\r\n                </form>\r\n            </DialogContent>\r\n            <DialogActions className={classes.dialogAct}>\r\n                <Button\r\n                    className={classes.btnSave}\r\n                    // type=\"submit\"\r\n                    disabled={!formState.isDirty} // || addressErr\r\n                    onClick={handleSubmit(onSubmit)}\r\n                >\r\n                    {operations.save}\r\n                </Button>\r\n                <Button\r\n                    onClick={() => {\r\n                        reset({\r\n                            errors: false,\r\n                            name: '',\r\n                            address: '',\r\n                            district: bakDists[0],\r\n                            phone: '',\r\n                            educationalLevel: bakSchEduLvls[0],\r\n                            type: bakSchTypes[0],\r\n                            // scale: bakSchScales[0],\r\n\r\n                            showRep: false,\r\n                        })\r\n                        onClose()\r\n                    }}\r\n                >\r\n                    {operations.cancel}\r\n                </Button>\r\n            </DialogActions>\r\n\r\n            {/* <Snackbars notify={notify} setNotify={setNotify} /> */}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CreateSchoolForm\r\n","import React from 'react'\r\nimport {\r\n    Dialog,\r\n    IconButton,\r\n    DialogTitle,\r\n    Typography,\r\n    withStyles,\r\n} from '@material-ui/core'\r\nimport { MdClose } from 'react-icons/md'\r\nimport CreateSchoolForm from './CreateSchoolForm'\r\nimport { Consts } from '../DialogConfig'\r\n\r\nconst stylesTitle = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n})\r\n\r\nconst DialogTitleWithIconClose = withStyles(stylesTitle)((props) => {\r\n    const { children, classes, onClose, ...other } = props\r\n    return (\r\n        <DialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton\r\n                    aria-label=\"close\"\r\n                    className={classes.closeButton}\r\n                    onClick={onClose}\r\n                >\r\n                    <MdClose />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    )\r\n})\r\n\r\nfunction CreateSchool(props) {\r\n    const { open, onClose, refreshPage } = props\r\n\r\n    const { headers } = Consts\r\n\r\n    return (\r\n        <>\r\n            <Dialog open={open} onClose={onClose} maxWidth=\"xs\">\r\n                <DialogTitleWithIconClose onClose={onClose}>\r\n                    {headers.child1}\r\n                </DialogTitleWithIconClose>\r\n                <CreateSchoolForm onClose={onClose} refreshPage={refreshPage} />\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CreateSchool\r\n","import React, { useState } from 'react'\r\nimport {\r\n    Dialog,\r\n    IconButton,\r\n    DialogTitle,\r\n    Typography,\r\n    withStyles,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogContentText,\r\n    Button,\r\n    Link,\r\n} from '@material-ui/core'\r\nimport { Alert, AlertTitle } from '@material-ui/lab'\r\nimport { MdClose } from 'react-icons/md'\r\nimport { FaFileImport } from 'react-icons/fa'\r\nimport { Consts } from '../DialogConfig'\r\nimport * as XLSX from 'xlsx'\r\nimport { storage } from '../../../../services/firebase'\r\nimport { Snackbars } from '../../../../components'\r\nimport * as SchoolsServices from '../../SchoolsServices'\r\nimport { useSchool } from '../../hooks/SchoolContext'\r\n// import { PHONE_RGX } from '../../../../utils/Regex'\r\nimport classes from './ImportFile.module.scss'\r\n\r\nconst stylesTitle = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n})\r\n\r\nconst DialogTitleWithIconClose = withStyles(stylesTitle)((props) => {\r\n    const { children, classes, onClose, ...other } = props\r\n    return (\r\n        <DialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton\r\n                    aria-label=\"close\"\r\n                    className={classes.closeButton}\r\n                    onClick={onClose}\r\n                >\r\n                    <MdClose />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    )\r\n})\r\n\r\nfunction ImportFile(props) {\r\n    const [data, setData] = useState([])\r\n    const [notify, setNotify] = useState({\r\n        isOpen: false,\r\n        message: '',\r\n        type: '',\r\n    })\r\n    const { open, onClose, refreshAPI } = props\r\n    const {\r\n        headers,\r\n        excel,\r\n        contentText1,\r\n        contentText2,\r\n        fileFormat,\r\n        linkText,\r\n        contentLink,\r\n        alertType,\r\n        refFile,\r\n        alertText,\r\n    } = Consts\r\n    const { params } = useSchool()\r\n    const { listFilters, page, limit, column, direction, searchKey } = params\r\n    const [fileName, setFileName] = React.useState('')\r\n    const [text, setText] = React.useState(0)\r\n    const [link, setLink] = React.useState('')\r\n    const [isDisableButton, setIsDisableButton] = React.useState(true)\r\n    const handleClose = () => {\r\n        setFileName('')\r\n        setText(0)\r\n        setIsDisableButton(true)\r\n        onClose(false)\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        return new Promise((resolve, reject) => {\r\n            storage\r\n                .ref(refFile)\r\n                .getDownloadURL()\r\n                .then((url) => {\r\n                    setLink(url)\r\n                })\r\n        })\r\n    }, [])\r\n\r\n    const handleUploadFile = (event) => {\r\n        const filePath = event.target.files[0]\r\n\r\n        setFileName(filePath?.name)\r\n        if (!filePath?.name.match(/\\.(xlsx|xls|csv|xml|xslx)$/)) {\r\n            setNotify({\r\n                isOpen: true,\r\n                message: 'Error file type',\r\n                type: 'warning',\r\n            })\r\n            event.target.value = ''\r\n            setFileName('')\r\n            setText(0)\r\n            return false\r\n        } else {\r\n            if (filePath?.size > 1572864) {\r\n                setNotify({\r\n                    isOpen: true,\r\n                    message:\r\n                        'Error file too large, only accept file less than 1.5Mb ',\r\n                    type: 'warning',\r\n                })\r\n                event.target.value = ''\r\n                setFileName('')\r\n                setText(0)\r\n                return false\r\n            }\r\n            const promise = new Promise((resolve, reject) => {\r\n                const fileReader = new FileReader()\r\n                fileReader.readAsArrayBuffer(filePath)\r\n                fileReader.onload = (e) => {\r\n                    const bufferArray = e.target.result\r\n                    const wb = XLSX.read(bufferArray, { type: 'buffer' })\r\n                    const wsname = wb.SheetNames[0]\r\n                    const ws = wb.Sheets[wsname]\r\n                    const data = XLSX.utils.sheet_to_json(ws)\r\n                    resolve(data)\r\n                }\r\n                fileReader.onerror = (error) => {\r\n                    reject(error)\r\n                }\r\n            })\r\n            promise.then((e) => {\r\n                const array = []\r\n                e.forEach((item) => {\r\n                    if (\r\n                        !item[excel.name] ||\r\n                        !item[excel.address] ||\r\n                        !item[excel.educationalLevel] ||\r\n                        // !item[excel.scale] ||\r\n                        !item[excel.type] ||\r\n                        !item[excel.district] //||\r\n                        // !item[excel.phone] ||\r\n                        // !String(item[excel.phone]).match(PHONE_RGX)\r\n                    ) {\r\n                        setNotify({\r\n                            isOpen: true,\r\n                            message: 'Information is invalid',\r\n                            type: 'warning',\r\n                        })\r\n                        event.target.value = ''\r\n                        setFileName('')\r\n                        setText(0)\r\n                        return false\r\n                    }\r\n                    array.push({\r\n                        name: item[excel.name],\r\n                        educationalLevel: item[excel.educationalLevel],\r\n                        phone: item[excel.phone],\r\n                        district: item[excel.district],\r\n                        address: item[excel.address],\r\n                        reprName: item[excel.reprName],\r\n                        reprIsMale:\r\n                            \"Nam\" === excel.isMaleValue\r\n                                ? true\r\n                                : false,\r\n                        reprPhone: item[excel.reprPhone],\r\n                        reprEmail: item[excel.reprEmail],\r\n                        type: item[excel.type],\r\n                        // scale: item[excel.scale],\r\n                    })\r\n                })\r\n                console.log(array)\r\n                setText(array.length)\r\n                if (array.length < 1) setIsDisableButton(true)\r\n                else {\r\n                    setIsDisableButton(false)\r\n                    setData(array)\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        SchoolsServices.importSchool(data)\r\n            .then((res) => {\r\n                refreshAPI(page, limit, column, direction, searchKey, listFilters)\r\n                setNotify({\r\n                    isOpen: true,\r\n                    message: 'Created Successfully',\r\n                    type: 'success',\r\n                })\r\n                handleClose()\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error.response)\r\n                    console.log(error.response.data.message)\r\n\r\n                    // history.push({\r\n                    //     pathname: '/errors',\r\n                    //     state: { error: error.response.status },\r\n                    // })\r\n                    setNotify({\r\n                        isOpen: true,\r\n                        message: error.response.data.message,\r\n                        type: 'error',\r\n                    })\r\n                }\r\n                // setNotify({\r\n                //     isOpen: true,\r\n                //     message: 'Created failed',\r\n                //     type: 'error',\r\n                // })\r\n            })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Dialog\r\n                open={open}\r\n                onClose={handleClose}\r\n                maxWidth=\"xs\"\r\n                scroll={'body'}\r\n            >\r\n                <DialogTitleWithIconClose onClose={handleClose}>\r\n                    {headers.child2}\r\n                </DialogTitleWithIconClose>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        {contentText1}\r\n                        <strong>{fileFormat}</strong>\r\n                        {contentText2}\r\n                    </DialogContentText>\r\n                    <Alert variant=\"outlined\" severity=\"info\">\r\n                        <Link underline=\"always\" href={link}>\r\n                            {linkText}{' '}\r\n                        </Link>{' '}\r\n                        {contentLink}\r\n                    </Alert>\r\n                    <label className={classes.customfileupload}>\r\n                        <IconButton\r\n                            className={classes.uploadBtn}\r\n                            component=\"span\"\r\n                        >\r\n                            <FaFileImport /> &nbsp;&nbsp;\r\n                            <input\r\n                                id=\"icon-button-file\"\r\n                                className={classes.inputFile}\r\n                                accept=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\"\r\n                                type=\"file\"\r\n                                onChange={(event) => handleUploadFile(event)}\r\n                            />\r\n                            Choose file\r\n                        </IconButton>\r\n                    </label>\r\n                    <label>{fileName} </label>\r\n                    <Alert\r\n                        severity={text === 0 ? 'warning' : 'success'}\r\n                        className={classes.alert}\r\n                    >\r\n                        <AlertTitle>\r\n                            {text === 0 ? alertType.waring : alertType.success}\r\n                        </AlertTitle>\r\n                        {alertText}\r\n                        <strong>[{text}] row(s)</strong>\r\n                    </Alert>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button\r\n                        onClick={handleSubmit}\r\n                        color=\"primary\"\r\n                        disabled={isDisableButton}\r\n                        className={classes.btnSave}\r\n                    >\r\n                        Save\r\n                    </Button>\r\n                    <Button onClick={handleClose}>\r\n                        Cancel\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n            <Snackbars notify={notify} setNotify={setNotify} />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ImportFile\r\n","import { roleNames } from \"../../constants/Generals\";\r\n\r\nconst columns = [\r\n    { key: 'no', name: '#', sortable: false, width: '2%' },\r\n    { key: 'name', name: 'School Name', sortable: true, width: '20%' },\r\n    // { key: \"district.name\", name: 'District', sortable: true },\r\n    { key: 'address', name: 'Address', sortable: false, width: '42%' },\r\n    { key: 'reprName', name: 'Principal', sortable: true, width: '18%' },\r\n    { key: 'schoolStatus.name', name: 'Status', sortable: true, width: '14%' },\r\n    { key: '', name: '', sortable: false, width: '2%' },\r\n]\r\n\r\nexport const getColumns = (role) => {\r\n    const [no, schoolName, address, repName, schoolStatus, actions] = columns\r\n    switch (role) {\r\n        case roleNames.admin:\r\n            return [no, schoolName, address, repName, actions]\r\n        case roleNames.manager:\r\n        case roleNames.supervisor:\r\n            return [no, schoolName, address, schoolStatus, actions]\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\nexport const schConsts = {\r\n    linkNames: {\r\n        back: 'Schools',\r\n    },\r\n    tabNames: {\r\n        tab1: 'General Info',\r\n        tab2: 'Principal Info',\r\n        tab3: 'Timeline',\r\n    },\r\n    operations: {\r\n        notFound: 'School Not Found',\r\n    },\r\n}\r\n\r\nexport const Consts = {\r\n    operations: {\r\n        filter: 'Filters',\r\n        search: {\r\n            placeholder: 'Search...',\r\n        },\r\n        selectCreateOptions: 'Create',\r\n        create: 'Create',\r\n        import: 'Import',\r\n    },\r\n    filters: {\r\n        district: {\r\n            title: 'Districts',\r\n        },\r\n        schoolStatus: {\r\n            title: 'School Status',\r\n        },\r\n        schoolType: {\r\n            title: 'School Types',\r\n        },\r\n        schoolLevel: {\r\n            title: 'School Levels',\r\n        },\r\n        // schoolScale: {\r\n        //     title: 'School Scales',\r\n        // },\r\n        workingStatus: {\r\n            title: 'Working Status',\r\n            options: {\r\n                all: 'All',\r\n                active: 'Active',\r\n                inactive: 'Inactive',\r\n            },\r\n        },\r\n    },\r\n    messages: {\r\n        notFound: 'No records found.',\r\n    },\r\n    menuItems: {\r\n        details: {\r\n            title: 'View details',\r\n        },\r\n    },\r\n}","import React, { useState } from 'react'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n    Accordion,\r\n    AccordionSummary,\r\n    AccordionDetails,\r\n    Typography,\r\n    Select,\r\n    Grid,\r\n    Box,\r\n    InputLabel,\r\n    MenuItem,\r\n    FormControl,\r\n    Button,\r\n    Menu,\r\n    Tooltip,\r\n} from '@material-ui/core'\r\nimport { MdAdd, MdCreate, MdExpandMore, MdFilterList } from 'react-icons/md'\r\nimport { FaFileImport } from 'react-icons/fa'\r\nimport { SearchFields } from '../../../../components'\r\nimport Chips from './Chips/Chips'\r\nimport CreateSchool from '../../dialogs/CreateSchool/CreateSchool'\r\nimport ImportFile from '../../dialogs/ImportFile/ImportFile'\r\nimport * as ReducerActions from '../../../../constants/ActionTypes'\r\nimport { useSchool } from '../../hooks/SchoolContext'\r\nimport {\r\n    DISTRICT_FILTER,\r\n    TYPE_FILTER,\r\n    LEVEL_FILTER,\r\n    // SCALE_FILTER,\r\n    STATUS_FILTER,\r\n    ACTIVE_FILTER,\r\n} from '../../../../constants/Filters'\r\nimport { useApp } from '../../../../hooks/AppContext'\r\nimport { useAuth } from '../../../../hooks/AuthContext';\r\nimport * as Milk from '../../../../utils/Milk'\r\nimport { milkNames, roleNames } from '../../../../constants/Generals'\r\nimport { Consts } from '../../SchoolsConfig'\r\nimport styles from './Filters.module.scss'\r\n\r\n//===============Set max-height for dropdown list===============\r\nconst ITEM_HEIGHT = 38\r\nconst ITEM_PADDING_TOP = 5\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT * 4 + ITEM_PADDING_TOP,\r\n        },\r\n    },\r\n}\r\n//==============================================================\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 160,\r\n    },\r\n    flexBox: {\r\n        padding: 0,\r\n    },\r\n    flexItem: {\r\n        padding: 0,\r\n    },\r\n    option: {\r\n        fontSize: '0.875rem',\r\n    },\r\n    btn: {\r\n        padding: '0.5rem',\r\n        margin: '0 0.3rem',\r\n        borderRadius: '8px',\r\n        // minWidth: 3, // minHeight: 0, // lineHeight: 0,\r\n    },\r\n    root: {},\r\n    menuItemRoot: {\r\n        '&$menuItemSelected': { backgroundColor: 'rgba(0, 0, 0, 0.08)' },\r\n        '&$menuItemSelected:focus': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.12)',\r\n        },\r\n        '&$menuItemSelected:hover': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.04);',\r\n        },\r\n    },\r\n    menuItemSelected: {},\r\n}))\r\n\r\nconst MuiAccordion = withStyles({\r\n    root: {\r\n        backgroundColor: 'rgb(238, 238, 238)',\r\n        borderRadius: '8px',\r\n        marginBottom: '0.5rem',\r\n        boxShadow: 'none',\r\n        '&:not(:last-child)': {\r\n            borderBottom: 0,\r\n            borderRadius: '8px',\r\n        },\r\n        '&:before': {\r\n            display: 'none',\r\n        },\r\n        '&$expanded': {\r\n            margin: 'auto',\r\n            borderRadius: '8px',\r\n        },\r\n    },\r\n    expanded: {},\r\n})(Accordion)\r\n\r\nconst MuiAccordionSummary = withStyles({\r\n    root: {\r\n        height: 41.5,\r\n        minHeight: 35,\r\n        maxWidth: 120,\r\n        backgroundColor: 'rgb(255, 255, 255)',\r\n        fontWeight: 'bold',\r\n        // borderBottom: '1px solid rgba(0, 0, 0, .125)',\r\n        // boxShadow: '1px 1px 2px gray',\r\n        boxShadow: '0 4px 6px -6px #000', // 0px 1px 1px gray\r\n        borderRadius: '8px',\r\n        paddingButtom: 0,\r\n        '&$expanded': {\r\n            minHeight: 35,\r\n            borderRadius: '8px',\r\n        },\r\n    },\r\n    content: {\r\n        '&$expanded': {\r\n            margin: '12px 0',\r\n        },\r\n    },\r\n    expanded: {},\r\n})(AccordionSummary)\r\n\r\nconst MuiAccordionDetails = withStyles((theme) => ({\r\n    root: {\r\n        backgroundColor: 'rgb(255, 255, 255)',\r\n        margin: '0.5rem 0',\r\n        padding: '0.3rem 0 1rem 2rem',\r\n        borderRadius: '8px',\r\n    },\r\n}))(AccordionDetails)\r\n\r\nfunction Filters(props) {\r\n    const classes = useStyles()\r\n    const { operations, filters } = Consts\r\n    const { user } = useAuth()\r\n\r\n    const { dists, schTypes, schEduLvls, schStatus } = useApp()    //, schStatus, schScales\r\n    const bakDists = dists ? dists : Milk.getMilk(milkNames.dists)\r\n    const bakSchTypes = schTypes ? schTypes : Milk.getMilk(milkNames.types)\r\n    const bakSchEduLvls = schEduLvls ? schEduLvls : Milk.getMilk(milkNames.eduLvls)\r\n    const bakSchStatus = schStatus ? schStatus : Milk.getMilk(milkNames.status)\r\n    // const bakSchScales = schScales ? schScales : Milk.getMilk(milkNames.scales)\r\n\r\n    //Use states which have been declared in the SchoolContext\r\n    const {\r\n        params,\r\n        dispatchParams,\r\n        district,\r\n        schoolType,\r\n        schoolLevel,\r\n        // schoolScale,\r\n        schoolStatus,\r\n        isActive,\r\n        workingStatuses,\r\n        setFilter,\r\n    } = useSchool()\r\n\r\n    const [openCreateDialog, setOpenCreateDialog] = useState(false)\r\n    const [openImportDialog, setOpenImportDialog] = useState(false)\r\n    const [anchorEl, setAnchorEl] = React.useState(null)\r\n\r\n    const handleOpenCreateDialog = () => {\r\n        setAnchorEl(null)\r\n        setOpenCreateDialog(true)\r\n    }\r\n\r\n    const handleOpenImportDialog = () => {\r\n        setAnchorEl(null)\r\n        setOpenImportDialog(true)\r\n    }\r\n\r\n    //================Handle useState() of filters================\r\n    const handleDistrictChange = (event) => {\r\n        const selectedDistrict = event.target.value\r\n        setFilter(DISTRICT_FILTER, selectedDistrict)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_DISTRICT,\r\n            payload: {\r\n                filterType: DISTRICT_FILTER,\r\n                filterValue: selectedDistrict ? selectedDistrict : '',\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleSchoolTypeChange = (event) => {\r\n        const selectedSchoolType = event.target.value\r\n        setFilter(TYPE_FILTER, selectedSchoolType)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_SCHOOL_TYPE,\r\n            payload: {\r\n                filterType: TYPE_FILTER,\r\n                filterValue: selectedSchoolType ? selectedSchoolType : '',\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleSchoolLevelChange = (event) => {\r\n        const selectedSchoolLevel = event.target.value\r\n        setFilter(LEVEL_FILTER, selectedSchoolLevel)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_SCHOOL_LEVEL,\r\n            payload: {\r\n                filterType: LEVEL_FILTER,\r\n                filterValue: selectedSchoolLevel ? selectedSchoolLevel : '',\r\n            },\r\n        })\r\n    }\r\n\r\n    // const handleSchoolScaleChange = (event) => {\r\n    //     const selectedSchoolScale = event.target.value\r\n    //     setFilter(SCALE_FILTER, selectedSchoolScale)\r\n    //     dispatchParams({\r\n    //         type: ReducerActions.FILTER_SCHOOL_SCALE,\r\n    //         payload: {\r\n    //             filterType: SCALE_FILTER,\r\n    //             filterValue: selectedSchoolScale ? selectedSchoolScale : '',\r\n    //         },\r\n    //     })\r\n    // }\r\n\r\n    const handleIsActiveChange = (event) => {\r\n        const selectedIsActive = event.target.value\r\n\r\n        setFilter(ACTIVE_FILTER, selectedIsActive)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_ACTIVE,\r\n            payload: {\r\n                filterType: ACTIVE_FILTER,\r\n                filterValue: selectedIsActive,\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleSchoolStatusChange = (event) => {\r\n        const selectedSchoolStatus = event.target.value\r\n        setFilter(STATUS_FILTER, selectedSchoolStatus)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_SCHOOL_STATUS,\r\n            payload: {\r\n                filterType: STATUS_FILTER,\r\n                filterValue: selectedSchoolStatus ? selectedSchoolStatus : '',\r\n            },\r\n        })\r\n    }\r\n\r\n    //==============Handle action delete from Chips and btn \"Clear all\"==============\r\n    const handleChipsRemoved = (removedFilters) => {\r\n        removedFilters.forEach((removedFilter) => {\r\n            switch (removedFilter) {\r\n                case DISTRICT_FILTER:\r\n                    setFilter(DISTRICT_FILTER, '')\r\n                    break\r\n                case TYPE_FILTER:\r\n                    setFilter(TYPE_FILTER, '')\r\n                    break\r\n                case LEVEL_FILTER:\r\n                    setFilter(LEVEL_FILTER, '')\r\n                    break\r\n                // case SCALE_FILTER:\r\n                //     setFilter(SCALE_FILTER, '')\r\n                //     break\r\n                case STATUS_FILTER:\r\n                    setFilter(STATUS_FILTER, '')\r\n                    break\r\n                case ACTIVE_FILTER:\r\n                    setFilter(ACTIVE_FILTER, null)\r\n                    break\r\n                default:\r\n                    break\r\n            }\r\n        })\r\n    }\r\n\r\n    const generateChipsArray = (listFilters) => {\r\n        const listChips = []\r\n        for (const chip in listFilters) {\r\n            listChips.push(listFilters[chip])\r\n        }\r\n        return listChips\r\n    }\r\n    //===============================================================================\r\n\r\n    //=================Handle action enter / submit of SearchFields==================\r\n    const handleSearch = (keyword) => {\r\n        dispatchParams({\r\n            type: ReducerActions.ENTER_SEARCH_KEYWORD,\r\n            payload: keyword,\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <MuiAccordion>\r\n                <Box\r\n                    display=\"flex\"\r\n                    flexWrap=\"nowrap\"\r\n                    className={classes.flexBox}\r\n                >\r\n                    <Box className={classes.flexItem}>\r\n                        <MuiAccordionSummary expandIcon={<MdExpandMore />}>\r\n                            <MdFilterList className={styles.iconFilter} />{' '}\r\n                            &nbsp;\r\n                            <Typography>{operations.filter}</Typography>\r\n                        </MuiAccordionSummary>\r\n                    </Box>\r\n                    <Box flexGrow={1} className={classes.flexItem}>\r\n                        <Chips\r\n                            chips={generateChipsArray(params.listFilters)}\r\n                            dispatch={dispatchParams}\r\n                            handleChipsRemoved={handleChipsRemoved}\r\n                        />\r\n                    </Box>\r\n                    <Box className={classes.flexItem}>\r\n                        <SearchFields\r\n                            placeholder={operations.search.placeholder}\r\n                            onChange={handleSearch}\r\n                        />\r\n                    </Box>\r\n                    {user.roles[0] === roleNames.admin && (\r\n                        <Box className={classes.flexItem}>\r\n                            <Tooltip title={operations.selectCreateOptions}>\r\n                                <Button\r\n                                    className={classes.btn}\r\n                                    variant=\"contained\"\r\n                                    color=\"secondary\"\r\n                                    onClick={(event) =>\r\n                                        setAnchorEl(event.currentTarget)\r\n                                    }\r\n                                >\r\n                                    <MdAdd fontSize=\"large\" />\r\n                                </Button>\r\n                            </Tooltip>\r\n                            <Menu\r\n                                anchorEl={anchorEl}\r\n                                keepMounted\r\n                                open={Boolean(anchorEl)}\r\n                                onClose={() => setAnchorEl(null)}\r\n                            >\r\n                                <Tooltip title=\"Input form manually\" placement=\"left\">\r\n                                    <MenuItem onClick={() => handleOpenCreateDialog()}>\r\n                                        <MdCreate style={{ color: '#616161' }} /> &nbsp; &nbsp; {operations.create}\r\n                                    </MenuItem>\r\n                                </Tooltip>\r\n\r\n                                <Tooltip title=\"Import file Excel\" placement=\"left\">\r\n                                    <MenuItem onClick={() => handleOpenImportDialog()}>\r\n                                        <FaFileImport style={{ color: '#616161' }} /> &nbsp; &nbsp; {operations.import}\r\n                                    </MenuItem>\r\n                                </Tooltip>\r\n                            </Menu>\r\n\r\n                            <CreateSchool\r\n                                open={openCreateDialog}\r\n                                onClose={() => setOpenCreateDialog(false)}\r\n                                refreshPage={props.refreshAPI}\r\n                            />\r\n                            <ImportFile\r\n                                open={openImportDialog}\r\n                                onClose={() => setOpenImportDialog(false)}\r\n                                refreshAPI={props.refreshAPI}\r\n                            />\r\n                        </Box>\r\n                    )}\r\n                </Box>\r\n                <MuiAccordionDetails>\r\n                    <Grid container>\r\n                        <Grid item xs={6} sm={4} md={4} lg={4}>\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>{filters.district.title}</InputLabel>\r\n                                <Select\r\n                                    value={district || ''}\r\n                                    onChange={handleDistrictChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    <MenuItem\r\n                                        value=\"\"\r\n                                        className={classes.option}\r\n                                        classes={{\r\n                                            root: classes.menuItemRoot,\r\n                                            selected: classes.menuItemSelected,\r\n                                        }}\r\n                                    >\r\n                                        All\r\n                                    </MenuItem>\r\n                                    {bakDists?.map((dist) => (\r\n                                        <MenuItem\r\n                                            key={dist}\r\n                                            value={dist}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {dist}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={6} sm={4} md={4} lg={4}>\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>{filters.schoolType.title}</InputLabel>\r\n                                <Select\r\n                                    value={schoolType || ''}\r\n                                    onChange={handleSchoolTypeChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    <MenuItem\r\n                                        value=\"\"\r\n                                        className={classes.option}\r\n                                        classes={{\r\n                                            root: classes.menuItemRoot,\r\n                                            selected: classes.menuItemSelected,\r\n                                        }}\r\n                                    >\r\n                                        All\r\n                                    </MenuItem>\r\n                                    {bakSchTypes?.map((type) => (\r\n                                        <MenuItem\r\n                                            key={type}\r\n                                            value={type}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {type}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={6} sm={4} md={4} lg={4}>\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>{filters.schoolLevel.title}</InputLabel>\r\n                                <Select\r\n                                    value={schoolLevel || ''}\r\n                                    onChange={handleSchoolLevelChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    <MenuItem\r\n                                        value=\"\"\r\n                                        className={classes.option}\r\n                                        classes={{\r\n                                            root: classes.menuItemRoot,\r\n                                            selected: classes.menuItemSelected,\r\n                                        }}\r\n                                    >\r\n                                        All\r\n                                    </MenuItem>\r\n                                    {bakSchEduLvls?.map((level) => (\r\n                                        <MenuItem\r\n                                            key={level}\r\n                                            value={level}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {level}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* <Grid item xs={6} sm={4} md={4} lg={4}>\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>{filters.schoolScale.title}</InputLabel>\r\n                                <Select\r\n                                    value={schoolScale || ''}\r\n                                    onChange={handleSchoolScaleChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    <MenuItem\r\n                                        value=\"\"\r\n                                        className={classes.option}\r\n                                        classes={{\r\n                                            root: classes.menuItemRoot,\r\n                                            selected: classes.menuItemSelected,\r\n                                        }}\r\n                                    >\r\n                                        All\r\n                                    </MenuItem>\r\n                                    {bakSchScales?.map((scale) => (\r\n                                        <MenuItem\r\n                                            key={scale}\r\n                                            value={scale}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {scale}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid> */}\r\n\r\n                        {user.roles[0] === roleNames.admin ? (\r\n                            <Grid item xs={6} sm={4} md={4} lg={4}>\r\n                                <FormControl className={classes.formControl}>\r\n                                    <InputLabel>{filters.workingStatus.title}</InputLabel>\r\n                                    <Select value={isActive === null ? '' : isActive} onChange={handleIsActiveChange} MenuProps={MenuProps}>\r\n                                        {workingStatuses.map((workingStatus) => (\r\n                                            <MenuItem\r\n                                                key={workingStatus}\r\n                                                value={workingStatus}\r\n                                                className={classes.option}\r\n                                                classes={{\r\n                                                    root: classes.menuItemRoot,\r\n                                                    selected:\r\n                                                        classes.menuItemSelected,\r\n                                                }}\r\n                                            >\r\n                                                {workingStatus === null ? `${filters.workingStatus.options.all}` : (workingStatus ? `${filters.workingStatus.options.active}` : `${filters.workingStatus.options.inactive}`)}\r\n                                            </MenuItem>\r\n                                        ))}\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </Grid>\r\n                        ) : (\r\n                            <Grid item xs={6} sm={4} md={4} lg={4}>\r\n                                <FormControl className={classes.formControl}>\r\n                                    <InputLabel>{filters.schoolStatus.title}</InputLabel>\r\n                                    <Select\r\n                                        value={schoolStatus || ''}\r\n                                        onChange={handleSchoolStatusChange}\r\n                                        MenuProps={MenuProps}\r\n                                    >\r\n                                        <MenuItem\r\n                                            value=\"\"\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected: classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            All\r\n                                        </MenuItem>\r\n                                        {bakSchStatus?.map((status) => (\r\n                                            <MenuItem\r\n                                                key={status}\r\n                                                value={status}\r\n                                                className={classes.option}\r\n                                                classes={{\r\n                                                    root: classes.menuItemRoot,\r\n                                                    selected:\r\n                                                        classes.menuItemSelected,\r\n                                                }}\r\n                                            >\r\n                                                {status}\r\n                                            </MenuItem>\r\n                                        ))}\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </Grid>\r\n                        )}\r\n                    </Grid>\r\n                </MuiAccordionDetails>\r\n            </MuiAccordion>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filters\r\n","import React, { useState } from 'react'\r\nimport {\r\n    IconButton,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    Menu,\r\n    MenuItem,\r\n    Tooltip,\r\n} from '@material-ui/core'\r\nimport { Link, useRouteMatch } from 'react-router-dom'\r\nimport { MdMoreVert, MdInfo } from 'react-icons/md'\r\nimport { useSchool } from '../../../hooks/SchoolContext'\r\nimport { Consts } from '../../../SchoolsConfig'\r\n// import PropTypes from 'prop-types'\r\nimport classes from './MenuOptions.module.scss'\r\n\r\nfunction MenuOptions(props) {\r\n    const { data } = props\r\n    const { menuItems } = Consts\r\n\r\n    const { params } = useSchool()\r\n\r\n    const { url } = useRouteMatch()\r\n\r\n    const [anchorEl, setAnchorEl] = useState(null)\r\n\r\n    const stateData = {\r\n        model: data,\r\n        params: params,\r\n        // pathName: `${url}/${data.name}`,\r\n    }\r\n\r\n    const handleOpen = (event) => {\r\n        setAnchorEl(event.currentTarget)\r\n    }\r\n\r\n    const handleCloseMenus = () => {\r\n        setAnchorEl(null)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Tooltip title=\"Actions\">\r\n                <IconButton color=\"primary\" onClick={handleOpen}>\r\n                    <MdMoreVert />\r\n                </IconButton>\r\n            </Tooltip>\r\n            <Menu\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={!!anchorEl}\r\n                onClose={handleCloseMenus}\r\n            >\r\n                <MenuItem\r\n                    onClick={handleCloseMenus}\r\n                    component={Link}\r\n                    to={{\r\n                        pathname: `${url}/${data.schoolId}`,\r\n                        state: { data: stateData },\r\n                    }}\r\n                >\r\n                    <ListItemIcon className={classes.itemIcon}>\r\n                        <MdInfo fontSize=\"large\" />\r\n                    </ListItemIcon>\r\n                    <ListItemText className={classes.itemText}>\r\n                        {menuItems.details.title}\r\n                    </ListItemText>\r\n                </MenuItem>\r\n            </Menu>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(MenuOptions)\r\n\r\n// MenuOptions.propTypes = {\r\n//     data: PropTypes.object.isRequired,\r\n// }\r\n","import React from 'react'\r\nimport { useTheme } from '@material-ui/core/styles'\r\nimport {\r\n    TableContainer,\r\n    Table,\r\n    TableHead,\r\n    TableBody,\r\n    TableRow,\r\n    TableCell,\r\n    TablePagination,\r\n    IconButton,\r\n    TableSortLabel,\r\n    withStyles,\r\n    ListItemText,\r\n    Chip,\r\n    Badge,\r\n    Box,\r\n    Tooltip,\r\n    Icon,\r\n} from '@material-ui/core'\r\nimport {\r\n    MdFirstPage,\r\n    MdKeyboardArrowLeft,\r\n    MdKeyboardArrowRight,\r\n    MdLastPage,\r\n} from 'react-icons/md'\r\nimport { FcTimeline } from 'react-icons/fc';\r\nimport { useSchool } from '../../hooks/SchoolContext'\r\nimport { useAuth } from '../../../../hooks/AuthContext';\r\nimport MenuOptions from './MenuOptions/MenuOptions'\r\nimport * as ReducerActions from '../../../../constants/ActionTypes'\r\nimport { roleNames, statusNames } from '../../../../constants/Generals'\r\nimport { Consts } from '../../SchoolsConfig'\r\nimport Highlighter from 'react-highlight-words'\r\n// import PropTypes from 'prop-types'\r\nimport classes from './Tables.module.scss'\r\n\r\n// Customize component TablePagination\r\nfunction TablePaginationActions(props) {\r\n    const theme = useTheme()\r\n\r\n    const { count, page, rowsPerPage, totalPage, onChangePage } = props\r\n\r\n    const handleFirstPageButtonClick = (event) => {\r\n        onChangePage(event, 0) // firstPage has index = 0\r\n    }\r\n\r\n    const handleLastPageButtonClick = (event) => {\r\n        onChangePage(event, Math.ceil(count / rowsPerPage) - 1)\r\n    }\r\n\r\n    const handleBackPageButtonClick = (event) => {\r\n        onChangePage(event, page - 1) // current page - 1\r\n    }\r\n\r\n    const handleNextPageButtonClick = (event) => {\r\n        onChangePage(event, page + 1) // current page + 1\r\n    }\r\n\r\n    return (\r\n        <div className={classes.paging}>\r\n            <IconButton\r\n                onClick={handleFirstPageButtonClick}\r\n                disabled={page === 0}\r\n                aria-label=\"first page\"\r\n            >\r\n                {theme.direction === 'rtl' ? <MdLastPage /> : <MdFirstPage />}\r\n            </IconButton>\r\n            <IconButton\r\n                onClick={handleBackPageButtonClick}\r\n                disabled={page === 0}\r\n                aria-label=\"previous page\"\r\n            >\r\n                {theme.direction === 'rtl' ? (\r\n                    <MdKeyboardArrowRight />\r\n                ) : (\r\n                    <MdKeyboardArrowLeft />\r\n                )}\r\n            </IconButton>\r\n            <span>\r\n                {page + 1} / {totalPage}\r\n            </span>\r\n            <IconButton\r\n                onClick={handleNextPageButtonClick}\r\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n                aria-label=\"next page\"\r\n            >\r\n                {theme.direction === 'rtl' ? (\r\n                    <MdKeyboardArrowLeft />\r\n                ) : (\r\n                    <MdKeyboardArrowRight />\r\n                )}\r\n            </IconButton>\r\n            <IconButton\r\n                onClick={handleLastPageButtonClick}\r\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n                aria-label=\"last page\"\r\n            >\r\n                {theme.direction === 'rtl' ? <MdFirstPage /> : <MdLastPage />}\r\n            </IconButton>\r\n        </div>\r\n    )\r\n}\r\n\r\n// TablePaginationActions.propTypes = {\r\n//     count: PropTypes.number.isRequired,\r\n//     page: PropTypes.number.isRequired,\r\n//     rowsPerPage: PropTypes.number.isRequired,\r\n//     onChangePage: PropTypes.func.isRequired,\r\n//     totalPage: PropTypes.number.isRequired,\r\n// }\r\n\r\nfunction SortableTableHeaders(props) {\r\n    const { columns, direction, column, onRequestSort } = props\r\n    const createSortHandler = (col, direction) => {\r\n        onRequestSort(col, direction)\r\n    }\r\n\r\n    const MuiTableSortLabel = withStyles({\r\n        root: {\r\n            color: 'white !important',\r\n            '&:hover': {\r\n                color: 'white !important',\r\n            },\r\n            '&$active': {\r\n                color: 'white !important',\r\n            },\r\n        },\r\n        active: {},\r\n        icon: {\r\n            color: 'white !important',\r\n        },\r\n    })(TableSortLabel)\r\n\r\n    return (\r\n        <TableHead>\r\n            <TableRow className={classes.tHead}>\r\n                {columns.map((col) => (\r\n                    <TableCell\r\n                        key={col.key}\r\n                        className={classes.tHeadCell}\r\n                        sortDirection={column === col.key ? direction : false}\r\n                        align={col.key === 'no' ? 'center' : 'left'}\r\n                        width={col.width}\r\n                    >\r\n                        {col?.sortable ? (\r\n                            <MuiTableSortLabel\r\n                                active={column === col.key}\r\n                                direction={column === col.key ? direction : 'asc'}\r\n                                onClick={() => createSortHandler(col, direction)}\r\n                            >\r\n                                {col.name}\r\n                            </MuiTableSortLabel>\r\n                        ) :\r\n                            col.name\r\n                        }\r\n                    </TableCell>\r\n                ))}\r\n            </TableRow>\r\n        </TableHead>\r\n    )\r\n}\r\n\r\n// SortableTableHeaders.propTypes = {\r\n//     columns: PropTypes.array.isRequired,\r\n//     direction: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n//     column: PropTypes.string.isRequired,\r\n//     onRequestSort: PropTypes.func.isRequired,\r\n// }\r\n\r\n// Customize component Table\r\nfunction Tables(props) {\r\n    const { columns, rows, totalRecord, totalPage } = props\r\n    const { messages } = Consts\r\n    const { user } = useAuth()\r\n\r\n    const {\r\n        params,\r\n        dispatchParams,\r\n        limit,\r\n        direction,\r\n        column,\r\n        setColumn,\r\n        setLimit,\r\n        setPage,\r\n        setDirection,\r\n    } = useSchool()\r\n\r\n    // ====================Paging====================\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage)\r\n        dispatchParams({\r\n            type: ReducerActions.CHANGE_PAGE,\r\n            payload: {\r\n                page: newPage,\r\n                limit: params.limit,\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleChangeLimit = (event) => {\r\n        setLimit(parseInt(event.target.value, 10))\r\n        setPage(0)\r\n        dispatchParams({\r\n            type: ReducerActions.CHANGE_PAGE,\r\n            payload: {\r\n                page: 0,\r\n                limit: parseInt(event.target.value, 10),\r\n            },\r\n        })\r\n    }\r\n\r\n    const onSortBy = (col, direction) => {\r\n        if (col.sortable) {\r\n            setDirection(direction === 'desc' ? 'asc' : 'desc')\r\n            setColumn(col.key)\r\n\r\n            dispatchParams({\r\n                type: ReducerActions.SORT_BY,\r\n                payload: {\r\n                    column: col.key,\r\n                    direction: direction,\r\n                },\r\n            })\r\n        }\r\n    }\r\n\r\n    const setStatusChipColor = (status) => {\r\n        // if (isActive) {\r\n        switch (status) {\r\n            case statusNames.lead:\r\n                return <Chip label={status} className={classes.chipLead} />\r\n            // return <Chip label={status} disabled={!isActive} className={isActive ? classes.chipLead : classes.chipLeadInactive} />\r\n            case statusNames.customer:\r\n                return <Chip label={status} className={classes.chipCustomer} />\r\n            // return <Chip label={status} disabled={!isActive} className={isActive ? classes.chipCustomer : classes.chipCustomerInactive} />\r\n            case statusNames.pending:   // #5c21f3\r\n                return <Chip label={status} />\r\n            // return <Chip label={status} disabled={!isActive} className={isActive ? null : classes.chipInactive} />\r\n            case statusNames.potential:\r\n                return <Chip label={status} className={classes.chipPotential} />\r\n            default:\r\n                break\r\n        }\r\n        // } else {\r\n        //     return <Chip label={statusNames.pending} />\r\n        // }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <TableContainer className={classes.container} component=\"div\">\r\n                <Table\r\n                    className={classes.table}\r\n                    stickyHeader\r\n                    size=\"small\"\r\n                    aria-label=\"sticky table\"\r\n                >\r\n                    <SortableTableHeaders\r\n                        columns={columns}\r\n                        direction={direction}\r\n                        column={column}\r\n                        onRequestSort={onSortBy}\r\n                    />\r\n\r\n                    <TableBody className={classes.tBody}>\r\n                        {rows?.length > 0 ? (\r\n                            rows.map((row, index) => (\r\n                                <TableRow\r\n                                    key={row?.schoolId}\r\n                                    className={classes.tBodyRow}\r\n                                >\r\n                                    <TableCell\r\n                                        className={classes.tableCell}\r\n                                        align=\"center\"\r\n                                    >\r\n                                        {params.page * params.limit + index + 1}\r\n                                    </TableCell>\r\n                                    <TableCell\r\n                                        className={\r\n                                            row?.active\r\n                                                ? classes.tCellSchoolName\r\n                                                : classes.tCellInactiveSchoolName\r\n                                        }\r\n                                    >\r\n                                        <Highlighter\r\n                                            highlightClassName=\"YourHighlightClass\"\r\n                                            searchWords={[params.searchKey]}\r\n                                            autoEscape={true}\r\n                                            textToHighlight={`${row?.educationalLevel} ${row?.name}`}\r\n                                        />\r\n                                    </TableCell>\r\n                                    <TableCell\r\n                                        className={\r\n                                            row?.active\r\n                                                ? classes.tBodyCell\r\n                                                : classes.tCellInactive\r\n                                        }\r\n                                    >\r\n                                        <ListItemText\r\n                                            primary={\r\n                                                <Highlighter\r\n                                                    highlightClassName=\"YourHighlightClass\"\r\n                                                    searchWords={[\r\n                                                        params.searchKey,\r\n                                                    ]}\r\n                                                    autoEscape={true}\r\n                                                    textToHighlight={\r\n                                                        row?.address\r\n                                                            ? row?.address\r\n                                                            : ''\r\n                                                    }\r\n                                                />\r\n                                            }\r\n                                            secondary={row?.district}\r\n                                            classes={{\r\n                                                primary: classes.itemText,\r\n                                                secondary: classes.itemText,\r\n                                            }}\r\n                                        />\r\n                                    </TableCell>\r\n                                    {user.roles[0] === roleNames.admin ? (\r\n                                        <TableCell\r\n                                            className={\r\n                                                row?.active\r\n                                                    ? classes.tBodyCell\r\n                                                    : classes.tCellInactive\r\n                                            }\r\n                                        >\r\n                                            <>\r\n                                                {row?.reprName\r\n                                                    ? row?.reprIsMale\r\n                                                        ? 'Mr. '\r\n                                                        : 'Ms. '\r\n                                                    : ''}\r\n                                                <Highlighter\r\n                                                    highlightClassName=\"YourHighlightClass\"\r\n                                                    searchWords={[params.searchKey]}\r\n                                                    autoEscape={true}\r\n                                                    textToHighlight={\r\n                                                        row?.reprName\r\n                                                            ? row?.reprName\r\n                                                            : ''\r\n                                                    }\r\n                                                />\r\n                                            </>\r\n                                        </TableCell>\r\n                                    ) : (\r\n                                        <TableCell className={classes.tBodyCell}>\r\n                                            <Box display=\"flex\">\r\n                                                <Box p={1}>{row?.status && setStatusChipColor(row?.status, row?.active)}</Box>\r\n                                                <Box p={1}>\r\n                                                    {row?.hasTimeline && (\r\n                                                        <Tooltip title=\"View timeline in detail\" placement=\"top\">\r\n                                                            <Icon>\r\n                                                                <FcTimeline className={classes.iconTimeline} />\r\n                                                            </Icon>\r\n                                                        </Tooltip>\r\n                                                    )}\r\n                                                </Box>\r\n                                            </Box>\r\n                                        </TableCell>\r\n                                    )}\r\n                                    <TableCell\r\n                                        className={classes.tBodyCell}\r\n                                        align=\"right\"\r\n                                    >\r\n                                        <MenuOptions data={row} />\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            ))\r\n                        ) : (\r\n                            <TableRow className={classes.tBodyRow}>\r\n                                <TableCell\r\n                                    className={classes.noRecord}\r\n                                    component=\"td\"\r\n                                    colSpan=\"100%\"\r\n                                >\r\n                                    {messages.notFound}\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        )}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n            <TablePagination\r\n                rowsPerPageOptions={[10, 20, 50]}\r\n                component=\"div\"\r\n                count={totalRecord ? totalRecord : 0}\r\n                rowsPerPage={limit}\r\n                page={params.page}\r\n                SelectProps={{\r\n                    inputProps: {\r\n                        'aria-label': 'rows per page',\r\n                    },\r\n                    native: true,\r\n                }}\r\n                onChangePage={handleChangePage}\r\n                onChangeRowsPerPage={handleChangeLimit}\r\n                ActionsComponent={() => (\r\n                    <TablePaginationActions\r\n                        count={totalRecord ? totalRecord : 0}\r\n                        page={params.page}\r\n                        rowsPerPage={params.limit}\r\n                        totalPage={totalPage}\r\n                        onChangePage={handleChangePage}\r\n                    />\r\n                )}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Tables)\r\n\r\n// Tables.propTypes = {\r\n//     rows: PropTypes.array,\r\n//     columns: PropTypes.array.isRequired,\r\n//     totalRecord: PropTypes.number.isRequired,\r\n//     totalPage: PropTypes.number.isRequired,\r\n// }\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { Filters, Tables } from './components'\r\nimport { getColumns } from './SchoolsConfig'\r\nimport { useSchool } from './hooks/SchoolContext'\r\nimport * as SchoolsServices from './SchoolsServices'\r\nimport { Loading } from '../../components'\r\nimport { useAuth } from '../../hooks/AuthContext'\r\nimport classes from './Schools.module.scss'\r\n\r\nfunction Schools() {\r\n    const history = useHistory()\r\n    const { user } = useAuth()\r\n    const columns = getColumns(user.roles[0])\r\n    const { params } = useSchool()\r\n    const { listFilters, page, limit, column, direction, searchKey } = params\r\n\r\n    const [data, setData] = useState(null)\r\n    // const [newData, setNewData] = useState(null)\r\n    // const [newSchooslList, setNewSchooslList] = useState([])\r\n\r\n    let isMounted = true\r\n    const refreshPage = (\r\n        page = 0,\r\n        limit = 10,\r\n        column = 'schoolId',\r\n        direction = 'asc',\r\n        searchKey,\r\n        listFilters,\r\n        userRole\r\n    ) => {\r\n        SchoolsServices.getSchools(\r\n            page,\r\n            limit,\r\n            column,\r\n            direction,\r\n            searchKey,\r\n            listFilters,\r\n            userRole\r\n        )\r\n            .then((res) => {\r\n                if (isMounted) {\r\n                    setData(res.data)\r\n                    // const schoolList = res.data.list;\r\n                    // setNewSchooslList([])\r\n                    // schoolList.forEach(school => {\r\n                    //     getSchoolTimeline(school)\r\n                    // });\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    // const getSchoolTimeline = (school) => {\r\n    //     // const customSchoolData = { ...school }\r\n    //     SchoolsServices.getTimeline(school?.schoolId).then(res => {\r\n    //         if (isMounted) {\r\n    //             if (res.length > 0) {\r\n    //                 // setHasTimeline(false)\r\n    //                 // customSchoolData = { ...school, hasTimeline: true }\r\n    //                 // schooslList = [...schooslList, { ...school, hasTimeline: true }]\r\n    //                 setNewSchooslList(newSchooslList.push({ ...school, hasTimeline: true }))\r\n    //             } else {\r\n    //                 setNewSchooslList(newSchooslList.push({ ...school, hasTimeline: false }))\r\n    //             }\r\n    //             // console.log('trong khi getTimeline: ', newSchooslList);\r\n    //             setNewData(newSchooslList)\r\n    //         }\r\n    //     }).catch((error) => {\r\n    //         if (error.response) {\r\n    //             console.log(error)\r\n    //             history.push({\r\n    //                 pathname: '/errors',\r\n    //                 state: { error: error.response.status },\r\n    //             })\r\n    //         }\r\n    //     })\r\n    // }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    useEffect(() => {\r\n        // setNewSchooslList([])\r\n        refreshPage(page, limit, column, direction, searchKey, listFilters, user.roles[0])\r\n        return () => {\r\n            // eslint-disable-next-line react-hooks/exhaustive-deps\r\n            isMounted = false\r\n            // setData(null)\r\n        }\r\n    }, [params])\r\n\r\n    if (!data) {\r\n        return <Loading />\r\n    }\r\n\r\n    // console.log('newData = ', newData)\r\n\r\n    return (\r\n        <div className={classes.panel}>\r\n            {/* <Fab size=\"medium\" variant=\"extended\" color=\"primary\" className={classes.fab}>\r\n                <MdAdd fontSize=\"large\" />&nbsp; Add School\r\n            </Fab> */}\r\n            <Filters className={classes.filter} refreshAPI={refreshPage} />\r\n            <Tables\r\n                className={classes.table}\r\n                columns={columns}\r\n                rows={data?.list}\r\n                totalRecord={data.totalElements}\r\n                totalPage={data.totalPage}\r\n                refreshAPI={refreshPage}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Schools\r\n","export const Consts = {\r\n    headers: {\r\n        child1: 'School Detail',\r\n        child2: 'Principal Detail',\r\n    },\r\n    operations: {\r\n        cancel: 'Cancel',\r\n        save: 'Save',\r\n    },\r\n    messages: {\r\n        info: '',\r\n        success: 'Updated Successfully',\r\n        error: 'Updated Failed',\r\n        warning: '',\r\n    },\r\n    fields: {\r\n        name: {\r\n            title: 'School Name',\r\n        },\r\n        addr: {\r\n            title: 'Address',\r\n        },\r\n        dist: {\r\n            title: 'District',\r\n        },\r\n        status: {\r\n            title: 'School Active',\r\n        },\r\n        eduLvl: {\r\n            title: 'Educational Level',\r\n        },\r\n        // scale: {\r\n        //     title: 'School Scale',\r\n        // },\r\n        type: {\r\n            title: 'School Type',\r\n        },\r\n        salesStatus: {\r\n            title: 'School Status',\r\n        },\r\n        des: {\r\n            title: 'Description',\r\n        },\r\n        tel: {\r\n            title: 'Tel',\r\n        },\r\n        empty: {\r\n            title: 'N/A',\r\n        },\r\n        // Principal\r\n        reprName: {\r\n            title: 'Full Name',\r\n        },\r\n        reprEmail: {\r\n            title: 'Email',\r\n        },\r\n        reprPhone: {\r\n            title: 'Phone Number',\r\n        },\r\n    },\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport {\r\n    makeStyles,\r\n    Button,\r\n    Grid,\r\n    InputLabel,\r\n    MenuItem,\r\n    Select,\r\n    TextField,\r\n    Typography,\r\n    Switch,\r\n} from '@material-ui/core'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport * as yup from 'yup'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport { useApp } from '../../../../hooks/AppContext'\r\nimport * as Milk from '../../../../utils/Milk'\r\nimport { milkNames, roleNames } from '../../../../constants/Generals'\r\nimport { Loading, AddressField } from '../../../../components'\r\nimport { Consts } from './GenInfoConfig'\r\nimport * as SchoolsServices from '../../SchoolsServices'\r\nimport { TEL_RGX } from '../../../../utils/Regex' //SCHOOL_NAME_RGX,\r\nimport { useSnackbar } from 'notistack'\r\nimport classes from './GenInfo.module.scss'\r\n\r\nconst clientSchema = yup.object().shape({\r\n    name: yup\r\n        .string()\r\n        .trim()\r\n        .min(3, 'Name must be at least 3 characters')\r\n        .max(30, 'Name must be at most 30 characters')\r\n        .required('Name is required'),\r\n    // .matches(SCHOOL_NAME_RGX, 'Incorrect entry'),\r\n    address: yup.string().trim().required('Address is required'),\r\n    phone: yup\r\n        .string()\r\n        .max(11, 'Tel must be at most 11 digits and has the correct format')\r\n        .matches(TEL_RGX, {\r\n            message: 'Telephone number is in wrong format (02xxxxxxxxx)',\r\n            excludeEmptyString: true,\r\n        }),\r\n})\r\n\r\nconst ITEM_HEIGHT = 120\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT,\r\n        },\r\n    },\r\n    anchorOrigin: {\r\n        vertical: 'top',\r\n        horizontal: 'center',\r\n    },\r\n    transformOrigin: {\r\n        vertical: 'top',\r\n        horizontal: 'center',\r\n    },\r\n    getContentAnchorEl: null,\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {},\r\n    menuItemRoot: {\r\n        '&$menuItemSelected': { backgroundColor: 'rgba(0, 0, 0, 0.08)' },\r\n        '&$menuItemSelected:focus': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.12)',\r\n        },\r\n        '&$menuItemSelected:hover': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.04);',\r\n        },\r\n    },\r\n    menuItemSelected: {},\r\n}))\r\n\r\nfunction GenInfo(props) {\r\n    const { school, refreshPage, userRole } = props\r\n    const { headers, operations, fields, messages } = Consts\r\n    const styles = useStyles()\r\n\r\n    const { enqueueSnackbar } = useSnackbar()\r\n\r\n    const history = useHistory()\r\n\r\n    const { dists, schEduLvls, schTypes } = useApp() // , schScales\r\n    const bakDists = dists ? dists : Milk.getMilk(milkNames.dists)\r\n    const bakSchEduLvls = schEduLvls\r\n        ? schEduLvls\r\n        : Milk.getMilk(milkNames.eduLvls)\r\n    const bakSchTypes = schTypes ? schTypes : Milk.getMilk(milkNames.types)\r\n    // const bakSchScales = schScales ? schScales : Milk.getMilk(milkNames.scales)\r\n\r\n    const [latitude, setLatitude] = useState(0.0)\r\n    const [longitude, setLongitude] = useState(0.0)\r\n\r\n    // const [addressErr, setAddressErr] = useState('')\r\n\r\n    const defaultValues = {\r\n        id: school?.schoolId,\r\n        name: school?.name ? school?.name : '',\r\n        address: school?.address ? school?.address : '',\r\n        district: school?.district ? school?.district : bakDists[0],\r\n        latitude: school?.latitude ? school?.latitude : latitude,\r\n        longitude: school?.longitude ? school?.longitude : longitude,\r\n\r\n        educationalLevel: school?.educationalLevel\r\n            ? school?.educationalLevel\r\n            : bakSchEduLvls[0],\r\n        // scale: school?.scale ? school?.scale : bakSchScales[0],\r\n        type: school?.type ? school?.type : bakSchTypes[0],\r\n        phone: school?.phone ? school?.phone : '',\r\n\r\n        active: school?.active,\r\n    }\r\n\r\n    const { control, errors, setError, handleSubmit, formState, reset } =\r\n        useForm({\r\n            resolver: yupResolver(clientSchema),\r\n            defaultValues: defaultValues,\r\n        })\r\n\r\n    useEffect(() => {\r\n        reset({\r\n            id: school?.schoolId,\r\n            name: school?.name ? school?.name : '',\r\n            address: school?.address ? school?.address : '',\r\n            district: school?.district ? school?.district : bakDists[0],\r\n            latitude: school?.latitude ? school?.latitude : latitude,\r\n            longitude: school?.longitude ? school?.longitude : longitude,\r\n\r\n            educationalLevel: school?.educationalLevel\r\n                ? school?.educationalLevel\r\n                : bakSchEduLvls[0],\r\n            // scale: school?.scale ? school?.scale : bakSchScales[0],\r\n            type: school?.type ? school?.type : bakSchTypes[0],\r\n            phone: school?.phone ? school?.phone : '',\r\n\r\n            active: school?.active,\r\n        })\r\n    }, [school])\r\n\r\n    // if (!bakDists || !bakSchEduLvls || !bakSchTypes || !school) {\r\n    //     return <Loading />\r\n    // }\r\n\r\n    if (!bakDists) {\r\n        return <Loading />\r\n    }\r\n\r\n    if (!bakSchEduLvls) {\r\n        return <Loading />\r\n    }\r\n\r\n    if (!bakSchTypes) {\r\n        return <Loading />\r\n    }\r\n\r\n    if (!school) {\r\n        return <Loading />\r\n    }\r\n\r\n    let district = ''\r\n    const validateAddress = (address) => {\r\n        // setAddressErr('')\r\n        if (address) {\r\n            if (address.includes('Thành phố Hồ Chí Minh')) {\r\n                if (address.includes('Quận')) {\r\n                    const tmp1 = address.substring(address.lastIndexOf('Quận'))\r\n                    district = tmp1.substring(0, tmp1.indexOf(', '))\r\n                    // setAddressErr('')\r\n                    return true\r\n                } else {\r\n                    // Quận/Huyện tên chữ, ko có số\r\n                    const tmp1 = address.substring(\r\n                        0,\r\n                        address.lastIndexOf(', Thành phố Hồ Chí Minh')\r\n                    )\r\n                    // const tmp2 = tmp1.substring(tmp1.lastIndexOf(', '))\r\n                    district = tmp1.substring(tmp1.lastIndexOf(', ') + 1).trim()\r\n                    // district = tmp2.substring(2)\r\n\r\n                    // setAddressErr('')\r\n                    if (!district || district.includes('Hồ Chí Minh')) {\r\n                        // setAddressErr('Please input exactly address')\r\n                        setError('address', {\r\n                            type: 'manual',\r\n                            message: 'Please input exactly address',\r\n                        })\r\n                        return false\r\n                    }\r\n                    return true\r\n                }\r\n            } else if (address) {\r\n                // setAddressErr(\r\n                //     'Please choose address locates in Ho Chi Minh City'\r\n                // )\r\n                setError('address', {\r\n                    type: 'manual',\r\n                    message:\r\n                        'Please choose address locates in Ho Chi Minh City',\r\n                })\r\n                return false\r\n            }\r\n        } else {\r\n            setLatitude(0.0)\r\n            setLongitude(0.0)\r\n            // setAddressErr('Address is required')\r\n            return false\r\n        }\r\n    }\r\n\r\n    const onSubmit = (data) => {\r\n        if (validateAddress(data?.address)) {\r\n            const model = {\r\n                ...data,\r\n                // description: school?.description,\r\n\r\n                district: district,\r\n                latitude: school?.latitude ? school?.latitude : latitude,\r\n                longitude: school?.longitude ? school?.longitude : longitude,\r\n\r\n                status: school?.status,\r\n                reprName: school?.reprName,\r\n                reprIsMale: school?.reprIsMale,\r\n                reprPhone: school?.reprPhone,\r\n                reprEmail: school?.reprEmail,\r\n            }\r\n\r\n            SchoolsServices.updateSchool(data.id, model)\r\n                .then((res) => {\r\n                    refreshPage(data.id)\r\n\r\n                    enqueueSnackbar(messages.success, { variant: 'success' })\r\n                })\r\n                .catch((error) => {\r\n                    if (error.response) {\r\n                        console.log(error)\r\n                        history.push({\r\n                            pathname: '/errors',\r\n                            state: { error: error.response.status },\r\n                        })\r\n\r\n                        enqueueSnackbar(messages.error, {\r\n                            variant: 'error',\r\n                        })\r\n                    }\r\n                })\r\n\r\n            // alert(JSON.stringify(model))\r\n        }\r\n    }\r\n\r\n    const renderUIRoleAdmin = () => {\r\n        return (\r\n            <Grid\r\n                item\r\n                xs={12}\r\n                sm={12}\r\n                md={12}\r\n                lg={12}\r\n                className={classes.content}\r\n            >\r\n                <form onSubmit={handleSubmit(onSubmit)} noValidate>\r\n                    {/* School Detail */}\r\n                    <Grid container spacing={0} className={classes.wrapper}>\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            md={3}\r\n                            lg={3}\r\n                            className={classes.row}\r\n                        >\r\n                            <Typography\r\n                                color=\"inherit\"\r\n                                className={classes.header}\r\n                            >\r\n                                {headers.child1}\r\n                            </Typography>\r\n                        </Grid>\r\n                        {/* Detail */}\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            md={9}\r\n                            lg={8}\r\n                            className={classes.row}\r\n                        >\r\n                            <Grid container spacing={0}>\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={6}\r\n                                    md={6}\r\n                                    lg={6}\r\n                                    className={classes.row}\r\n                                >\r\n                                    <Controller\r\n                                        name=\"id\"\r\n                                        control={control}\r\n                                        render={({ value }) => (\r\n                                            <input\r\n                                                type=\"hidden\"\r\n                                                name=\"id\"\r\n                                                value={value}\r\n                                            />\r\n                                        )}\r\n                                    />\r\n                                    <Controller\r\n                                        name=\"name\"\r\n                                        control={control}\r\n                                        render={({ value, onChange }) => (\r\n                                            <TextField\r\n                                                label={fields.name.title}\r\n                                                variant=\"outlined\"\r\n                                                required\r\n                                                fullWidth\r\n                                                autoFocus\r\n                                                value={value}\r\n                                                onChange={onChange}\r\n                                                error={!!errors.name}\r\n                                                helperText={\r\n                                                    errors?.name?.message\r\n                                                }\r\n                                            />\r\n                                        )}\r\n                                    />\r\n                                </Grid>\r\n\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={12}\r\n                                    lg={12}\r\n                                    className={classes.row}\r\n                                >\r\n                                    <Controller\r\n                                        name=\"address\"\r\n                                        control={control}\r\n                                        render={({ value, onChange }) => (\r\n                                            <AddressField\r\n                                                setLatitude={setLatitude}\r\n                                                setLongitude={setLongitude}\r\n                                                inputValue={value}\r\n                                                setInputValue={onChange}\r\n                                                // onBlur={() => {\r\n                                                //     validateAddress(value)\r\n                                                //     setIsClicked(false)\r\n                                                // }}\r\n                                                // errText={\r\n                                                //     formState.isDirty\r\n                                                //         ? addressErr\r\n                                                //         : ''\r\n                                                // }\r\n                                                error={!!errors.address}\r\n                                                helperText={\r\n                                                    errors?.address?.message\r\n                                                }\r\n                                            />\r\n                                        )}\r\n                                    />\r\n                                </Grid>\r\n\r\n                                {/* <Grid item xs={12} sm={3} md={4} lg={4} className={classes.row}>\r\n                                        <InputLabel>\r\n                                            {fields.dist.title}\r\n                                        </InputLabel>\r\n                                        <Controller\r\n                                            name=\"district\"\r\n                                            control={control}\r\n                                            render={({ value, onChange }) => (\r\n                                                <Select\r\n                                                    value={value}\r\n                                                    onChange={onChange}\r\n                                                    MenuProps={MenuProps}\r\n                                                    disableUnderline\r\n                                                >\r\n                                                    {bakDists.map((data) => (\r\n                                                        <MenuItem\r\n                                                            key={data}\r\n                                                            value={data}\r\n                                                            classes={{\r\n                                                                root:\r\n                                                                    styles.menuItemRoot,\r\n                                                                selected:\r\n                                                                    styles.menuItemSelected,\r\n                                                            }}\r\n                                                        >\r\n                                                            {data}\r\n                                                        </MenuItem>\r\n                                                    ))}\r\n                                                </Select>\r\n                                            )}\r\n                                        />\r\n                                    </Grid> */}\r\n\r\n                                {/* <Grid item xs={12} sm={6} md={6} lg={6} className={classes.row}>\r\n                                        <InputLabel>{fields.scale.title}</InputLabel>\r\n                                        <Controller\r\n                                            name=\"scale\"\r\n                                            control={control}\r\n                                            render={({ value, onChange }) => (\r\n                                                <Select\r\n                                                    value={value}\r\n                                                    onChange={onChange}\r\n                                                    MenuProps={MenuProps}\r\n                                                    disableUnderline\r\n                                                >\r\n                                                    {bakSchScales.map(\r\n                                                        (data) => (\r\n                                                            <MenuItem\r\n                                                                key={data}\r\n                                                                value={data}\r\n                                                                classes={{\r\n                                                                    root:\r\n                                                                        styles.menuItemRoot,\r\n                                                                    selected:\r\n                                                                        styles.menuItemSelected,\r\n                                                                }}\r\n                                                            >\r\n                                                                {data}\r\n                                                            </MenuItem>\r\n                                                        )\r\n                                                    )}\r\n                                                </Select>\r\n                                            )}\r\n                                        />\r\n                                    </Grid> */}\r\n\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={12}\r\n                                    lg={12}\r\n                                    className={classes.row}\r\n                                >\r\n                                    <Controller\r\n                                        name=\"phone\"\r\n                                        control={control}\r\n                                        render={({ value, onChange }) => (\r\n                                            <TextField\r\n                                                label={fields.tel.title}\r\n                                                variant=\"outlined\"\r\n                                                // fullWidth\r\n                                                value={value}\r\n                                                onChange={onChange}\r\n                                                error={!!errors.phone}\r\n                                                helperText={\r\n                                                    errors?.phone?.message\r\n                                                }\r\n                                            />\r\n                                        )}\r\n                                    />\r\n                                </Grid>\r\n\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={5}\r\n                                    md={5}\r\n                                    lg={5}\r\n                                    className={classes.row}\r\n                                >\r\n                                    <InputLabel>\r\n                                        {fields.eduLvl.title}\r\n                                    </InputLabel>\r\n                                    <Controller\r\n                                        name=\"educationalLevel\"\r\n                                        control={control}\r\n                                        render={({ value, onChange }) => (\r\n                                            <Select\r\n                                                value={value}\r\n                                                onChange={onChange}\r\n                                                MenuProps={MenuProps}\r\n                                                disableUnderline\r\n                                            >\r\n                                                {bakSchEduLvls.map((data) => (\r\n                                                    <MenuItem\r\n                                                        key={data}\r\n                                                        value={data}\r\n                                                        classes={{\r\n                                                            root: styles.menuItemRoot,\r\n                                                            selected:\r\n                                                                styles.menuItemSelected,\r\n                                                        }}\r\n                                                    >\r\n                                                        {data}\r\n                                                    </MenuItem>\r\n                                                ))}\r\n                                            </Select>\r\n                                        )}\r\n                                    />\r\n                                </Grid>\r\n\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={6}\r\n                                    md={6}\r\n                                    lg={6}\r\n                                    className={classes.row}\r\n                                >\r\n                                    <InputLabel>{fields.type.title}</InputLabel>\r\n                                    <Controller\r\n                                        name=\"type\"\r\n                                        control={control}\r\n                                        render={({ value, onChange }) => (\r\n                                            <Select\r\n                                                value={value}\r\n                                                onChange={onChange}\r\n                                                MenuProps={MenuProps}\r\n                                                disableUnderline\r\n                                            >\r\n                                                {bakSchTypes.map((data) => (\r\n                                                    <MenuItem\r\n                                                        key={data}\r\n                                                        value={data}\r\n                                                        classes={{\r\n                                                            root: styles.menuItemRoot,\r\n                                                            selected:\r\n                                                                styles.menuItemSelected,\r\n                                                        }}\r\n                                                    >\r\n                                                        {data}\r\n                                                    </MenuItem>\r\n                                                ))}\r\n                                            </Select>\r\n                                        )}\r\n                                    />\r\n                                </Grid>\r\n\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={12}\r\n                                    lg={12}\r\n                                    className={classes.row}\r\n                                >\r\n                                    <InputLabel required>\r\n                                        {fields.status.title}\r\n                                    </InputLabel>\r\n                                    <Controller\r\n                                        name=\"active\"\r\n                                        control={control}\r\n                                        render={({ value, onChange }) => (\r\n                                            <Switch\r\n                                                checked={value}\r\n                                                onChange={(e) =>\r\n                                                    onChange(e.target.checked)\r\n                                                }\r\n                                            />\r\n                                        )}\r\n                                    />\r\n                                </Grid>\r\n                                {/* Action */}\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={12}\r\n                                    lg={12}\r\n                                    className={classes.action}\r\n                                >\r\n                                    <Button\r\n                                        className={classes.submit}\r\n                                        variant=\"contained\"\r\n                                        disabled={!formState.isDirty}\r\n                                        type=\"submit\"\r\n                                    >\r\n                                        {operations.save}\r\n                                    </Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                        {/* End Detail */}\r\n                    </Grid>\r\n                </form>\r\n            </Grid>\r\n        )\r\n    }\r\n\r\n    const renderUIForRoleManager = () => {\r\n        return (\r\n            <Grid container spacing={0}>\r\n                {/* School detail Sector */}\r\n                <Grid\r\n                    item\r\n                    xs={12}\r\n                    sm={12}\r\n                    md={12}\r\n                    lg={12}\r\n                    className={classes.content}\r\n                >\r\n                    <Grid container spacing={0} className={classes.wrapper}>\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            md={12}\r\n                            lg={12}\r\n                            className={classes.row}\r\n                        >\r\n                            <Typography\r\n                                color=\"inherit\"\r\n                                className={classes.header}\r\n                            >\r\n                                {headers.child1}\r\n                            </Typography>\r\n                        </Grid>\r\n\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            md={12}\r\n                            lg={12}\r\n                            className={classes.row}\r\n                        >\r\n                            <Grid\r\n                                container\r\n                                spacing={0}\r\n                                className={classes.rowx}\r\n                            >\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={3}\r\n                                    lg={3}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.title}\r\n                                    >\r\n                                        {fields.name.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={9}\r\n                                    lg={8}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography color=\"inherit\">\r\n                                        {school?.educationalLevel}{' '}\r\n                                        {school?.name}\r\n                                    </Typography>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            md={12}\r\n                            lg={12}\r\n                            className={classes.row}\r\n                        >\r\n                            <Grid\r\n                                container\r\n                                spacing={0}\r\n                                className={classes.rowx}\r\n                            >\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={3}\r\n                                    lg={3}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.title}\r\n                                    >\r\n                                        {fields.addr.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={9}\r\n                                    lg={8}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography color=\"inherit\">\r\n                                        {school?.address}\r\n                                    </Typography>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            md={12}\r\n                            lg={12}\r\n                            className={classes.row}\r\n                        >\r\n                            <Grid\r\n                                container\r\n                                spacing={0}\r\n                                className={classes.rowx}\r\n                            >\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={3}\r\n                                    lg={3}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.title}\r\n                                    >\r\n                                        {fields.dist.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={9}\r\n                                    lg={8}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography color=\"inherit\">\r\n                                        {school?.district}\r\n                                    </Typography>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            md={12}\r\n                            lg={12}\r\n                            className={classes.row}\r\n                        >\r\n                            <Grid\r\n                                container\r\n                                spacing={0}\r\n                                className={classes.rowx}\r\n                            >\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={3}\r\n                                    lg={3}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.title}\r\n                                    >\r\n                                        {fields.type.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={9}\r\n                                    lg={8}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography color=\"inherit\">\r\n                                        {school?.type}\r\n                                    </Typography>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n\r\n                {/* Principal detail Sector */}\r\n                <Grid\r\n                    item\r\n                    xs={12}\r\n                    sm={12}\r\n                    md={12}\r\n                    lg={12}\r\n                    className={classes.content}\r\n                >\r\n                    <Grid container spacing={0} className={classes.wrapper}>\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            md={12}\r\n                            lg={12}\r\n                            className={classes.row}\r\n                        >\r\n                            <Typography\r\n                                color=\"inherit\"\r\n                                className={classes.header}\r\n                            >\r\n                                {headers.child2}\r\n                            </Typography>\r\n                        </Grid>\r\n\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            md={12}\r\n                            lg={12}\r\n                            className={classes.row}\r\n                        >\r\n                            <Grid\r\n                                container\r\n                                spacing={0}\r\n                                className={classes.rowx}\r\n                            >\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={3}\r\n                                    lg={3}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.title}\r\n                                    >\r\n                                        {fields.reprName.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={9}\r\n                                    lg={8}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography color=\"inherit\">\r\n                                        {school?.reprName\r\n                                            ? `${\r\n                                                  school?.reprIsMale\r\n                                                      ? 'Mr. '\r\n                                                      : 'Ms. '\r\n                                              } ${school?.reprName}`\r\n                                            : fields.empty.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            md={12}\r\n                            lg={12}\r\n                            className={classes.row}\r\n                        >\r\n                            <Grid\r\n                                container\r\n                                spacing={0}\r\n                                className={classes.rowx}\r\n                            >\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={3}\r\n                                    lg={3}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.title}\r\n                                    >\r\n                                        {fields.reprPhone.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={9}\r\n                                    lg={8}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography color=\"inherit\">\r\n                                        {school?.reprPhone\r\n                                            ? school?.reprPhone\r\n                                            : fields.empty.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            md={12}\r\n                            lg={12}\r\n                            className={classes.row}\r\n                        >\r\n                            <Grid\r\n                                container\r\n                                spacing={0}\r\n                                className={classes.rowx}\r\n                            >\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={3}\r\n                                    lg={3}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.title}\r\n                                    >\r\n                                        {fields.reprEmail.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={9}\r\n                                    lg={8}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Typography color=\"inherit\">\r\n                                        {school?.reprEmail\r\n                                            ? school?.reprEmail\r\n                                            : fields.empty.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className={classes.panel}>\r\n            <Grid container spacing={0} className={classes.body}>\r\n                {userRole === roleNames.admin\r\n                    ? renderUIRoleAdmin()\r\n                    : renderUIForRoleManager()}\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GenInfo\r\n","export const Consts = {\r\n    headers: {\r\n        child1: 'Principal Detail',\r\n    },\r\n    operations: {\r\n        cancel: 'Cancel',\r\n        save: 'Save',\r\n    },\r\n    messages: {\r\n        info: '',\r\n        success: 'Updated Successfully',\r\n        error: 'Updated Failed',\r\n        warning: '',\r\n    },\r\n    fields: {\r\n        fullName: {\r\n            title: 'Full Name',\r\n        },\r\n        reprIsMale: {\r\n            title: 'Gender *',\r\n            male: {\r\n                lb: 'Male',\r\n                value: 'true',\r\n            },\r\n            female: {\r\n                lb: 'Female',\r\n                value: 'false',\r\n            },\r\n        },\r\n        email: {\r\n            title: 'Email',\r\n        },\r\n        phone: {\r\n            title: 'Phone Number',\r\n        },\r\n    },\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport {\r\n    Button,\r\n    FormControlLabel,\r\n    Grid,\r\n    InputLabel,\r\n    Radio,\r\n    RadioGroup,\r\n    TextField,\r\n    Typography,\r\n} from '@material-ui/core'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport * as yup from 'yup'\r\nimport { Snackbars, Loading } from '../../../../components'\r\nimport { Consts } from './RepInfoConfig'\r\nimport * as SchoolsServices from '../../SchoolsServices'\r\nimport { PHONE_RGX } from '../../../../utils/Regex'\r\nimport { useSnackbar } from 'notistack'\r\nimport classes from './RepInfo.module.scss'\r\n\r\nconst clientSchema = yup.object().shape({\r\n    reprName: yup\r\n        .string()\r\n        .trim()\r\n        .min(4, 'Name must be at least 4 characters')\r\n        .max(30, 'Name must be at most 30 characters'),\r\n    reprPhone: yup\r\n        .string()\r\n        .max(10, 'Phone must be at most 10 digits and has the correct format')\r\n        .matches(PHONE_RGX, {\r\n            message: 'Phone number is in wrong format (03|5|7|9xxxxxxxx)',\r\n            excludeEmptyString: true,\r\n        }),\r\n    reprEmail: yup.string().trim().email('Invalid email'),\r\n})\r\n\r\nfunction RepInfo(props) {\r\n    const { school, refreshPage } = props\r\n    const { headers, operations, fields, messages } = Consts\r\n\r\n    const history = useHistory()\r\n\r\n    const { enqueueSnackbar } = useSnackbar()\r\n\r\n    const defaultValues = {\r\n        id: school?.schoolId,\r\n        reprName: school?.reprName ? school?.reprName : '',\r\n        reprIsMale: String(school?.reprIsMale)\r\n            ? String(school?.reprIsMale)\r\n            : String(true),\r\n        reprPhone: school?.reprPhone ? school?.reprPhone : '',\r\n        reprEmail: school?.reprEmail ? school?.reprEmail : '',\r\n    }\r\n\r\n    const { control, errors, handleSubmit, formState, reset } = useForm({\r\n        resolver: yupResolver(clientSchema),\r\n        defaultValues: defaultValues,\r\n    })\r\n\r\n    useEffect(() => {\r\n        reset(defaultValues)\r\n    }, [school])\r\n\r\n    if (!school) {\r\n        return <Loading />\r\n    }\r\n\r\n    const onSubmit = (data) => {\r\n        const model = {\r\n            ...data,\r\n            reprPhone: data?.reprPhone ? data?.reprPhone : null,\r\n            reprEmail: data?.reprEmail ? data?.reprEmail : null,\r\n            reprIsMale: data?.reprIsMale === 'true' ? true : false,\r\n\r\n            id: school?.schoolId,\r\n            name: school?.name,\r\n            address: school?.address,\r\n            district: school?.district,\r\n            latitude: school?.latitude ? school?.latitude : 0.0,\r\n            longitude: school?.longitude ? school?.longitude : 0.0,\r\n\r\n            educationalLevel: school?.educationalLevel,\r\n            type: school?.type,\r\n            // scale: school?.scale,\r\n            phone: school?.phone,\r\n\r\n            // description: school?.description,\r\n            status: school?.status,\r\n\r\n            active: school?.active,\r\n        }\r\n\r\n        // console.log('data.id: ', data.id);\r\n        // console.log('model: ', model);\r\n\r\n        SchoolsServices.updateSchool(data.id, model)\r\n            .then((res) => {\r\n                refreshPage(data.id)\r\n                enqueueSnackbar(messages.success, { variant: 'success' })\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n                enqueueSnackbar(messages.error, { variant: 'error' })\r\n            })\r\n\r\n        // alert(JSON.stringify(model))\r\n    }\r\n\r\n    return (\r\n        <div className={classes.panel}>\r\n            <Grid container spacing={0} className={classes.body}>\r\n                {/* Content Sector */}\r\n                <Grid\r\n                    item\r\n                    xs={12}\r\n                    sm={12}\r\n                    md={12}\r\n                    lg={12}\r\n                    className={classes.content}\r\n                >\r\n                    <form onSubmit={handleSubmit(onSubmit)} noValidate>\r\n                        {/* Principal Detail */}\r\n                        <Grid container spacing={0} className={classes.wrapper}>\r\n                            <Grid\r\n                                item\r\n                                xs={12}\r\n                                sm={12}\r\n                                md={3}\r\n                                lg={3}\r\n                                className={classes.row}\r\n                            >\r\n                                <Typography\r\n                                    color=\"inherit\"\r\n                                    className={classes.header}\r\n                                >\r\n                                    {headers.child1}\r\n                                </Typography>\r\n                            </Grid>\r\n                            {/* Detail */}\r\n                            <Grid\r\n                                item\r\n                                xs={12}\r\n                                sm={12}\r\n                                md={9}\r\n                                lg={8}\r\n                                className={classes.row}\r\n                            >\r\n                                <Grid container spacing={0}>\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={6}\r\n                                        md={6}\r\n                                        lg={6}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <Controller\r\n                                            name=\"id\"\r\n                                            control={control}\r\n                                            render={({ value }) => (\r\n                                                <input\r\n                                                    type=\"hidden\"\r\n                                                    name=\"id\"\r\n                                                    value={value}\r\n                                                />\r\n                                            )}\r\n                                        />\r\n                                        <Controller\r\n                                            name=\"reprName\"\r\n                                            control={control}\r\n                                            render={({ value, onChange }) => (\r\n                                                <TextField\r\n                                                    label={\r\n                                                        fields.fullName.title\r\n                                                    }\r\n                                                    variant=\"outlined\"\r\n                                                    fullWidth\r\n                                                    autoFocus\r\n                                                    value={value}\r\n                                                    onChange={onChange}\r\n                                                    error={!!errors.reprName}\r\n                                                    helperText={\r\n                                                        errors?.reprName\r\n                                                            ?.message\r\n                                                    }\r\n                                                />\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={12}\r\n                                        lg={12}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <InputLabel>\r\n                                            {fields.reprIsMale.title}\r\n                                        </InputLabel>\r\n                                        <Controller\r\n                                            name=\"reprIsMale\"\r\n                                            control={control}\r\n                                            render={({ value, onChange }) => (\r\n                                                <RadioGroup\r\n                                                    value={value}\r\n                                                    onChange={onChange}\r\n                                                    row\r\n                                                >\r\n                                                    <FormControlLabel\r\n                                                        label={\r\n                                                            fields.reprIsMale\r\n                                                                .male.lb\r\n                                                        }\r\n                                                        value={\r\n                                                            fields.reprIsMale\r\n                                                                .male.value\r\n                                                        }\r\n                                                        control={<Radio />}\r\n                                                    />\r\n                                                    <FormControlLabel\r\n                                                        label={\r\n                                                            fields.reprIsMale\r\n                                                                .female.lb\r\n                                                        }\r\n                                                        value={\r\n                                                            fields.reprIsMale\r\n                                                                .female.value\r\n                                                        }\r\n                                                        control={<Radio />}\r\n                                                    />\r\n                                                </RadioGroup>\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={12}\r\n                                        lg={12}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <Controller\r\n                                            name=\"reprPhone\"\r\n                                            control={control}\r\n                                            render={({ value, onChange }) => (\r\n                                                <TextField\r\n                                                    label={fields.phone.title}\r\n                                                    variant=\"outlined\"\r\n                                                    // required\r\n                                                    // fullWidth\r\n                                                    value={value}\r\n                                                    onChange={onChange}\r\n                                                    error={!!errors.reprPhone}\r\n                                                    helperText={\r\n                                                        errors?.reprPhone\r\n                                                            ?.message\r\n                                                    }\r\n                                                />\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={6}\r\n                                        md={6}\r\n                                        lg={6}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <Controller\r\n                                            name=\"reprEmail\"\r\n                                            control={control}\r\n                                            render={({ value, onChange }) => (\r\n                                                <TextField\r\n                                                    label={fields.email.title}\r\n                                                    variant=\"outlined\"\r\n                                                    // required\r\n                                                    fullWidth\r\n                                                    value={value}\r\n                                                    onChange={onChange}\r\n                                                    error={!!errors.reprEmail}\r\n                                                    helperText={\r\n                                                        errors?.reprEmail\r\n                                                            ?.message\r\n                                                    }\r\n                                                />\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n                                    {/* Action */}\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={12}\r\n                                        lg={12}\r\n                                        className={classes.action}\r\n                                    >\r\n                                        <Button\r\n                                            className={classes.submit}\r\n                                            variant=\"contained\"\r\n                                            disabled={!formState.isDirty}\r\n                                            type=\"submit\"\r\n                                        >\r\n                                            {operations.save}\r\n                                        </Button>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                            {/* End Detail */}\r\n                        </Grid>\r\n                    </form>\r\n                </Grid>\r\n                {/* Another Sector */}\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RepInfo\r\n","export const Consts = {\r\n    headers: {\r\n        child1: 'Timeline',\r\n    },\r\n    labels: {\r\n        schoolYear: 'School year:',\r\n        startDate: 'Start date:',\r\n        endDate: 'End date:',\r\n        services: 'Services:',\r\n        result: 'Result:',\r\n    },\r\n}\r\n\r\n// Cách tổ chức data mới\r\nexport const timeline = [\r\n    // {\r\n    //     taskId: 50,\r\n    //     startDate: '10-05-2019',\r\n    //     endDate: '01-09-2019',\r\n    //     schoolYear: '2019-2020',\r\n    //     purpose: 'Sales mới',\r\n    //     fullName: 'Nguyễn Hoàng Anh',\r\n    //     avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2FZe6axJ1.jpg?alt=media&token=3d31ba01-f18f-4c8b-a456-b051fc190354',\r\n    //     services: null\r\n    // },\r\n    {\r\n        taskId: 50,\r\n        startDate: '30-06-2019',\r\n        endDate: '01-09-2019',\r\n        schoolYear: '2019-2020',\r\n        purpose: 'Sales mới',\r\n        fullName: 'Trần Diễm Nhi',\r\n        avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2F0d68523b0481d68304da70f4dad00980.jpg?alt=media&token=6e5fc707-5cd4-4a62-8988-16486e89813e',\r\n        services: ['ESL', 'STEM']\r\n    },\r\n    {\r\n        taskId: 51,\r\n        startDate: '10-11-2019',\r\n        endDate: '25-11-2019',\r\n        schoolYear: '2019-2020',\r\n        purpose: 'Chăm sóc',\r\n        fullName: 'Đỗ Thị Ái Xuân',\r\n        avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2F01-366x445.jpg?alt=media&token=f4dc75eb-112c-4de1-a0fa-651467d1a3a5',\r\n        services: null\r\n    },\r\n    {\r\n        taskId: 51,\r\n        startDate: '01-12-2019',\r\n        endDate: '15-12-2019',\r\n        schoolYear: '2019-2020',\r\n        purpose: 'Chăm sóc',    // có cái note thành lập trường bên task\r\n        fullName: 'Trần Diễm Nhi',\r\n        avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2F0d68523b0481d68304da70f4dad00980.jpg?alt=media&token=6e5fc707-5cd4-4a62-8988-16486e89813e',\r\n        services: null\r\n    },\r\n    {\r\n        taskId: 51,\r\n        startDate: '10-05-2020',\r\n        endDate: '01-09-2021',\r\n        schoolYear: '2020-2021',\r\n        purpose: 'Tái ký hợp đồng',\r\n        fullName: 'Trần Diễm Nhi',\r\n        avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2F0d68523b0481d68304da70f4dad00980.jpg?alt=media&token=6e5fc707-5cd4-4a62-8988-16486e89813e',\r\n        services: ['ESL']\r\n    },\r\n    {\r\n        taskId: 51,\r\n        startDate: '10-11-2020',\r\n        endDate: '25-11-2020',\r\n        schoolYear: '2020-2021',\r\n        purpose: 'Chăm sóc',\r\n        fullName: 'Đỗ Thị Ái Xuân',\r\n        avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2F01-366x445.jpg?alt=media&token=f4dc75eb-112c-4de1-a0fa-651467d1a3a5',\r\n        services: null\r\n    },\r\n]\r\n\r\n// Cách tổ chức data cũ, gây khó khăn trong việc lồng ghép timeline vì có 2-3 mảng object đan xen cần xử lý\r\n// export const data = {\r\n//     listReports: [\r\n//         {\r\n//             id: 7,\r\n//             date: '12-12-2020',\r\n//             result: true,\r\n//             description: 'Cô rất hài lòng khi nhận quà',\r\n//             schoolId: '2',\r\n//             level: 'THCS',\r\n//             schoolName: 'Văn Lang',\r\n//             purpose: 'Chăm sóc',    // có cái note thành lập trường bên task\r\n//             fullName: 'Trần Diễm Nhi', // PIC's name\r\n//             avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2F0d68523b0481d68304da70f4dad00980.jpg?alt=media&token=6e5fc707-5cd4-4a62-8988-16486e89813e', // PIC's avatar\r\n//             schoolYear: '2020-2021',\r\n//         },\r\n//         {\r\n//             id: 6,\r\n//             date: '20-11-2020',\r\n//             result: false,\r\n//             description: 'Trường làm lễ, bảo vệ không cho vào',\r\n//             schoolId: '2',\r\n//             level: 'THCS',\r\n//             schoolName: 'Văn Lang',\r\n//             purpose: 'Chăm sóc',\r\n//             fullName: 'Đỗ Thị Ái Xuân', // PIC's name\r\n//             avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2F01-366x445.jpg?alt=media&token=f4dc75eb-112c-4de1-a0fa-651467d1a3a5', // PIC's avatar\r\n//             schoolYear: '2020-2021',\r\n//         },\r\n//         {\r\n//             id: 5,\r\n//             date: '15-07-2019',\r\n//             result: true,\r\n//             description: 'Ký thành công ESL 1 năm',\r\n//             schoolId: '2',\r\n//             level: 'THCS',\r\n//             schoolName: 'Văn Lang',\r\n//             purpose: 'Sales mới',\r\n//             fullName: 'Nguyễn Hoàng Anh', // PIC's name\r\n//             avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2FZe6axJ1.jpg?alt=media&token=3d31ba01-f18f-4c8b-a456-b051fc190354', // PIC's avatar\r\n//             schoolYear: '2019-2020',\r\n//         },\r\n//         {\r\n//             id: 4,\r\n//             date: '02-07-2019',\r\n//             result: true,\r\n//             description: 'Đã gặp HP Chuyên môn, cô đồng ý điều khoản Hợp đồng',\r\n//             schoolId: '2',\r\n//             level: 'THCS',\r\n//             schoolName: 'Văn Lang',\r\n//             purpose: 'Sales mới',\r\n//             fullName: 'Nguyễn Hoàng Anh', // PIC's name\r\n//             avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2FZe6axJ1.jpg?alt=media&token=3d31ba01-f18f-4c8b-a456-b051fc190354', // PIC's avatar\r\n//             schoolYear: '2019-2020',\r\n//         },\r\n//         {\r\n//             id: 3,\r\n//             date: '27-06-2019',\r\n//             result: true,\r\n//             description: 'Đã giới thiệu và báo giá ESL',\r\n//             schoolId: '2',\r\n//             level: 'THCS',\r\n//             schoolName: 'Văn Lang',\r\n//             purpose: 'Sales mới',\r\n//             fullName: 'Nguyễn Hoàng Anh', // PIC's name\r\n//             avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2FZe6axJ1.jpg?alt=media&token=3d31ba01-f18f-4c8b-a456-b051fc190354', // PIC's avatar\r\n//             schoolYear: '2019-2020',\r\n//         },\r\n//         {\r\n//             id: 2,\r\n//             date: '25-06-2019',\r\n//             result: false,\r\n//             description: 'Cô bận họp, 2 ngày sau quay lại',\r\n//             schoolId: '2',\r\n//             level: 'THCS',\r\n//             schoolName: 'Văn Lang',\r\n//             purpose: 'Sales mới',\r\n//             fullName: 'Nguyễn Hoàng Anh', // PIC's name\r\n//             avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2FZe6axJ1.jpg?alt=media&token=3d31ba01-f18f-4c8b-a456-b051fc190354', // PIC's avatar\r\n//             schoolYear: '2019-2020',\r\n//         },\r\n//         {\r\n//             id: 1,\r\n//             date: '17-06-2019',\r\n//             result: true,\r\n//             description: 'Giới thiệu thành công Major',\r\n//             schoolId: '2',\r\n//             level: 'THCS',\r\n//             schoolName: 'Văn Lang',\r\n//             purpose: 'Sales mới',\r\n//             fullName: 'Nguyễn Hoàng Anh', // PIC's name\r\n//             avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2FZe6axJ1.jpg?alt=media&token=3d31ba01-f18f-4c8b-a456-b051fc190354', // PIC's avatar\r\n//             schoolYear: '2019-2020',\r\n//         },\r\n//     ],\r\n//     listAssigns: [\r\n//         {\r\n//             assignDate: '01-12-2020',\r\n//             fullName: 'Trần Diễm Nhi', // PIC's name\r\n//             avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2F0d68523b0481d68304da70f4dad00980.jpg?alt=media&token=6e5fc707-5cd4-4a62-8988-16486e89813e', // PIC's avatar\r\n//             schoolYear: '2020-2021',\r\n//         },\r\n//         {\r\n//             assignDate: '10-11-2020',\r\n//             fullName: 'Đỗ Thị Ái Xuân', // PIC's name\r\n//             avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2F01-366x445.jpg?alt=media&token=f4dc75eb-112c-4de1-a0fa-651467d1a3a5', // PIC's avatar\r\n//             schoolYear: '2020-2021',\r\n//         },\r\n//         {\r\n//             assignDate: '01-06-2019',\r\n//             fullName: 'Nguyễn Hoàng Anh', // PIC's name\r\n//             avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2FZe6axJ1.jpg?alt=media&token=3d31ba01-f18f-4c8b-a456-b051fc190354', // PIC's avatar\r\n//             schoolYear: '2019-2020',\r\n//         },\r\n//     ],\r\n// }","import React, { useEffect, useState } from 'react'\r\nimport {\r\n    Grid,\r\n    Typography,\r\n    ListItemAvatar,\r\n    Avatar,\r\n    ListItemText,\r\n    Chip,\r\n} from '@material-ui/core'\r\nimport {\r\n    Timeline,\r\n    TimelineConnector,\r\n    TimelineContent,\r\n    TimelineDot,\r\n    TimelineItem,\r\n    TimelineOppositeContent,\r\n    TimelineSeparator\r\n} from '@material-ui/lab';\r\nimport { useHistory, useRouteMatch } from 'react-router';\r\nimport { Link } from 'react-router-dom';\r\nimport { Consts } from './TimelinesConfig'  //, timeline\r\nimport { purposeNames } from '../../../../constants/Generals'\r\nimport { getTimeline } from '../../SchoolsServices';\r\nimport { Loading } from '../../../../components';\r\nimport { parseDateToString } from '../../../../utils/DateTimes';\r\nimport classes from './Timelines.module.scss'\r\n\r\nfunction Timelines() {\r\n    const { headers, labels } = Consts\r\n    const history = useHistory()\r\n    const { url } = useRouteMatch()\r\n    const newUrl = url.substring(0, 5)\r\n    const schoolId = url.substring(url.lastIndexOf('/') + 1)\r\n    // const [schoolYear, setSchoolYear] = useState('')\r\n    const [timeline, setTimeline] = useState(null);\r\n\r\n    let isMounted = true\r\n    useEffect(() => {\r\n        getTimeline(schoolId).then(res => {\r\n            if (isMounted) {\r\n                setTimeline(res)\r\n                // console.log('SchoolDetail - getTimeline: ', res.length);\r\n            }\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                history.push({\r\n                    pathname: '/errors',\r\n                    state: { error: error.response.status },\r\n                })\r\n            }\r\n        })\r\n        return () => {\r\n            isMounted = false\r\n        };\r\n    }, []);\r\n\r\n    if (!timeline) {\r\n        return <Loading />\r\n    }\r\n\r\n    // const calculateCurrentSchoolYear = () => {\r\n    //     const thisYear = new Date().getFullYear()\r\n    //     const thisMonth = new Date().getMonth()\r\n\r\n    //     if (0 <= thisMonth < 4) {   // Jan = 0, May = 4\r\n    //         return `${thisYear}-${thisYear + 1}`\r\n    //     } else if (4 <= thisMonth < 11) {\r\n    //         return `${thisYear - 1}-${thisYear}`\r\n    //     } else {\r\n    //         return ''\r\n    //     }\r\n    // }\r\n    // const [schoolYear, setSchoolYear] = useState(calculateCurrentSchoolYear())\r\n\r\n    const setPurposeChipColor = (purpose) => {\r\n        switch (purpose) {\r\n            case purposeNames.purp1:\r\n                return <Chip label={purpose} className={classes.chipSalesMoi} />\r\n            // case purposeNames.purp2:\r\n            //     return <Chip label={purpose} className={classes.chipTheoDoi} />\r\n            case purposeNames.purp3:\r\n                return <Chip label={purpose} className={classes.chipChamSoc} />\r\n            case purposeNames.purp4:\r\n                return <Chip label={purpose} className={classes.chipTaiKy} />\r\n            case purposeNames.purp5:\r\n                return <Chip label={purpose} className={classes.chipKyMoi} />\r\n            default:\r\n                return <Chip label={purpose} /> // #5c21f3\r\n        }\r\n    }\r\n\r\n    // console.log('timeline item: ', timeline)\r\n\r\n    // Sao hàm này bị infinity loop nhỉ?\r\n    // const updateSchoolYear = (itemSchoolYear) => {\r\n    //     console.log(itemSchoolYear);\r\n    //     if (itemSchoolYear !== schoolYear) {\r\n    //         // setSchoolYear(itemSchoolYear)\r\n    //         return (\r\n    //             <strong>{itemSchoolYear}</strong>\r\n    //         )\r\n    //     }\r\n    //     return <></>\r\n    // }\r\n\r\n    return (\r\n        <div className={classes.panel}>\r\n            <Grid container spacing={0} className={classes.body}>\r\n                {/* Content Sector */}\r\n                <Grid item xs={12} sm={12} md={12} lg={12} className={classes.content}>\r\n                    {/* History of reports */}\r\n                    <Grid container spacing={0} className={classes.wrapper}>\r\n                        <Grid item xs={12} sm={12} md={2} lg={2} className={classes.row}>\r\n                            <Typography color=\"inherit\" className={classes.header}>\r\n                                {headers.child1} {/*of assignments and reports*/}\r\n                            </Typography>\r\n                        </Grid>\r\n                        {/* Detail */}\r\n                        <Grid item xs={12} sm={12} md={10} lg={8} className={classes.row}>\r\n                            {timeline.length > 0 ? (\r\n                                <Timeline className={classes.timeline}>\r\n                                    {timeline.map((item, index) =>\r\n                                        <TimelineItem key={index}>\r\n                                            <TimelineOppositeContent className={classes.tlnLeft}>\r\n                                                <div className={classes.tlnOpsContent}>\r\n                                                    <Typography variant=\"body1\">\r\n                                                        <strong>{item?.schoolYear}</strong>\r\n                                                    </Typography>\r\n                                                </div>\r\n                                            </TimelineOppositeContent>\r\n                                            <TimelineSeparator>\r\n                                                <TimelineDot color={item !== timeline.slice(-1).pop() ? \"primary\" : \"secondary\"} />\r\n                                                <TimelineConnector\r\n                                                    className={item !== timeline.slice(-1).pop() ? classes.primaryTail : classes.secondaryTail}\r\n                                                />\r\n                                            </TimelineSeparator>\r\n                                            <TimelineContent className={classes.tlnRight}>\r\n                                                <Link\r\n                                                    to={{\r\n                                                        pathname: `${newUrl}/tasks/${item?.taskId}`,\r\n                                                        state: { tabNo: 2 }\r\n                                                    }}\r\n                                                    className={classes.linkCard}\r\n                                                >\r\n                                                    <div className={item?.result === null ? classes.tlnContent :\r\n                                                        (item?.result ? classes.tlnContentSuccess : classes.tlnContentFailed)}\r\n                                                    >\r\n                                                        <div className={classes.tlnContentChild}>\r\n                                                            <div className={classes.picZone}>\r\n                                                                <ListItemAvatar className={classes.picAvatar}>\r\n                                                                    <Avatar src={item?.avatar} />\r\n                                                                </ListItemAvatar>\r\n                                                                <ListItemText primary={item?.fullName} className={classes.picName} />\r\n                                                            </div>\r\n                                                            {item?.purpose && setPurposeChipColor(item?.purpose)}\r\n                                                        </div>\r\n                                                        {/* <div className={classes.tlnContentChild}>\r\n                                                            <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n                                                                <b>{labels.startDate}</b> {item?.startDate}\r\n                                                            </Typography>\r\n                                                            <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n                                                                <b>{labels.endDate}</b> {item?.endDate}\r\n                                                            </Typography>\r\n                                                        </div> */}\r\n                                                        {(item?.purpose === purposeNames.purp1 || item?.purpose === purposeNames.purp4 || item?.purpose === purposeNames.purp5) &&\r\n                                                            <div>\r\n                                                                <div className={classes.tlnContentChild}>\r\n                                                                    <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n                                                                        <b>{labels.result} </b>\r\n                                                                        {item?.result !== 'TBD' && item?.result === 'successful' &&\r\n                                                                            <span className={classes.rsSuccess}>Successful</span>\r\n                                                                        }\r\n                                                                        {item?.result !== 'TBD' && item?.result === 'failed' &&\r\n                                                                            <span className={classes.rsFailed}>Failed</span>\r\n                                                                        }\r\n                                                                    </Typography>\r\n                                                                </div>\r\n                                                                <div className={classes.tlnContentChild}>\r\n                                                                    <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n                                                                        <b>{labels.services} </b>\r\n                                                                        {item?.services ? item?.services : '(none)'}\r\n                                                                        {/* {console.log('item: ', item)} */}\r\n                                                                        {/* {item?.services ? item?.services.join(', ') : '(none)'} */}\r\n                                                                    </Typography>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        }\r\n                                                    </div>\r\n                                                </Link>\r\n                                            </TimelineContent>\r\n                                        </TimelineItem>\r\n                                    )}\r\n                                </Timeline>\r\n                            ) : (\r\n                                <Typography>This school has not had any activities yet.</Typography>\r\n                            )}\r\n                        </Grid>\r\n                        {/* End Detail */}\r\n                    </Grid>\r\n                </Grid>\r\n                {/* Another Sector */}\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Timelines","import React, { useState, useEffect } from 'react'\r\nimport { useLocation, useParams, useHistory } from 'react-router-dom'\r\nimport { DetailLayouts } from '../../layouts'\r\nimport { GenInfo, RepInfo, Timelines } from './panels'\r\nimport { useAuth } from '../../hooks/AuthContext'\r\nimport * as SchoolsServices from './SchoolsServices'\r\nimport { schConsts } from './SchoolsConfig'\r\nimport { Loading, NotFound } from '../../components'\r\nimport { roleNames } from '../../constants/Generals'\r\n\r\nfunction School() {\r\n    const { linkNames, tabNames, operations } = schConsts\r\n    const [tabValue, setTabValue] = useState(0)\r\n\r\n    const { user } = useAuth()\r\n\r\n    const { id } = useParams()\r\n    const location = useLocation()\r\n    const history = useHistory()\r\n\r\n    // const stateData = location.state?.data\r\n    const [school, setSchool] = useState(null)  //stateData?.model\r\n\r\n    const [exist, setExist] = useState(true)\r\n\r\n    let isMounted = true\r\n    const refreshPage = (schoolId) => {\r\n        SchoolsServices.getSchool(schoolId)\r\n            .then((data) => {\r\n                if (isMounted) {\r\n                    setSchool(data)\r\n                    // console.log('schoolInfo: ', data);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    if (error.response.status === 403) {\r\n                        setExist(false)\r\n                    } else {\r\n                        history.push({\r\n                            pathname: '/errors',\r\n                            state: { error: error.response.status },\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    useEffect(() => {\r\n        refreshPage(id)\r\n        return () => {\r\n            // eslint-disable-next-line react-hooks/exhaustive-deps\r\n            isMounted = false\r\n        }\r\n    }, [])\r\n\r\n    if (!school) {\r\n        if (!exist) {\r\n            return <NotFound title={operations.notFound} />\r\n        } else {\r\n            return <Loading />\r\n        }\r\n    }\r\n\r\n    const handleChangeTab = (event, value) => {\r\n        setTabValue(value)\r\n    }\r\n\r\n    const getTabNames = (role) => {\r\n        switch (role) {\r\n            case roleNames.admin:\r\n                return [tabNames.tab1, tabNames.tab2]\r\n            case roleNames.manager:\r\n            case roleNames.supervisor:\r\n                return [tabNames.tab1, tabNames.tab3]\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    const getTabs = (role, tabValue) => {\r\n        switch (role) {\r\n            case roleNames.admin:\r\n                //[tabNames.tab1, tabNames.tab2]\r\n                switch (tabValue) {\r\n                    case 0:\r\n                        return (\r\n                            <GenInfo\r\n                                school={school}\r\n                                refreshPage={refreshPage}\r\n                                userRole={role}\r\n                            />\r\n                        )\r\n                    case 1:\r\n                        return (\r\n                            <RepInfo\r\n                                school={school}\r\n                                refreshPage={refreshPage}\r\n                            />\r\n                        )\r\n                    default:\r\n                        break\r\n                }\r\n                break\r\n            case roleNames.manager:\r\n            case roleNames.supervisor:\r\n                //[tabNames.tab1, tabNames.tab3]\r\n                switch (tabValue) {\r\n                    case 0:\r\n                        return (\r\n                            <GenInfo\r\n                                school={school}\r\n                                refreshPage={refreshPage}\r\n                                userRole={role}\r\n                            />\r\n                        )\r\n                    case 1:\r\n                        return <Timelines />\r\n                    default:\r\n                        break\r\n                }\r\n                break\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    const getSubHeader = (role) => {\r\n        switch (role) {\r\n            case roleNames.admin:\r\n                return school?.active ? 'Active' : 'Inactive'\r\n            // case roleNames.manager:\r\n            case roleNames.supervisor:\r\n                return school?.status\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    return (\r\n        <DetailLayouts\r\n            linkBack={linkNames.back}\r\n            header={`${school?.educationalLevel} ${school?.name}`}\r\n            subHeader={getSubHeader(user.roles[0])}\r\n            isStatus={true}\r\n            tabs={getTabNames(user.roles[0])}\r\n            tabValue={tabValue}\r\n            handleChangeTab={handleChangeTab}\r\n        >\r\n            {getTabs(user.roles[0], tabValue)}\r\n        </DetailLayouts>\r\n    )\r\n}\r\n\r\nexport default School\r\n","// import { MdDelete, MdDescription, MdInfo, MdPersonAdd } from \"react-icons/md\"\r\nimport { roleNames, taskStatusNames } from '../../constants/Generals'\r\n\r\nconst columns = [\r\n    { key: 'no', name: '#', sortable: false, width1: '1%', width2: '1%' },\r\n    { key: 'schoolName', name: 'School Name', sortable: true, width1: '24%', width2: '28%' },\r\n    // { key: 'school.reprName', name: 'Principal', sortable: true },\r\n    { key: 'user.fullName', name: 'PIC', sortable: true, width1: '20%', width2: '0%' },\r\n    { key: 'purpose', name: 'Purpose', sortable: true, width1: '14%', width2: '18%' },  //targetPurposeName\r\n    // { key: 'schoolYear', name: 'School Year', sortable: true },\r\n    { key: 'duration', name: 'Duration', sortable: false, width1: '28%', width2: '30%' },\r\n    // { key: 'endDate', name: 'Deadline', sortable: true, width1: '14%', width2: '18%' },   // Due Date\r\n    { key: 'result', name: 'Task Status', sortable: false, width1: '14%', width2: '15%' },    // TBD, Successful, Failed =/= task status (Ongoing, not started, finished)\r\n    { key: '', name: '', sortable: false, width1: '1%', width2: '1%' },\r\n]\r\n\r\nexport function getColumns(role) {\r\n    const [\r\n        no, schoolName, pic, purposes, duration, status, actions,\r\n    ] = columns     // assignDate, endDate, \r\n\r\n    switch (role) {\r\n        case roleNames.manager:\r\n        case roleNames.supervisor:\r\n            return [\r\n                no, schoolName, pic, purposes, duration, status, actions,\r\n            ]\r\n        case roleNames.salesman:\r\n            return [no, schoolName, purposes, duration, status, actions]\r\n        default:\r\n            break\r\n    }\r\n}\r\n\r\nexport const taskConsts = {\r\n    linkNames: {\r\n        back: 'Tasks',\r\n    },\r\n    tabNames: {\r\n        tab1: 'School Info',\r\n        tab2: 'Task Info',\r\n        // tab2: 'Assign Info',\r\n        tab3: 'Timeline',\r\n        // tab3: 'Services Info',\r\n    },\r\n    operations: {\r\n        notFound: 'Task Not Found',\r\n    },\r\n}\r\n\r\nexport const Consts = {\r\n    operations: {\r\n        filter: 'Filters',\r\n        search: {\r\n            placeholder: 'Search...',\r\n        },\r\n        create: 'Create Tasks',\r\n        assign: 'Assign Tasks',\r\n    },\r\n    filters: {\r\n        pic: {\r\n            title: 'PICs',\r\n            placeholder: \"PIC's name\",\r\n        },\r\n        district: {\r\n            title: 'Districts',\r\n            options: { all: 'All' },\r\n        },\r\n        schoolYear: {\r\n            title: 'School Years',\r\n            options: { all: 'All' },\r\n        },\r\n        purpose: {\r\n            title: 'Purposes',\r\n            options: { all: 'All' },\r\n        },\r\n        status: {\r\n            title: 'School Status',\r\n            options: { all: 'All' },\r\n        },\r\n        schoolType: {\r\n            title: 'School Types',\r\n            options: { all: 'All' },\r\n        },\r\n        schoolLevel: {\r\n            title: 'School Levels',\r\n            options: { all: 'All' },\r\n        },\r\n        // schoolScale: {\r\n        //     title: 'School Scales',\r\n        //     options: { all: 'All' },\r\n        // },\r\n        isAssigned: {\r\n            title: 'Assigned status',\r\n            options: {\r\n                all: 'All',\r\n                assigned: 'Assigned',\r\n                notAssigned: 'Not assigned',\r\n            },\r\n        },\r\n        taskStatus: {\r\n            title: 'Task Status',\r\n            options: {\r\n                all: 'All',\r\n                ongoing: taskStatusNames.ongoing,\r\n                success: taskStatusNames.success,\r\n                failed: taskStatusNames.failed,\r\n            },\r\n        },\r\n    },\r\n    messages: {\r\n        notFound: 'No records found.',\r\n    },\r\n    menuItems: {\r\n        details: {\r\n            title: 'View details',\r\n        },\r\n        reports: {\r\n            title: 'View reports',\r\n        },\r\n        remove: {\r\n            title: 'Remove',\r\n        },\r\n        services: {\r\n            title: 'Submit Services',\r\n        },\r\n        assign: {\r\n            title: 'Assign',\r\n        },\r\n        unassign: {\r\n            title: 'Unassign',\r\n        },\r\n    },\r\n}\r\n\r\n// export const menuOptions = [\r\n//     { icon: <MdInfo fontSize=\"large\" />, text: 'View details' },\r\n//     { icon: <MdDescription fontSize=\"large\" />, text: 'View reports' },\r\n//     { icon: <MdPersonAdd fontSize=\"large\" />, text: 'Assign' },\r\n//     { icon: <MdDelete fontSize=\"large\" />, text: 'Remove this' },\r\n//     // { icon: <MdAssignment fontSize=\"large\" />, text: 'View contracts' },\r\n// ]\r\n\r\n// export function getMenuItems(role) {\r\n//     const [details, reports, contracts, assign, remove] = menuOptions\r\n\r\n//     switch (role) {\r\n//         case 'SALES MANAGER':\r\n//             return [details, reports, contracts, assign, remove]\r\n//         case 'SALES SUPERVISOR':\r\n//             return [details, reports, assign, remove]\r\n//         case 'SALESMAN':\r\n//             return [details, reports]\r\n//         default:\r\n//             break\r\n//     }\r\n// }\r\n","import React, { useState } from 'react'\r\nimport { Avatar, Button, Chip } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport * as ReducerActions from '../../../../../constants/ActionTypes'\r\nimport {\r\n    SCHOOL_YEAR_FILTER,\r\n    DISTRICT_FILTER,\r\n    TYPE_FILTER,\r\n    LEVEL_FILTER,\r\n    // SCALE_FILTER,\r\n    PIC_FILTER,\r\n    PURPOSE_FILTER,\r\n    STATUS_FILTER,\r\n    ASSIGNED_FILTER,\r\n    TASK_STATUS_FILTER,\r\n    // DATE_RANGE_FILTER,\r\n} from '../../../../../constants/Filters'\r\nimport { Consts } from '../../../TasksConfig'\r\n// import PropTypes from 'prop-types'\r\n// import classes from './Chips.module.scss'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        flexWrap: 'wrap',\r\n    },\r\n    ul: {\r\n        // width: '100%',\r\n        maxWidth: 810,\r\n        overflowX: 'auto',\r\n        // whiteSpace: 'nowrap',\r\n        // height: '100%',\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        flexWrap: 'nowrap',\r\n        listStyle: 'none',\r\n        margin: 0,\r\n        paddingLeft: '0.5rem',\r\n    },\r\n    btnClear: {\r\n        fontSize: '0.75rem',\r\n    },\r\n    chip: {\r\n        margin: theme.spacing(0.5),\r\n    },\r\n}))\r\n\r\nfunction Chips(props) {\r\n    const classes = useStyles()\r\n    const { chips, dispatch, handleChipsRemoved } = props\r\n    const { filters } = Consts\r\n\r\n    //================Generate chips according to filters================\r\n    // const [chipData, setChipData] = useState(chips);\r\n    const [btnClearAll, setBtnClearAll] = useState(false)\r\n\r\n    const handleChipDelete = (chipToDelete) => () => {\r\n        // console.log('chipToDelete = ', chipToDelete);\r\n        // setChipData((listChips) => listChips.filter((chip) => chip.filterType !== chipToDelete.filterType));\r\n\r\n        switch (chipToDelete.filterType) {\r\n            case SCHOOL_YEAR_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_SCHOOL_YEAR,\r\n                    payload: { filterType: SCHOOL_YEAR_FILTER, filterValue: '' },\r\n                })\r\n                break\r\n            case DISTRICT_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_DISTRICT,\r\n                    payload: { filterType: DISTRICT_FILTER, filterValue: '' },\r\n                })\r\n                break\r\n            case TYPE_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_SCHOOL_TYPE,\r\n                    payload: { filterType: TYPE_FILTER, filterValue: '' },\r\n                })\r\n                break\r\n            case LEVEL_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_SCHOOL_LEVEL,\r\n                    payload: { filterType: LEVEL_FILTER, filterValue: '' },\r\n                })\r\n                break\r\n            // case SCALE_FILTER:\r\n            //     dispatch({\r\n            //         type: ReducerActions.FILTER_SCHOOL_SCALE,\r\n            //         payload: { filterType: SCALE_FILTER, filterValue: '' },\r\n            //     })\r\n            //     break\r\n            case PIC_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_PIC,\r\n                    payload: { filterType: PIC_FILTER, filterValue: null },\r\n                })\r\n                break\r\n            case PURPOSE_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_PURPOSE,\r\n                    payload: { filterType: PURPOSE_FILTER, filterValue: '' },\r\n                })\r\n                break\r\n            case STATUS_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_SCHOOL_STATUS,\r\n                    payload: { filterType: STATUS_FILTER, filterValue: '' },\r\n                })\r\n                break\r\n            case ASSIGNED_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_ASSIGNED,\r\n                    payload: { filterType: ASSIGNED_FILTER, filterValue: null },\r\n                })\r\n                break\r\n            case TASK_STATUS_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_TASK_STATUS,\r\n                    payload: { filterType: TASK_STATUS_FILTER, filterValue: '' },\r\n                })\r\n                break\r\n            // case DATE_RANGE_FILTER:\r\n            //     dispatch({\r\n            //         type: ReducerActions.FILTER_DATE_RANGE,\r\n            //         payload: {\r\n            //             filterType: DATE_RANGE_FILTER,\r\n            //             filterValue: [null, null],\r\n            //         },\r\n            //     })\r\n            default:\r\n                break\r\n        }\r\n\r\n        // if (chipData.length === 0) {\r\n        //     setBtnClearAll(false);\r\n        // }\r\n\r\n        if (!handleChipsRemoved) return\r\n        // Reset corresponding filters' value to \"All\" / null\r\n        const removedFilters = [chipToDelete.filterType]\r\n        handleChipsRemoved(removedFilters)\r\n\r\n        // handleShowClearAllButton();\r\n    }\r\n\r\n    const handleClearAllChips = () => {\r\n        // setChipData([]);\r\n        setBtnClearAll(false)\r\n\r\n        // console.log('chipData = ', chipData)\r\n        // console.log('chipData.length = ', chipData.length)\r\n\r\n        if (!handleChipsRemoved) return\r\n\r\n        dispatch({\r\n            type: ReducerActions.FILTER_SCHOOL_YEAR,\r\n            payload: { filterType: SCHOOL_YEAR_FILTER, filterValue: '' },\r\n        })\r\n        dispatch({\r\n            type: ReducerActions.FILTER_DISTRICT,\r\n            payload: { filterType: DISTRICT_FILTER, filterValue: '' },\r\n        })\r\n        dispatch({\r\n            type: ReducerActions.FILTER_SCHOOL_TYPE,\r\n            payload: { filterType: TYPE_FILTER, filterValue: '' },\r\n        })\r\n        dispatch({\r\n            type: ReducerActions.FILTER_SCHOOL_LEVEL,\r\n            payload: { filterType: LEVEL_FILTER, filterValue: '' },\r\n        })\r\n        // dispatch({\r\n        //     type: ReducerActions.FILTER_SCHOOL_SCALE,\r\n        //     payload: { filterType: SCALE_FILTER, filterValue: '' },\r\n        // })\r\n        dispatch({\r\n            type: ReducerActions.FILTER_PIC,\r\n            payload: { filterType: PIC_FILTER, filterValue: null },\r\n        })\r\n        dispatch({\r\n            type: ReducerActions.FILTER_PURPOSE,\r\n            payload: { filterType: PURPOSE_FILTER, filterValue: '' },\r\n        })\r\n        dispatch({\r\n            type: ReducerActions.FILTER_SCHOOL_STATUS,\r\n            payload: { filterType: STATUS_FILTER, filterValue: '' },\r\n        })\r\n        dispatch({\r\n            type: ReducerActions.FILTER_ASSIGNED,\r\n            payload: { filterType: ASSIGNED_FILTER, filterValue: null },\r\n        })\r\n        dispatch({\r\n            type: ReducerActions.FILTER_TASK_STATUS,\r\n            payload: { filterType: TASK_STATUS_FILTER, filterValue: '' },\r\n        })\r\n        // dispatch({\r\n        //     type: ReducerActions.FILTER_DATE_RANGE,\r\n        //     payload: {\r\n        //         filterType: DATE_RANGE_FILTER,\r\n        //         filterValue: [null, null],\r\n        //     },\r\n        // })\r\n\r\n        const removedFilters = [\r\n            SCHOOL_YEAR_FILTER,\r\n            DISTRICT_FILTER,\r\n            TYPE_FILTER,\r\n            LEVEL_FILTER,\r\n            // SCALE_FILTER,\r\n            PIC_FILTER,\r\n            PURPOSE_FILTER,\r\n            STATUS_FILTER,\r\n            ASSIGNED_FILTER,\r\n            TASK_STATUS_FILTER\r\n            // DATE_RANGE_FILTER,\r\n        ]\r\n\r\n        handleChipsRemoved(removedFilters)\r\n    }\r\n\r\n    const handleShowClearAllButton = () => {\r\n        let count = 0\r\n        chips.forEach((chip) => {\r\n            if (chip.filterValue === '' || chip.filterValue === null || chip.filterValue === undefined) {\r\n                count++\r\n            }\r\n            // else if (\r\n            //     chip.filterType === DATE_RANGE_FILTER &&\r\n            //     typeof chip.filterValue !== 'string'\r\n            // ) {\r\n            //     count++\r\n            // }\r\n        })\r\n        // if (count === 7) {\r\n        //     setBtnClearAll(false)\r\n        // } else {\r\n        //     setBtnClearAll(true)\r\n        // }\r\n        // console.log('count empty chip = ', count);\r\n        return count\r\n    }\r\n\r\n    // const renderChips = (chip) => {\r\n    //     if (chip.filterType === PIC_FILTER) {\r\n    //         return (\r\n    //             <Chip\r\n    //                 label={chip.filterValue.fullName}\r\n    //                 avatar={<Avatar src={chip.filterValue.avatar} />}\r\n    //                 onDelete={handleChipDelete(chip)}\r\n    //                 className={classes.chip}\r\n    //                 color=\"secondary\"\r\n    //             />\r\n    //         )\r\n    //         // } else if (chip.filterType === DATE_RANGE_FILTER) {\r\n    //         //     if (typeof chip.filterValue === 'string') {\r\n    //         //         return (\r\n    //         //             <Chip\r\n    //         //                 label={chip.filterValue}\r\n    //         //                 onDelete={handleChipDelete(chip)}\r\n    //         //                 className={classes.chip}\r\n    //         //                 color=\"secondary\"\r\n    //         //             />\r\n    //         //         )\r\n    //         //     }\r\n    //     } else {\r\n    //         // } else if (chip.filterType !== 'dateRange') {\r\n    //         return (\r\n    //             <Chip\r\n    //                 label={chip.filterValue}\r\n    //                 onDelete={handleChipDelete(chip)}\r\n    //                 className={classes.chip}\r\n    //                 color=\"secondary\"\r\n    //             />\r\n    //         )\r\n    //     }\r\n    // }\r\n\r\n    return (\r\n        <div>\r\n            {handleShowClearAllButton() !== 9 && (\r\n                <div className={classes.root}>\r\n                    {/* {(chips !== null && chips !== undefined) && */}\r\n                    {/* {showClearAllButton(chipData)} */}\r\n                    <Button\r\n                        size=\"small\"\r\n                        className={classes.btnClear}\r\n                        onClick={handleClearAllChips}\r\n                    >\r\n                        Clear all\r\n                    </Button>\r\n                    {/* {chips.length > 0 && */}\r\n                    <ul className={classes.ul}>\r\n                        {/* {generateChips(chips).map(chip => {})} */}\r\n                        {chips.map((chip) => {\r\n                            return (\r\n                                // <div key={chip.filterType}>\r\n                                //     {chip.filterValue && (\r\n                                //         <li>\r\n                                //             {renderChips(chip)}\r\n                                //         </li>\r\n                                //     )}\r\n                                // </div>\r\n                                <li key={chip.filterType}>\r\n                                    {chip.filterType === PIC_FILTER && chip.filterValue &&\r\n                                        <Chip\r\n                                            label={chip.filterValue.fullName}\r\n                                            avatar={\r\n                                                <Avatar src={chip.filterValue.avatar} />\r\n                                            }\r\n                                            onDelete={handleChipDelete(chip)}\r\n                                            className={classes.chip}\r\n                                            color=\"secondary\"\r\n                                        />\r\n                                    }\r\n                                    {chip.filterType === ASSIGNED_FILTER && chip.filterValue !== null &&\r\n                                        <Chip\r\n                                            label={chip.filterValue ? `${filters.isAssigned.options.assigned}` : `${filters.isAssigned.options.notAssigned}`}\r\n                                            onDelete={handleChipDelete(chip)}\r\n                                            className={classes.chip}\r\n                                            color=\"secondary\"\r\n                                        />\r\n                                    }\r\n                                    {chip.filterType !== PIC_FILTER && chip.filterType !== ASSIGNED_FILTER && chip.filterValue &&\r\n                                        <Chip\r\n                                            label={chip.filterValue}\r\n                                            onDelete={handleChipDelete(chip)}\r\n                                            className={classes.chip}\r\n                                            color=\"secondary\"\r\n                                        />\r\n                                    }\r\n                                </li>\r\n                            )\r\n                        })}\r\n                    </ul>\r\n                    {/* } */}\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Chips)\r\n\r\n// Chips.propTypes = {\r\n//     chips: PropTypes.array.isRequired,\r\n//     dispatch: PropTypes.func.isRequired,\r\n//     handleChipsRemoved: PropTypes.func,\r\n// }\r\n","import React from 'react'\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogActions,\r\n    withStyles,\r\n    Typography,\r\n    IconButton,\r\n} from '@material-ui/core'\r\nimport classes from './NotifyAssign.module.scss'\r\nimport { MdClose } from 'react-icons/md';\r\n\r\nconst stylesTitle = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n});\r\n\r\nconst DialogTitleWithIconClose = withStyles(stylesTitle)((props) => {\r\n    const { children, classes, onClose, ...other } = props;\r\n    return (\r\n        <DialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n                    <MdClose />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    );\r\n});\r\n\r\nfunction ConfirmRemove(props) {\r\n    const { open, onClose } = props\r\n\r\n    return (\r\n        <Dialog open={open} onClose={onClose}>\r\n            <DialogTitleWithIconClose onClose={onClose}>Notify</DialogTitleWithIconClose>\r\n            {/* <Divider /> */}\r\n            <DialogContent>\r\n                <DialogContentText className={classes.dialogText}>\r\n                    In the table \"Tasks\", please choose tasks you want to assign.\r\n                    <br /><br />\r\n                    <i>\r\n                        <b>Tips:</b> Filters and search box may help you find schools faster.\r\n                    </i>\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            {/* <Divider /> */}\r\n            <DialogActions>\r\n                {/* <Button onClick={onClose}>\r\n                    Cancel\r\n                </Button> */}\r\n                <Button onClick={onClose} autoFocus>\r\n                    OK, I understood\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default React.memo(ConfirmRemove)","import { Grid, Typography } from \"@material-ui/core\";\r\nimport { schoolLevelNames, serviceNames, statusNames } from \"../../../constants/Generals\";\r\nimport classes from './DialogConfig.module.scss';\r\n\r\nexport const Consts = {\r\n    headers: {\r\n        create: 'Create Tasks',\r\n        assign: 'Assign Salesmen to Tasks',\r\n        confirmUnassign: 'Confirm Unassign',\r\n        confirm: 'Confirm Remove',\r\n        cannot: 'Cannot Remove',\r\n        // child1: 'Preview: ',\r\n        updateStatus: 'Confirm Update Status',  // from 'Chưa HT' to 'Đang HT'\r\n        confirmUpdate: 'Confirm Update School Status',  // from 'Đang HT' to 'Ngưng HT'\r\n        createServices: 'Services for', //Submit \r\n        confirmCreateTask: 'Confirm Create Tasks',\r\n        confirmCompleteTask: 'Confirm Task Complete',  // Mới thên sau này\r\n        confirmFailTask: 'Confirm Task Fail'  // Mới thên sau này\r\n    },\r\n    operations: {\r\n        cancel: 'Cancel',\r\n        save: 'Save',\r\n        remove: 'Remove',\r\n        ok: 'OK, I understood',\r\n        yes: 'OK',\r\n        showCreate: 'Submit a Service?',\r\n        filter: 'Filters',\r\n        search: {\r\n            placeholder: 'Search...',\r\n        },\r\n        complete: 'Complete',\r\n        fail: 'Fail'\r\n    },\r\n    messages: {\r\n        createdInfo: '',\r\n        createdSuccess: 'Created Successfully',\r\n        createdError: 'Created Failed',\r\n        createdwarning: '',\r\n        updatedInfo: '',\r\n        updatedSuccess: 'Updated Successfully',\r\n        updatedError: 'Updated Failed',\r\n        updatedwarning: '',\r\n        notFound: 'No records found.',\r\n    },\r\n    filters: {\r\n        district: {\r\n            title: 'Districts',\r\n        },\r\n        purpose: {\r\n            title: 'Purposes',\r\n        },\r\n        schoolStatus: {\r\n            title: 'School Status',\r\n        },\r\n        isPotential: {\r\n            title: statusNames.potential,\r\n        },\r\n        schoolType: {\r\n            title: 'School Types',\r\n        },\r\n        schoolLevel: {\r\n            title: 'School Levels',\r\n        },\r\n        // schoolScale: {\r\n        //     title: 'School Scales',\r\n        // },\r\n    },\r\n    fields: {\r\n        purpose: {\r\n            name: 'purpose',\r\n            label: 'Purposes',\r\n            options: { none: 'None' },\r\n        },\r\n        // For Services\r\n        duration: {\r\n            title: 'Duaration',\r\n            // adornment: 'Month(s)',\r\n        },\r\n        // term: {\r\n        //     title: 'Contract Term',\r\n        //     titleReq: 'Contract Term *',\r\n        // },\r\n        date: {\r\n            tittle: 'Created date:',\r\n        },\r\n        service: {\r\n            title: 'Service types *',\r\n            // svc1: {\r\n            //     lb: 'ESL',\r\n            //     value: 'ESL',\r\n            // },\r\n            // svc2: {\r\n            //     lb: 'SEL',\r\n            //     value: 'SEL',\r\n            // },\r\n            // svc3: {\r\n            //     lb: 'Toán khoa',\r\n            //     value: 'Toán khoa',\r\n            // },\r\n            // svc4: {\r\n            //     lb: 'Stem',\r\n            //     value: 'Stem',\r\n            // },\r\n        },\r\n        // revenue: {\r\n        //     title: ' Revenue Criteria',\r\n        //     rev1: {\r\n        //         lb: 'Học sinh',\r\n        //         value: 'Học sinh',\r\n        //     },\r\n        //     rev2: {\r\n        //         lb: 'Tiết',\r\n        //         value: 'Tiết',\r\n        //     },\r\n        // },\r\n        note: {\r\n            title: 'Note',\r\n        },\r\n        classNo: {\r\n            title: 'No. of applied classes',\r\n            adornment: 'classes',\r\n            helper: 'Min: 1 class.  Max: 100 classes'\r\n        },\r\n        studentNumber: {\r\n            title: 'Students per classes',\r\n            adornment: 'students/class',\r\n            helper: 'Min: 1 student.  Max: 100 students'\r\n        },\r\n        slotNumber: {\r\n            title: 'Periods per week',\r\n            adornment: 'periods/week',\r\n            helper: 'Min: 1 period. Max: 10 periods'\r\n        },\r\n        price: {\r\n            title: 'Price floor',\r\n            adornment: 'VND/period',\r\n            helper: '100.000VND - 2.000.000VND'\r\n        },\r\n        revenue: {\r\n            formula: 'Price floor * Periods per week * No. of classes * 4 weeks * Duration (in months)'\r\n        }\r\n        // End for Services\r\n    },\r\n}\r\n\r\n// export const columnsTableAssign = ['#', 'School Name', 'PIC', 'Note', '']\r\nexport const columnsTableAssign = [\r\n    { key: 'no', name: '#', width: '1%', align: 'center' },\r\n    { key: 'schoolName', name: 'School Name', width: '30%', align: 'left' },\r\n    { key: 'pic', name: 'PIC', width: '35%', align: 'left' },\r\n    { key: 'note', name: 'Note', width: '25%', align: 'left' },\r\n    { key: '', name: '', width: '1%', align: 'left' },\r\n]\r\n\r\nconst currencyFormatter = new Intl.NumberFormat('vi-VN', {\r\n    style: 'currency', currency: 'VND',\r\n});\r\n\r\nexport const getCriteriaInfo = () => {\r\n    return (\r\n        <div className={classes.criInfoPanel}>\r\n            <Grid container spacing={2}>\r\n                <Grid item>\r\n                    <Typography variant=\"overline\">Criteria description</Typography>\r\n                    <br />\r\n                    <Typography variant=\"caption\" className={classes.txtCriInfoHeader}>\r\n                        1/ Price floor per period\r\n                    </Typography>\r\n                    <div className={classes.txtCriInfo}>\r\n                        <span className={classes.txtCriInfoHeader}>{serviceNames.svc1}:</span>\r\n                        <Grid container spacing={2}>\r\n                            <Grid item container xs={6}>\r\n                                <Grid item xs={12}> - {schoolLevelNames.th}:</Grid>\r\n                                <Grid item xs={12}> &nbsp; {currencyFormatter.format(700000)}/period</Grid>\r\n                            </Grid>\r\n                            <Grid item container xs={6}>\r\n                                <Grid item xs={12}> - {schoolLevelNames.thcs} &amp; {schoolLevelNames.thpt}:</Grid>\r\n                                <Grid item xs={12}> &nbsp; {currencyFormatter.format(800000)}/period</Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div>\r\n                    <p className={classes.txtCriInfo}>\r\n                        <span className={classes.txtCriInfoHeader}>{serviceNames.svc2}:</span>\r\n                        <Grid container spacing={2}>\r\n                            <Grid item container xs={6}>\r\n                                <Grid item xs={12}> - {schoolLevelNames.th}:</Grid>\r\n                                <Grid item xs={12}> &nbsp; {currencyFormatter.format(600000)}/period</Grid>\r\n                            </Grid>\r\n                            <Grid item container xs={6}>\r\n                                <Grid item xs={12}> - {schoolLevelNames.thcs} &amp; {schoolLevelNames.thpt}:</Grid>\r\n                                <Grid item xs={12}> &nbsp; {currencyFormatter.format(700000)}/period</Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </p>\r\n                    <p className={classes.txtCriInfo}>\r\n                        <span className={classes.txtCriInfoHeader}>{serviceNames.svc3}:</span>\r\n                        <Grid container spacing={2}>\r\n                            <Grid item container xs={6}>\r\n                                <Grid item xs={12}> - {schoolLevelNames.th}:</Grid>\r\n                                <Grid item xs={12}> &nbsp; {currencyFormatter.format(1500000)}/period</Grid>\r\n                            </Grid>\r\n                            <Grid item container xs={6}>\r\n                                <Grid item xs={12}> - {schoolLevelNames.thcs} &amp; {schoolLevelNames.thpt}:</Grid>\r\n                                <Grid item xs={12}> &nbsp; (N/A)</Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </p>\r\n                    <p className={classes.txtCriInfo}>\r\n                        <span className={classes.txtCriInfoHeader}>{serviceNames.svc4}:</span>\r\n                        <Grid container spacing={2}>\r\n                            <Grid item container xs={6}>\r\n                                <Grid item xs={12}> - {schoolLevelNames.th}:</Grid>\r\n                                <Grid item xs={12}> &nbsp; {currencyFormatter.format(1000000)}/period</Grid>\r\n                            </Grid>\r\n                            <Grid item container xs={6}>\r\n                                <Grid item xs={12}> - {schoolLevelNames.thcs} &amp; {schoolLevelNames.thpt}:</Grid>\r\n                                <Grid item xs={12}> &nbsp; {currencyFormatter.format(1800000)}/period</Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </p>\r\n                    <br />\r\n                    <Typography variant=\"caption\" className={classes.txtCriInfoHeader}>\r\n                        2/ Number of periods per week\r\n                    </Typography>\r\n                    <div className={classes.txtCriInfo}>\r\n                        <Grid container spacing={1}>\r\n                            <Grid item xs={1}></Grid>\r\n                            <Grid item xs={11}>\r\n                                <span className={classes.txtCriInfoHeader}>• &nbsp;{serviceNames.svc1}:</span>\r\n                                &emsp;2 periods/week\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid container spacing={1}>\r\n                            <Grid item xs={1}></Grid>\r\n                            <Grid item xs={11}>\r\n                                <span className={classes.txtCriInfoHeader}>• &nbsp;{serviceNames.svc2}:</span>\r\n                                &emsp;1 period/week\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid container spacing={1}>\r\n                            <Grid item xs={1}></Grid>\r\n                            <Grid item xs={11}>\r\n                                <span className={classes.txtCriInfoHeader}>• &nbsp;{serviceNames.svc3}:</span>\r\n                                &emsp;2 periods/week\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid container spacing={1}>\r\n                            <Grid item xs={1}></Grid>\r\n                            <Grid item xs={11}>\r\n                                <span className={classes.txtCriInfoHeader}>• &nbsp;{serviceNames.svc4}:</span>\r\n                                &emsp;2 periods/week\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div>\r\n                    <br />\r\n                    <Typography variant=\"caption\" className={classes.txtCriInfoHeader}>\r\n                        3/ Number of classes\r\n                    </Typography>\r\n                    <div className={classes.txtCriInfo}>\r\n                        <i>Number of classes applying this service</i>\r\n                        <br />\r\n                        <Grid container spacing={1}>\r\n                            <Grid item xs={1}></Grid>\r\n                            <Grid item xs={11}>\r\n                                <span className={classes.txtCriInfoHeader}>• &nbsp;{serviceNames.svc1}:</span>\r\n                                &emsp;≥ 8 classes\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid container spacing={1}>\r\n                            <Grid item xs={1}></Grid>\r\n                            <Grid item xs={11}>\r\n                                <span className={classes.txtCriInfoHeader}>• &nbsp;{serviceNames.svc2}:</span>\r\n                                &emsp;≥ 8 classes\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid container spacing={1}>\r\n                            <Grid item xs={1}></Grid>\r\n                            <Grid item xs={11}>\r\n                                <span className={classes.txtCriInfoHeader}>• &nbsp;{serviceNames.svc3}:</span>\r\n                                &emsp;≥ 2 classes\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid container spacing={1}>\r\n                            <Grid item xs={1}></Grid>\r\n                            <Grid item xs={11}>\r\n                                <span className={classes.txtCriInfoHeader}>• &nbsp;{serviceNames.svc4}:</span>\r\n                                &emsp;≥ 2 classes\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div>\r\n                    <br />\r\n                    <Typography variant=\"caption\" className={classes.txtCriInfoHeader}>\r\n                        4/ Average class size\r\n                    </Typography>\r\n                    <p className={classes.txtCriInfo}>\r\n                        <i>Average number of students per class:</i>\r\n                        <br /> &nbsp; &nbsp; &nbsp; <strong>≥ 40</strong> students\r\n                    </p>\r\n                    <br />\r\n                    <Typography variant=\"caption\" className={classes.txtCriInfoHeader}>\r\n                        5/ Duration\r\n                    </Typography>\r\n                    <p className={classes.txtCriInfo}>\r\n                        <i>Amount of time the service takes effective:</i>\r\n                        <br /> &nbsp; &nbsp; &nbsp; <strong>≥ 7</strong> months\r\n                    </p>\r\n                    <br />\r\n                </Grid>\r\n                {/* <Divider style={{ color: 'white' }} /> */}\r\n                <hr style={{ width: '85%', height: '0%', textAlign: 'center', margin: '0 auto' }} />\r\n                <Grid item>\r\n                    <Typography variant=\"overline\">Sales estimation formula</Typography>\r\n                    <br />\r\n                    <div style={{ border: '1px solid', textAlign: 'center', margin: '0 0 0 0.35rem', padding: '0 0.5rem' }}>\r\n                        <p style={{ fontSize: '0.75rem', fontWeight: 100 }}>\r\n                            Sales = <br />Price floor * Periods per week * 4 weeks * No. of classes * Duration (in months)\r\n                        </p>\r\n                    </div>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const confirmMessage = (schoolLevel, schoolName, schoolYear) => {\r\n    return (\r\n        <>\r\n            Do you really want to remove\r\n            <strong>\r\n                <em>\r\n                    {' '}\r\n                    {schoolLevel} {schoolName}{' '}\r\n                </em>\r\n            </strong>\r\n            from list of tasks in <strong>{schoolYear}</strong>?\r\n            <br />\r\n            This process cannot be undone.\r\n        </>\r\n    )\r\n}\r\nexport const confirmUnassignMsg = (PIC, schoolLevel, schoolName) => {\r\n    return (\r\n        <>\r\n            Do you really want to unassign\r\n            <strong> {PIC} </strong> for\r\n            <strong>\r\n                <em>\r\n                    {' '}\r\n                    {schoolLevel} {schoolName}{' '}\r\n                </em>\r\n            </strong>\r\n            ?\r\n            <br />\r\n            <br />\r\n            This process cannot be undone.\r\n        </>\r\n    )\r\n}\r\nexport const cannotMessage = (schoolLevel, schoolName, schoolYear, PIC) => {\r\n    return (\r\n        <>\r\n            You cannot remove\r\n            <strong>\r\n                <em>\r\n                    {' '}\r\n                    {schoolLevel} {schoolName}{' '}\r\n                </em>\r\n            </strong>\r\n            from list of tasks in <strong>{schoolYear}</strong>.\r\n            <br />\r\n            This task has been assigning to <strong>{PIC}</strong>.\r\n        </>\r\n    )\r\n}\r\nexport const confirmTaskCompleteMessage1 = () => {\r\n    return (\r\n        <>\r\n            To mark this task as completed, please submit a\r\n            <strong><em> Service</em></strong> in the form below.\r\n        </>\r\n    )\r\n}\r\nexport const confirmTaskCompleteMessage2 = () => {\r\n    return (\r\n        <>\r\n            Are you sure to mark this task as <b>completed</b>?\r\n            <br /><br />\r\n            This process cannot be undone.\r\n        </>\r\n    )\r\n}\r\nexport const confirmTaskFailMessage = () => {\r\n    return (\r\n        <>\r\n            Are you sure to mark this task as <b>failed</b>?\r\n            <br /><br />\r\n            This process cannot be undone.\r\n        </>\r\n    )\r\n}\r\n// export const updateStatusMessage = () => {\r\n//     return (\r\n//         <>\r\n//             If you want to update this status, please submit a\r\n//             <strong><em> Service</em></strong> in the form below.\r\n//         </>\r\n//     )\r\n// }\r\nexport const confirmUpdateSchoolStatus = (schoolLevel, schoolName, currentStatus, newStatus) => {\r\n    return (\r\n        <>\r\n            Do you really want to update status of\r\n            <strong>\r\n                <em>\r\n                    {' '}\r\n                    {schoolLevel} {schoolName}{' '}\r\n                </em>\r\n            </strong>\r\n            from <strong>{currentStatus}</strong> to{' '}\r\n            <strong>{newStatus}</strong>?\r\n            <br />\r\n            <br />\r\n            This process cannot be undone.\r\n        </>\r\n    )\r\n}\r\nexport const schoolYearSubTitle = (schoolYear) => {\r\n    return (\r\n        <>\r\n            <b>\r\n                <i>School Year: </i>\r\n            </b>\r\n            &nbsp;{schoolYear}\r\n        </>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Avatar, Badge, Box, Button, Card, CardActions, CardContent, CardHeader, Chip, Collapse, Grid, Icon, IconButton, ListItem, ListItemAvatar, ListItemText, makeStyles, Popover, Tooltip, Typography, withStyles } from '@material-ui/core';\r\nimport { MdCheck, MdExpandMore, MdHome, MdLocationOn } from 'react-icons/md';\r\nimport { GiPathDistance } from 'react-icons/gi';\r\nimport { FaTasks } from 'react-icons/fa';\r\n// import { Rating } from '@material-ui/lab';\r\nimport clsx from 'clsx'\r\nimport { suggestedReasons } from '../../../../constants/Generals';\r\nimport classes from './SuggestionQuickView.module.scss';\r\n\r\nconst StyleChip = withStyles({\r\n    root: {\r\n        fontWeight: 500,\r\n        color: '#388e3c',\r\n        borderColor: '#4caf50',\r\n        '&:hover': {\r\n            backgroundColor: 'rgb(230, 250, 231)'\r\n        }\r\n    }\r\n})(Chip);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: 320,\r\n    },\r\n    expand: {\r\n        transform: 'rotate(0deg)',\r\n        marginLeft: 'auto',\r\n        transition: theme.transitions.create('transform', {\r\n            duration: theme.transitions.duration.shortest,\r\n        }),\r\n    },\r\n    expandOpen: {\r\n        transform: 'rotate(180deg)',\r\n    },\r\n    // itemPIC: {\r\n    //     padding: 0,\r\n    //     margin: 0,\r\n    // },\r\n    // divItemPIC: {\r\n    //     display: 'flex',\r\n    //     flexDirection: 'row',\r\n    //     alignItems: 'center',\r\n    //     padding: 0,\r\n    //     margin: 0,\r\n    // },\r\n    title: {\r\n        fontSize: '0.9rem',\r\n        fontWeight: 600\r\n    },\r\n    subheader: {\r\n        fontSize: '0.85rem',\r\n        fontWeight: 500\r\n    },\r\n}))\r\n\r\nfunction SuggestionQuickView(props) {\r\n    const styles = useStyles()\r\n    const { open, anchorEl, onClose, salesman, setSelectedSalesman } = props\r\n\r\n    const [expandBarem, setExpandBarem] = useState(false);\r\n\r\n    const handleSelect = () => {\r\n        setSelectedSalesman({\r\n            username: salesman?.username,\r\n            fullName: salesman?.fullName,\r\n            avatar: salesman?.avatar ? salesman.avatar : null\r\n        })\r\n        onClose()\r\n    }\r\n\r\n    // const getTooltipTitle = (expContents, schools) => {\r\n    //     let count = 0\r\n    //     let toolTip = ''    //Experience at: \r\n    //     expContents.forEach(item => {\r\n    //         console.log(item);\r\n    //         const schoolName = item.substring(14, item.indexOf('20'))\r\n    //         const schoolYearStr = item.substring(item.indexOf('20'))\r\n    //         const schoolYears = []\r\n    //         if (schoolYearStr.includes('+')) {\r\n    //             schoolYears = schoolYearStr.split(' + ')\r\n    //         }\r\n    //         // toolTip.concat('item ')\r\n    //         console.log(schoolName);\r\n    //         console.log(schoolYearStr);\r\n    //         count++\r\n    //     });\r\n    //     return { count }\r\n    // }\r\n\r\n    const getSuggestedReasons = () => {\r\n        let reasons = []\r\n        let expContents = []\r\n        const content = String(salesman?.content)\r\n        if (content.includes(',')) {\r\n            let tmp = content.split(',')\r\n            tmp.forEach(str => {\r\n                if (str.includes(suggestedReasons.exp)) {\r\n                    reasons.push(suggestedReasons.exp)\r\n                    expContents.push(str)\r\n                    // getTooltipTitle(expContents)\r\n                } else {\r\n                    reasons.push(str)\r\n                }\r\n            });\r\n        } else {\r\n            reasons.push(content)\r\n        }\r\n        return { reasons, expContents }\r\n    }\r\n    const { reasons, expContents } = getSuggestedReasons()\r\n\r\n    // const getBadgePoint = (criteria, taskNo, expList) => {\r\n    //     switch (criteria) {\r\n    //         case suggestedReasons.distance:\r\n    //             if (suggestedReasons.ward) return '+3'\r\n    //             if (suggestedReasons.district) return '+2'\r\n    //             if (suggestedReasons.near) return '+1.5'\r\n    //         case suggestedReasons.taskNo:\r\n    //             if (taskNo <= 5) return '+3'\r\n    //             else if (taskNo <= 20) return '+1'\r\n    //             else if (taskNo <= 49) return '+0.5'\r\n    //             else return '+0'\r\n    //         case suggestedReasons.exp:\r\n    //             expList.forEach(exp => {\r\n    //                 if (exp.includes('+')) {\r\n    //                     return '+2'\r\n    //                 } else return '+4'\r\n    //             });\r\n\r\n    //         default:\r\n    //             break;\r\n    //     }\r\n    // }\r\n\r\n    return (\r\n        <Popover\r\n            open={open}\r\n            anchorEl={anchorEl}\r\n            onClose={onClose}\r\n            anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\r\n            transformOrigin={{ vertical: 'center', horizontal: 'left' }}\r\n        >\r\n            <Card className={styles.root}>\r\n                <CardHeader\r\n                    avatar={\r\n                        <Avatar src={salesman?.avatar} variant=\"rounded\" className={classes.avatar} />\r\n                    }\r\n                    action={\r\n                        <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={handleSelect}>\r\n                            Select\r\n                        </Button>\r\n                    }\r\n                    title={salesman?.fullName}\r\n                    subheader={salesman?.username}\r\n                    classes={{ title: styles.title, subheader: styles.subheader }}\r\n                />\r\n                <CardContent>\r\n                    <Grid container>\r\n                        <Grid item container spacing={1} xs={12} sm={12} md={12} lg={12}>\r\n                            <Grid item xs={12} sm={2} md={2} lg={2} className={classes.iconDes}>\r\n                                <Tooltip title=\"Number of assigned tasks\">\r\n                                    <Icon style={{ padding: 0, margin: 0 }}><FaTasks fontSize=\"large\" /></Icon>\r\n                                </Tooltip>\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={9} md={9} lg={9} className={classes.row}>\r\n                                {salesman?.numberOfTask} <b>/ 50</b>\r\n                            </Grid>\r\n                            {/* <Grid item xs={12} sm={1} md={1} lg={1}>\r\n                                <Badge color=\"secondary\"\r\n                                    badgeContent={getBadgePoint(suggestedReasons.taskNo, salesman?.numberOfTask, expContents)}\r\n                                />\r\n                            </Grid> */}\r\n\r\n                            <Grid item xs={12} sm={2} md={2} lg={2} className={classes.iconDes}>\r\n                                <Tooltip title=\"Distance from salesman to school(s)\">\r\n                                    <Icon style={{ padding: 0, margin: 0 }}><GiPathDistance fontSize=\"large\" /></Icon>\r\n                                </Tooltip>\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={9} md={9} lg={9}>\r\n                                <b>{parseFloat(salesman?.distance).toFixed(2)} </b>km\r\n                            </Grid>\r\n                            {/* <Grid item xs={12} sm={1} md={1} lg={1}>\r\n                                <Badge color=\"secondary\"\r\n                                    badgeContent={getBadgePoint(suggestedReasons.distance, salesman?.numberOfTask, expContents)}\r\n                                />\r\n                            </Grid> */}\r\n\r\n                            <Grid item xs={12} sm={2} md={2} lg={2} className={classes.iconDes}>\r\n                                <Tooltip title=\"Salesman's address\">\r\n                                    <Icon style={{ padding: 0, margin: 0 }}><MdHome fontSize=\"large\" /></Icon>\r\n                                </Tooltip>\r\n\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={10} md={10} lg={10}>\r\n                                {salesman?.address}\r\n                                <br />\r\n                                {/* <span>+3</span> */}\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                <div className={classes.chipContainer}>\r\n                                    {reasons.map((reason, index) => (\r\n                                        // <Tooltip arrow\r\n                                        //     title={reason === suggestedReasons.exp ? expContents[0] : reason}\r\n                                        // >\r\n                                        <StyleChip variant=\"outlined\" size=\"small\"\r\n                                            icon={<MdCheck style={{ color: '#388e3c', marginLeft: '0.2rem' }} />}\r\n                                            label={reason}\r\n                                            className={classes.chipReason}\r\n                                            key={index}\r\n                                        />\r\n                                        // </Tooltip>\r\n                                    ))}\r\n                                </div>\r\n                            </Grid>\r\n\r\n                            {/* <Rating defaultValue={1} max={1} size=\"small\" readOnly /> */}\r\n                        </Grid>\r\n                    </Grid>\r\n                </CardContent >\r\n                <CardActions disableSpacing>\r\n                    <IconButton\r\n                        className={clsx(styles.expand, {\r\n                            [styles.expandOpen]: expandBarem,\r\n                        })}\r\n                        onClick={() => setExpandBarem(!expandBarem)}\r\n                        aria-expanded={expandBarem}\r\n                        aria-label=\"show barem\"\r\n                    >\r\n                        <MdExpandMore />\r\n                    </IconButton>\r\n                </CardActions>\r\n                <Collapse in={expandBarem} timeout=\"auto\" unmountOnExit>\r\n                    <CardContent>\r\n                        <Grid container spacing={1}>\r\n                            <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                <Typography variant=\"button\" style={{ fontSize: '' }}>\r\n                                    Barem of Plus Point\r\n                                </Typography>\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                <Typography variant=\"body2\" className={classes.txtCriInfoHeader}>\r\n                                    1/ Experiences\r\n                                </Typography>\r\n                                <div className={classes.txtCriInfo}>\r\n                                    <Grid container>\r\n                                        <Grid item container xs={12}>\r\n                                            <Grid item xs={1}></Grid>\r\n                                            <Grid item xs={8}>First time:</Grid>\r\n                                            <Grid item xs={3}><span style={{ color: '#4caf50', fontWeight: 500 }}>+3</span></Grid>\r\n                                        </Grid>\r\n                                        <Grid item container xs={12}>\r\n                                            <Grid item xs={1}></Grid>\r\n                                            <Grid item xs={8}>From the 2nd time:</Grid>\r\n                                            <Grid item xs={3}><span style={{ color: '#4caf50', fontWeight: 500 }}>+1</span></Grid>\r\n                                        </Grid>\r\n                                        {/* <Grid item container xs={12}>\r\n                                            <Typography variant=\"body2\"></Typography>\r\n                                            <span style={{ color: '#4caf50', fontWeight: 500 }}>+1.5</span>\r\n                                        </Grid> */}\r\n                                    </Grid>\r\n                                </div>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                <Typography variant=\"body2\" className={classes.txtCriInfoHeader}>\r\n                                    2/ Distance\r\n                                </Typography>\r\n                                <div className={classes.txtCriInfo}>\r\n                                    <Grid container>\r\n                                        <Grid item container xs={12}>\r\n                                            <Grid item xs={1}></Grid>\r\n                                            <Grid item xs={8}>In same ward:</Grid>\r\n                                            <Grid item xs={3}><span style={{ color: '#4caf50', fontWeight: 500 }}>+2</span></Grid>\r\n                                        </Grid>\r\n                                        <Grid item container xs={12}>\r\n                                            <Grid item xs={1}></Grid>\r\n                                            <Grid item xs={8}>In same district:</Grid>\r\n                                            <Grid item xs={3}><span style={{ color: '#4caf50', fontWeight: 500 }}>+1.5</span></Grid>\r\n                                        </Grid>\r\n                                        <Grid item container xs={12}>\r\n                                            <Grid item xs={1}></Grid>\r\n                                            <Grid item xs={8}>Nearly:</Grid>\r\n                                            <Grid item xs={3}><span style={{ color: '#4caf50', fontWeight: 500 }}>+1</span></Grid>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </div>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                <Typography variant=\"body2\" className={classes.txtCriInfoHeader}>\r\n                                    3/ Number of assigned tasks\r\n                                </Typography>\r\n                                <div className={classes.txtCriInfo}>\r\n                                    <Grid container>\r\n                                        <Grid item container xs={12}>\r\n                                            <Grid item xs={1}></Grid>\r\n                                            <Grid item xs={8}>≤ 5 tasks:</Grid>\r\n                                            <Grid item xs={3}><span style={{ color: '#4caf50', fontWeight: 500 }}>+3</span></Grid>\r\n                                        </Grid>\r\n                                        <Grid item container xs={12}>\r\n                                            <Grid item xs={1}></Grid>\r\n                                            <Grid item xs={8}>≤ 20 tasks:</Grid>\r\n                                            <Grid item xs={3}><span style={{ color: '#4caf50', fontWeight: 500 }}>+1</span></Grid>\r\n                                        </Grid>\r\n                                        <Grid item container xs={12}>\r\n                                            <Grid item xs={1}></Grid>\r\n                                            <Grid item xs={8}>≤ 49 tasks:</Grid>\r\n                                            <Grid item xs={3}><span style={{ color: '#4caf50', fontWeight: 500 }}>+0.5</span></Grid>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </div>\r\n                            </Grid>\r\n\r\n\r\n                        </Grid>\r\n                    </CardContent>\r\n                </Collapse>\r\n            </Card >\r\n        </Popover >\r\n    );\r\n}\r\n\r\nexport default SuggestionQuickView","import React, { useState, useEffect, useRef } from 'react'\r\nimport {\r\n    Button,\r\n    TextField,\r\n    DialogContent,\r\n    DialogActions,\r\n    Grid,\r\n    Typography,\r\n    InputAdornment,\r\n    ListItem,\r\n    Avatar,\r\n    ListItemText,\r\n    ListItemAvatar,\r\n    TableHead,\r\n    Table,\r\n    TableCell,\r\n    TableContainer,\r\n    TableRow,\r\n    TableBody,\r\n    makeStyles,\r\n    Paper,\r\n    IconButton,\r\n    Popover,\r\n    Badge,\r\n    Tooltip,\r\n    Card,\r\n    CardContent,\r\n    CardMedia,\r\n    Collapse,\r\n    Box,\r\n    Icon,\r\n} from '@material-ui/core'\r\nimport { MdAccountCircle, MdClose, MdLocationOn, MdRefresh } from 'react-icons/md'\r\nimport { BiEdit } from 'react-icons/bi'\r\nimport { ImSad } from 'react-icons/im'\r\nimport { Autocomplete, Rating } from '@material-ui/lab'\r\nimport { useTask } from '../../hooks/TaskContext'\r\nimport { Consts, columnsTableAssign } from '../DialogConfig'\r\nimport { useAuth } from '../../../../hooks/AuthContext'\r\nimport { assignMulti, suggestSalesmen } from '../../TasksServices'\r\nimport { useHistory } from 'react-router'\r\nimport { Alert, AlertTitle } from '@material-ui/lab'\r\nimport SuggestionQuickView from '../SuggestionQuickView/SuggestionQuickView'\r\nimport { Loading } from '../../../../components'\r\nimport { parseDateToString } from '../../../../utils/DateTimes';\r\nimport { app as FirebaseApp } from '../../../../services/firebase'\r\nimport classes from './Assign.module.scss'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        // margin: theme.spacing(1),\r\n        marginTop: '0.8rem',\r\n        minWidth: 160,\r\n        // maxWidth: 180\r\n    },\r\n    option: {\r\n        fontSize: '0.875rem',\r\n    },\r\n    root: {},\r\n    menuItemRoot: {\r\n        '&$menuItemSelected': { backgroundColor: 'rgba(0, 0, 0, 0.08)' },\r\n        '&$menuItemSelected:focus': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.12)',\r\n        },\r\n        '&$menuItemSelected:hover': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.04);',\r\n        },\r\n    },\r\n    menuItemSelected: {},\r\n    autoComplete: {\r\n        width: 270,\r\n        marginLeft: '0.5rem',\r\n    },\r\n    itemPIC: {\r\n        padding: 0,\r\n        margin: 0,\r\n    },\r\n    divItemPIC: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        padding: 0,\r\n        margin: 0,\r\n    },\r\n    itemTextPrimary: {\r\n        fontSize: '0.875rem',\r\n        fontWeight: 600\r\n    },\r\n    itemTextSecondary: {\r\n        fontSize: '0.8rem',\r\n        fontWeight: 500\r\n    },\r\n    itemTextPrimary2: {\r\n        fontSize: '0.9rem',\r\n        fontWeight: 600\r\n    },\r\n}))\r\n\r\nfunction AssignForm(props) {\r\n    const styles = useStyles()\r\n    const { onClose, rows, setRows, refreshAPI, setNotify } = props\r\n    const { operations } = Consts\r\n    const history = useHistory()\r\n    const [openAlert, setOpenAlert] = useState(true)\r\n\r\n    const [anchorElQuickViewPopover, setAnchorElQuickViewPopover] = useState(null);\r\n    const [clickedSalesman, setClickedSalesman] = useState(null);   // click to view popover\r\n\r\n    const [anchorElNotePopover, setAnchorElNotePopover] = useState(null)\r\n    const [rowsState, setRowsState] = useState(rows)\r\n    const [object, setObject] = useState(null)\r\n\r\n    const { PICs, getListPICs, params } = useTask()\r\n    const { listFilters, page, limit, column, direction, searchKey } = params\r\n    const { user } = useAuth()\r\n\r\n    const [PIC, setPIC] = useState(null)\r\n    const typingTimeoutRef = useRef({})\r\n\r\n    //=====================List suggested Salesmen=====================\r\n    const [listSuggestions, setListSuggestions] = useState(null);\r\n    const getSchoolIds = (listTasks) => {\r\n        // console.log('Assign Form --- listSchools: ', listTasks);\r\n        let schoolIds = []\r\n        listTasks.forEach(task => {\r\n            schoolIds.push(task?.schoolId)\r\n            // console.log('list ids = ', schoolIds);\r\n        });\r\n        return schoolIds\r\n    }\r\n\r\n    const getSuggestions = (listTasks) => {\r\n        const listSchoolIds = [...getSchoolIds(listTasks)]\r\n        // console.log('useEffect------list ids = ', listSchoolIds);\r\n\r\n        suggestSalesmen(listSchoolIds).then(data => {\r\n            if (isMounted) {\r\n                setListSuggestions(data)\r\n            }\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                history.push({\r\n                    pathname: '/errors',\r\n                    state: { error: error.response.status },\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    let isMounted = true\r\n    useEffect(() => {\r\n        getSuggestions(rowsState)\r\n\r\n        return () => {\r\n            isMounted = false\r\n        };\r\n    }, []);\r\n\r\n    if (!listSuggestions) {\r\n        return <Loading />\r\n    }\r\n\r\n    const createNotify = (picUsername) => {\r\n        new Promise((resolve, reject) => {\r\n            const notiRef = FirebaseApp.database()\r\n                .ref('notify')\r\n                .child(picUsername)\r\n                .push({\r\n                    // avatar:\r\n                    //     'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Fmajor-logo.png?alt=media&token=64f5c1ee-2428-4b99-b803-51a45422cdc1',\r\n                    actor: user?.username,\r\n                    type: 'task',\r\n                    content: 'You have just been assigned in new tasks.',\r\n                    timestamp: parseDateToString(new Date(), 'YYYY-MM-DD HH:mm:ss'),\r\n                    uid: 0,\r\n                    isSeen: false,\r\n                })\r\n        })\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        // console.log('handleSubmit() ----- rowsState: ', rowsState);\r\n\r\n        const array = []\r\n        rowsState.map((item) => {\r\n            item = {\r\n                ...item,\r\n                username: PIC?.username,\r\n                assignDate: parseDateToString(new Date(), 'YYYY-MM-DD HH:mm:ss')\r\n            }\r\n            array.push(item)\r\n        })\r\n        // console.log(array)\r\n        assignMulti(array).then((res) => {\r\n            setNotify({\r\n                isOpen: true,\r\n                message: 'Assigned successfully',\r\n                type: 'success',\r\n            })\r\n            setRows([])\r\n            refreshAPI(page, limit, column, direction, searchKey, listFilters)\r\n\r\n            createNotify(PIC?.username)  // firebase notification\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                setNotify({\r\n                    isOpen: true,\r\n                    message: 'Assigned failed',\r\n                    type: 'error',\r\n                })\r\n            }\r\n        })\r\n\r\n        onClose()\r\n    }\r\n\r\n    const handleOpenNotePopover = (event, row) => {\r\n        setAnchorElNotePopover(event.currentTarget)\r\n        setObject(row)\r\n    }\r\n    const open = Boolean(anchorElNotePopover)\r\n\r\n    const handleOpenQuickViewPopover = (event, salesman) => {\r\n        setAnchorElQuickViewPopover(event.currentTarget)\r\n        setClickedSalesman(salesman)\r\n    }\r\n\r\n    const onSearchPICChange = (event) => {\r\n        if (typingTimeoutRef.current) {\r\n            clearTimeout(typingTimeoutRef.current)\r\n        }\r\n\r\n        typingTimeoutRef.current = setTimeout(() => {\r\n            const searchPIC = event.target.value\r\n            if (searchPIC) {\r\n                getListPICs(searchPIC)\r\n            } else {\r\n                getListPICs()\r\n            }\r\n        }, 300)\r\n    }\r\n\r\n    const handlePICChange = (event, newPIC) => {\r\n        // console.log('selected PIC: ', newPIC);\r\n        setPIC(newPIC)\r\n    }\r\n\r\n    const handleOnRemove = (e, row) => {\r\n        let newSelected = []\r\n        const selectedIndex = rowsState.indexOf(row)\r\n        if (selectedIndex === 0) {\r\n            newSelected = newSelected.concat(rowsState.slice(1))\r\n        } else if (selectedIndex === rowsState.length - 1) {\r\n            newSelected = newSelected.concat(rowsState.slice(0, -1))\r\n        } else if (selectedIndex > 0) {\r\n            newSelected = newSelected.concat(\r\n                rowsState.slice(0, selectedIndex),\r\n                rowsState.slice(selectedIndex + 1)\r\n            )\r\n        }\r\n        setRowsState(newSelected)\r\n        getSuggestions(newSelected)\r\n\r\n        if (newSelected.length === 0) {\r\n            onClose()\r\n        }\r\n    }\r\n\r\n    const onBlur = (e, row) => {\r\n        if (e.target.value?.length > 250) {\r\n            setNotify({\r\n                isOpen: true,\r\n                message: 'Note length is shorter than 250 letters',\r\n                type: 'warning',\r\n            })\r\n            return\r\n        }\r\n        const index = rowsState.findIndex((obj) => obj.id === row.id)\r\n        // console.log('index of note: ', index);\r\n        //const item ={...rowsState[index],note: e.target.value}\r\n        let array = [null]\r\n        array = [...rowsState]\r\n        array[index] = {\r\n            ...array[index],\r\n            note: e.target.value ? e.target.value : null,\r\n            noteBy: e.target.value ? user.username : null,\r\n        }\r\n        // console.log(array)\r\n        setRowsState(array)\r\n    }\r\n\r\n    const getShortName = (fullName) => {\r\n        const tmp1 = fullName.split(' ')\r\n        const shortName = [tmp1[tmp1.length - 2], tmp1[tmp1.length - 1]]\r\n        return shortName.join(' ')\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <DialogContent className={classes.wrapper}>\r\n                <Grid container spacing={2}>\r\n                    <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                        <Grid container>\r\n                            <Grid item xs={12} sm={4} md={4} lg={4}>\r\n                                <Autocomplete\r\n                                    autoComplete\r\n                                    autoSelect\r\n                                    autoHighlight\r\n                                    clearOnEscape\r\n                                    options={PICs ? PICs : []}\r\n                                    getOptionLabel={(pic) => pic?.fullName ? pic.fullName : ''}\r\n                                    value={PIC}\r\n                                    renderInput={(params) => (\r\n                                        <TextField\r\n                                            {...params}\r\n                                            label=\"PICs\"\r\n                                            name=\"PIC\"\r\n                                            margin=\"normal\"\r\n                                            placeholder=\"PIC will be assigned\"\r\n                                            onChange={onSearchPICChange}\r\n                                            // ref={params.InputProps.ref}\r\n                                            InputProps={{\r\n                                                ...params.InputProps,\r\n                                                startAdornment: (\r\n                                                    <>\r\n                                                        <InputAdornment position=\"start\">\r\n                                                            <MdAccountCircle />\r\n                                                        </InputAdornment>\r\n                                                        {\r\n                                                            params.InputProps\r\n                                                                .startAdornment\r\n                                                        }\r\n                                                    </>\r\n                                                ),\r\n                                            }}\r\n                                        />\r\n                                    )}\r\n                                    renderOption={(option) => {\r\n                                        return (\r\n                                            <div\r\n                                                className={styles.divItemPIC}\r\n                                                key={option.username}\r\n                                            >\r\n                                                <ListItemAvatar>\r\n                                                    <Avatar\r\n                                                        src={option.avatar}\r\n                                                    />\r\n                                                </ListItemAvatar>\r\n                                                <ListItemText\r\n                                                    primary={\r\n                                                        option.fullName\r\n                                                            ? option.fullName\r\n                                                            : ''\r\n                                                    }\r\n                                                    classes={{\r\n                                                        primary:\r\n                                                            classes.itemTextPrimary,\r\n                                                    }}\r\n                                                />\r\n                                            </div>\r\n                                        )\r\n                                    }}\r\n                                    className={styles.autoComplete}\r\n                                    onChange={(event, newPIC) =>\r\n                                        handlePICChange(event, newPIC)\r\n                                    }\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} sm={8} md={8} lg={8} className={classes.suggestionContainer}>\r\n                                <Box display=\"flex\">\r\n                                    <Box flexGrow={1}>\r\n                                        <Typography variant=\"button\" className={classes.suggestionTitle}>Salesman Suggestions</Typography>\r\n                                    </Box>\r\n                                    {/* <Box flexShrink={1}>\r\n                                        <Tooltip title=\"Refresh suggestions\">\r\n                                            <IconButton color=\"secondary\" disabled={openAlert} onClick={() => { setOpenAlert(true) }}>\r\n                                                <Icon fontSize=\"small\" className={classes.iconRefresh}><MdRefresh /></Icon>\r\n                                            </IconButton>\r\n                                        </Tooltip>\r\n                                    </Box> */}\r\n                                </Box>\r\n                                {(listSuggestions && listSuggestions?.length > 0) ? (\r\n                                    <div className={classes.cardContainer}>\r\n                                        {listSuggestions.map((salesman, index) => (\r\n                                            <div key={index}\r\n                                                className={classes.cardCover}\r\n                                                onClick={(e, clickedSalesman) => handleOpenQuickViewPopover(e, salesman)}\r\n                                            >\r\n                                                <Card className={classes.quickCard}>\r\n                                                    <CardMedia\r\n                                                        className={classes.quickCardAvatar}\r\n                                                        image={salesman?.avatar}\r\n                                                    />\r\n                                                    <CardContent className={classes.content}>\r\n                                                        <ListItem dense alignItems=\"flex-start\" className={classes.listItem}>\r\n                                                            <ListItemText\r\n                                                                className={classes.listItemText}\r\n                                                                primary={getShortName(salesman?.fullName)}\r\n                                                                // primaryTypographyProps={{ paragraph: false }}\r\n                                                                secondary={salesman?.username}\r\n                                                                classes={{ primary: styles.itemTextPrimary2, secondary: styles.itemTextSecondary }}\r\n                                                            />\r\n                                                        </ListItem>\r\n                                                        <div className={classes.subInfo}>\r\n                                                            <div className={classes.starPoint}>\r\n                                                                {/* <Tooltip title=\"Priority points\"> */}\r\n                                                                <Rating defaultValue={1} max={1} size=\"small\" readOnly />\r\n                                                                {/* </Tooltip> */}\r\n                                                                <Typography className={classes.point}>{salesman?.point >= 10 ? 10 : salesman.point}</Typography>\r\n                                                            </div>\r\n                                                            <div className={classes.distancePoint}>\r\n                                                                <MdLocationOn className={classes.iconLocation} />\r\n                                                                <Typography className={classes.distance}>\r\n                                                                    {parseFloat(salesman?.distance).toFixed(1)}km\r\n                                                                </Typography>\r\n                                                            </div>\r\n\r\n                                                        </div>\r\n                                                    </CardContent>\r\n                                                    {/* <div className={classes.details}>\r\n                                                        </div> */}\r\n                                                </Card>\r\n\r\n                                                {/* <SuggestionQuickView\r\n                                                    open={!!anchorElQuickViewPopover}\r\n                                                    anchorEl={anchorElQuickViewPopover}\r\n                                                    onClose={() => setAnchorElQuickViewPopover(null)}\r\n                                                    salesman={salesman}\r\n                                                /> */}\r\n                                            </div>\r\n                                        ))}\r\n                                        <SuggestionQuickView\r\n                                            open={!!anchorElQuickViewPopover}\r\n                                            anchorEl={anchorElQuickViewPopover}\r\n                                            onClose={() => setAnchorElQuickViewPopover(null)}\r\n                                            salesman={clickedSalesman}\r\n                                            setSelectedSalesman={setPIC}\r\n                                        />\r\n                                    </div>\r\n                                ) : (\r\n                                    <div className={classes.alertContainer}>\r\n                                        {!openAlert && (\r\n                                            <Typography variant=\"body2\" className={classes.noSalesman}>\r\n                                                <i>No salesman suggested in this case</i> <br />\r\n                                                <b>Reason: </b>The distance between selected schools are too far.\r\n                                            </Typography>\r\n                                        )}\r\n                                        <Collapse in={openAlert}>\r\n                                            <Alert\r\n                                                severity=\"warning\" icon={<ImSad />}\r\n                                                action={\r\n                                                    <IconButton\r\n                                                        color=\"inherit\"\r\n                                                        size=\"small\"\r\n                                                        onClick={() => setOpenAlert(false)}\r\n                                                    >\r\n                                                        <MdClose fontSize=\"inherit\" />\r\n                                                    </IconButton>\r\n                                                }\r\n                                            >\r\n                                                <AlertTitle>Whoosp...</AlertTitle>\r\n                                            No salesman suggested in this case. <br />\r\n                                                <i><b>Reason: </b>The distance between selected schools are too far.</i>\r\n                                            </Alert>\r\n                                        </Collapse>\r\n                                    </div>\r\n                                )}\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                        <Typography variant=\"subtitle1\">\r\n                            List of assigned schools:\r\n                        </Typography>\r\n                        <TableContainer\r\n                            className={classes.container}\r\n                            component={Paper}\r\n                        >\r\n                            <Table\r\n                                className={classes.table}\r\n                                stickyHeader\r\n                                size=\"small\"\r\n                            >\r\n                                <TableHead>\r\n                                    <TableRow className={classes.tHead}>\r\n                                        {columnsTableAssign.map((col) => (\r\n                                            <TableCell\r\n                                                key={col.key}\r\n                                                className={classes.tHeadCell}\r\n                                                align={col.align}\r\n                                                width={col.width}\r\n                                            >\r\n                                                {col.name}\r\n                                            </TableCell>\r\n                                        ))}\r\n                                    </TableRow>\r\n                                </TableHead>\r\n                                <TableBody className={classes.tBody}>\r\n                                    {rowsState.map((row, index) => (\r\n                                        <TableRow key={row.id}>\r\n                                            <TableCell>{index + 1}</TableCell>\r\n                                            <TableCell className={classes.tBodyCell}>\r\n                                                <ListItemText\r\n                                                    primary={`${row.level} ${row.schoolName}`}\r\n                                                    secondary={row.district}\r\n                                                    classes={{\r\n                                                        primary:\r\n                                                            classes.itemTextPrimary,\r\n                                                        secondary:\r\n                                                            classes.itemTextSecondary,\r\n                                                    }}\r\n                                                />\r\n                                            </TableCell>\r\n                                            <TableCell className={classes.tBodyCell}>\r\n                                                {PIC && (\r\n                                                    <ListItem\r\n                                                        className={\r\n                                                            classes.itemPIC\r\n                                                        }\r\n                                                    >\r\n                                                        <ListItemAvatar>\r\n                                                            <Avatar\r\n                                                                src={PIC.avatar}\r\n                                                            />\r\n                                                        </ListItemAvatar>\r\n                                                        <ListItemText\r\n                                                            primary={\r\n                                                                PIC.fullName\r\n                                                            }\r\n                                                            secondary={\r\n                                                                PIC.username\r\n                                                            }\r\n                                                            classes={{\r\n                                                                primary:\r\n                                                                    classes.itemTextPrimary,\r\n                                                                secondary:\r\n                                                                    classes.itemTextSecondary,\r\n                                                            }}\r\n                                                        />\r\n                                                    </ListItem>\r\n                                                )}\r\n                                            </TableCell>\r\n                                            <TableCell className={classes.tBodyCell}>\r\n                                                <Tooltip title=\"Note\">\r\n                                                    <IconButton\r\n                                                        onClick={(e) => handleOpenNotePopover(e, row)}\r\n                                                    >\r\n                                                        <Badge\r\n                                                            invisible={!row.note}\r\n                                                            color=\"secondary\"\r\n                                                            variant=\"dot\"\r\n                                                        >\r\n                                                            <BiEdit />\r\n                                                        </Badge>\r\n                                                    </IconButton>\r\n                                                </Tooltip>\r\n                                            </TableCell>\r\n                                            <TableCell>\r\n                                                <Tooltip title=\"Remove\">\r\n                                                    <IconButton onClick={(e) => handleOnRemove(e, row)}>\r\n                                                        <MdClose />\r\n                                                    </IconButton>\r\n                                                </Tooltip>\r\n                                            </TableCell>\r\n                                        </TableRow>\r\n                                    ))}\r\n                                    <Popover\r\n                                        open={open}\r\n                                        onClose={() => setAnchorElNotePopover(null)}\r\n                                        anchorEl={anchorElNotePopover}\r\n                                        anchorOrigin={{\r\n                                            vertical: 'top',\r\n                                            horizontal: 'right',\r\n                                        }}\r\n                                        transformOrigin={{\r\n                                            vertical: 'top',\r\n                                            horizontal: 'left',\r\n                                        }}\r\n                                    >\r\n                                        <TextField\r\n                                            onBlur={(e) =>\r\n                                                onBlur(e, object)\r\n                                            }\r\n                                            onChange={(e) =>\r\n                                                setObject({\r\n                                                    ...object,\r\n                                                    note: e.target.value,\r\n                                                })\r\n                                            }\r\n                                            value={\r\n                                                object?.note ? object?.note : ''\r\n                                            }\r\n                                            multiline\r\n                                            autoFocus\r\n                                            rows={4}\r\n                                            placeholder=\"Type note here\"\r\n                                            variant=\"outlined\"\r\n                                        />\r\n                                    </Popover>\r\n                                </TableBody>\r\n                            </Table>\r\n                        </TableContainer>\r\n                    </Grid>\r\n                </Grid>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button\r\n                    type=\"submit\"\r\n                    onClick={handleSubmit}\r\n                    disabled={!PIC}\r\n                    className={classes.btnSave}\r\n                >\r\n                    {operations.save}\r\n                </Button>\r\n                <Button onClick={onClose}>{operations.cancel}</Button>\r\n            </DialogActions>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AssignForm\r\n","import React from 'react'\r\nimport {\r\n    Dialog,\r\n    IconButton,\r\n    DialogTitle,\r\n    Typography,\r\n    withStyles,\r\n} from '@material-ui/core'\r\nimport { MdClose } from 'react-icons/md'\r\nimport { Consts } from '../DialogConfig'\r\nimport AssignForm from './AssignForm'\r\nimport classes from './Assign.module.scss'\r\n// import { Snackbars } from '../../../../components'\r\n\r\nconst stylesTitle = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n});\r\n\r\nconst DialogTitleWithIconClose = withStyles(stylesTitle)((props) => {\r\n    const { children, classes, onClose, ...other } = props\r\n\r\n    return (\r\n        <DialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n                    <MdClose />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    );\r\n});\r\n\r\nfunction Assign(props) {\r\n    const { open, onClose, rows, setRows, refreshAPI, setNotify } = props\r\n    const { headers } = Consts\r\n    // const [notify, setNotify] = React.useState({\r\n    //     isOpen: false,\r\n    //     message: '',\r\n    //     type: '',\r\n    // })\r\n\r\n    return (\r\n        <Dialog open={open} onClose={onClose} maxWidth=\"md\" fullWidth component=\"form\" className={classes.dialog}>\r\n            <DialogTitleWithIconClose onClose={onClose}>\r\n                {headers.assign}\r\n            </DialogTitleWithIconClose>\r\n            <AssignForm\r\n                onClose={onClose} setNotify={setNotify}\r\n                rows={rows} setRows={setRows}\r\n                refreshAPI={refreshAPI}\r\n            />\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default Assign","import * as Actions from '../../../../constants/ActionTypes'\r\n\r\nexport const TaskFormReducer = (params, action) => {\r\n    const { type, payload } = action\r\n    const { listFilters } = params\r\n\r\n    switch (type) {\r\n        case Actions.FILTER_DISTRICT:\r\n            return { ...params, page: 0, listFilters: { ...listFilters, district: payload } }\r\n        case Actions.FILTER_SCHOOL_TYPE:\r\n            return { ...params, page: 0, listFilters: { ...listFilters, type: payload } }\r\n        case Actions.FILTER_SCHOOL_LEVEL:\r\n            return { ...params, page: 0, listFilters: { ...listFilters, level: payload } }\r\n        // case Actions.FILTER_SCHOOL_SCALE:\r\n        //     return { ...params, page: 0, listFilters: { ...listFilters, scale: payload } }\r\n        case Actions.FILTER_SCHOOL_STATUS:\r\n            return { ...params, page: 0, listFilters: { ...listFilters, status: payload } }\r\n\r\n        case Actions.ENTER_SEARCH_KEYWORD:\r\n            return { ...params, page: 0, searchKey: payload }\r\n\r\n        case Actions.SORT_BY:\r\n            return { ...params, column: payload.column, direction: payload.direction }\r\n\r\n        case Actions.CHANGE_PAGE:\r\n            return { ...params, page: payload.page, limit: payload.limit }\r\n\r\n        default:\r\n            return params\r\n    }\r\n}","import React, { useState, useContext, createContext, useReducer } from 'react'\r\nimport { TaskFormReducer } from './TaskFormReducer'\r\nimport {\r\n    DISTRICT_FILTER,\r\n    TYPE_FILTER,\r\n    LEVEL_FILTER,\r\n    // SCALE_FILTER,\r\n    STATUS_FILTER,\r\n} from '../../../../constants/Filters'\r\nimport { statusNames } from '../../../../constants/Generals'\r\n\r\nconst TaskFormContext = createContext()\r\n\r\nexport function useTaskForm() {\r\n    return useContext(TaskFormContext)\r\n}\r\n\r\nlet defaultFilters = {\r\n    district: { filterType: DISTRICT_FILTER, filterValue: '' },\r\n    type: { filterType: TYPE_FILTER, filterValue: '' },\r\n    level: { filterType: LEVEL_FILTER, filterValue: '' },\r\n    // scale: { filterType: SCALE_FILTER, filterValue: '' },\r\n    status: { filterType: STATUS_FILTER, filterValue: statusNames.lead },\r\n    // schoolYear: { filterType: SCHOOL_YEAR_FILTER, filterValue: '' },\r\n}\r\n\r\nfunction useTaskFormProvider() {\r\n    // Reducer\r\n    const [params, dispatchParams] = useReducer(TaskFormReducer, {\r\n        listFilters: defaultFilters,\r\n        searchKey: '',\r\n        page: 0,\r\n        limit: 10,\r\n        column: 'schoolId',\r\n        direction: 'asc',\r\n    })\r\n\r\n    // Paging\r\n    const [page, setPage] = useState(params.page)\r\n    const [limit, setLimit] = useState(params.limit)\r\n\r\n    // Sorting\r\n    const [column, setColumn] = useState(params.column)\r\n    const [direction, setDirection] = useState(params.direction)\r\n\r\n    //Filters\r\n    const [district, setDistrict] = useState('')\r\n    const [schoolType, setSchoolType] = useState('')\r\n    const [schoolLevel, setSchoolLevel] = useState('')\r\n    // const [schoolScale, setSchoolScale] = useState('')\r\n    const [schoolStatus, setSchoolStatus] = useState(\r\n        defaultFilters?.status?.filterValue\r\n    )\r\n    // Special filter (Checkbox)\r\n    const [checkedPotential, setCheckedPotential] = useState(false);\r\n\r\n    const resetFormFilters = () => {\r\n        setDistrict(defaultFilters?.district?.filterValue)\r\n        setSchoolType(defaultFilters?.type?.filterValue)\r\n        setSchoolLevel(defaultFilters?.level?.filterValue)\r\n        setSchoolStatus(defaultFilters?.status?.filterValue)\r\n        setCheckedPotential(false)\r\n    }\r\n\r\n    // fix major BUG\r\n    // const setFilter = (key, value) => {\r\n    //     switch (key) {\r\n    //         case DISTRICT_FILTER:\r\n    //             defaultFilters = {\r\n    //                 ...defaultFilters,\r\n    //                 district: { filterType: DISTRICT_FILTER, filterValue: value },\r\n    //             }\r\n    //             setDistrict(value)\r\n    //             break\r\n    //         case TYPE_FILTER:\r\n    //             defaultFilters = {\r\n    //                 ...defaultFilters,\r\n    //                 type: { filterType: TYPE_FILTER, filterValue: value },\r\n    //             }\r\n    //             setSchoolType(value)\r\n    //             break\r\n    //         case LEVEL_FILTER:\r\n    //             defaultFilters = {\r\n    //                 ...defaultFilters,\r\n    //                 level: { filterType: LEVEL_FILTER, filterValue: value },\r\n    //             }\r\n    //             setSchoolLevel(value)\r\n    //             break\r\n    //         // case SCALE_FILTER:\r\n    //         //     defaultFilters = {\r\n    //         //         ...defaultFilters,\r\n    //         //         scale: { filterType: SCALE_FILTER, filterValue: value },\r\n    //         //     }\r\n    //         //     setSchoolScale(value)\r\n    //         //     break\r\n    //         case STATUS_FILTER:\r\n    //             defaultFilters = {\r\n    //                 ...defaultFilters,\r\n    //                 status: { filterType: STATUS_FILTER, filterValue: value },\r\n    //             }\r\n    //             setSchoolStatus(value)\r\n    //             break\r\n    //         default:\r\n    //             break\r\n    //     }\r\n    // }\r\n\r\n    return {\r\n        params,\r\n        dispatchParams,\r\n        page,\r\n        setPage,\r\n        limit,\r\n        setLimit,\r\n        direction,\r\n        setDirection,\r\n        column,\r\n        setColumn,\r\n        district,\r\n        setDistrict,\r\n        schoolType,\r\n        setSchoolType,\r\n        schoolLevel,\r\n        setSchoolLevel,\r\n        // schoolScale,\r\n        schoolStatus,\r\n        setSchoolStatus,\r\n        checkedPotential,\r\n        setCheckedPotential,\r\n        resetFormFilters\r\n    }\r\n}\r\n\r\nfunction TaskFormProvider(props) {\r\n    const { children } = props\r\n    const taskForm = useTaskFormProvider()\r\n\r\n    return (\r\n        <TaskFormContext.Provider value={taskForm}>\r\n            {children}\r\n        </TaskFormContext.Provider>\r\n    )\r\n}\r\n\r\nexport default TaskFormProvider\r\n","export const columns = [\r\n    { key: 'name', name: 'School Name', sortable: true, width: '28%' },\r\n    { key: 'address', name: 'Address', sortable: true, width: '32%' },\r\n    { key: 'reprName', name: 'Principal', sortable: true, width: '20%' },\r\n    { key: 'schoolStatus.id', name: 'Status', sortable: true, width: '20%' },\r\n]\r\n\r\nexport const previewColumns = [\r\n    { key: 'no', name: '#', align: 'center', width: '1%' },\r\n    { key: 'name', name: 'School Name', align: 'left', width: '30%' },\r\n    { key: 'status', name: 'Status', align: 'left', width: '16%' },\r\n    { key: 'purpose', name: 'Purpose', align: 'left', width: '22%' },\r\n    { key: 'endDate', name: 'Deadline', align: 'left', width: '23%' },\r\n    { key: '', name: '', align: 'right', width: '1%' }\r\n]","import React from 'react'\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogActions,\r\n    withStyles,\r\n    Typography,\r\n    IconButton,\r\n} from '@material-ui/core'\r\nimport classes from './NotifyDialog.module.scss'\r\nimport { MdClose } from 'react-icons/md';\r\n\r\nconst stylesTitle = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n});\r\n\r\nconst DialogTitleWithIconClose = withStyles(stylesTitle)((props) => {\r\n    const { children, classes, onClose, ...other } = props;\r\n    return (\r\n        <DialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n                    <MdClose />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    );\r\n});\r\n\r\nfunction NotifyDialog(props) {\r\n    const { open, onClose } = props\r\n\r\n    return (\r\n        <Dialog open={open} onClose={onClose}>\r\n            <DialogTitleWithIconClose onClose={onClose}>Notify</DialogTitleWithIconClose>\r\n            {/* <Divider /> */}\r\n            <DialogContent>\r\n                <DialogContentText className={classes.dialogText}>\r\n                    Please choose schools before creating list of tasks.\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            {/* <Divider /> */}\r\n            <DialogActions>\r\n                {/* <Button onClick={onClose}>\r\n                    Cancel\r\n                </Button> */}\r\n                <Button onClick={onClose} autoFocus>\r\n                    OK, I understood\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default React.memo(NotifyDialog)","import React, { useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n    Select,\r\n    Grid,\r\n    InputLabel,\r\n    MenuItem,\r\n    FormControl,\r\n    Button,\r\n    Box,\r\n    Tooltip,\r\n    Checkbox,\r\n    FormControlLabel,\r\n} from '@material-ui/core'\r\nimport { SearchFields } from '../../../../components'\r\nimport * as ReducerActions from '../../../../constants/ActionTypes'\r\nimport { useApp } from '../../../../hooks/AppContext'\r\nimport { useTaskForm } from './TaskFormContext'\r\nimport {\r\n    DISTRICT_FILTER,\r\n    TYPE_FILTER,\r\n    LEVEL_FILTER,\r\n    STATUS_FILTER,\r\n    // SCALE_FILTER,\r\n    // STATUS_FILTER,\r\n} from '../../../../constants/Filters'\r\nimport { Consts } from '../DialogConfig'\r\nimport { MdAdd } from 'react-icons/md'\r\nimport NotifyDialog from './NotifyDialog'\r\nimport styles from './CreateTasks.module.scss'\r\nimport { statusNames } from '../../../../constants/Generals'\r\n\r\n//===============Set max-height for dropdown list===============\r\nconst ITEM_HEIGHT = 38\r\nconst ITEM_PADDING_TOP = 5\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT * 4 + ITEM_PADDING_TOP,\r\n        },\r\n    },\r\n}\r\n//==============================================================\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        marginBottom: theme.spacing(1),\r\n        minWidth: 170,\r\n    },\r\n    formControlCheckbox: {\r\n        marginTop: theme.spacing(2)\r\n    },\r\n    flexBox: {\r\n        padding: 0,\r\n    },\r\n    flexItem: {\r\n        padding: '0 0.2rem',\r\n    },\r\n    option: {\r\n        fontSize: '0.875rem',\r\n    },\r\n    root: {},\r\n    menuItemRoot: {\r\n        '&$menuItemSelected': { backgroundColor: 'rgba(0, 0, 0, 0.08)' },\r\n        '&$menuItemSelected:focus': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.12)',\r\n        },\r\n        '&$menuItemSelected:hover': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.04);',\r\n        },\r\n    },\r\n    menuItemSelected: {},\r\n}))\r\n\r\nfunction Filters(props) {\r\n    const classes = useStyles()\r\n\r\n    const { dists, schTypes, schEduLvls } = useApp()    //, schScales\r\n\r\n    //Use states which have been declared in the TaskFormContext\r\n    const {\r\n        // params,\r\n        dispatchParams,\r\n        district, setDistrict,\r\n        schoolType, setSchoolType,\r\n        schoolLevel, setSchoolLevel,\r\n        checkedPotential, setCheckedPotential\r\n        // schoolScale,\r\n        // schoolStatus,\r\n        // setFilter,\r\n    } = useTaskForm()\r\n    // const [purpose, setPurpose] = useState([])\r\n\r\n    const { operations, filters } = Consts\r\n\r\n    const [openNotiDialog, setOpenNotiDialog] = useState(false)\r\n\r\n    //=========================================Handle filters=========================================\r\n    const handleDistrictChange = (event) => {\r\n        const selectedDistrict = event.target.value\r\n        // setFilter(DISTRICT_FILTER, selectedDistrict)\r\n        setDistrict(selectedDistrict);\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_DISTRICT,\r\n            payload: {\r\n                filterType: DISTRICT_FILTER,\r\n                filterValue: selectedDistrict ? selectedDistrict : '',\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleSchoolTypeChange = (event) => {\r\n        const selectedSchoolType = event.target.value\r\n        // setFilter(TYPE_FILTER, selectedSchoolType)\r\n        setSchoolType(selectedSchoolType)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_SCHOOL_TYPE,\r\n            payload: {\r\n                filterType: TYPE_FILTER,\r\n                filterValue: selectedSchoolType ? selectedSchoolType : '',\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleSchoolLevelChange = (event) => {\r\n        const selectedSchoolLevel = event.target.value\r\n        // setFilter(LEVEL_FILTER, selectedSchoolLevel)\r\n        setSchoolLevel(selectedSchoolLevel)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_SCHOOL_LEVEL,\r\n            payload: {\r\n                filterType: LEVEL_FILTER,\r\n                filterValue: selectedSchoolLevel ? selectedSchoolLevel : '',\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleCheckedPotentialChange = (event) => {\r\n        const isPotential = event.target.checked\r\n        console.log(isPotential);\r\n        // setFilter(LEVEL_FILTER, selectedSchoolLevel)\r\n        setCheckedPotential(isPotential)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_SCHOOL_STATUS,\r\n            payload: {\r\n                filterType: STATUS_FILTER,\r\n                filterValue: isPotential ? statusNames.potential : statusNames.lead,\r\n            },\r\n        })\r\n    }\r\n\r\n    // const handleSchoolScaleChange = (event) => {\r\n    //     const selectedSchoolScale = event.target.value\r\n    //     setFilter(SCALE_FILTER, selectedSchoolScale)\r\n    //     dispatchParams({\r\n    //         type: ReducerActions.FILTER_SCHOOL_SCALE,\r\n    //         payload: {\r\n    //             filterType: SCALE_FILTER,\r\n    //             filterValue: selectedSchoolScale ? selectedSchoolScale : '',\r\n    //         },\r\n    //     })\r\n    // }\r\n\r\n    //=================Handle action enter / submit of SearchFields==================\r\n    const handleSearch = (keyword) => {\r\n        dispatchParams({\r\n            type: ReducerActions.ENTER_SEARCH_KEYWORD,\r\n            payload: keyword,\r\n        })\r\n    }\r\n\r\n    const renderNotiDialog = () => {\r\n        return (\r\n            <NotifyDialog\r\n                open={openNotiDialog} onClose={() => setOpenNotiDialog(false)}\r\n            />\r\n        )\r\n    }\r\n\r\n    const onClick = e => {\r\n        // console.log('props.rows: ', props.rows);\r\n        if (props.rows?.length < 1) {\r\n            setOpenNotiDialog(true)\r\n            return\r\n        }\r\n\r\n        props.setOpen(true)\r\n    }\r\n    return (\r\n        <div className={styles.filtersZone}>\r\n            <Box display=\"flex\" flexWrap=\"nowrap\" className={classes.flexBox}>\r\n                <Box flexGrow={1}></Box>\r\n                <Box className={classes.flexItem}>\r\n                    <SearchFields\r\n                        placeholder={operations.search.placeholder}\r\n                        onChange={handleSearch}\r\n                    />\r\n                </Box>\r\n                <Box className={classes.flexItem}>\r\n                    <Tooltip title=\"Create Tasks\">\r\n                        <Button onClick={onClick} color=\"secondary\" variant=\"contained\" className={styles.btnAdd}>\r\n                            <MdAdd fontSize=\"large\" />\r\n                        </Button>\r\n                    </Tooltip>\r\n                    {renderNotiDialog()}\r\n                </Box>\r\n            </Box>\r\n            <Grid container item xs={12} sm={12} md={12} lg={12}>\r\n                <Grid item xs={6} sm={4} md={3} lg={3}>\r\n                    <FormControl className={classes.formControl}>\r\n                        <InputLabel>{filters.district.title}</InputLabel>\r\n                        <Select\r\n                            value={district || ''}\r\n                            onChange={handleDistrictChange}\r\n                            MenuProps={MenuProps}\r\n                        >\r\n                            <MenuItem\r\n                                value=\"\"\r\n                                className={classes.option}\r\n                                classes={{\r\n                                    root: classes.menuItemRoot,\r\n                                    selected: classes.menuItemSelected,\r\n                                }}\r\n                            >\r\n                                All\r\n                            </MenuItem>\r\n                            {dists?.map((dist) => (\r\n                                <MenuItem\r\n                                    key={dist}\r\n                                    value={dist}\r\n                                    className={classes.option}\r\n                                    classes={{\r\n                                        root: classes.menuItemRoot,\r\n                                        selected:\r\n                                            classes.menuItemSelected,\r\n                                    }}\r\n                                >\r\n                                    {dist}\r\n                                </MenuItem>\r\n                            ))}\r\n                        </Select>\r\n                    </FormControl>\r\n                </Grid>\r\n\r\n                <Grid item xs={6} sm={4} md={3} lg={3}>\r\n                    <FormControl className={classes.formControl}>\r\n                        <InputLabel>{filters.schoolType.title}</InputLabel>\r\n                        <Select\r\n                            value={schoolType || ''}\r\n                            onChange={handleSchoolTypeChange}\r\n                            MenuProps={MenuProps}\r\n                        >\r\n                            <MenuItem\r\n                                value=\"\"\r\n                                className={classes.option}\r\n                                classes={{\r\n                                    root: classes.menuItemRoot,\r\n                                    selected: classes.menuItemSelected,\r\n                                }}\r\n                            >\r\n                                All\r\n                            </MenuItem>\r\n                            {schTypes?.map((type) => (\r\n                                <MenuItem\r\n                                    key={type}\r\n                                    value={type}\r\n                                    className={classes.option}\r\n                                    classes={{\r\n                                        root: classes.menuItemRoot,\r\n                                        selected:\r\n                                            classes.menuItemSelected,\r\n                                    }}\r\n                                >\r\n                                    {type}\r\n                                </MenuItem>\r\n                            ))}\r\n                        </Select>\r\n                    </FormControl>\r\n                </Grid>\r\n\r\n                <Grid item xs={6} sm={4} md={3} lg={3}>\r\n                    <FormControl className={classes.formControl}>\r\n                        <InputLabel>{filters.schoolLevel.title}</InputLabel>\r\n                        <Select\r\n                            value={schoolLevel || ''}\r\n                            onChange={handleSchoolLevelChange}\r\n                            MenuProps={MenuProps}\r\n                        >\r\n                            <MenuItem\r\n                                value=\"\"\r\n                                className={classes.option}\r\n                                classes={{\r\n                                    root: classes.menuItemRoot,\r\n                                    selected: classes.menuItemSelected,\r\n                                }}\r\n                            >\r\n                                All\r\n                            </MenuItem>\r\n                            {schEduLvls?.map((level) => (\r\n                                <MenuItem\r\n                                    key={level}\r\n                                    value={level}\r\n                                    className={classes.option}\r\n                                    classes={{\r\n                                        root: classes.menuItemRoot,\r\n                                        selected:\r\n                                            classes.menuItemSelected,\r\n                                    }}\r\n                                >\r\n                                    {level}\r\n                                </MenuItem>\r\n                            ))}\r\n                        </Select>\r\n                    </FormControl>\r\n                </Grid>\r\n\r\n                <Grid item xs={6} sm={4} md={3} lg={3}>\r\n                    <FormControl className={classes.formControlCheckbox}>\r\n                        <FormControlLabel\r\n                            value={checkedPotential}\r\n                            control={\r\n                                <Checkbox color=\"secondary\"\r\n                                    checked={checkedPotential}\r\n                                    onChange={handleCheckedPotentialChange} />\r\n                            }\r\n                            label={filters.isPotential.title}\r\n                            labelPlacement=\"end\"\r\n                        />\r\n                    </FormControl>\r\n                </Grid>\r\n\r\n                {/* <Grid item xs={6} sm={4} md={3} lg={3}>\r\n                    <FormControl className={classes.formControl}>\r\n                        <InputLabel>{filters.schoolScale.title}</InputLabel>\r\n                        <Select\r\n                            value={schoolScale || ''}\r\n                            onChange={handleSchoolScaleChange}\r\n                            MenuProps={MenuProps}\r\n                        >\r\n                            <MenuItem\r\n                                value=\"\"\r\n                                className={classes.option}\r\n                                classes={{\r\n                                    root: classes.menuItemRoot,\r\n                                    selected: classes.menuItemSelected,\r\n                                }}\r\n                            >\r\n                                All\r\n                            </MenuItem>\r\n                            {schScales?.map((scale) => (\r\n                                <MenuItem\r\n                                    key={scale}\r\n                                    value={scale}\r\n                                    className={classes.option}\r\n                                    classes={{\r\n                                        root: classes.menuItemRoot,\r\n                                        selected:\r\n                                            classes.menuItemSelected,\r\n                                    }}\r\n                                >\r\n                                    {scale}\r\n                                </MenuItem>\r\n                            ))}\r\n                        </Select>\r\n                    </FormControl>\r\n                </Grid> */}\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filters","import React from 'react'\r\nimport { useTheme } from '@material-ui/core/styles'\r\nimport {\r\n    TableContainer,\r\n    Table,\r\n    TableHead,\r\n    TableBody,\r\n    TableRow,\r\n    TableCell,\r\n    TablePagination,\r\n    IconButton,\r\n    Chip,\r\n    TableSortLabel,\r\n    withStyles,\r\n    ListItemText,\r\n    Checkbox,\r\n} from '@material-ui/core'\r\nimport Rating from '@material-ui/lab/Rating'\r\nimport {\r\n    MdFirstPage,\r\n    MdKeyboardArrowLeft,\r\n    MdKeyboardArrowRight,\r\n    MdLastPage,\r\n} from 'react-icons/md'\r\nimport { useTaskForm } from './TaskFormContext'\r\nimport * as ReducerActions from '../../../../constants/ActionTypes'\r\nimport { statusNames } from '../../../../constants/Generals'\r\nimport { Consts } from '../DialogConfig'\r\nimport Highlighter from \"react-highlight-words\"\r\nimport classes from './Tables.module.scss'\r\n\r\n// Customize component TablePagination\r\nfunction TablePaginationActions(props) {\r\n    const theme = useTheme()\r\n\r\n    const { count, page, rowsPerPage, totalPage, onChangePage } = props\r\n\r\n    const handleFirstPageButtonClick = (event) => {\r\n        onChangePage(event, 0) // firstPage has index = 0\r\n    }\r\n\r\n    const handleLastPageButtonClick = (event) => {\r\n        onChangePage(event, Math.ceil(count / rowsPerPage) - 1)\r\n    }\r\n\r\n    const handleBackPageButtonClick = (event) => {\r\n        onChangePage(event, page - 1) // current page - 1\r\n    }\r\n\r\n    const handleNextPageButtonClick = (event) => {\r\n        onChangePage(event, page + 1) // current page + 1\r\n    }\r\n\r\n    return (\r\n        <div className={classes.paging}>\r\n            <IconButton\r\n                onClick={handleFirstPageButtonClick}\r\n                disabled={page === 0}\r\n                aria-label=\"first page\"\r\n            >\r\n                {theme.direction === 'rtl' ? <MdLastPage /> : <MdFirstPage />}\r\n            </IconButton>\r\n            <IconButton\r\n                onClick={handleBackPageButtonClick}\r\n                disabled={page === 0}\r\n                aria-label=\"previous page\"\r\n            >\r\n                {theme.direction === 'rtl' ? (\r\n                    <MdKeyboardArrowRight />\r\n                ) : (\r\n                    <MdKeyboardArrowLeft />\r\n                )}\r\n            </IconButton>\r\n            <span>\r\n                {page + 1} / {totalPage}\r\n            </span>\r\n            <IconButton\r\n                onClick={handleNextPageButtonClick}\r\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n                aria-label=\"next page\"\r\n            >\r\n                {theme.direction === 'rtl' ? (\r\n                    <MdKeyboardArrowLeft />\r\n                ) : (\r\n                    <MdKeyboardArrowRight />\r\n                )}\r\n            </IconButton>\r\n            <IconButton\r\n                onClick={handleLastPageButtonClick}\r\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n                aria-label=\"last page\"\r\n            >\r\n                {theme.direction === 'rtl' ? <MdFirstPage /> : <MdLastPage />}\r\n            </IconButton>\r\n        </div>\r\n    )\r\n}\r\n\r\n// TablePaginationActions.propTypes = {\r\n//     count: PropTypes.number.isRequired,\r\n//     page: PropTypes.number.isRequired,\r\n//     rowsPerPage: PropTypes.number.isRequired,\r\n//     onChangePage: PropTypes.func.isRequired,\r\n//     totalPage: PropTypes.number.isRequired,\r\n// }\r\n\r\nfunction SortableTableHeaders(props) {\r\n    const { columns, direction, column, onRequestSort, numSelected, rowCount, onSelectAllClick } = props\r\n    const createSortHandler = (col, direction) => {\r\n        onRequestSort(col, direction)\r\n    }\r\n\r\n    const MuiTableSortLabel = withStyles({\r\n        root: {\r\n            color: 'white !important',\r\n            '&:hover': {\r\n                color: 'white !important',\r\n            },\r\n            '&$active': {\r\n                color: 'white !important',\r\n            },\r\n        },\r\n        active: {},\r\n        icon: {\r\n            color: 'white !important',\r\n        },\r\n    })(TableSortLabel)\r\n\r\n    return (\r\n        <TableHead>\r\n            <TableRow className={classes.tHead}>\r\n                <TableCell padding=\"checkbox\" className={classes.tHeadCell}>\r\n                    <Checkbox\r\n                        indeterminate={\r\n                            numSelected > 0 && numSelected < rowCount\r\n                        }\r\n                        checked={rowCount > 0 && numSelected === rowCount}\r\n                        onChange={onSelectAllClick}\r\n                    />\r\n                </TableCell>\r\n                {columns.map((col) => (\r\n                    <TableCell\r\n                        key={col.key}\r\n                        className={classes.tHeadCell}\r\n                        sortDirection={column === col.key ? direction : false}\r\n                        width={col.width}\r\n                    >\r\n                        {col?.sortable ? (\r\n                            <MuiTableSortLabel\r\n                                active={column === col.key}\r\n                                direction={column === col.key ? direction : 'asc'}\r\n                                onClick={() => createSortHandler(col, direction)}\r\n                            >\r\n                                {col.name}\r\n                            </MuiTableSortLabel>\r\n                        ) :\r\n                            col.name\r\n                        }\r\n                    </TableCell>\r\n                ))}\r\n            </TableRow>\r\n        </TableHead>\r\n    )\r\n}\r\n\r\n// SortableTableHeaders.propTypes = {\r\n//     columns: PropTypes.array.isRequired,\r\n//     direction: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n//     column: PropTypes.string.isRequired,\r\n//     onRequestSort: PropTypes.func.isRequired,\r\n// }\r\n\r\n// Customize component Table\r\nfunction Tables(props) {\r\n    const { selectedRows, setSelectedRows, columns, rows, totalRecord, totalPage } = props\r\n    const { messages } = Consts\r\n\r\n    const {\r\n        params,\r\n        dispatchParams,\r\n        limit,\r\n        direction,\r\n        column,\r\n        setColumn,\r\n        setLimit,\r\n        setPage,\r\n        setDirection,\r\n    } = useTaskForm()\r\n\r\n    const handleSelectAllClick = (event) => {\r\n        if (event.target.checked) {\r\n            const newSelecteds = rows.filter((row) => !row?.username)\r\n            setSelectedRows(newSelecteds)\r\n            return;\r\n        }\r\n        setSelectedRows([])\r\n    }\r\n\r\n    const handleClick = (event, row) => {\r\n        // console.log(event.target.checked)\r\n        // if(!event.target.checked){\r\n        //     event.target.checked=false\r\n        // }\r\n        const selectedIndex = selectedRows.indexOf(row)\r\n        let newSelected = []\r\n        if (selectedIndex === -1) {\r\n            newSelected = newSelected.concat(selectedRows, row)\r\n        } else if (selectedIndex === 0) {\r\n            newSelected = newSelected.concat(selectedRows.slice(1))\r\n        } else if (selectedIndex === selectedRows.length - 1) {\r\n            newSelected = newSelected.concat(selectedRows.slice(0, -1))\r\n        } else if (selectedIndex > 0) {\r\n            newSelected = newSelected.concat(\r\n                selectedRows.slice(0, selectedIndex),\r\n                selectedRows.slice(selectedIndex + 1)\r\n            )\r\n        }\r\n        // console.log(\"index \",selectedIndex)\r\n        // console.log(\"mảng \",newSelected)\r\n        setSelectedRows(newSelected)\r\n    }\r\n\r\n    const isSelected = (row) => {\r\n        if (selectedRows.indexOf(row) !== -1)\r\n            return true\r\n        else return false\r\n    }\r\n\r\n    // ====================Paging====================\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage)\r\n        dispatchParams({\r\n            type: ReducerActions.CHANGE_PAGE,\r\n            payload: {\r\n                page: newPage,\r\n                limit: params.limit,\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleChangeLimit = (event) => {\r\n        setLimit(parseInt(event.target.value, 10))\r\n        setPage(0)\r\n        dispatchParams({\r\n            type: ReducerActions.CHANGE_PAGE,\r\n            payload: {\r\n                page: 0,\r\n                limit: parseInt(event.target.value, 10),\r\n            },\r\n        })\r\n    }\r\n\r\n    const onSortBy = (col, direction) => {\r\n        if (col.sortable) {\r\n            setDirection(direction === 'desc' ? 'asc' : 'desc')\r\n            setColumn(col.key)\r\n\r\n            dispatchParams({\r\n                type: ReducerActions.SORT_BY,\r\n                payload: {\r\n                    column: col.key,\r\n                    direction: direction,\r\n                },\r\n            })\r\n        }\r\n    }\r\n\r\n    const truncateString = (str) => {\r\n        if (str) return str.length > 45 ? str.substring(0, 42) + '...' : str\r\n        else return ''\r\n    }\r\n\r\n    const setStatusChipColor = (status) => {\r\n        switch (status) {\r\n            case statusNames.lead:\r\n                return <Chip label={status} className={classes.chipLead} />\r\n            case statusNames.customer:\r\n                return <Chip label={status} className={classes.chipCustomer} />\r\n            case statusNames.potential:\r\n                return <Chip label={status} className={classes.chipPotential} />\r\n            default:\r\n                return <Chip label={status} />\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <TableContainer className={classes.container} component=\"div\">\r\n                <Table\r\n                    className={classes.table}\r\n                    stickyHeader\r\n                    size=\"small\"\r\n                    aria-label=\"sticky table\"\r\n                >\r\n                    <SortableTableHeaders\r\n                        columns={columns}\r\n                        direction={direction}\r\n                        column={column}\r\n                        onRequestSort={onSortBy}\r\n                        onSelectAllClick={handleSelectAllClick}\r\n                        rowCount={rows?.filter(item => !item.username)?.length}\r\n                        numSelected={selectedRows?.length}\r\n                    />\r\n                    <TableBody className={classes.tBody}>\r\n                        {rows?.length > 0 ? (\r\n                            rows.map((row) => (\r\n                                <TableRow\r\n                                    key={row?.id}\r\n                                    className={classes.tBodyRow}\r\n                                >\r\n                                    <TableCell\r\n                                        padding=\"checkbox\" width=\"1%\"\r\n                                        onClick={(event) => { !row?.username && handleClick(event, row) }}\r\n                                    >\r\n                                        <Checkbox\r\n                                            checked={row?.username ? false : isSelected(row)}\r\n                                            disabled={row?.username ? true : false}\r\n                                        />\r\n                                    </TableCell>\r\n                                    <TableCell\r\n                                        className={classes.tCellSchoolName}\r\n                                    >\r\n                                        {`${row?.educationalLevel} `}\r\n                                        <Highlighter\r\n                                            highlightClassName=\"YourHighlightClass\"\r\n                                            searchWords={[params.searchKey]}\r\n                                            autoEscape={true}\r\n                                            textToHighlight={row?.name ? row?.name : ''}\r\n                                        />\r\n                                        {row?.status === statusNames.potential && (\r\n                                            <>&nbsp;<Rating defaultValue={1} max={1} /></>\r\n                                        )}\r\n                                    </TableCell>\r\n                                    <TableCell\r\n                                        className={classes.tBodyCell}\r\n                                    >\r\n                                        <ListItemText\r\n                                            primary={\r\n                                                <Highlighter\r\n                                                    highlightClassName=\"YourHighlightClass\"\r\n                                                    searchWords={[params.searchKey]}\r\n                                                    autoEscape={true}\r\n                                                    textToHighlight={row?.address ? truncateString(row?.address) : ''}\r\n                                                />\r\n                                            }\r\n                                            secondary={row?.district}\r\n                                            classes={{\r\n                                                primary: classes.itemText,\r\n                                                secondary: classes.itemText\r\n                                            }}\r\n                                        />\r\n                                    </TableCell>\r\n                                    <TableCell\r\n                                        className={classes.tBodyCell}\r\n                                    >\r\n                                        <ListItemText\r\n                                            primary={\r\n                                                <>\r\n                                                    {row?.reprName\r\n                                                        ? row?.reprIsMale ? 'Mr. ' : 'Ms. '\r\n                                                        : ''\r\n                                                    }\r\n                                                    <Highlighter\r\n                                                        highlightClassName=\"YourHighlightClass\"\r\n                                                        searchWords={[params.searchKey]}\r\n                                                        autoEscape={true}\r\n                                                        textToHighlight={row?.reprName ? row?.reprName : ''}\r\n                                                    />\r\n                                                </>\r\n                                            }\r\n                                            secondary={row?.reprPhone}\r\n                                            classes={{\r\n                                                primary: classes.itemText,\r\n                                                secondary: classes.itemText\r\n                                            }}\r\n                                        />\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {row?.status && setStatusChipColor(row?.status)}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            ))\r\n                        ) : (\r\n                            <TableRow className={classes.tBodyRow}>\r\n                                <TableCell\r\n                                    className={classes.noRecord}\r\n                                    component=\"td\"\r\n                                    colSpan=\"100%\"\r\n                                >\r\n                                    {messages.notFound}\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        )}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n            <TablePagination\r\n                rowsPerPageOptions={[10, 20, 50]}\r\n                component=\"div\"\r\n                count={totalRecord ? totalRecord : 0}\r\n                rowsPerPage={limit}\r\n                page={params.page}\r\n                SelectProps={{\r\n                    inputProps: {\r\n                        'aria-label': 'rows per page',\r\n                    },\r\n                    native: true,\r\n                }}\r\n                onChangePage={handleChangePage}\r\n                onChangeRowsPerPage={handleChangeLimit}\r\n                ActionsComponent={() => (\r\n                    <TablePaginationActions\r\n                        count={totalRecord ? totalRecord : 0}\r\n                        page={params.page}\r\n                        rowsPerPage={params.limit}\r\n                        totalPage={totalPage}\r\n                        onChangePage={handleChangePage}\r\n                    />\r\n                )}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Tables)\r\n\r\n// Tables.propTypes = {\r\n//     rows: PropTypes.array,\r\n//     columns: PropTypes.array.isRequired,\r\n//     totalRecord: PropTypes.number.isRequired,\r\n//     totalPage: PropTypes.number.isRequired,\r\n// }","import { statusNames } from '../constants/Generals'\r\n\r\nfunction desc(a, b, orderBy) {\r\n    if (b[orderBy] < a[orderBy]) {\r\n        return -1\r\n    }\r\n    if (b[orderBy] > a[orderBy]) {\r\n        return 1\r\n    }\r\n    return 0\r\n}\r\n\r\nexport function getSorting(order, orderBy) {\r\n    return order === 'desc'\r\n        ? (a, b) => desc(a, b, orderBy)\r\n        : (a, b) => -desc(a, b, orderBy)\r\n}\r\n\r\nexport function getPurpsByStatus(schStatus, salesPurps) {\r\n    const purps = salesPurps\r\n\r\n    switch (schStatus) {\r\n        case statusNames.lead:\r\n            return [purps[0]]\r\n        case statusNames.customer:\r\n            return [purps[1], purps[2], purps[3]]\r\n        case statusNames.pending:\r\n        default:\r\n            return purps\r\n    }\r\n}\r\n\r\nexport function handleMatchPurps(currPurp, purps) {\r\n    const matchValues = purps.find((purp) => purp === currPurp)\r\n\r\n    return !!matchValues\r\n}\r\n","import React, { useState, useRef } from 'react'\r\nimport {\r\n    Button,\r\n    DialogContent,\r\n    DialogActions,\r\n    Grid,\r\n    Typography,\r\n    ListItemText,\r\n    TableHead,\r\n    Table,\r\n    TableCell,\r\n    TableContainer,\r\n    TableRow,\r\n    TableBody,\r\n    makeStyles,\r\n    Paper,\r\n    IconButton,\r\n    Chip,\r\n    FormControl,\r\n    InputLabel,\r\n    Select,\r\n    MenuItem,\r\n    Box,\r\n    Tooltip,\r\n} from '@material-ui/core'\r\nimport { MdClose } from 'react-icons/md'\r\nimport { previewColumns } from './CreateTasksConfig'\r\nimport { Consts, schoolYearSubTitle } from '../DialogConfig'\r\nimport {\r\n    statusNames,\r\n    purposeNames,\r\n    milkNames,\r\n} from '../../../../constants/Generals'\r\nimport * as Milk from '../../../../utils/Milk'\r\n// import { useAuth } from '../../../../hooks/AuthContext'\r\nimport { useApp } from '../../../../hooks/AppContext'\r\nimport { useTaskForm } from './TaskFormContext'\r\nimport { getPurpsByStatus } from '../../../../utils/Sortings'\r\nimport { createTasks } from '../../TasksServices'\r\nimport { KeyboardDatePicker, MuiPickersUtilsProvider } from 'mui-pickers-v3'\r\nimport DateFnsUtils from '@date-io/date-fns'\r\nimport {\r\n    parseDateToString,\r\n    calculateSchoolYear,\r\n} from '../../../../utils/DateTimes'\r\nimport classes from './CreatePreviewDialogForm.module.scss'\r\n\r\n//===============Set max-height for dropdown list===============\r\nconst ITEM_HEIGHT = 38\r\nconst ITEM_PADDING_TOP = 5\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT * 4 + ITEM_PADDING_TOP,\r\n        },\r\n    },\r\n}\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        marginTop: '0.5rem',\r\n        minWidth: 180,\r\n    },\r\n    option: {\r\n        fontSize: '0.875rem',\r\n    },\r\n    root: {},\r\n    menuItemRoot: {\r\n        '&$menuItemSelected': { backgroundColor: 'rgba(0, 0, 0, 0.08)' },\r\n        '&$menuItemSelected:focus': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.12)',\r\n        },\r\n        '&$menuItemSelected:hover': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.04);',\r\n        },\r\n    },\r\n    menuItemSelected: {},\r\n    autoComplete: {\r\n        width: 260,\r\n        marginLeft: '0.5rem',\r\n    },\r\n    itemPIC: {\r\n        padding: 0,\r\n        margin: 0,\r\n    },\r\n    divItemPIC: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        padding: 0,\r\n        margin: 0,\r\n    },\r\n    itemTextPrimary: {\r\n        fontSize: '0.875rem',\r\n    },\r\n    itemTextSecondary: {\r\n        fontSize: '0.8rem',\r\n    },\r\n}))\r\n\r\nfunction CreatePreviewDialogForm(props) {\r\n    const styles = useStyles()\r\n    const { onClose, schoolStatus, refreshAPI } = props\r\n\r\n    const { fields, operations } = Consts\r\n    const [rowsState, setRowsState] = React.useState(props.rows)\r\n    const [oneRow, setOneRow] = React.useState(null)\r\n    const [purpose, setPurpose] = useState(null)\r\n    // const [deadline, setDeadline] = useState(new Date(new Date().getFullYear(), 8, 30))\r\n\r\n    const { salesPurps } = useApp()\r\n    const { params } = useTaskForm() //, dispatchParams, setFilter\r\n    const { page, limit, column, direction, searchKey, listFilters } = params\r\n\r\n    const schoolYear = calculateSchoolYear()\r\n\r\n    const bakSalesPurps = salesPurps\r\n        ? salesPurps\r\n        : Milk.getMilk(milkNames.salesPurps)\r\n    const purpsByStatus = getPurpsByStatus(schoolStatus, bakSalesPurps)\r\n\r\n    // const modifyRowsState = () => {\r\n    //     let array = []\r\n    //     console.log('handleSubmit(): rowsState = ', rowsState);\r\n\r\n    //     rowsState.map((item) => {\r\n    //         item = {\r\n    //             ...item,\r\n    //             purpose: purpose,\r\n    //             schoolYear: schoolYear,\r\n    //             endDate: new Date(new Date().getFullYear(), 8, 30)\r\n    //         }\r\n    //         array.push(item)\r\n    //     })\r\n\r\n    //     setRowsState(array)\r\n    // }\r\n    // modifyRowsState()\r\n    console.log('Preview Dialog:   rowsState = ', rowsState)\r\n\r\n    const handleSubmit = () => {\r\n        let array = []\r\n        console.log('handleSubmit(): rowsState = ', rowsState)\r\n\r\n        rowsState.map((item) => {\r\n            item = {\r\n                ...item,\r\n                purpose: purpose,\r\n                schoolYear: schoolYear,\r\n                endDate: parseDateToString(\r\n                    item?.endDate\r\n                        ? item?.endDate\r\n                        : new Date(new Date().getFullYear(), 8, 30),\r\n                    'YYYY-MM-DD HH:mm:ss'\r\n                ),\r\n            } // , schoolId: item.id\r\n            array.push(item)\r\n        })\r\n        console.log('handleSubmit(): array = ', array)\r\n        createTasks(array).then((res) => {\r\n            // console.log('Created. res = ', res);\r\n            setRowsState([])\r\n            refreshAPI(\r\n                schoolYear,\r\n                page,\r\n                limit,\r\n                column,\r\n                direction,\r\n                searchKey,\r\n                listFilters\r\n            )\r\n            onClose()\r\n        })\r\n\r\n        // console.log(array)\r\n        // assignMulti(array).then((res) => {\r\n        //     props.setNotify({\r\n        //         isOpen: true,\r\n        //         message: 'Assigned successfully',\r\n        //         type: 'success',\r\n        //     })\r\n        //     props.setRows([])\r\n        //     refreshAPI(page, limit, column, direction, searchKey, listFilters)\r\n\r\n        //     onClose()\r\n        // })\r\n    }\r\n\r\n    const handleOnRemove = (e, row) => {\r\n        let newSelected = []\r\n        const selectedIndex = rowsState.indexOf(row)\r\n        if (selectedIndex === 0) {\r\n            newSelected = newSelected.concat(rowsState.slice(1))\r\n        } else if (selectedIndex === rowsState.length - 1) {\r\n            newSelected = newSelected.concat(rowsState.slice(0, -1))\r\n        } else if (selectedIndex > 0) {\r\n            newSelected = newSelected.concat(\r\n                rowsState.slice(0, selectedIndex),\r\n                rowsState.slice(selectedIndex + 1)\r\n            )\r\n        }\r\n        setRowsState(newSelected)\r\n        if (newSelected.length === 0) {\r\n            onClose()\r\n        }\r\n    }\r\n\r\n    const handleDeadlineChange = (newDate, row) => {\r\n        // setDeadline(newDate);\r\n        // console.log('newDate = ', newDate);\r\n        // console.log('editing row = ', row);\r\n\r\n        // let editingRow = rowsState.find(obj => obj.id === row.id)\r\n        // console.log('Before ----- editingRow = ', editingRow)\r\n        // editingRow = { ...editingRow, endDate: newDate }\r\n\r\n        // console.log('After ----- editingRow = ', editingRow)\r\n\r\n        const index = rowsState.findIndex(\r\n            (obj) => obj.schoolId === row.schoolId\r\n        )\r\n        // console.log('deadline of index = ', index);\r\n        //const item ={...rowsState[index],note: e.target.value}\r\n        let array = [...rowsState]\r\n        array[index] = {\r\n            ...array[index],\r\n            endDate: newDate,\r\n        }\r\n        setRowsState(array)\r\n        // setOneRow({ ...row, endDate: newDate })\r\n    }\r\n\r\n    const setStatusChipColor = (status) => {\r\n        switch (status) {\r\n            case statusNames.lead:\r\n                return <Chip label={status} className={classes.chipLead} />\r\n            case statusNames.customer:\r\n                return <Chip label={status} className={classes.chipCustomer} />\r\n            // case statusNames.ngungHT:\r\n            //     return <Chip label={status} className={classes.chipCustomer} />\r\n            case statusNames.potential: // tiem nang\r\n                return <Chip label={status} className={classes.chipPotential} />\r\n            default:\r\n                break\r\n            // return <Chip label={status} />\r\n        }\r\n    }\r\n\r\n    const setPurposeChipColor = (purpose) => {\r\n        switch (purpose) {\r\n            case purposeNames.purp1:\r\n                return <Chip label={purpose} className={classes.chipSalesMoi} />\r\n            // case purposeNames.purp2:\r\n            //     return <Chip label={purpose} className={classes.chipTheoDoi} />\r\n            case purposeNames.purp3:\r\n                return <Chip label={purpose} className={classes.chipChamSoc} />\r\n            case purposeNames.purp4:\r\n                return <Chip label={purpose} className={classes.chipTaiKy} />\r\n            case purposeNames.purp5:\r\n                return <Chip label={purpose} className={classes.chipKyMoi} />\r\n            default:\r\n                return <Chip label={purpose} /> // #5c21f3\r\n            // break\r\n        }\r\n    }\r\n\r\n    //     const object = rowsState.findIndex((obj) => obj.id === row?.id)\r\n    //     //const item ={...rowsState[object],note: e.target.value}\r\n    //     let array = [null]\r\n    //     array = [...rowsState]\r\n    //     array[object] = {\r\n    //         ...array[object],\r\n    //         note: e.target.value ? e.target.value : null,\r\n    //         noteBy: e.target.value ? user.username : null,\r\n    //     }\r\n    //     console.log(array)\r\n    //     setRowsState(array)\r\n    // }\r\n\r\n    return (\r\n        <>\r\n            <DialogContent className={classes.wrapper}>\r\n                <Grid container spacing={4}>\r\n                    <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                        <Box\r\n                            display=\"flex\"\r\n                            flexDirection=\"row\"\r\n                            flexWrap=\"nowrap\"\r\n                        >\r\n                            <Box flexGrow={1}>\r\n                                <FormControl className={styles.formControl}>\r\n                                    <InputLabel>\r\n                                        {fields.purpose.label}\r\n                                    </InputLabel>\r\n                                    <Select\r\n                                        value={purpose || ''}\r\n                                        onChange={(event) =>\r\n                                            setPurpose(event.target.value)\r\n                                        }\r\n                                        MenuProps={MenuProps}\r\n                                    >\r\n                                        <MenuItem\r\n                                            value=\"\"\r\n                                            className={styles.option}\r\n                                            classes={{\r\n                                                root: styles.menuItemRoot,\r\n                                                selected:\r\n                                                    styles.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {fields.purpose.options.none}\r\n                                        </MenuItem>\r\n                                        {purpsByStatus?.map((purp) => (\r\n                                            <MenuItem\r\n                                                key={purp}\r\n                                                value={purp}\r\n                                                className={styles.option}\r\n                                                classes={{\r\n                                                    root: styles.menuItemRoot,\r\n                                                    selected:\r\n                                                        styles.menuItemSelected,\r\n                                                }}\r\n                                            >\r\n                                                {purp}\r\n                                            </MenuItem>\r\n                                        ))}\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </Box>\r\n                            <Box>\r\n                                <Typography\r\n                                    variant=\"subtitle1\"\r\n                                    className={classes.title}\r\n                                >\r\n                                    {schoolYearSubTitle(schoolYear)}\r\n                                </Typography>\r\n                            </Box>\r\n                        </Box>\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                        <Typography variant=\"subtitle1\">\r\n                            List of assigned schools:\r\n                        </Typography>\r\n                        <TableContainer\r\n                            className={classes.container}\r\n                            component={Paper}\r\n                        >\r\n                            <Table\r\n                                className={classes.table}\r\n                                stickyHeader\r\n                                size=\"small\"\r\n                            >\r\n                                <TableHead>\r\n                                    <TableRow className={classes.tHead}>\r\n                                        {previewColumns.map((col) => (\r\n                                            <TableCell\r\n                                                key={col.key}\r\n                                                className={classes.tHeadCell}\r\n                                                align={col.align}\r\n                                                width={col.width}\r\n                                            >\r\n                                                {col.name}\r\n                                            </TableCell>\r\n                                        ))}\r\n                                    </TableRow>\r\n                                </TableHead>\r\n                                <TableBody className={classes.tBody}>\r\n                                    {rowsState?.map((row, index) => (\r\n                                        <TableRow key={row?.schoolId}>\r\n                                            <TableCell\r\n                                                className={classes.tBodyCell}\r\n                                            >\r\n                                                {index + 1}\r\n                                            </TableCell>\r\n                                            <TableCell\r\n                                                className={classes.tBodyCell}\r\n                                            >\r\n                                                <ListItemText\r\n                                                    primary={`${row?.educationalLevel} ${row?.name}`}\r\n                                                    secondary={row?.district}\r\n                                                    classes={{\r\n                                                        primary:\r\n                                                            classes.itemTextPrimary,\r\n                                                        secondary:\r\n                                                            classes.itemTextSecondary,\r\n                                                    }}\r\n                                                />\r\n                                            </TableCell>\r\n                                            <TableCell\r\n                                                className={classes.tBodyCell}\r\n                                            >\r\n                                                {row?.status &&\r\n                                                    setStatusChipColor(\r\n                                                        row?.status\r\n                                                    )}\r\n                                            </TableCell>\r\n                                            <TableCell\r\n                                                className={classes.tBodyCell}\r\n                                            >\r\n                                                {purpose &&\r\n                                                    setPurposeChipColor(\r\n                                                        purpose\r\n                                                    )}\r\n                                            </TableCell>\r\n                                            <TableCell\r\n                                                className={classes.tBodyCell}\r\n                                            >\r\n                                                <MuiPickersUtilsProvider\r\n                                                    utils={DateFnsUtils}\r\n                                                >\r\n                                                    <KeyboardDatePicker\r\n                                                        format=\"dd/MM/yyyy\"\r\n                                                        minDate={\r\n                                                            new Date(\r\n                                                                new Date().getTime() +\r\n                                                                    24 *\r\n                                                                        60 *\r\n                                                                        60 *\r\n                                                                        1000\r\n                                                            )\r\n                                                        }\r\n                                                        disablePast\r\n                                                        allowKeyboardControl\r\n                                                        disableToolbar\r\n                                                        variant=\"inline\"\r\n                                                        value={\r\n                                                            row?.endDate\r\n                                                                ? row?.endDate\r\n                                                                : new Date(\r\n                                                                      new Date().getFullYear(),\r\n                                                                      8,\r\n                                                                      30\r\n                                                                  )\r\n                                                        }\r\n                                                        onChange={(newDate) =>\r\n                                                            handleDeadlineChange(\r\n                                                                newDate,\r\n                                                                row\r\n                                                            )\r\n                                                        }\r\n                                                    />\r\n                                                </MuiPickersUtilsProvider>\r\n                                            </TableCell>\r\n                                            <TableCell\r\n                                                className={classes.tBodyCell}\r\n                                            >\r\n                                                <Tooltip title=\"Remove\">\r\n                                                    <IconButton\r\n                                                        onClick={(e) =>\r\n                                                            handleOnRemove(\r\n                                                                e,\r\n                                                                row\r\n                                                            )\r\n                                                        }\r\n                                                    >\r\n                                                        <MdClose />\r\n                                                    </IconButton>\r\n                                                </Tooltip>\r\n                                            </TableCell>\r\n                                        </TableRow>\r\n                                    ))}\r\n                                </TableBody>\r\n                            </Table>\r\n                        </TableContainer>\r\n                    </Grid>\r\n                </Grid>\r\n            </DialogContent>\r\n            <DialogActions className=\"\">\r\n                <Button\r\n                    type=\"submit\"\r\n                    onClick={handleSubmit}\r\n                    disabled={!purpose}\r\n                    className={classes.btnSave}\r\n                >\r\n                    {operations.save}\r\n                </Button>\r\n                <Button onClick={onClose}>{operations.cancel}</Button>\r\n            </DialogActions>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CreatePreviewDialogForm\r\n","import React from 'react'\r\nimport {\r\n    Dialog,\r\n    IconButton,\r\n    DialogTitle,\r\n    Typography,\r\n    withStyles,\r\n} from '@material-ui/core'\r\nimport { MdClose } from 'react-icons/md'\r\nimport { Consts } from '../DialogConfig'\r\nimport CreatePreviewDialogForm from './CreatePreviewDialogForm';\r\n\r\nconst stylesTitle = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n});\r\n\r\nconst DialogTitleWithIconClose = withStyles(stylesTitle)((props) => {\r\n    const { children, classes, onClose, ...other } = props\r\n    return (\r\n        <DialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n                    <MdClose />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    );\r\n});\r\n\r\nfunction CreateDialogReview(props) {\r\n    const { open, onClose, rows, setRows, refreshAPI, schoolStatus, schoolYear } = props\r\n    const { headers } = Consts\r\n    const [notify, setNotify] = React.useState({\r\n        isOpen: false,\r\n        message: '',\r\n        type: '',\r\n    })\r\n    return (<>\r\n        <Dialog open={open} onClose={onClose} maxWidth=\"md\" fullWidth component=\"form\">\r\n            <DialogTitleWithIconClose onClose={onClose}>\r\n                {headers.confirmCreateTask}\r\n            </DialogTitleWithIconClose>\r\n            <CreatePreviewDialogForm\r\n                onClose={onClose}\r\n                notify={notify}\r\n                setNotify={setNotify}\r\n                rows={rows}\r\n                setRows={setRows}\r\n                refreshAPI={refreshAPI}\r\n                schoolStatus={schoolStatus}\r\n                schoolYear={schoolYear}\r\n            />\r\n        </Dialog>\r\n        {/* // <Snackbars notify={notify} setNotify={setNotify}/> */}\r\n    </>\r\n    )\r\n}\r\n\r\nexport default CreateDialogReview","import React, { useState, useEffect } from 'react'\r\nimport {\r\n    Grid,\r\n    makeStyles,\r\n} from '@material-ui/core'\r\n// import { MdFavorite } from 'react-icons/md'\r\nimport { columns } from './CreateTasksConfig'\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport { useApp } from '../../../../hooks/AppContext'\r\nimport { useTaskForm } from './TaskFormContext'\r\nimport { STATUS_FILTER } from '../../../../constants/Filters'\r\nimport { FILTER_SCHOOL_STATUS } from '../../../../constants/ActionTypes'\r\nimport Filters from './Filters'\r\nimport Tables from './Tables'\r\nimport CreateDialogReview from './CreateDialogPreview'\r\nimport classes from './LeftSide.module.scss'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    // root: { color: 'rgba(0, 0, 0, 0.87)' },\r\n    indicator: { backgroundColor: '#2a4865' },\r\n    // textColorInherit: {\r\n    //     opacity: 1,\r\n    //     '&$disabled': { opacity: 1 },\r\n    // },\r\n    // disabled: { opacity: 1 },\r\n}))\r\n\r\nfunction LeftSide(props) {\r\n    const styles = useStyles()\r\n    const { data, refreshAPI, schoolYear } = props\r\n    // const { headers, operations } = Consts\r\n    const { schStatus } = useApp()\r\n    const [open, setOpen] = useState(false)\r\n    const [selectedRows, setSelectedRows] = useState([])\r\n    const [tabIndex, setTabIndex] = useState(0)\r\n    const [tabLabel, setTabLabel] = useState(schStatus[0])\r\n\r\n    const { params, dispatchParams, resetFormFilters } = useTaskForm()    //, setFilter\r\n    const { listFilters, page, limit, column, direction, searchKey } = params\r\n\r\n    const onClose = () => {\r\n        setOpen(false)\r\n        resetFormFilters()\r\n    }\r\n\r\n    const handleTabChange = (e, newTabIndex) => {\r\n        setSelectedRows([])\r\n        const selectedStatus = schStatus[newTabIndex]\r\n        setTabIndex(newTabIndex ? newTabIndex : 0);\r\n        setTabLabel(selectedStatus ? selectedStatus : schStatus[0])\r\n        // setFilter(STATUS_FILTER, selectedStatus ? selectedStatus : schStatus[0])\r\n        dispatchParams({\r\n            type: FILTER_SCHOOL_STATUS,\r\n            payload: {\r\n                filterType: STATUS_FILTER,\r\n                filterValue: selectedStatus ? selectedStatus : schStatus[0],\r\n            },\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshAPI(schoolYear, page, limit, column, direction, searchKey, listFilters)\r\n    }, [tabIndex])\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <div className={classes.container}>\r\n                <div className={classes.content}>\r\n                    <div className={classes.body}>\r\n                        <Tabs\r\n                            className={classes.tabs}\r\n                            value={tabIndex}\r\n                            onChange={handleTabChange}\r\n                            variant=\"scrollable\"\r\n                            scrollButtons=\"auto\"\r\n                            classes={{\r\n                                root: styles.root,\r\n                                indicator: styles.indicator,\r\n                            }}\r\n                        >\r\n                            <Tab\r\n                                label={schStatus[0]}\r\n                                classes={{\r\n                                    textColorInherit:\r\n                                        styles.textColorInherit,\r\n                                    disabled: styles.disabled,\r\n                                }}\r\n                            />\r\n                            <Tab\r\n                                label={schStatus[1]}\r\n                                classes={{\r\n                                    textColorInherit:\r\n                                        styles.textColorInherit,\r\n                                    disabled: styles.disabled,\r\n                                }}\r\n                            />\r\n                        </Tabs>\r\n\r\n                        <div className={classes.wrapper}>\r\n                            <Grid container spacing={2}>\r\n                                <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                    <Filters rows={selectedRows} setOpen={setOpen} className={classes.filter} />\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                    <Tables\r\n                                        className={classes.table}\r\n                                        columns={columns}\r\n                                        rows={data?.list}\r\n                                        totalRecord={data?.totalElements}\r\n                                        totalPage={data?.totalPage}\r\n                                        selectedRows={selectedRows}\r\n                                        setSelectedRows={setSelectedRows}\r\n                                    />\r\n                                </Grid>\r\n                            </Grid>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <CreateDialogReview\r\n                open={open}\r\n                onClose={onClose}\r\n                rows={selectedRows}\r\n                setRows={setSelectedRows}\r\n                schoolStatus={tabLabel}\r\n                refreshAPI={refreshAPI}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(LeftSide)","import React, { useState, useEffect } from 'react'\r\nimport {\r\n    Dialog,\r\n    IconButton,\r\n    Typography,\r\n} from '@material-ui/core'\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport { MdClose } from 'react-icons/md'\r\nimport { useHistory } from 'react-router'\r\nimport { useTaskForm } from './TaskFormContext'\r\nimport { getSchoolsForTasks } from '../../TasksServices'\r\n// import { Loading } from '../../../../components'\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport { Consts } from '../DialogConfig'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport LeftSide from './LeftSide';\r\nimport { calculateSchoolYear } from '../../../../utils/DateTimes';\r\nimport { useTask } from '../../hooks/TaskContext'\r\n// import classes from './CreateTasks.module.scss'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    appBar: {\r\n        position: 'relative',\r\n    },\r\n    title: {\r\n        marginLeft: theme.spacing(2),\r\n        flex: 1,\r\n    },\r\n}));\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nfunction CreateTasks(props) {\r\n    const { open, onClose, refreshTaskPage } = props\r\n    const { headers } = Consts\r\n    const history = useHistory()\r\n\r\n    const { params: formParams } = useTaskForm()\r\n    // const { listFilters, page, limit, column, direction, searchKey } = formParams\r\n\r\n    const { params: pageParams } = useTask()\r\n    // const { listFilters, page, limit, column, direction, searchKey } = pageParams\r\n\r\n    const classes = useStyles();\r\n    const [data, setData] = useState(null)\r\n\r\n    const schoolYear = calculateSchoolYear()\r\n    // console.log('schoolYear ne: ', schoolYear);\r\n\r\n    let isMounted = true\r\n    const getListSchools = (schoolYear, page = 0, limit = 10, column = 'schoolId', direction = 'asc', searchKey, listFilters) => {\r\n        getSchoolsForTasks(schoolYear, page, limit, column, direction, searchKey, listFilters)\r\n            .then((res) => {\r\n                if (isMounted) {\r\n                    setData(res)\r\n                    console.log('getSchoolsForTasks: ', res);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        getListSchools(schoolYear, formParams.page, formParams.limit, formParams.column, formParams.direction, formParams.searchKey, formParams.listFilters)\r\n        return () => {\r\n            isMounted = false\r\n            // setData(null)\r\n        }\r\n    }, [formParams])\r\n\r\n    // if (!data) {\r\n    //     return <Loading />\r\n    // }\r\n\r\n    const handleCloseCreateDialog = () => {\r\n        refreshTaskPage(pageParams.page, pageParams.limit, pageParams.column, pageParams.direction, pageParams.searchKey, pageParams.listFilters)\r\n        onClose();\r\n    }\r\n\r\n    return (\r\n        <Dialog fullScreen open={open}\r\n            onClose={handleCloseCreateDialog}\r\n            TransitionComponent={Transition}\r\n            PaperProps={{\r\n                style: {\r\n                    backgroundColor: \"#eeeeee\",\r\n                }\r\n            }}\r\n        >\r\n            <AppBar className={classes.appBar}>\r\n                <Toolbar>\r\n                    <IconButton edge=\"start\" color=\"inherit\" onClick={handleCloseCreateDialog} aria-label=\"close\">\r\n                        <MdClose />\r\n                    </IconButton>\r\n                    <Typography variant=\"h6\" className={classes.title}>\r\n                        {headers.create}\r\n                    </Typography>\r\n                </Toolbar>\r\n            </AppBar>\r\n\r\n            <div className={classes.body}>\r\n                <LeftSide data={data} setData={setData} refreshAPI={getListSchools} schoolYear={schoolYear} />\r\n                {/* <Grid item xs={12} sm={12} md={6} lg={6}>\r\n                    <RightSide status={schStatus} />\r\n                </Grid> */}\r\n            </div>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default CreateTasks\r\n","import React, { useState } from 'react'\r\nimport { FormControl, Grid, makeStyles, TextField } from '@material-ui/core'\r\nimport { DateRangePicker, LocalizationProvider } from 'mui-pickers-v4' //DateRangeDelimiter\r\n// import DateFnsUtils from \"mui-pickers-v4/adapter/date-fns\";\r\nimport DateFnsAdapter from 'mui-pickers-v4/adapter/date-fns'\r\n// import { DATE_RANGE_FILTER } from '../../../../../constants/Filters'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl1: {\r\n        width: 130,\r\n        margin: theme.spacing(1),\r\n        // paddingRight: '0.5rem',\r\n    },\r\n    formControl2: {\r\n        width: 200,\r\n    },\r\n}))\r\n\r\nfunction DateRangePickers(props) {\r\n    const classes = useStyles()\r\n    const { dateRange, handleDateRangeChange, startLabel, endLabel, isFilter } = props\r\n    const [duration, setDuration] = useState(dateRange);    //[null, null]\r\n\r\n    // const { filters } = Consts\r\n\r\n    // const {\r\n    //     dateRange,\r\n    //     // setDateRange\r\n    //     setFilter,\r\n    // } = useReport()\r\n    // console.log('Task ------- duration: ', duration);\r\n\r\n    const handleChange = (newDuration) => {\r\n        // console.log('Task ------- newDuration: ', newDuration);\r\n\r\n        setDuration(newDuration)\r\n        handleDateRangeChange(newDuration)\r\n\r\n        // setDateRange(newDate)\r\n        // setFilter(DATE_RANGE_FILTER, [null, null])\r\n        // setFilter(DATE_RANGE_FILTER, newDate)\r\n    }\r\n\r\n    return (\r\n        <LocalizationProvider dateAdapter={DateFnsAdapter}>\r\n            <DateRangePicker\r\n                // className={classes.picker}\r\n                startText={startLabel}\r\n                endText={endLabel}\r\n                // clearable\r\n                showToolbar\r\n                // minDate={new Date()}\r\n                disablePast={!isFilter}\r\n                inputFormat='dd/MM/yyyy'\r\n                value={duration}\r\n                onChange={(newRange) => handleChange(newRange)}\r\n                // allowSameDateSelection\r\n                renderInput={(startProps, endProps) => (\r\n                    <>\r\n                        {isFilter ? (\r\n                            <Grid container >\r\n                                <Grid item xs={6} sm={5} md={5} lg={5}>\r\n                                    <FormControl className={classes.formControl1}>\r\n                                        <TextField {...startProps} variant=\"standard\" fullWidth />\r\n                                    </FormControl>\r\n                                </Grid>\r\n                                <Grid item xs={6} sm={5} md={5} lg={5} >\r\n                                    <FormControl className={classes.formControl1}>\r\n                                        <TextField {...endProps} variant=\"standard\" fullWidth />\r\n                                    </FormControl>\r\n                                </Grid>\r\n                            </Grid>\r\n                        ) : (\r\n                            <Grid container spacing={2}>\r\n                                <Grid item xs={12} sm={6} md={6} lg={6}>\r\n                                    <FormControl className={classes.formControl2}>\r\n                                        <TextField {...startProps} variant=\"outlined\" value={duration[0]} />\r\n                                    </FormControl>\r\n                                </Grid>\r\n                                {/* <Box sx={{ mx: 2 }}> to </Box> */}\r\n                                <Grid item xs={12} sm={6} md={6} lg={6}>\r\n                                    <FormControl className={classes.formControl2}>\r\n                                        <TextField {...endProps} variant=\"outlined\" value={duration[1]} />\r\n                                    </FormControl>\r\n                                </Grid>\r\n                            </Grid>\r\n                        )}\r\n                    </>\r\n                )}\r\n            />\r\n        </LocalizationProvider >\r\n    )\r\n}\r\n\r\nexport default DateRangePickers\r\n","import React, { useState, useRef } from 'react'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n    Accordion,\r\n    AccordionSummary,\r\n    AccordionDetails,\r\n    Typography,\r\n    Select,\r\n    Grid,\r\n    Box,\r\n    InputLabel,\r\n    MenuItem,\r\n    FormControl,\r\n    TextField,\r\n    Avatar,\r\n    ListItemAvatar,\r\n    ListItemText,\r\n    Button,\r\n    InputAdornment,\r\n    Tooltip,\r\n} from '@material-ui/core'\r\nimport { Autocomplete } from '@material-ui/lab'\r\nimport {\r\n    MdAccountCircle,\r\n    MdAdd,\r\n    MdExpandMore,\r\n    MdFilterList,\r\n    MdPersonAdd,\r\n} from 'react-icons/md'\r\nimport { SearchFields } from '../../../../components'\r\nimport * as ReducerActions from '../../../../constants/ActionTypes'\r\nimport { useTask } from '../../hooks/TaskContext'\r\nimport Chips from './Chips/Chips'\r\nimport {\r\n    SCHOOL_YEAR_FILTER,\r\n    DISTRICT_FILTER,\r\n    TYPE_FILTER,\r\n    LEVEL_FILTER,\r\n    // SCALE_FILTER,\r\n    PIC_FILTER,\r\n    PURPOSE_FILTER,\r\n    STATUS_FILTER,\r\n    ASSIGNED_FILTER,\r\n    DATE_RANGE_FILTER,\r\n    TASK_STATUS_FILTER,\r\n} from '../../../../constants/Filters'\r\nimport { useAuth } from '../../../../hooks/AuthContext'\r\nimport { useApp } from '../../../../hooks/AppContext'\r\nimport * as Milk from '../../../../utils/Milk'\r\nimport { milkNames } from '../../../../constants/Generals'\r\nimport NotifyAssign from '../../dialogs/NotifyAssign/NotifyAssign'\r\nimport Assign from '../../dialogs/Assign/Assign'\r\nimport CreateTasks from '../../dialogs/CreateTasks/CreateTasks'\r\nimport { Consts } from '../../TasksConfig'\r\nimport { roleNames } from '../../../../constants/Generals'\r\nimport { Snackbars } from '../../../../components'\r\nimport { getPurpsByStatus } from '../../../../utils/Sortings'\r\nimport TaskFormProvider from '../../dialogs/CreateTasks/TaskFormContext'\r\nimport styles from './Filters.module.scss'\r\nimport DateRangePickers from '../DateRangePickers/DateRangePickers'\r\nimport moment from 'moment'\r\n\r\n//===============Set max-height for dropdown list===============\r\nconst ITEM_HEIGHT = 38\r\nconst ITEM_PADDING_TOP = 5\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT * 4 + ITEM_PADDING_TOP,\r\n        },\r\n    },\r\n}\r\n//==============================================================\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 160,\r\n        // maxWidth: 180\r\n    },\r\n    flexBox: {\r\n        padding: 0,\r\n        // backgroundColor: '#2a4865',\r\n        // borderRadius: '8px'\r\n    },\r\n    flexItem: {\r\n        padding: 0, //'0 0.2rem'\r\n    },\r\n    option: {\r\n        fontSize: '0.875rem',\r\n    },\r\n    btn: {\r\n        padding: '0.5rem',\r\n        margin: '0 0.3rem',\r\n        borderRadius: '8px',\r\n        // minWidth: 3, // minHeight: 0, // lineHeight: 0,\r\n    },\r\n    root: {},\r\n    menuItemRoot: {\r\n        '&$menuItemSelected': { backgroundColor: 'rgba(0, 0, 0, 0.08)' },\r\n        '&$menuItemSelected:focus': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.12)',\r\n        },\r\n        '&$menuItemSelected:hover': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.04);',\r\n        },\r\n    },\r\n    menuItemSelected: {},\r\n    autoComplete: {\r\n        width: 250,\r\n        marginLeft: '0.5rem',\r\n    },\r\n    itemPIC: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        padding: 0,\r\n        margin: 0,\r\n    },\r\n    itemTextPrimary: {\r\n        fontSize: '0.875rem',\r\n    },\r\n    paddingTop: {\r\n        paddingTop: '0.3rem',\r\n    },\r\n}))\r\n\r\nconst MuiAccordion = withStyles({\r\n    root: {\r\n        backgroundColor: 'rgb(238, 238, 238)',\r\n        // backgroundColor: 'rgb(255, 255, 255)',\r\n        borderRadius: '8px',\r\n        marginBottom: '0.5rem',\r\n        boxShadow: 'none',\r\n        '&:not(:last-child)': {\r\n            borderBottom: 0,\r\n            borderRadius: '8px',\r\n        },\r\n        '&:before': {\r\n            display: 'none',\r\n        },\r\n        '&$expanded': {\r\n            margin: 'auto',\r\n            borderRadius: '8px',\r\n        },\r\n    },\r\n    expanded: {},\r\n})(Accordion)\r\n\r\nconst MuiAccordionSummary = withStyles({\r\n    root: {\r\n        height: 41.5,\r\n        minHeight: 35,\r\n        maxWidth: 120,\r\n        backgroundColor: 'rgb(255, 255, 255)',\r\n        fontWeight: 'bold',\r\n        // borderBottom: '1px solid rgba(0, 0, 0, .125)',\r\n        // boxShadow: '1px 1px 2px gray',\r\n        boxShadow: '0 4px 6px -6px #000', // 0px 1px 1px gray\r\n        borderRadius: '8px',\r\n        paddingButtom: 0,\r\n        '&$expanded': {\r\n            minHeight: 35,\r\n            borderRadius: '8px',\r\n        },\r\n    },\r\n    content: {\r\n        '&$expanded': {\r\n            margin: '12px 0',\r\n        },\r\n    },\r\n    expanded: {},\r\n})(AccordionSummary)\r\n\r\nconst MuiAccordionDetails = withStyles((theme) => ({\r\n    root: {\r\n        backgroundColor: 'rgb(255, 255, 255)',\r\n        margin: '0.5rem 0',\r\n        padding: '0 0 1rem 1.5rem', // top (right-left) bottom\r\n        borderRadius: '8px',\r\n    },\r\n}))(AccordionDetails)\r\n\r\nfunction Filters(props) {\r\n    //   const style = useStyles();\r\n    const classes = useStyles()\r\n    const { operations, filters } = Consts\r\n    const { selectedRows, setSelectedRows, refreshAPI } = props\r\n    // const [listFilters, dispatchFilters] = useReducer(FilterReducer, [])\r\n    const [notify, setNotify] = React.useState({\r\n        isOpen: false,\r\n        message: '',\r\n        type: '',\r\n    })\r\n    const { user } = useAuth()\r\n    const {\r\n        schYears,\r\n        dists,\r\n        schTypes,\r\n        schEduLvls,\r\n        // schScales,\r\n        salesPurps,\r\n        schStatus,\r\n    } = useApp()\r\n\r\n    //Use states which have been declared in the TaskContext\r\n    const {\r\n        params,\r\n        dispatchParams,\r\n        PICs,\r\n        schoolYear,\r\n        district,\r\n        schoolType,\r\n        schoolLevel,\r\n        // schoolScale,\r\n        PIC,\r\n        purpose,\r\n        schoolStatus,\r\n        isAssigned,\r\n        assignedStatuses,\r\n        taskStatus,\r\n        taskStatuses,\r\n        setFilter,\r\n        getListPICs,\r\n    } = useTask()\r\n\r\n    const bakSchYears = schYears ? schYears : Milk.getMilk(milkNames.schYears)\r\n    const bakDists = dists ? dists : Milk.getMilk(milkNames.dists)\r\n    const bakSchTypes = schTypes ? schTypes : Milk.getMilk(milkNames.types)\r\n    const bakSchEduLvls = schEduLvls\r\n        ? schEduLvls\r\n        : Milk.getMilk(milkNames.eduLvls)\r\n    // const bakSchScales = schScales ? schScales : Milk.getMilk(milkNames.scales)\r\n    const bakSalesPurps = salesPurps\r\n        ? salesPurps\r\n        : Milk.getMilk(milkNames.salesPurps)\r\n    const purpsByStatus = getPurpsByStatus(schoolStatus, bakSalesPurps)\r\n\r\n    const typingTimeoutRef = useRef({})\r\n\r\n    // const { listFilters } = params  //, searchKey, sorting, paging\r\n\r\n    const [openNotifyDialog, setOpenNotifyDialog] = useState(false)\r\n    const [openAssignDialog, setOpenAssignDialog] = useState(false)\r\n    const [openCreateDialog, setOpenCreateDialog] = useState(false)\r\n\r\n    //================Handle useState() of filters================\r\n    const handleSchoolYearChange = (event) => {\r\n        const selectedSchoolYear = event.target.value\r\n        setFilter(SCHOOL_YEAR_FILTER, selectedSchoolYear)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_SCHOOL_YEAR,\r\n            payload: {\r\n                filterType: SCHOOL_YEAR_FILTER,\r\n                filterValue: selectedSchoolYear ? selectedSchoolYear : '',\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleDistrictChange = (event) => {\r\n        const selectedDistrict = event.target.value\r\n        setFilter(DISTRICT_FILTER, selectedDistrict)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_DISTRICT,\r\n            payload: {\r\n                filterType: DISTRICT_FILTER,\r\n                filterValue: selectedDistrict ? selectedDistrict : '',\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleSchoolTypeChange = (event) => {\r\n        const selectedSchoolType = event.target.value\r\n        setFilter(TYPE_FILTER, selectedSchoolType)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_SCHOOL_TYPE,\r\n            payload: {\r\n                filterType: TYPE_FILTER,\r\n                filterValue: selectedSchoolType ? selectedSchoolType : '',\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleSchoolLevelChange = (event) => {\r\n        const selectedSchoolLevel = event.target.value\r\n        setFilter(LEVEL_FILTER, selectedSchoolLevel)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_SCHOOL_LEVEL,\r\n            payload: {\r\n                filterType: LEVEL_FILTER,\r\n                filterValue: selectedSchoolLevel ? selectedSchoolLevel : '',\r\n            },\r\n        })\r\n    }\r\n\r\n    // const handleSchoolScaleChange = (event) => {\r\n    //     const selectedSchoolScale = event.target.value\r\n    //     setFilter(SCALE_FILTER, selectedSchoolScale)\r\n    //     dispatchParams({\r\n    //         type: ReducerActions.FILTER_SCHOOL_SCALE,\r\n    //         payload: {\r\n    //             filterType: SCALE_FILTER,\r\n    //             filterValue: selectedSchoolScale ? selectedSchoolScale : '',\r\n    //         },\r\n    //     })\r\n    // }\r\n\r\n    const onSearchPICChange = (event) => {\r\n        if (typingTimeoutRef.current) {\r\n            clearTimeout(typingTimeoutRef.current)\r\n        }\r\n\r\n        typingTimeoutRef.current = setTimeout(() => {\r\n            const searchPIC = event.target.value\r\n            if (searchPIC) {\r\n                getListPICs(searchPIC)\r\n            } else {\r\n                getListPICs()\r\n            }\r\n        }, 300)\r\n    }\r\n\r\n    const handlePICChange = (event, newPIC) => {\r\n        setFilter(PIC_FILTER, newPIC)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_PIC,\r\n            payload: {\r\n                filterType: PIC_FILTER,\r\n                filterValue: newPIC ? newPIC : null,\r\n            },\r\n        })\r\n    }\r\n\r\n    const handlePurposeChange = (event) => {\r\n        const selectedPurpose = event.target.value\r\n        setFilter(PURPOSE_FILTER, selectedPurpose)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_PURPOSE,\r\n            payload: {\r\n                filterType: PURPOSE_FILTER,\r\n                filterValue: selectedPurpose ? selectedPurpose : '',\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleStatusChange = (event) => {\r\n        const selectedStatus = event.target.value\r\n        setFilter(STATUS_FILTER, selectedStatus)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_SCHOOL_STATUS,\r\n            payload: {\r\n                filterType: STATUS_FILTER,\r\n                filterValue: selectedStatus ? selectedStatus : '',\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleIsAssignedChange = (event) => {\r\n        const selectedIsAssigned = event.target.value\r\n        setFilter(ASSIGNED_FILTER, selectedIsAssigned)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_ASSIGNED,\r\n            payload: {\r\n                filterType: ASSIGNED_FILTER,\r\n                filterValue: selectedIsAssigned,\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleTaskStatusChange = (event) => {\r\n        const selectedTaskStatus = event.target.value\r\n        setFilter(TASK_STATUS_FILTER, selectedTaskStatus)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_TASK_STATUS,\r\n            payload: {\r\n                filterType: TASK_STATUS_FILTER,\r\n                filterValue: selectedTaskStatus ? selectedTaskStatus : '',\r\n            },\r\n        })\r\n    }\r\n\r\n    // const handleDateRangeChange = (selectedDate) => {\r\n    //     const fromDate = selectedDate[0]\r\n    //         ? moment(selectedDate[0]).format('YYYY-MM-DD')\r\n    //         : null\r\n    //     const toDate = selectedDate[1]\r\n    //         ? moment(selectedDate[1]).format('YYYY-MM-DD')\r\n    //         : null\r\n\r\n    //     setFilter(DATE_RANGE_FILTER, [fromDate, toDate])\r\n    //     dispatchParams({\r\n    //         type: ReducerActions.FILTER_DATE_RANGE,\r\n    //         payload: {\r\n    //             filterType: DATE_RANGE_FILTER,\r\n    //             filterValue: [fromDate, toDate]\r\n    //                 ? [fromDate, toDate]\r\n    //                 : [null, null],\r\n    //         },\r\n    //     })\r\n    // }\r\n\r\n    //===================================For Chips===================================\r\n    const handleChipsRemoved = (removedFilters) => {\r\n        removedFilters.forEach((removedFilter) => {\r\n            switch (removedFilter) {\r\n                case SCHOOL_YEAR_FILTER:\r\n                    setFilter(SCHOOL_YEAR_FILTER, '')\r\n                    break\r\n                case DISTRICT_FILTER:\r\n                    setFilter(DISTRICT_FILTER, '')\r\n                    break\r\n                case TYPE_FILTER:\r\n                    setFilter(TYPE_FILTER, '')\r\n                    break\r\n                case LEVEL_FILTER:\r\n                    setFilter(LEVEL_FILTER, '')\r\n                    break\r\n                // case SCALE_FILTER:\r\n                //     setFilter(SCALE_FILTER, '')\r\n                //     break\r\n                case PIC_FILTER:\r\n                    setFilter(PIC_FILTER, null)\r\n                    break\r\n                case PURPOSE_FILTER:\r\n                    setFilter(PURPOSE_FILTER, '')\r\n                    break\r\n                case STATUS_FILTER:\r\n                    setFilter(STATUS_FILTER, '')\r\n                    break\r\n                case ASSIGNED_FILTER:\r\n                    setFilter(ASSIGNED_FILTER, null)\r\n                    break\r\n                case TASK_STATUS_FILTER:\r\n                    setFilter(TASK_STATUS_FILTER, '')\r\n                    break\r\n                // case DATE_RANGE_FILTER:\r\n                //     setFilter(DATE_RANGE_FILTER, [null, null])\r\n                //     break\r\n                default:\r\n                    break\r\n            }\r\n        })\r\n    }\r\n\r\n    const generateChipsArray = (listFilters) => {\r\n        const listChips = []\r\n        // let newListFilters = { ...listFilters }\r\n\r\n        for (const chip in listFilters) {     // newListFilters\r\n            // if (chip === DATE_RANGE_FILTER) {\r\n            //     const fromDate = moment(\r\n            //         newListFilters[chip].filterValue[0]\r\n            //     ).format('MMM D, YYYY')\r\n            //     const toDate = moment(\r\n            //         newListFilters[chip].filterValue[1]\r\n            //     ).format('MMM D, YYYY')\r\n            //     if (fromDate !== 'Invalid date' && toDate !== 'Invalid date') {\r\n            //         newListFilters = {\r\n            //             ...newListFilters,\r\n            //             dateRange: {\r\n            //                 filterType: DATE_RANGE_FILTER,\r\n            //                 filterValue: `${fromDate} ➜ ${toDate}`,\r\n            //             },\r\n            //         }\r\n            //     }\r\n            // }\r\n            listChips.push(listFilters[chip])  // newListFilters[chip]\r\n        }\r\n        return listChips\r\n    }\r\n\r\n    //===============================================================================\r\n\r\n    //=================Handle action enter / submit of SearchFields==================\r\n    const handleSearch = (keyword) => {\r\n        dispatchParams({\r\n            type: ReducerActions.ENTER_SEARCH_KEYWORD,\r\n            payload: keyword,\r\n        })\r\n    }\r\n\r\n    const handleOpenCreateDialog = () => {\r\n        // console.log('create dialog')\r\n        setOpenCreateDialog(true)\r\n    }\r\n\r\n    const handleOpenAssignDialog = () => {\r\n        if (selectedRows.length > 0) {\r\n            // console.log('assign dialog')\r\n            setOpenAssignDialog(true)\r\n        } else {\r\n            setOpenAssignDialog(false)\r\n\r\n            // console.log('noti dialog: ')\r\n            setOpenNotifyDialog(true)\r\n        }\r\n    }\r\n\r\n    const renderCreateTaskDialog = () => {\r\n        if (openCreateDialog) {\r\n            return (\r\n                <TaskFormProvider>\r\n                    <CreateTasks\r\n                        open={openCreateDialog}\r\n                        onClose={() => setOpenCreateDialog(false)}\r\n                        refreshTaskPage={refreshAPI}\r\n                    />\r\n                </TaskFormProvider>\r\n            )\r\n        } else return null\r\n    }\r\n\r\n    const renderAssignDialog = () => {\r\n        // console.log('selectedRows = ', selectedRows);\r\n        if (selectedRows.length > 0) {\r\n            // Checked task\r\n            return (\r\n                <Assign\r\n                    open={openAssignDialog}\r\n                    onClose={() => setOpenAssignDialog(false)}\r\n                    rows={selectedRows}\r\n                    setRows={setSelectedRows}\r\n                    refreshAPI={refreshAPI}\r\n                    setNotify={setNotify}\r\n                />\r\n            )\r\n        } else {\r\n            // Have not checked task\r\n            return (\r\n                <NotifyAssign\r\n                    open={openNotifyDialog}\r\n                    onClose={() => setOpenNotifyDialog(false)}\r\n                />\r\n            )\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <MuiAccordion>\r\n                <Box\r\n                    display=\"flex\"\r\n                    flexWrap=\"nowrap\"\r\n                    className={classes.flexBox}\r\n                >\r\n                    <Box className={classes.flexItem}>\r\n                        <MuiAccordionSummary expandIcon={<MdExpandMore />}>\r\n                            <MdFilterList className={styles.iconFilter} />{' '}\r\n                            &nbsp;\r\n                            <Typography>{operations.filter}</Typography>{' '}\r\n                            {/* { renderCount }  */}\r\n                        </MuiAccordionSummary>\r\n                    </Box>\r\n                    <Box flexGrow={1} className={classes.flexItem}>\r\n                        <Chips\r\n                            // chips={(params.listFilters !== undefined && params.listFilters !== null) ? params.listFilters : {}}\r\n                            chips={generateChipsArray(params.listFilters)}\r\n                            dispatch={dispatchParams}\r\n                            handleChipsRemoved={handleChipsRemoved}\r\n                        />\r\n                    </Box>\r\n                    <Box className={classes.flexItem}>\r\n                        <SearchFields\r\n                            placeholder={operations.search.placeholder}\r\n                            onChange={handleSearch}\r\n                        />\r\n                    </Box>\r\n                    {user.roles[0] !== roleNames.salesman && (\r\n                        <>\r\n                            <Box className={classes.flexItem}>\r\n                                <Tooltip title={operations.create}>\r\n                                    <Button\r\n                                        className={classes.btn}\r\n                                        variant=\"contained\"\r\n                                        color=\"secondary\"\r\n                                        onClick={handleOpenCreateDialog}\r\n                                    >\r\n                                        <MdAdd fontSize=\"large\" />\r\n                                    </Button>\r\n                                </Tooltip>\r\n                                {renderCreateTaskDialog()}\r\n                            </Box>\r\n                            <Box className={classes.flexItem}>\r\n                                <Tooltip title={operations.assign}>\r\n                                    <Button\r\n                                        className={classes.btn}\r\n                                        variant=\"contained\"\r\n                                        color=\"secondary\"\r\n                                        onClick={handleOpenAssignDialog}\r\n                                    >\r\n                                        <MdPersonAdd fontSize=\"large\" />\r\n                                    </Button>\r\n                                </Tooltip>\r\n                                {renderAssignDialog()}\r\n                            </Box>\r\n                        </>\r\n                    )}\r\n                </Box>\r\n                <MuiAccordionDetails>\r\n                    <Grid container>\r\n                        <Grid item xs={12} sm={6} md={4} lg={3}\r\n                        // md={user.roles[0] === roleNames.salesman ? 4: 3}\r\n                        // lg={user.roles[0] === roleNames.salesman ? 4: 3}\r\n                        >\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>{filters.status.title}</InputLabel>\r\n                                <Select\r\n                                    value={schoolStatus || ''}\r\n                                    onChange={handleStatusChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    <MenuItem\r\n                                        value=\"\"\r\n                                        className={classes.option}\r\n                                        classes={{\r\n                                            root: classes.menuItemRoot,\r\n                                            selected: classes.menuItemSelected,\r\n                                        }}\r\n                                    >\r\n                                        {filters.status.options.all}\r\n                                    </MenuItem>\r\n                                    {schStatus?.map((status) => (\r\n                                        <MenuItem\r\n                                            key={status}\r\n                                            value={status}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {status}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={6} md={4} lg={3}\r\n                        // md={user.roles[0] === roleNames.salesman ? 4: 3}\r\n                        // lg={user.roles[0] === roleNames.salesman ? 4: 3}\r\n                        >\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>{filters.purpose.title}</InputLabel>\r\n                                <Select\r\n                                    value={purpose || ''}\r\n                                    onChange={handlePurposeChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    <MenuItem\r\n                                        value=\"\"\r\n                                        className={classes.option}\r\n                                        classes={{\r\n                                            root: classes.menuItemRoot,\r\n                                            selected: classes.menuItemSelected,\r\n                                        }}\r\n                                    >\r\n                                        {filters.purpose.options.all}\r\n                                    </MenuItem>\r\n                                    {purpsByStatus?.map((purp) => (\r\n                                        <MenuItem\r\n                                            key={purp}\r\n                                            value={purp}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {purp}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={6} md={4} lg={3}\r\n                        // md={user.roles[0] === roleNames.salesman ? 4: 3}\r\n                        // lg={user.roles[0] === roleNames.salesman ? 4: 3}\r\n                        >\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>\r\n                                    {filters.district.title}\r\n                                </InputLabel>\r\n                                <Select\r\n                                    value={district || ''}\r\n                                    onChange={handleDistrictChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    <MenuItem\r\n                                        value=\"\"\r\n                                        className={classes.option}\r\n                                        classes={{\r\n                                            root: classes.menuItemRoot,\r\n                                            selected: classes.menuItemSelected,\r\n                                        }}\r\n                                    >\r\n                                        {filters.district.options.all}\r\n                                    </MenuItem>\r\n                                    {bakDists?.map((dist) => (\r\n                                        <MenuItem\r\n                                            key={dist}\r\n                                            value={dist}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {dist}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={6} md={4} lg={3}\r\n                        // md={user.roles[0] === roleNames.salesman ? 4: 3}\r\n                        // lg={user.roles[0] === roleNames.salesman ? 4: 3}\r\n                        >\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>\r\n                                    {filters.schoolYear.title}\r\n                                </InputLabel>\r\n                                <Select\r\n                                    value={schoolYear || ''}\r\n                                    onChange={handleSchoolYearChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    <MenuItem\r\n                                        value=\"\"\r\n                                        className={classes.option}\r\n                                        classes={{\r\n                                            root: classes.menuItemRoot,\r\n                                            selected: classes.menuItemSelected,\r\n                                        }}\r\n                                    >\r\n                                        {filters.schoolYear.options.all}\r\n                                    </MenuItem>\r\n                                    {bakSchYears?.map((year) => (\r\n                                        <MenuItem\r\n                                            key={year}\r\n                                            value={year}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {year}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={6} md={4} lg={3}\r\n                        // md={user.roles[0] === roleNames.salesman ? 4: 3}\r\n                        // lg={user.roles[0] === roleNames.salesman ? 4: 3}\r\n                        >\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>\r\n                                    {filters.schoolType.title}\r\n                                </InputLabel>\r\n                                <Select\r\n                                    value={schoolType || ''}\r\n                                    onChange={handleSchoolTypeChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    <MenuItem\r\n                                        value=\"\"\r\n                                        className={classes.option}\r\n                                        classes={{\r\n                                            root: classes.menuItemRoot,\r\n                                            selected: classes.menuItemSelected,\r\n                                        }}\r\n                                    >\r\n                                        {filters.schoolType.options.all}\r\n                                    </MenuItem>\r\n                                    {bakSchTypes?.map((type) => (\r\n                                        <MenuItem\r\n                                            key={type}\r\n                                            value={type}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {type}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={6} md={4} lg={3}\r\n                        // md={user.roles[0] === roleNames.salesman ? 4: 3}\r\n                        // lg={user.roles[0] === roleNames.salesman ? 4: 3}\r\n                        >\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>\r\n                                    {filters.schoolLevel.title}\r\n                                </InputLabel>\r\n                                <Select\r\n                                    value={schoolLevel || ''}\r\n                                    onChange={handleSchoolLevelChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    <MenuItem\r\n                                        value=\"\"\r\n                                        className={classes.option}\r\n                                        classes={{\r\n                                            root: classes.menuItemRoot,\r\n                                            selected: classes.menuItemSelected,\r\n                                        }}\r\n                                    >\r\n                                        {filters.schoolLevel.options.all}\r\n                                    </MenuItem>\r\n                                    {bakSchEduLvls?.map((level) => (\r\n                                        <MenuItem\r\n                                            key={level}\r\n                                            value={level}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {level}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* <Grid item xs={12} sm={6} md={4} lg={3}\r\n                            // md={user.roles[0] === roleNames.salesman ? 4: 3}\r\n                            // lg={user.roles[0] === roleNames.salesman ? 4: 3}\r\n                            className={classes.paddingTop}\r\n                        >\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>\r\n                                    {filters.schoolScale.title}\r\n                                </InputLabel>\r\n                                <Select\r\n                                    value={schoolScale || ''}\r\n                                    onChange={handleSchoolScaleChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    <MenuItem\r\n                                        value=\"\"\r\n                                        className={classes.option}\r\n                                        classes={{\r\n                                            root: classes.menuItemRoot,\r\n                                            selected: classes.menuItemSelected,\r\n                                        }}\r\n                                    >\r\n                                        {filters.schoolScale.options.all}\r\n                                    </MenuItem>\r\n                                    {bakSchScales?.map((scale) => (\r\n                                        <MenuItem\r\n                                            key={scale}\r\n                                            value={scale}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {scale}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid> */}\r\n\r\n                        <Grid item xs={12} sm={6} md={4} lg={3}>\r\n                            <FormControl\r\n                                className={classes.formControl}\r\n                            >\r\n                                <InputLabel>\r\n                                    {filters.taskStatus.title}\r\n                                </InputLabel>\r\n                                <Select\r\n                                    value={taskStatus || ''}\r\n                                    onChange={handleTaskStatusChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    {taskStatuses?.map(\r\n                                        (status) => (\r\n                                            <MenuItem\r\n                                                key={status}\r\n                                                value={status}\r\n                                                className={\r\n                                                    classes.option\r\n                                                }\r\n                                                classes={{\r\n                                                    root:\r\n                                                        classes.menuItemRoot,\r\n                                                    selected:\r\n                                                        classes.menuItemSelected,\r\n                                                }}\r\n                                            >\r\n                                                {status}\r\n                                            </MenuItem>\r\n                                        )\r\n                                    )}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {user.roles[0] !== roleNames.salesman && (\r\n                            <>\r\n                                <Grid item xs={12} sm={6} md={4} lg={3}\r\n                                    className={classes.paddingTop}\r\n                                >\r\n                                    <FormControl\r\n                                        className={classes.formControl}\r\n                                    >\r\n                                        <InputLabel>\r\n                                            {filters.isAssigned.title}\r\n                                        </InputLabel>\r\n                                        <Select\r\n                                            value={\r\n                                                isAssigned === null\r\n                                                    ? '' : isAssigned\r\n                                            }\r\n                                            onChange={handleIsAssignedChange}\r\n                                            MenuProps={MenuProps}\r\n                                        >\r\n                                            {assignedStatuses?.map(\r\n                                                (isAssigned) => (\r\n                                                    <MenuItem\r\n                                                        key={isAssigned}\r\n                                                        value={isAssigned}\r\n                                                        className={\r\n                                                            classes.option\r\n                                                        }\r\n                                                        classes={{\r\n                                                            root:\r\n                                                                classes.menuItemRoot,\r\n                                                            selected:\r\n                                                                classes.menuItemSelected,\r\n                                                        }}\r\n                                                    >\r\n                                                        {isAssigned === null\r\n                                                            ? `${filters.isAssigned.options.all}`\r\n                                                            : isAssigned\r\n                                                                ? `${filters.isAssigned.options.assigned}`\r\n                                                                : `${filters.isAssigned.options.notAssigned}`}\r\n                                                    </MenuItem>\r\n                                                )\r\n                                            )}\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={6} md={4} lg={4}>\r\n                                    <Autocomplete\r\n                                        autoComplete\r\n                                        autoSelect\r\n                                        autoHighlight\r\n                                        clearOnEscape\r\n                                        options={PICs ? PICs : []}\r\n                                        getOptionLabel={(pic) =>\r\n                                            pic.fullName ? pic.fullName : ''\r\n                                        }\r\n                                        value={PIC}\r\n                                        renderInput={(params) => {\r\n                                            return (\r\n                                                <TextField\r\n                                                    {...params}\r\n                                                    label={filters.pic.title}\r\n                                                    margin=\"normal\"\r\n                                                    placeholder={\r\n                                                        filters.pic.placeholder\r\n                                                    }\r\n                                                    ref={params.InputProps.ref}\r\n                                                    onChange={onSearchPICChange}\r\n                                                    InputProps={{\r\n                                                        ...params.InputProps,\r\n                                                        startAdornment: (\r\n                                                            <>\r\n                                                                <InputAdornment position=\"start\">\r\n                                                                    <MdAccountCircle />\r\n                                                                </InputAdornment>\r\n                                                                {\r\n                                                                    params\r\n                                                                        .InputProps\r\n                                                                        .startAdornment\r\n                                                                }\r\n                                                            </>\r\n                                                        ),\r\n                                                    }}\r\n                                                />\r\n                                            )\r\n                                        }}\r\n                                        renderOption={(option) => {\r\n                                            return (\r\n                                                <div\r\n                                                    className={classes.itemPIC}\r\n                                                    key={option.username}\r\n                                                >\r\n                                                    <ListItemAvatar>\r\n                                                        <Avatar\r\n                                                            src={option.avatar}\r\n                                                        />\r\n                                                    </ListItemAvatar>\r\n                                                    <ListItemText\r\n                                                        primary={\r\n                                                            option.fullName\r\n                                                                ? option.fullName\r\n                                                                : ''\r\n                                                        }\r\n                                                        classes={{\r\n                                                            primary:\r\n                                                                classes.itemTextPrimary,\r\n                                                        }}\r\n                                                    />\r\n                                                </div>\r\n                                            )\r\n                                        }}\r\n                                        className={classes.autoComplete}\r\n                                        onChange={(event, newPIC) =>\r\n                                            handlePICChange(event, newPIC)\r\n                                        }\r\n                                    />\r\n                                </Grid>\r\n                            </>\r\n                        )}\r\n                        {/* <Grid item xs={12} sm={6} md={5} lg={4}>\r\n                            <DateRangePickers\r\n                                dateRange={[null, null]}\r\n                                handleDateRangeChange={handleDateRangeChange}\r\n                                startLabel=\"Assign Date\"\r\n                                endLabel=\"Deadline\"\r\n                                isFilter={true}\r\n                            />\r\n                        </Grid> */}\r\n                    </Grid>\r\n                </MuiAccordionDetails>\r\n            </MuiAccordion>\r\n            <Snackbars notify={notify} setNotify={setNotify} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Filters)\r\n\r\n// Filters.propTypes = {\r\n//     refreshAPI: PropTypes.func\r\n// }\r\n\r\n// Filters.defaultProps = {\r\n//     refreshAPI: null\r\n// }\r\n","import React from 'react'\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogActions,\r\n    withStyles,\r\n    Typography,\r\n    IconButton,\r\n} from '@material-ui/core'\r\nimport { MdClose } from 'react-icons/md';\r\nimport { Consts, confirmMessage } from '../DialogConfig'\r\nimport { removeTask } from '../../TasksServices'\r\nimport { useTask } from '../../hooks/TaskContext';\r\nimport classes from './ConfirmRemove.module.scss'\r\n\r\nconst stylesTitle = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n});\r\n\r\nconst DialogTitleWithIconClose = withStyles(stylesTitle)((props) => {\r\n    const { children, classes, onClose, ...other } = props;\r\n    return (\r\n        <DialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n                    <MdClose />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    );\r\n});\r\n\r\nfunction ConfirmRemove(props) {\r\n    const { open, onClose, data, refreshAPI, setNotify } = props\r\n    const { headers, operations } = Consts\r\n    const { params } = useTask()\r\n    const { listFilters, page, limit, column, direction, searchKey } = params\r\n\r\n    const handleRemove = (id) => {\r\n        // Gọi API xóa\r\n        // console.log('Remove task ', id);\r\n\r\n        removeTask(id).then((res) => {\r\n            // console.log('res: ', res);\r\n            refreshAPI(page, limit, column, direction, searchKey, listFilters);\r\n            // console.log('xoa thanh cong task ', id);\r\n            setNotify({\r\n                isOpen: true,\r\n                message: 'Removed successfully',\r\n                type: 'success'\r\n            })\r\n            onClose();\r\n        }).catch(error => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                setNotify({\r\n                    isOpen: false,\r\n                    message: 'Removed failed',\r\n                    type: 'error',\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Dialog open={open} onClose={onClose}>\r\n            <DialogTitleWithIconClose onClose={onClose}>{headers.confirm}</DialogTitleWithIconClose>\r\n            {/* <Divider /> */}\r\n            <DialogContent>\r\n                <DialogContentText className={classes.dialogText}>\r\n                    {confirmMessage(data?.level, data?.schoolName, data?.schoolYear)}\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            {/* <Divider /> */}\r\n            <DialogActions>\r\n                <Button className={classes.btnRemove} onClick={() => handleRemove(data?.id)} autoFocus>\r\n                    {operations.remove}\r\n                </Button>\r\n                <Button onClick={onClose}>\r\n                    {operations.cancel}\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default React.memo(ConfirmRemove)","import React from 'react'\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogActions,\r\n    Typography,\r\n    IconButton,\r\n    withStyles,\r\n} from '@material-ui/core'\r\nimport { MdClose } from 'react-icons/md';\r\nimport { Consts, cannotMessage } from '../DialogConfig'\r\nimport classes from './CannotRemove.module.scss'\r\n\r\nconst stylesTitle = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n});\r\n\r\nconst DialogTitleWithIconClose = withStyles(stylesTitle)((props) => {\r\n    const { children, classes, onClose, ...other } = props;\r\n    return (\r\n        <DialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n                    <MdClose />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    );\r\n});\r\n\r\nfunction CannotRemove(props) {\r\n    const { open, onClose, data } = props\r\n    const { headers, operations } = Consts\r\n\r\n    return (\r\n        <Dialog open={open} onClose={onClose}>\r\n            <DialogTitleWithIconClose onClose={onClose}>{headers.cannot}</DialogTitleWithIconClose>\r\n            {/* <Divider /> */}\r\n            <DialogContent>\r\n                <DialogContentText className={classes.dialogText}>\r\n                    {cannotMessage(data?.level, data?.schoolName, data?.schoolYear, data?.fullName)}\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            {/* <Divider /> */}\r\n            <DialogActions>\r\n                <Button disableElevation autoFocus onClick={onClose}>\r\n                    {operations.ok}\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default React.memo(CannotRemove)","import React from 'react'\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogActions,\r\n    withStyles,\r\n    Typography,\r\n    IconButton,\r\n} from '@material-ui/core'\r\nimport { MdClose } from 'react-icons/md';\r\nimport { Consts, confirmUnassignMsg } from '../DialogConfig'\r\nimport { unassign } from '../../TasksServices'\r\nimport { useTask } from '../../hooks/TaskContext'\r\nimport classes from './ConfirmUnassign.module.scss'\r\n\r\nconst stylesTitle = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n});\r\n\r\nconst DialogTitleWithIconClose = withStyles(stylesTitle)((props) => {\r\n    const { children, classes, onClose, ...other } = props;\r\n    return (\r\n        <DialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n                    <MdClose />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    );\r\n});\r\n\r\nfunction ConfirmUnassign(props) {\r\n    const { open, onClose, data, refreshAPI, setNotify } = props\r\n    const { headers, operations } = Consts\r\n    const { params } = useTask()\r\n    const { listFilters, page, limit, column, direction, searchKey } = params\r\n\r\n    const handleOK = () => {\r\n        unassign(data?.id).then(res => {\r\n            refreshAPI(page, limit, column, direction, searchKey, listFilters);\r\n            setNotify({\r\n                isOpen: true,\r\n                message: 'Unassigned successfully',\r\n                type: 'success'\r\n            })\r\n            onClose();\r\n        }).catch(error => {\r\n            setNotify({\r\n                isOpen: false,\r\n                message: 'Unassigned failed',\r\n                type: 'error',\r\n            })\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Dialog open={open} onClose={onClose}>\r\n            <DialogTitleWithIconClose onClose={onClose}>{headers.confirmUnassign}</DialogTitleWithIconClose>\r\n            {/* <Divider /> */}\r\n            <DialogContent>\r\n                <DialogContentText className={classes.dialogText}>\r\n                    {confirmUnassignMsg(data?.fullName, data?.level, data?.schoolName)}\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            {/* <Divider /> */}\r\n            <DialogActions>\r\n                <Button className={classes.btnOK} onClick={handleOK} autoFocus>\r\n                    {operations.save}\r\n                </Button>\r\n                <Button onClick={onClose}>\r\n                    {operations.cancel}\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default React.memo(ConfirmUnassign)","const MAX_PRICE = 2000000\r\nexport const suggestPrice = (inputPrice, setPriceSuggestions) => {\r\n    // console.log('suggestPrice() - inputPrice = ', inputPrice);\r\n    let suggestOptions = []\r\n    setPriceSuggestions([])\r\n\r\n    if (inputPrice > 0 && inputPrice < 10) {\r\n        suggestOptions.push(inputPrice * 100000)\r\n        if ((inputPrice * 1000000) <= MAX_PRICE) {\r\n            suggestOptions.push(inputPrice * 1000000)\r\n        }\r\n        suggestOptions.push(MAX_PRICE)\r\n        setPriceSuggestions(suggestOptions)\r\n    }\r\n    else if (inputPrice >= 10 && inputPrice < 100) {\r\n        console.log('10 <= inputPrice < 100');\r\n        suggestOptions.push(inputPrice * 10000)\r\n        if ((inputPrice * 100000) <= MAX_PRICE) {\r\n            suggestOptions.push(inputPrice * 100000)\r\n        }\r\n        suggestOptions.push(MAX_PRICE)\r\n        setPriceSuggestions(suggestOptions)\r\n    }\r\n    else if (inputPrice >= 100 && inputPrice < 1000) {\r\n        console.log('100 < inputPrice <= 1000');\r\n        suggestOptions.push(inputPrice * 1000)\r\n        if ((inputPrice * 10000) <= MAX_PRICE) {\r\n            suggestOptions.push(inputPrice * 10000)\r\n        }\r\n        suggestOptions.push(MAX_PRICE)\r\n        setPriceSuggestions(suggestOptions)\r\n    }\r\n    else if (inputPrice >= 1000 && inputPrice < 10000) {\r\n        console.log('1000 < inputPrice <= 10.000');\r\n        const firstThreeDigits = parseInt(String(inputPrice).substring(0, 3))\r\n        suggestOptions.push(firstThreeDigits * 1000)\r\n        if ((inputPrice * 1000) <= MAX_PRICE) {\r\n            suggestOptions.push(inputPrice * 1000)\r\n        }\r\n        suggestOptions.push(MAX_PRICE)\r\n        setPriceSuggestions(suggestOptions)\r\n    }\r\n    else if (inputPrice >= 10000 && inputPrice < 20000) {\r\n        console.log('10.000 < inputPrice <= 20.000');\r\n        const firstThreeDigits = parseInt(String(inputPrice).substring(0, 3))\r\n        const firstFourDigits = parseInt(String(inputPrice).substring(0, 4))\r\n        suggestOptions.push(firstThreeDigits * 1000)\r\n        if ((firstFourDigits * 1000) <= MAX_PRICE) {\r\n            suggestOptions.push(firstFourDigits * 1000)\r\n        }\r\n        suggestOptions.push(MAX_PRICE)\r\n        setPriceSuggestions(suggestOptions)\r\n    }\r\n    else if (inputPrice >= 20000) {\r\n        console.log('inputPrice > 20.000');\r\n        const firstDigit = parseInt(String(inputPrice).charAt(0))\r\n        const firstThreeDigits = parseInt(String(inputPrice).substring(0, 3))\r\n        const firstFourDigits = parseInt(String(inputPrice).substring(0, 4))\r\n        if (firstDigit > 2) {\r\n            suggestOptions.push(firstDigit * 100000)\r\n            if ((firstDigit * 100000) !== (firstThreeDigits * 1000)) {\r\n                suggestOptions.push(firstThreeDigits * 1000)\r\n            }\r\n            suggestOptions.push(MAX_PRICE)\r\n        } else if (firstDigit === 2) {\r\n            suggestOptions.push(firstDigit * 100000)\r\n            if ((firstDigit * 100000) !== (firstThreeDigits * 1000)) {\r\n                suggestOptions.push(firstThreeDigits * 1000)\r\n            }\r\n            suggestOptions.push(MAX_PRICE)\r\n        } else if (firstDigit === 1) {\r\n            suggestOptions.push(firstDigit * 100000)\r\n            if ((firstDigit * 100000) !== (firstFourDigits * 1000)) {\r\n                suggestOptions.push(firstFourDigits * 1000)\r\n            }\r\n            suggestOptions.push(MAX_PRICE)\r\n        }\r\n        setPriceSuggestions(suggestOptions)\r\n    }\r\n    else {     // inputPrice === undefined (NaN), inputPrice <= 0\r\n        suggestOptions.push(1000000)\r\n        suggestOptions.push(1500000)\r\n        suggestOptions.push(MAX_PRICE)\r\n        setPriceSuggestions(suggestOptions)\r\n    }\r\n}","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport {\r\n    DialogContent,\r\n    DialogActions,\r\n    Button,\r\n    FormControl,\r\n    Grid,\r\n    TextField,\r\n    RadioGroup,\r\n    FormControlLabel,\r\n    Radio,\r\n    InputAdornment,\r\n    InputLabel,\r\n    Typography,\r\n    Tooltip,\r\n    Icon,\r\n    Box,\r\n    OutlinedInput,\r\n    FormHelperText,\r\n    ClickAwayListener,\r\n    FilledInput,\r\n} from '@material-ui/core'\r\nimport moment from 'moment'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport * as yup from 'yup'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport { Consts, getCriteriaInfo } from '../DialogConfig'\r\nimport * as TasksServices from '../../TasksServices'\r\nimport { schoolLevelNames, serviceNames, statusNames } from '../../../../constants/Generals'\r\nimport { useAuth } from '../../../../hooks/AuthContext'\r\nimport { useApp } from '../../../../hooks/AppContext'\r\nimport { useTask } from '../../hooks/TaskContext'\r\nimport { app as FirebaseApp } from '../../../../services/firebase'\r\nimport { calculateDatesGap, parseDateToString } from '../../../../utils/DateTimes';\r\nimport { DateRangePickers } from '../../components';\r\nimport { suggestPrice } from '../../../../utils/Suggestions';\r\nimport { IoInformationCircleSharp } from 'react-icons/io5'\r\nimport NumberFormat from 'react-number-format'\r\nimport { useSnackbar } from 'notistack'\r\nimport classes from './CreateServices.module.scss'\r\n\r\nconst clientSchema = yup.object().shape({\r\n    // duration: yup.string(),\r\n    // .string()\r\n    // .trim()\r\n    // .required('Duartion is required'),\r\n    // .min(1, 'Duartion must be at least 1 digit')\r\n    // .max(2, 'Duartion must be at most 2 digits')\r\n    // .matches(DURATION_RGX, 'Invalid entry'),\r\n    classNumber: yup.number('Number of classes must be a number')\r\n        .integer('Number of classes must be an integer')\r\n        .min(1, 'Minimum 1 class')\r\n        .max(100, 'Maximum 100 classes')\r\n        .required('Number of classes is required'),\r\n    studentNumber: yup.number('Number of students must be a number')\r\n        .integer('Number of students must be an integer')\r\n        .min(1, 'Minimum 1 student')\r\n        .max(100, 'Maximum 100 students')\r\n        .required('Number of students is required'),\r\n    slotNumber: yup.number('Number of periods must be a number')\r\n        .integer('Number of periods must be an integer')\r\n        .min(1, 'Minimum 1 period')\r\n        .max(10, 'Maximum 10 periods')\r\n        .required('Number of periods is required'),\r\n    pricePerSlot: yup\r\n        .number('Price floor must be a number')\r\n        .min(100000, 'Minimum price is 100.000VND')\r\n        .max(2000000, 'Maximum price is 2.000.000VND')\r\n        .required('Price floor is required'),\r\n    note: yup.string().trim(),\r\n})\r\n\r\nconst currencyFormatter = new Intl.NumberFormat('vi-VN', {\r\n    style: 'currency', currency: 'VND',\r\n});\r\n\r\n\r\nfunction CreateServicesForm(props) {\r\n    const {\r\n        onClose,\r\n        // setNotify,\r\n        taskId,\r\n        schoolId,\r\n        schoolLevel,\r\n        schoolStatus,\r\n        refreshPage,\r\n    } = props\r\n\r\n    const { operations, fields, messages } = Consts\r\n\r\n    const { user } = useAuth()\r\n    const { userInfo } = useApp()\r\n\r\n    const { enqueueSnackbar } = useSnackbar()\r\n\r\n    const history = useHistory()\r\n\r\n    const { serviceTypes, params } = useTask()\r\n    const { listFilters, page, limit, column, direction, searchKey } = params\r\n\r\n    const [listManagers, setListManagers] = useState([])\r\n\r\n    const [openInfoTooltip, setOpenInfoTooltip] = useState(false);\r\n    const [priceSuggestions, setPriceSuggestions] = useState([]);\r\n    const defaultValues = {\r\n        // id: taskId,\r\n        startDate: new Date(),\r\n        endDate: new Date(new Date().getFullYear(new Date().getFullYear() + 1)),\r\n        serviceType: serviceNames.svc1,\r\n        classNumber: 0,\r\n        studentNumber: 0,\r\n        slotNumber: 0,\r\n        pricePerSlot: 100000,\r\n        note: '',\r\n    }\r\n    const { control, errors, handleSubmit, formState, reset, getValues } = useForm({\r\n        resolver: yupResolver(clientSchema),\r\n        defaultValues: defaultValues,\r\n    })\r\n\r\n    const getListManagers = () => {\r\n        TasksServices.getListManagers().then((res) => setListManagers(res.list))\r\n    }\r\n    useEffect(getListManagers, [])\r\n\r\n    // useEffect(() => {\r\n    //     TasksServices.getListManagers().then((res) =>\r\n    //         setListManagers(res.list)\r\n    //     )\r\n    //     // return () => setListManagers([])\r\n    // }, [])\r\n    // ko gọi ngoài này nữa vì mỗi lần form này bị re-render, nó sẽ gọi lại API. Chết mất!\r\n\r\n    // Coi xem chỗ này còn lỗi ko\r\n    const createNotify = (serviceId) => {    //value\r\n        if (listManagers && listManagers?.length > 0) {\r\n            new Promise((resolve, reject) => {\r\n                // listManagers.map((mng) => {\r\n                FirebaseApp.database()\r\n                    .ref('notify')\r\n                    .child(listManagers[0]?.username)\r\n                    .push({\r\n                        avatar: userInfo?.avatar ? userInfo?.avatar : '',\r\n                        actor: user?.username,\r\n                        type: 'service',\r\n                        timestamp: moment(new Date()).format(\r\n                            'YYYY-MM-DD HH:mm:ss'\r\n                        ),\r\n                        content: 'A service has just been submited.',\r\n                        uid: serviceId,    // chờ BE trả về\r\n                        isSeen: false,\r\n                    })\r\n                // })\r\n            })\r\n        }\r\n    }\r\n\r\n    const customiseServiceList = (schoolLevel) => {\r\n        const customServiceTypes = [...serviceTypes]\r\n\r\n        if (schoolLevel !== schoolLevelNames.th) {\r\n            customServiceTypes.splice(\r\n                customServiceTypes.indexOf(serviceNames.svc3),\r\n                1\r\n            )\r\n        }\r\n        return customServiceTypes\r\n    }\r\n    const customServiceTypes = customiseServiceList(schoolLevel)\r\n\r\n    const onSubmit = (data) => {\r\n        console.log('duration = ', data?.duration);\r\n\r\n        const model = {\r\n            ...data,\r\n            taskId: taskId,\r\n            submitDate: parseDateToString(new Date(), 'YYYY-MM-DD HH:mm:ss'),\r\n            startDate: data?.duration[0]\r\n                ? parseDateToString(data?.duration[0], 'YYYY-MM-DD HH:mm:ss')\r\n                : parseDateToString(new Date(), 'YYYY-MM-DD HH:mm:ss'),\r\n            endDate: data?.duration[1]\r\n                ? parseDateToString(data?.duration[1], 'YYYY-MM-DD HH:mm:ss')\r\n                : parseDateToString(\r\n                    new Date(new Date().getFullYear(new Date().getFullYear() + 1)),\r\n                    'YYYY-MM-DD HH:mm:ss'\r\n                ),\r\n            serviceType: data?.serviceType ? data?.serviceType : serviceNames.svc1,\r\n            classNumber: parseInt(data?.classNumber ? data?.classNumber : '0', 10),\r\n            studentNumber: parseInt(data?.studentNumber ? data?.studentNumber : '0', 10),\r\n            slotNumber: parseInt(data?.slotNumber ? data?.slotNumber : '0', 10),\r\n            pricePerSlot: parseFloat(data?.pricePerSlot ? data?.pricePerSlot : '0.0'),\r\n        }\r\n        delete model.duration\r\n\r\n        // getListManagers()\r\n        // TasksServices.getListManagers().then((res) =>\r\n        //     setListManagers(res.list)\r\n        // )\r\n\r\n        const updateStatus2Cust = (status) => {\r\n            // const statusModel = {\r\n            //     schoolStatus: statusNames.customer,\r\n            // }\r\n\r\n            // if (status === statusNames.lead) {\r\n            //     TasksServices.updateStatus(schoolId, statusModel)\r\n            //         .then((res) => {\r\n            //             // setNotify({\r\n            //             //     isOpen: true,\r\n            //             //     message: \"Updated School's status successfully\",\r\n            //             //     type: 'success',\r\n            //             // })\r\n            //             enqueueSnackbar(messages.updatedSuccess, {\r\n            //                 variant: 'success',\r\n            //             })\r\n            //         })\r\n            //         .catch((error) => {\r\n            //             if (error.response) {\r\n            //                 console.log(error)\r\n            //                 history.push({\r\n            //                     pathname: '/errors',\r\n            //                     state: { error: error.response.status },\r\n            //                 })\r\n            //             }\r\n            //             // setNotify({\r\n            //             //     isOpen: true,\r\n            //             //     message: \"Updated School's status failed\",\r\n            //             //     type: 'error',\r\n            //             // })\r\n            //             enqueueSnackbar(messages.updatedError, {\r\n            //                 variant: 'error',\r\n            //             })\r\n            //         })\r\n            // }\r\n        }\r\n\r\n        TasksServices.createServices(model)\r\n            .then((res) => {\r\n                updateStatus2Cust(schoolStatus)\r\n                refreshPage(\r\n                    page,\r\n                    limit,\r\n                    column,\r\n                    direction,\r\n                    searchKey,\r\n                    listFilters,\r\n                    user.username\r\n                )\r\n                // Notify by Snackbars\r\n                // setNotify({\r\n                //     isOpen: true,\r\n                //     message: 'Proposed a service successfully',\r\n                //     type: 'success',\r\n                // })\r\n                enqueueSnackbar('Created service successfully', {\r\n                    variant: 'success',\r\n                })\r\n\r\n                // Send notification by Firebase\r\n                createNotify(res.data)    // Chờ BE trả về id trong res\r\n\r\n                onClose()\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n                // setNotify({\r\n                //     isOpen: true,\r\n                //     message: 'Proposed a service failed',\r\n                //     type: 'error',\r\n                // })\r\n                enqueueSnackbar('Created service failed', {\r\n                    variant: 'error',\r\n                })\r\n            })\r\n\r\n        // alert(JSON.stringify(model))\r\n    }\r\n\r\n    // Tạm đóng\r\n    const calculateEstimateSales = (pricePerSlot, slotNumber, classNumber) => { //, time\r\n        // console.log('CreateServices: duration = ', time);\r\n        let estimateSales = currencyFormatter.format(0)\r\n        // const duration = calculateDatesGap(new Date(time[0]), new Date(time[1]), 'M')    // chưa lấy đc time\r\n        const duration = 1; // giả định thế\r\n\r\n        if ((pricePerSlot * slotNumber * classNumber * 4 * duration) > 20000000000) {\r\n            estimateSales = currencyFormatter.format(20000000000);\r\n        } else {\r\n            estimateSales = currencyFormatter.format(pricePerSlot * slotNumber * classNumber * 4 * duration)\r\n        }\r\n\r\n        return estimateSales\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <DialogContent className={classes.dialogCont}>\r\n                <form\r\n                    noValidate\r\n                // onSubmit={handleSubmit(onSubmit)}\r\n                >\r\n                    <Grid container spacing={2} className={classes.wrapper}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                            <Box display=\"flex\" flexDirection=\"row\">\r\n                                <Box flexGrow={1} display=\"flex\" flexDirection=\"row\">\r\n                                    <Tooltip title='Service \"Toán Khoa\" only available for schools which are \"Tiểu học\"' placement=\"right-end\">\r\n                                        <InputLabel>{fields.service.title}</InputLabel>\r\n                                        {/* <div style={{\r\n                                             marginLeft: '0.7rem' }}><IoInformationCircleSharp className={classes.iconInfo} /></div> */}\r\n                                    </Tooltip>\r\n                                </Box>\r\n                                <Box>\r\n                                    <ClickAwayListener onClickAway={() => setOpenInfoTooltip(false)}>\r\n                                        <Tooltip\r\n                                            interactive\r\n                                            title={getCriteriaInfo()}\r\n                                            placement=\"bottom-end\"\r\n                                            open={openInfoTooltip}\r\n                                            onClose={() => setOpenInfoTooltip(false)}\r\n                                            disableFocusListener\r\n                                            disableHoverListener  // disable cái này thì khi thả chuột ra ko bị close\r\n                                        >\r\n                                            <div onClick={() => setOpenInfoTooltip(true)}>\r\n                                                <IoInformationCircleSharp className={classes.iconInfo} />\r\n                                            </div>\r\n                                        </Tooltip>\r\n                                    </ClickAwayListener>\r\n                                </Box>\r\n                            </Box>\r\n                            <Controller\r\n                                name=\"serviceType\"\r\n                                control={control}\r\n                                render={({ value, onChange }) => (\r\n                                    <RadioGroup value={value} onChange={onChange} row>\r\n                                        <Grid container xs={12} sm={12} md={12} lg={12}>\r\n                                            {customServiceTypes.map(service => (\r\n                                                <Grid item xs={3} sm={3} md={3} lg={3} key={service}>\r\n                                                    <FormControlLabel\r\n                                                        control={<Radio />}\r\n                                                        label={service}\r\n                                                        value={service}\r\n                                                    />\r\n                                                </Grid>\r\n                                            ))}\r\n                                        </Grid>\r\n                                    </RadioGroup>\r\n                                )}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                            <Controller\r\n                                name=\"duration\"\r\n                                control={control}\r\n                                defaultValue={[new Date(), new Date(new Date().setFullYear(new Date().getFullYear() + 1))]}\r\n                                render={({ value, onChange }) => (\r\n                                    <DateRangePickers\r\n                                        dateRange={value}\r\n                                        handleDateRangeChange={onChange}\r\n                                        startLabel=\"Valid from\"\r\n                                        endLabel=\"Valid until\"\r\n                                        isFilter={false}\r\n                                    />\r\n                                )}\r\n                            />\r\n                            {/* <InputLabel>Duration *</InputLabel> */}\r\n                        </Grid>\r\n\r\n                        <Grid item xs={7} sm={6} md={6} lg={6}>\r\n                            <Controller\r\n                                name=\"classNumber\"\r\n                                control={control}\r\n                                render={({ value, onChange }) => (\r\n                                    <TextField\r\n                                        label={fields.classNo.title}\r\n                                        variant=\"outlined\"\r\n                                        type=\"number\"\r\n                                        required\r\n                                        // fullWidth\r\n                                        value={value}\r\n                                        onChange={onChange}\r\n                                        InputProps={{\r\n                                            endAdornment: (\r\n                                                <InputAdornment position=\"end\">\r\n                                                    {fields.classNo.adornment}\r\n                                                </InputAdornment>\r\n                                            ),\r\n                                            inputProps: { min: 1, max: 100 },\r\n                                        }}\r\n                                        error={!!errors.classNumber}\r\n                                        helperText={\r\n                                            errors?.classNumber\r\n                                                ? errors?.classNumber?.message\r\n                                                : fields.classNo.helper\r\n                                        }\r\n                                    />\r\n                                )}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={7} sm={6} md={6} lg={6}>\r\n                            <Controller\r\n                                name=\"studentNumber\"\r\n                                control={control}\r\n                                render={({ value, onChange }) => (\r\n                                    <TextField\r\n                                        label={fields.studentNumber.title}\r\n                                        variant=\"outlined\"\r\n                                        type=\"number\"\r\n                                        required\r\n                                        // fullWidth\r\n                                        value={value}\r\n                                        onChange={onChange}\r\n                                        InputProps={{\r\n                                            endAdornment: (\r\n                                                <InputAdornment position=\"end\">\r\n                                                    {fields.studentNumber.adornment}\r\n                                                </InputAdornment>\r\n                                            ),\r\n                                            inputProps: { min: 1, max: 100 },\r\n                                        }}\r\n                                        error={!!errors.studentNumber}\r\n                                        helperText={errors?.studentNumber ?\r\n                                            errors?.studentNumber?.message\r\n                                            : fields.studentNumber.helper\r\n                                        }\r\n                                    />\r\n                                )}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={7} sm={6} md={6} lg={6}>\r\n                            <FormControl errors>\r\n                                <Controller\r\n                                    name=\"pricePerSlot\"\r\n                                    control={control}\r\n                                    render={({ value, onChange }) => (<>\r\n\r\n                                        <Grid container>\r\n                                            <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                                {/* <NumberFormat\r\n                                                allowNegative={false}\r\n                                                // suffix=\"VND/period\"\r\n                                                isNumericString={true}\r\n                                                thousandSeparator={true}\r\n                                                value={value}\r\n                                                onValueChange={onChange}\r\n                                                customInput={() => ( */}\r\n                                                {/* <TextField\r\n                                                label={fields.price.title}\r\n                                                variant=\"outlined\"\r\n                                                type=\"number\"\r\n                                                required\r\n                                                // fullWidth\r\n                                                InputProps={{\r\n                                                    endAdornment: (\r\n                                                        <InputAdornment position=\"end\">\r\n                                                            {fields.price.adornment}\r\n                                                        </InputAdornment>\r\n                                                    ),\r\n                                                    inputProps: { min: 100000, max: 2000000 },\r\n                                                }}\r\n                                                value={value}\r\n                                                onChange={(e) => {\r\n                                                    onChange(e.target.value)\r\n                                                    suggestPrice(Number(e.target.value), setPriceSuggestions)\r\n                                                }}\r\n                                                error={!!errors.pricePerSlot}\r\n                                                helperText={errors?.pricePerSlot ? */}\r\n\r\n                                                <FormControl variant=\"outlined\" required>\r\n                                                    <InputLabel htmlFor=\"component-disabled\">{fields.price.title}</InputLabel>\r\n                                                    <NumberFormat\r\n                                                        {...props}\r\n                                                        id=\"component-disabled\"\r\n                                                        value={value}\r\n                                                        customInput={OutlinedInput}\r\n                                                        // customInput={() => <OutlinedInput {...props} label={fields.price.title} required />}\r\n                                                        // suffix={'₫'}\r\n                                                        isNumericString\r\n                                                        type=\"text\"\r\n                                                        thousandSeparator={'.'}\r\n                                                        decimalSeparator={','}\r\n                                                        onValueChange={({ floatValue: val }) => {\r\n                                                            onChange(val)\r\n                                                            suggestPrice(val, setPriceSuggestions)\r\n                                                        }}\r\n                                                    />\r\n                                                    <FormHelperText className={errors?.pricePerSlot ? classes.helper : classes.normal}>\r\n                                                        {errors?.pricePerSlot ? errors?.pricePerSlot?.message\r\n                                                            : fields.price.helper}\r\n                                                    </FormHelperText>\r\n                                                </FormControl>\r\n\r\n\r\n                                                {/* <TextField\r\n                                                label={fields.price.title}\r\n                                                variant=\"outlined\"\r\n                                                type=\"number\"\r\n                                                required\r\n                                                fullWidth\r\n                                                // autoFocus\r\n                                                InputProps={{\r\n                                                    endAdornment: (\r\n                                                        <InputAdornment position=\"end\">\r\n                                                            {fields.price.adornment}\r\n                                                        </InputAdornment>\r\n                                                    ),\r\n                                                    inputProps: { min: 100000, max: 2000000 },\r\n                                                }}\r\n                                                value={value}\r\n                                                // value={new Intl.NumberFormat('vi-VN').format(value)}\r\n                                                // onChange={onChange}\r\n                                                onChange={(e) => {\r\n                                                    onChange(e.target.value)\r\n                                                    suggestPrice(Number(e.target.value), setPriceSuggestions)\r\n                                                }}\r\n                                                error={!!errors.pricePerSlot}\r\n                                                helperText={errors?.pricePerSlot ?\r\n                                                    errors?.pricePerSlot?.message\r\n                                                    : fields.price.helper\r\n                                                }\r\n                                            /> */}\r\n\r\n\r\n\r\n                                                {/* <CurrencyInput\r\n                                                decimalsLimit={2}\r\n                                                allowNegativeValue={false}\r\n                                                maxLength={7}\r\n                                                groupSeparator='.'\r\n                                                // intlConfig={{ locale: 'vi-VN', currency: 'VND' }}\r\n                                                value={value}\r\n                                                onValueChange={onChange} /> */}\r\n                                            </Grid>\r\n                                            <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                                {priceSuggestions.map((suggestion, index) => (\r\n                                                    <Button variant=\"outlined\" size=\"small\" color=\"secondary\"\r\n                                                        onClick={(e) =>\r\n                                                            onChange(suggestion)\r\n                                                        }\r\n                                                        key={index}\r\n                                                        className={classes.suggestions}\r\n                                                    >\r\n                                                        {new Intl.NumberFormat('vi-VN').format(suggestion)}\r\n                                                    </Button>\r\n                                                ))}\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </>)}\r\n                                />\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={7} sm={6} md={6} lg={6}>\r\n                            <Grid container>\r\n                                <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                    <Controller\r\n                                        name=\"slotNumber\"\r\n                                        control={control}\r\n                                        render={({ value, onChange }) => (\r\n                                            <TextField\r\n                                                label={fields.slotNumber.title}\r\n                                                variant=\"outlined\"\r\n                                                type=\"number\"\r\n                                                required\r\n                                                // fullWidth\r\n                                                value={value}\r\n                                                onChange={(e) => onChange(e.target.value)}\r\n                                                InputProps={{\r\n                                                    endAdornment: (\r\n                                                        <InputAdornment position=\"end\">\r\n                                                            {fields.slotNumber.adornment}\r\n                                                        </InputAdornment>\r\n                                                    ),\r\n                                                    inputProps: { min: 0, max: 10 }\r\n                                                }}\r\n                                                error={!!errors.slotNumber}\r\n                                                helperText={errors?.slotNumber ?\r\n                                                    errors?.slotNumber?.message\r\n                                                    : fields.slotNumber.helper\r\n                                                }\r\n                                            // error={!!errors.slotNumber}\r\n                                            // helperText={errors?.slotNumber?.message}\r\n                                            />\r\n                                        )}\r\n                                    />\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                    <Tooltip\r\n                                        title={<Typography variant='caption'>{fields.revenue.formula}</Typography>}\r\n                                        arrow interactive\r\n                                    >\r\n                                        <Typography variant='body1'>\r\n                                            {/* <span className={classes.txtEstimate}>Estimate sales</span> &nbsp; */}\r\n                                            <span className={classes.txtRevenue}>\r\n                                                {/* ≈ {calculateEstimateSales(getValues('pricePerSlot'), getValues('slotNumber'), getValues('classNumber'))} */}\r\n                                                {/* , getValues('duration') */}\r\n                                                {/* ≈ {currencyFormatter.format(getValues('pricePerSlot') * getValues('slotNumber') * getValues('classNumber') * 4)} */}\r\n                                            </span>\r\n                                        </Typography>\r\n                                    </Tooltip>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                            <Controller\r\n                                name=\"note\"\r\n                                control={control}\r\n                                render={({ value, onChange }) => (\r\n                                    <TextField\r\n                                        label={fields.note.title}\r\n                                        variant=\"outlined\"\r\n                                        fullWidth\r\n                                        multiline\r\n                                        rows={5}\r\n                                        value={value}\r\n                                        onChange={onChange}\r\n                                        error={!!errors.note}\r\n                                        helperText={errors?.note?.message}\r\n                                    />\r\n                                )}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </form>\r\n            </DialogContent>\r\n\r\n            <DialogActions className={classes.dialogAct}>\r\n                <Button\r\n                    className={classes.btnSave}\r\n                    // type=\"submit\"\r\n                    disabled={!formState.isDirty}\r\n                    onClick={handleSubmit(onSubmit)}\r\n                >\r\n                    {operations.save}\r\n                </Button>\r\n                <Button\r\n                    onClick={() => {\r\n                        reset({\r\n                            errors: false,\r\n                        })\r\n                        onClose()\r\n                    }}\r\n                >\r\n                    {operations.cancel}\r\n                </Button>\r\n            </DialogActions>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CreateServicesForm\r\n","import React from 'react'\r\nimport {\r\n    Dialog,\r\n    IconButton,\r\n    DialogTitle,\r\n    Typography,\r\n    withStyles,\r\n} from '@material-ui/core'\r\nimport { MdClose } from 'react-icons/md'\r\nimport { Consts } from '../DialogConfig'\r\nimport CreateServicesForm from './CreateServicesForm'\r\n\r\nconst stylesTitle = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n})\r\n\r\nconst DialogTitleWithIconClose = withStyles(stylesTitle)((props) => {\r\n    const { children, classes, onClose, ...other } = props\r\n    return (\r\n        <DialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton className={classes.closeButton} onClick={onClose}>\r\n                    <MdClose />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    )\r\n})\r\n\r\nfunction ServicesForm(props) {\r\n    const {\r\n        open,\r\n        onClose,\r\n        refreshPage,\r\n        taskId,\r\n        schoolId,\r\n        schoolName,\r\n        schoolLevel,\r\n        schoolStatus,\r\n        // setNotify,\r\n    } = props\r\n    const { headers } = Consts\r\n\r\n    return (\r\n        <Dialog open={open} onClose={onClose} maxWidth=\"sm\">\r\n            <DialogTitleWithIconClose onClose={onClose}>\r\n                {`${headers.createServices} ${schoolLevel} ${schoolName}`}\r\n            </DialogTitleWithIconClose>\r\n            <CreateServicesForm\r\n                onClose={onClose}\r\n                // setNotify={setNotify}\r\n                taskId={taskId}\r\n                schoolId={schoolId}\r\n                schoolLevel={schoolLevel}\r\n                schoolStatus={schoolStatus}\r\n                schoolName={schoolName}\r\n                refreshPage={refreshPage}\r\n            />\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default ServicesForm\r\n","import React, { useState } from 'react'\r\nimport { Link, useRouteMatch } from 'react-router-dom'\r\nimport {\r\n    IconButton,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    Menu,\r\n    MenuItem,\r\n    Tooltip,\r\n} from '@material-ui/core'\r\nimport {\r\n    MdDelete,\r\n    MdDescription,\r\n    MdInfo,\r\n    MdMoreVert,\r\n    MdPersonAdd,\r\n    MdNoteAdd,\r\n} from 'react-icons/md'\r\nimport { IoPersonRemoveSharp } from 'react-icons/io5'\r\nimport { useAuth } from '../../../../../hooks/AuthContext'\r\nimport ConfirmRemove from '../../../dialogs/ConfirmRemove/ConfirmRemove'\r\nimport CannotRemove from '../../../dialogs/CannotRemove/CannotRemove'\r\nimport ConfirmUnassign from '../../../dialogs/ConfirmUnassign/ConfirmUnassign'\r\nimport CreateServices from '../../../dialogs/CreateServices/CreateServices'\r\nimport { useTask } from '../../../hooks/TaskContext'\r\nimport { Consts } from '../../../TasksConfig'\r\nimport { purposeNames, roleNames, statusNames, taskResultNames } from '../../../../../constants/Generals'\r\n// import PropTypes from 'prop-types'\r\nimport Assign from '../../../dialogs/Assign/Assign'\r\nimport classes from './MenuOptions.module.scss'\r\nimport { isInThisSchoolYear } from '../../../../../utils/DateTimes'\r\n\r\nfunction MenuOptions(props) {\r\n    const { data, refreshAPI, setNotify } = props\r\n    const { menuItems } = Consts\r\n\r\n    const [anchorEl, setAnchorEl] = useState(null)\r\n    const [open, setOpen] = useState(false)\r\n    const [openAssign, setOpenAssign] = useState(false)\r\n    const [openUnassign, setOpenUnassign] = useState(false)\r\n    const [openServices, setOpenServices] = useState(false)\r\n\r\n    const [rows, setRows] = useState([data])\r\n\r\n    const { user } = useAuth()\r\n    const { params } = useTask()\r\n    const { url } = useRouteMatch()\r\n\r\n    const stateData = {\r\n        model: data,\r\n        params: params, // get from context\r\n        // pathName: `${url}/${data.id}`,\r\n    }\r\n\r\n    console.log('task data: ', data);\r\n\r\n    const handleOpenMenu = (event) => {\r\n        setAnchorEl(event.currentTarget)\r\n    }\r\n\r\n    const handleCloseMenus = () => {\r\n        setAnchorEl(null)\r\n    }\r\n\r\n    const handleOpenConfirmRemove = () => {\r\n        setAnchorEl(null)\r\n        setOpen(true)\r\n    }\r\n\r\n    const handleOpenConfirmUnassign = () => {\r\n        setOpenUnassign(true)\r\n        setAnchorEl(null)\r\n    }\r\n\r\n    const handleOpenAssignOne = () => {\r\n        setOpenAssign(true)\r\n        setAnchorEl(null)\r\n    }\r\n\r\n    const handleOpenServices = () => {\r\n        setOpenServices(true)\r\n        setAnchorEl(null)\r\n    }\r\n\r\n    const renderRemoveDialog = () => {\r\n        if (data?.fullName) {\r\n            return (\r\n                <CannotRemove\r\n                    open={open}\r\n                    onClose={() => setOpen(false)}\r\n                    data={data}\r\n                />\r\n            )\r\n        } else {\r\n            return (\r\n                <ConfirmRemove\r\n                    open={open}\r\n                    onClose={() => setOpen(false)}\r\n                    data={data}\r\n                    refreshAPI={refreshAPI}\r\n                    setNotify={setNotify}\r\n                />\r\n            )\r\n        }\r\n    }\r\n\r\n    const renderAssignedDialog = () => {\r\n        if (data?.fullName) {\r\n            return (\r\n                <ConfirmUnassign\r\n                    // notify={notify}\r\n                    setNotify={setNotify}\r\n                    open={openUnassign}\r\n                    onClose={() => setOpenUnassign(false)}\r\n                    data={data}\r\n                    refreshAPI={refreshAPI}\r\n                />\r\n            )\r\n        } else if (!data?.fullName) {\r\n            // assign one dialog\r\n            return (\r\n                <Assign\r\n                    // notify={notify}\r\n                    setNotify={setNotify}\r\n                    open={openAssign}\r\n                    onClose={() => setOpenAssign(false)}\r\n                    rows={rows}\r\n                    setRows={setRows}\r\n                    refreshAPI={refreshAPI}\r\n                />\r\n            )\r\n        }\r\n    }\r\n\r\n    const renderServicesDialog = () => {\r\n        return (\r\n            <CreateServices\r\n                open={openServices}\r\n                onClose={() => setOpenServices(false)}\r\n                refreshPage={refreshAPI}\r\n                taskId={data?.id}\r\n                schoolId={data?.schoolId}\r\n                schoolLevel={data?.level}\r\n                schoolName={data?.schoolName}\r\n                schoolStatus={data?.schoolStatus}\r\n                setNotify={setNotify}\r\n            />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Tooltip title=\"Actions\">\r\n                <IconButton color=\"primary\" onClick={handleOpenMenu}>\r\n                    <MdMoreVert />\r\n                </IconButton>\r\n            </Tooltip>\r\n            <Menu\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={!!anchorEl}\r\n                onClose={handleCloseMenus}\r\n            >\r\n                <MenuItem\r\n                    onClick={handleCloseMenus}\r\n                    component={Link}\r\n                    to={{\r\n                        pathname: `${url}/${data.id}`,\r\n                        state: { data: stateData },\r\n                    }}\r\n                >\r\n                    <ListItemIcon className={classes.itemIcon}>\r\n                        <MdInfo fontSize=\"large\" />\r\n                    </ListItemIcon>\r\n                    <ListItemText className={classes.itemText}>\r\n                        {menuItems.details.title}\r\n                    </ListItemText>\r\n                </MenuItem>\r\n\r\n                {/* Lúc trước chưa có Timeline thì mới cần Report này. Giờ có timeline rồi nên ko cần menu option này nữa */}\r\n                {/* <MenuItem\r\n                    onClick={handleCloseMenus}\r\n                    component={Link}\r\n                    to={{\r\n                        pathname: '/apps/reports',\r\n                        state: { taskId: data.id, schoolName: data.schoolName, PIC: data.username },\r\n                    }}\r\n                >\r\n                    <ListItemIcon className={classes.itemIcon}>\r\n                        <MdDescription fontSize=\"large\" />\r\n                    </ListItemIcon>\r\n                    <ListItemText className={classes.itemText}>\r\n                        {menuItems.reports.title}\r\n                    </ListItemText>\r\n                </MenuItem> */}\r\n\r\n                {user.roles[0] === roleNames.salesman && data?.schoolStatus !== statusNames.pending\r\n                    && data?.purpose !== purposeNames.purp3 && data?.result === 'TBD' &&    //  || (!isInThisSchoolYear(new Date()))\r\n                    (\r\n                        <div>\r\n                            <MenuItem onClick={handleOpenServices}>\r\n                                <ListItemIcon className={classes.itemIcon}>\r\n                                    <MdNoteAdd fontSize=\"large\" />\r\n                                </ListItemIcon>\r\n                                <ListItemText className={classes.itemText}>\r\n                                    {menuItems.services.title}\r\n                                </ListItemText>\r\n                            </MenuItem>\r\n                            {renderServicesDialog()}\r\n                        </div>\r\n                    )\r\n                }\r\n                {user.roles[0] !== roleNames.salesman && (\r\n                    <div>\r\n                        <MenuItem onClick={handleOpenConfirmRemove}>\r\n                            <ListItemIcon className={classes.itemIcon}>\r\n                                <MdDelete fontSize=\"large\" />\r\n                            </ListItemIcon>\r\n                            <ListItemText className={classes.itemText}>\r\n                                {menuItems.remove.title}\r\n                            </ListItemText>\r\n                        </MenuItem>\r\n                        {renderRemoveDialog()}\r\n                    </div>\r\n                )}\r\n                {user.roles[0] !== roleNames.salesman && data?.fullName && (\r\n                    <div>\r\n                        <MenuItem onClick={handleOpenConfirmUnassign}>\r\n                            <ListItemIcon className={classes.itemIcon}>\r\n                                <IoPersonRemoveSharp />\r\n                            </ListItemIcon>\r\n                            <ListItemText className={classes.itemText}>\r\n                                {menuItems.unassign.title}\r\n                            </ListItemText>\r\n                        </MenuItem>\r\n                        {renderAssignedDialog()}\r\n                    </div>\r\n                )}\r\n                {user.roles[0] !== roleNames.salesman && !data?.fullName && (\r\n                    <div>\r\n                        <MenuItem onClick={handleOpenAssignOne}>\r\n                            <ListItemIcon className={classes.itemIcon}>\r\n                                <MdPersonAdd />\r\n                            </ListItemIcon>\r\n                            <ListItemText className={classes.itemText}>\r\n                                {menuItems.assign.title}\r\n                            </ListItemText>\r\n                        </MenuItem>\r\n                        {renderAssignedDialog()}\r\n                    </div>\r\n                )}\r\n            </Menu>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MenuOptions\r\n\r\n// MenuOptions.propTypes = {\r\n//     data: PropTypes.object.isRequired,\r\n// }\r\n","import {\r\n    Checkbox,\r\n    TableCell,\r\n    TableHead,\r\n    TableRow,\r\n    TableSortLabel,\r\n    withStyles,\r\n} from '@material-ui/core'\r\nimport { roleNames } from '../../../../constants/Generals'\r\nimport classes from './Tables.module.scss'\r\n\r\nexport default function SortableTableHeaders(props) {\r\n    const {\r\n        user,\r\n        columns,\r\n        direction,\r\n        column,\r\n        onRequestSort,\r\n        numSelected,\r\n        rowCount,\r\n        onSelectAllClick,\r\n    } = props\r\n    const createSortHandler = (col, direction) => {\r\n        onRequestSort(col, direction)\r\n    }\r\n\r\n    const MuiTableSortLabel = withStyles({\r\n        root: {\r\n            color: 'white !important',\r\n            '&:hover': {\r\n                color: 'white !important',\r\n            },\r\n            '&$active': {\r\n                color: 'white !important',\r\n            },\r\n        },\r\n        active: {},\r\n        icon: {\r\n            color: 'white !important',\r\n        },\r\n    })(TableSortLabel)\r\n\r\n    return (\r\n        <TableHead>\r\n            <TableRow className={classes.tHead}>\r\n                {user.roles[0] !== roleNames.salesman && (\r\n                    <TableCell padding=\"checkbox\" className={classes.tHeadCell}>\r\n                        <Checkbox\r\n                            indeterminate={\r\n                                numSelected > 0 && numSelected < rowCount\r\n                            }\r\n                            checked={rowCount > 0 && numSelected === rowCount}\r\n                            onChange={onSelectAllClick}\r\n                        />\r\n                    </TableCell>\r\n                )}\r\n                {columns.map((col) => {\r\n                    return (\r\n                        <TableCell\r\n                            key={col.key}\r\n                            className={classes.tHeadCell}\r\n                            sortDirection={column === col.key ? direction : false}\r\n                            align={\r\n                                (col.key === 'no' || col.key === 'user.fullName')\r\n                                    ? 'center' : 'left'\r\n                            }\r\n                            width={user.roles[0] !== roleNames.salesman ? col.width1 : col.width2}\r\n                        >\r\n                            {col?.sortable ? (\r\n                                <MuiTableSortLabel\r\n                                    active={column === col.key}\r\n                                    direction={column === col.key ? direction : 'asc'}\r\n                                    onClick={() => createSortHandler(col, direction)}\r\n                                >\r\n                                    {col.name}\r\n                                </MuiTableSortLabel>\r\n                            ) :\r\n                                col.name\r\n                            }\r\n                        </TableCell>\r\n                    )\r\n                })}\r\n            </TableRow>\r\n        </TableHead>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\r\nimport {\r\n    TableContainer,\r\n    Table,\r\n    TableBody,\r\n    TableRow,\r\n    TableCell,\r\n    TablePagination,\r\n    Checkbox,\r\n    IconButton,\r\n    Avatar,\r\n    ListItem,\r\n    ListItemAvatar,\r\n    ListItemText,\r\n    Chip,\r\n    Badge,\r\n    Box,\r\n    LinearProgress,\r\n    Typography\r\n} from '@material-ui/core'\r\nimport {\r\n    MdFirstPage,\r\n    MdKeyboardArrowLeft,\r\n    MdKeyboardArrowRight,\r\n    MdLastPage\r\n} from 'react-icons/md'\r\n// import { RiStickyNoteFill } from 'react-icons/ri';\r\n// import { schools as schoolsData } from '../../data/mock-data'\r\nimport { useTask } from '../../hooks/TaskContext'\r\nimport MenuOptions from './MenuOptions/MenuOptions'\r\nimport * as ReducerActions from '../../../../constants/ActionTypes'\r\nimport { Consts } from '../../TasksConfig'\r\nimport { useAuth } from '../../../../hooks/AuthContext'\r\nimport { getColumns } from '../../TasksConfig'\r\nimport { roleNames, purposeNames, taskStatusNames, taskResultNames } from '../../../../constants/Generals'\r\nimport SortableTableHeaders from './SortableTableHeaders'\r\nimport Highlighter from 'react-highlight-words'\r\n// import { Pagination } from '@material-ui/lab';\r\n// import PropTypes from 'prop-types'\r\nimport { Snackbars, LinearProgressBars } from '../../../../components'\r\nimport classes from './Tables.module.scss'\r\nimport { parseDateToString } from '../../../../utils/DateTimes'\r\n\r\n// Customize component TablePagination\r\nfunction TablePaginationActions(props) {\r\n    const theme = useTheme()\r\n\r\n    const { count, page, rowsPerPage, totalPage, onChangePage } = props\r\n\r\n    // console.log(`count=${count}, page=${page}, rowsPerPage=${rowsPerPage}`)\r\n\r\n    const handleFirstPageButtonClick = (event) => {\r\n        onChangePage(event, 0) // firstPage has index = 0\r\n    }\r\n\r\n    const handleLastPageButtonClick = (event) => {\r\n        onChangePage(event, Math.ceil(count / rowsPerPage) - 1)\r\n    }\r\n\r\n    const handleBackPageButtonClick = (event) => {\r\n        onChangePage(event, page - 1) // current page - 1\r\n    }\r\n\r\n    const handleNextPageButtonClick = (event) => {\r\n        onChangePage(event, page + 1) // current page + 1\r\n    }\r\n\r\n    return (\r\n        <div className={classes.paging}>\r\n            <IconButton\r\n                onClick={handleFirstPageButtonClick}\r\n                disabled={page === 0}\r\n                aria-label=\"first page\"\r\n            >\r\n                {theme.direction === 'rtl' ? <MdLastPage /> : <MdFirstPage />}\r\n            </IconButton>\r\n            <IconButton\r\n                onClick={handleBackPageButtonClick}\r\n                disabled={page === 0}\r\n                aria-label=\"previous page\"\r\n            >\r\n                {theme.direction === 'rtl' ? (\r\n                    <MdKeyboardArrowRight />\r\n                ) : (\r\n                    <MdKeyboardArrowLeft />\r\n                )}\r\n            </IconButton>\r\n            <span>\r\n                {page + 1} / {totalPage}\r\n            </span>\r\n            <IconButton\r\n                onClick={handleNextPageButtonClick}\r\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n                aria-label=\"next page\"\r\n            >\r\n                {theme.direction === 'rtl' ? (\r\n                    <MdKeyboardArrowLeft />\r\n                ) : (\r\n                    <MdKeyboardArrowRight />\r\n                )}\r\n            </IconButton>\r\n            <IconButton\r\n                onClick={handleLastPageButtonClick}\r\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n                aria-label=\"last page\"\r\n            >\r\n                {theme.direction === 'rtl' ? <MdFirstPage /> : <MdLastPage />}\r\n            </IconButton>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    itemPIC: {\r\n        padding: 0,\r\n        margin: 0,\r\n    },\r\n    itemTextLarge: {\r\n        fontSize: '1rem',\r\n    },\r\n    itemTextMedium: {\r\n        fontSize: '0.875rem',\r\n    },\r\n    itemTextSmall: {\r\n        fontSize: '0.8rem',\r\n    },\r\n}))\r\n\r\n// Customize component Table\r\nfunction Tables(props) {\r\n    const styles = useStyles()\r\n    // Use States and Props to pass data for rows and columns from the Container/Page\r\n    const {\r\n        selectedRows,\r\n        setSelectedRows,\r\n        rows,\r\n        totalRecord,\r\n        totalPage,\r\n        refreshAPI,\r\n    } = props\r\n    const { messages } = Consts\r\n\r\n    const [notify, setNotify] = React.useState({\r\n        isOpen: false,\r\n        message: '',\r\n        type: '',\r\n    })\r\n    //Use states which have been declared in the TaskContext\r\n    const {\r\n        params,\r\n        dispatchParams,\r\n        limit,\r\n        direction,\r\n        column,\r\n        setColumn,\r\n        setLimit,\r\n        setPage,\r\n        setDirection,\r\n    } = useTask()\r\n    const { user } = useAuth()\r\n\r\n    const columns = getColumns(user?.roles[0])\r\n\r\n    const handleSelectAllClick = (event) => {\r\n        if (event.target.checked) {\r\n            const newSelecteds = rows.filter((row) => !row?.username)\r\n            setSelectedRows(newSelecteds)\r\n            return\r\n        }\r\n        setSelectedRows([])\r\n    }\r\n    const handleClick = (event, row) => {\r\n        // console.log(event.target.checked)\r\n        const selectedIndex = selectedRows.indexOf(row)\r\n        let newSelected = []\r\n\r\n        if (selectedIndex === -1) {\r\n            newSelected = newSelected.concat(selectedRows, row)\r\n        } else if (selectedIndex === 0) {\r\n            newSelected = newSelected.concat(selectedRows.slice(1))\r\n        } else if (selectedIndex === selectedRows.length - 1) {\r\n            newSelected = newSelected.concat(selectedRows.slice(0, -1))\r\n        } else if (selectedIndex > 0) {\r\n            newSelected = newSelected.concat(\r\n                selectedRows.slice(0, selectedIndex),\r\n                selectedRows.slice(selectedIndex + 1)\r\n            )\r\n        }\r\n        // console.log('index ', selectedIndex)\r\n        // console.log('mảng ', newSelected)\r\n        setSelectedRows(newSelected)\r\n    }\r\n\r\n    const isSelected = (row) => {\r\n        if (selectedRows.indexOf(row) !== -1) return true\r\n        else return false\r\n    }\r\n\r\n    // ====================Paging====================\r\n    const handleChangePage = (event, newPage) => {\r\n        setSelectedRows([])\r\n        setPage(newPage)\r\n        dispatchParams({\r\n            type: ReducerActions.CHANGE_PAGE,\r\n            payload: {\r\n                page: newPage,\r\n                limit: params.limit,\r\n            },\r\n        })\r\n    }\r\n    const handleChangeLimit = (event) => {\r\n        setLimit(parseInt(event.target.value, 10))\r\n        setPage(0)\r\n        dispatchParams({\r\n            type: ReducerActions.CHANGE_PAGE,\r\n            payload: {\r\n                page: 0,\r\n                limit: parseInt(event.target.value, 10),\r\n            },\r\n        })\r\n    }\r\n\r\n    // ====================Sorting====================\r\n    const onSortBy = (col, direction) => {\r\n        if (col.sortable) {\r\n            setDirection(direction === 'desc' ? 'asc' : 'desc')\r\n            setColumn(col.key)\r\n\r\n            // Xử lý logic (dispatch reducer, gọi API,... ở đây)\r\n            dispatchParams({\r\n                type: ReducerActions.SORT_BY,\r\n                payload: {\r\n                    column: col.key,\r\n                    direction: direction,\r\n                },\r\n            })\r\n        }\r\n    }\r\n\r\n    const setPurposeChipColor = (purpose) => {\r\n        switch (purpose) {\r\n            case purposeNames.purp1:\r\n                return <Chip label={purpose} className={classes.chipSalesMoi} />\r\n            // case purposeNames.purp2:\r\n            // return <Chip label={purpose} className={classes.chipTheoDoi} />\r\n            case purposeNames.purp3:\r\n                return <Chip label={purpose} className={classes.chipChamSoc} />\r\n            case purposeNames.purp4:\r\n                return <Chip label={purpose} className={classes.chipTaiKy} />\r\n            case purposeNames.purp5:\r\n                return <Chip label={purpose} className={classes.chipKyMoi} />\r\n            default:\r\n                return <Chip label={purpose} /> // #5c21f3\r\n        }\r\n    }\r\n\r\n    const setTaskStatusChipColor = (result, PIC) => {    //, endDate\r\n        // console.log('taskResult: ', result);\r\n        // const today = new Date()\r\n        // const deadline = new Date(endDate)\r\n        if (PIC) {\r\n            switch (result) {\r\n                case taskResultNames.successful:\r\n                    return <Chip label={taskStatusNames.success} className={classes.chipSuccess} />\r\n                case taskResultNames.tbd:\r\n                    // if (today <= deadline)\r\n                    return <Chip label={taskStatusNames.ongoing} className={classes.chipOnGoing} />\r\n                // else\r\n                case taskResultNames.failed:\r\n                    return <Chip label={taskStatusNames.failed} className={classes.chipFailed} />\r\n                default:\r\n                    break   // ko hiện gì\r\n                // return <Chip label={result} /> // #5c21f3\r\n            }\r\n        } else {\r\n            return <Chip label={taskStatusNames.notStart} />\r\n        }\r\n    }\r\n    //=================================================================================\r\n\r\n    // const setEndDateColor = (endDate, result) => {\r\n    //     // const today = new Date()\r\n    //     // const deadline = new Date(endDate)\r\n    //     // const deadline = new Date('2021-05-17')\r\n    //     // const countToDeadline = Math.round((deadline.getTime() - today.getTime()) / (1000 * 3600 * 24))\r\n    //     const countToDeadline = calculateDatesGap(new Date(), new Date(endDate), 'D')\r\n    //     // console.log('countToDeadline = ', countToDeadline);\r\n\r\n    //     if (result === taskResultNames.successful) {\r\n    //         return '#4caf50'    // 'successEndDate'\r\n    //     }\r\n    //     else if (result === taskResultNames.tbd) {\r\n    //         if (countToDeadline > 15) {\r\n    //             return '#1976d2'    // 'safeEndDate'\r\n    //         } else if (0 <= countToDeadline <= 15) {\r\n    //             return '#ff9800'    // 'warningEndDate'\r\n    //         } else {\r\n    //             return '#fc2718'    // 'overtimeEndDate'\r\n    //         }\r\n    //     } else {    // !result\r\n    //         return '#000'\r\n    //     }\r\n    // }\r\n\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <TableContainer className={classes.container} component=\"div\">\r\n                <Table\r\n                    className={classes.table}\r\n                    stickyHeader\r\n                    size=\"small\"\r\n                    aria-label=\"sticky table\"\r\n                >\r\n                    <SortableTableHeaders\r\n                        user={user}\r\n                        columns={columns}\r\n                        direction={direction}\r\n                        column={column}\r\n                        onRequestSort={onSortBy}\r\n                        onSelectAllClick={handleSelectAllClick}\r\n                        rowCount={\r\n                            rows?.filter((item) => !item.username)?.length\r\n                        }\r\n                        numSelected={selectedRows?.length}\r\n                    />\r\n                    <TableBody className={classes.tBody}>\r\n                        {rows?.length > 0 ? (\r\n                            rows.map((row, index) => {\r\n                                return (\r\n                                    <TableRow\r\n                                        key={row?.id}\r\n                                        className={classes.tBodyRow}\r\n                                        // hover\r\n                                        role=\"checkbox\"\r\n                                        aria-checked={isSelected(row)}\r\n                                        tabIndex={-1}\r\n                                        selected={isSelected(row)}\r\n                                    >\r\n                                        {user.roles[0] !==\r\n                                            roleNames.salesman && (\r\n                                                <TableCell\r\n                                                    padding=\"checkbox\"\r\n                                                    onClick={(event) => {\r\n                                                        !row?.username &&\r\n                                                            handleClick(event, row)\r\n                                                    }}\r\n                                                >\r\n                                                    <Checkbox\r\n                                                        checked={row?.username ? false : isSelected(row)}\r\n                                                        disabled={row?.username ? true : false}\r\n                                                    />\r\n                                                </TableCell>\r\n                                            )}\r\n                                        <TableCell\r\n                                            className={classes.tBodyCell}\r\n                                            align=\"center\"\r\n                                        >\r\n                                            {params.page * params.limit + index + 1}\r\n                                        </TableCell>\r\n                                        <TableCell className={classes.tBodyCell}>\r\n                                            <ListItemText\r\n                                                primary={\r\n                                                    <>\r\n                                                        {`${row?.level} `}\r\n                                                        <Highlighter\r\n                                                            highlightClassName=\"YourHighlightClass\"\r\n                                                            searchWords={[params.searchKey]}\r\n                                                            autoEscape={true}\r\n                                                            textToHighlight={row?.schoolName || ''}\r\n                                                        />\r\n                                                        {/* {row?.note && (\r\n                                                            <Badge color=\"secondary\" variant=\"dot\">\r\n                                                                <RiStickyNoteFill className={classes.iconNote} />\r\n                                                            </Badge>\r\n                                                        )} */}\r\n                                                    </>\r\n                                                }\r\n                                                secondary={row?.district}\r\n                                                classes={{\r\n                                                    primary: styles.itemTextLarge,\r\n                                                    secondary: styles.itemTextMedium,\r\n                                                }}\r\n                                            />\r\n                                        </TableCell>\r\n                                        {/* <TableCell\r\n                                            className={classes.tBodyCell}\r\n                                            width={user.roles[0] !== roleNames.salesman ? '14%' : '22%'}\r\n                                        >\r\n                                            <>\r\n                                                {row?.reprName\r\n                                                    ? row?.reprIsMale ? 'Mr. ' : 'Ms. '\r\n                                                    : ''\r\n                                                }\r\n                                                <Highlighter\r\n                                                    highlightClassName=\"YourHighlightClass\"\r\n                                                    searchWords={[params.searchKey]}\r\n                                                    autoEscape={true}\r\n                                                    textToHighlight={row?.reprName || ''}\r\n                                                />\r\n                                            </>\r\n                                        </TableCell> */}\r\n                                        {user.roles[0] !== roleNames.salesman && (\r\n                                            <TableCell className={classes.tBodyCell}>\r\n                                                {row?.fullName && (\r\n                                                    <ListItem className={classes.itemPIC}>\r\n                                                        <ListItemAvatar>\r\n                                                            <Avatar src={row?.avatar} />\r\n                                                        </ListItemAvatar>\r\n                                                        <ListItemText\r\n                                                            className={classes.picName}\r\n                                                            primary={\r\n                                                                <Highlighter\r\n                                                                    highlightClassName=\"YourHighlightClass\"\r\n                                                                    searchWords={[params.searchKey]}\r\n                                                                    autoEscape={true}\r\n                                                                    textToHighlight={row?.fullName || ''}\r\n                                                                />\r\n                                                            }\r\n                                                            secondary={\r\n                                                                <Highlighter\r\n                                                                    highlightClassName=\"YourHighlightClass\"\r\n                                                                    searchWords={[params.searchKey]}\r\n                                                                    autoEscape={true}\r\n                                                                    textToHighlight={row?.username || ''}\r\n                                                                />\r\n                                                            }\r\n                                                            classes={{\r\n                                                                primary: styles.itemTextMedium,\r\n                                                                secondary: styles.itemTextSmall,\r\n                                                            }}\r\n                                                        />\r\n                                                    </ListItem>\r\n                                                )}\r\n                                            </TableCell>\r\n                                        )}\r\n                                        {/* <TableCell\r\n                                            className={classes.tBodyCell}\r\n                                            width={\r\n                                                user.roles[0] !==\r\n                                                    roleNames.salesman ? '17%' : '20%'\r\n                                            }\r\n                                        >\r\n                                            <Highlighter\r\n                                                highlightClassName=\"YourHighlightClass\"\r\n                                                searchWords={[params.searchKey]}\r\n                                                autoEscape={true}\r\n                                                textToHighlight={row?.schoolYear || ''}\r\n                                            />\r\n                                        </TableCell> */}\r\n                                        <TableCell className={classes.tBodyCell}>\r\n                                            {row?.purpose && setPurposeChipColor(row?.purpose)}\r\n                                        </TableCell>\r\n                                        <TableCell className={classes.tBodyCellDuration}>\r\n                                            {row?.result === taskResultNames.tbd ? (\r\n                                                <LinearProgressBars\r\n                                                    startDate={row?.assignDate}\r\n                                                    endDate={row?.endDate}\r\n                                                    marker={new Date()}\r\n                                                />\r\n                                            ) : (\r\n                                                <>\r\n                                                    {row?.assignDate ? parseDateToString(row?.assignDate, 'DD-MM-YYYY') : '?'}\r\n                                                    {/* {parseDateToString(row?.assignDate, 'DD-MM-YYYY')} ➜ &nbsp; */}\r\n                                                    ➜ &nbsp;\r\n                                                    {parseDateToString(row?.endDate, 'DD-MM-YYYY')}\r\n                                                </>\r\n                                            )}\r\n                                        </TableCell>\r\n                                        {/* <TableCell className={classes.tBodyCell}>\r\n                                            {row?.endDate && (\r\n                                                <strong style={{ color: setEndDateColor(row?.endDate, row?.result) }}>\r\n                                                    <Highlighter\r\n                                                        highlightClassName=\"YourHighlightClass\"\r\n                                                        searchWords={[params.searchKey]}\r\n                                                        autoEscape={true}\r\n                                                        textToHighlight={parseDateToString(row?.endDate, 'DD-MM-yyyy') || ''}\r\n                                                    />\r\n                                                </strong>\r\n                                            )}\r\n                                        </TableCell> */}\r\n                                        <TableCell className={classes.tBodyCell}>\r\n                                            {setTaskStatusChipColor(row?.result, row?.username)\r\n                                                //, row?.endDate\r\n                                            }\r\n                                        </TableCell>\r\n                                        <TableCell className={classes.tBodyCell} align=\"right\">\r\n                                            <MenuOptions\r\n                                                data={row}\r\n                                                notify={notify}\r\n                                                setNotify={setNotify}\r\n                                                refreshAPI={refreshAPI}\r\n                                            />\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                )\r\n                            })\r\n                        ) : (\r\n                            <TableRow className={classes.tBodyRow}>\r\n                                <TableCell\r\n                                    className={classes.noRecord}\r\n                                    component=\"td\"\r\n                                    colSpan=\"100%\"\r\n                                >\r\n                                    {messages.notFound}\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        )}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n            <TablePagination\r\n                rowsPerPageOptions={[10, 20, 50]}\r\n                component=\"div\"\r\n                // colSpan={3}\r\n                count={totalRecord ? totalRecord : 0}\r\n                rowsPerPage={limit}\r\n                page={params.page}\r\n                SelectProps={{\r\n                    inputProps: {\r\n                        'aria-label': 'rows per page',\r\n                    },\r\n                    native: true,\r\n                }}\r\n                onChangePage={handleChangePage}\r\n                onChangeRowsPerPage={handleChangeLimit}\r\n                // ActionsComponent={TablePaginationActions}\r\n                ActionsComponent={() => (\r\n                    <TablePaginationActions\r\n                        count={totalRecord ? totalRecord : 0}\r\n                        page={params.page}\r\n                        rowsPerPage={params.limit}\r\n                        totalPage={totalPage}\r\n                        onChangePage={handleChangePage}\r\n                    />\r\n                )}\r\n            />\r\n\r\n            <Snackbars notify={notify} setNotify={setNotify} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Tables)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { Filters, Tables } from './components'\r\nimport { useTask } from './hooks/TaskContext'\r\nimport * as TasksServices from './TasksServices'\r\nimport { useAuth } from '../../hooks/AuthContext'\r\nimport { roleNames } from '../../constants/Generals'\r\nimport { Loading } from '../../components'\r\nimport classes from './Tasks.module.scss'\r\n\r\nfunction Tasks() {\r\n    const history = useHistory()\r\n    const [selectedRows, setSelectedRows] = React.useState([])\r\n    const { params } = useTask()\r\n    const { listFilters, page, limit, column, direction, searchKey } = params\r\n\r\n    const { user } = useAuth()\r\n\r\n    const [data, setData] = useState(null)\r\n\r\n    function onGetTasks(\r\n        page = 0,\r\n        limit = 10,\r\n        column = 'assignDate',\r\n        direction = 'desc',\r\n        searchKey,\r\n        listFilters,\r\n        picUsername\r\n    ) {\r\n        TasksServices.getTasks(\r\n            page,\r\n            limit,\r\n            column,\r\n            direction,\r\n            searchKey,\r\n            listFilters,\r\n            picUsername\r\n        )\r\n            .then((res) => {\r\n                setData(res)\r\n                // console.log(\"list tasks = \", res.list);\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (user.roles[0] === roleNames.salesman) {\r\n            onGetTasks(page, limit, column, direction, searchKey, listFilters, user.username)\r\n        } else {\r\n            onGetTasks(page, limit, column, direction, searchKey, listFilters)\r\n        }\r\n        // return () => setData(null)\r\n    }, [params])\r\n\r\n    if (!data) {\r\n        return <Loading />\r\n    }\r\n\r\n    return (\r\n        <div className={classes.panel}>\r\n            <Filters\r\n                className={classes.filter}\r\n                selectedRows={selectedRows}\r\n                setSelectedRows={setSelectedRows}\r\n                refreshAPI={onGetTasks}\r\n            />\r\n            <Tables\r\n                selectedRows={selectedRows}\r\n                setSelectedRows={setSelectedRows}\r\n                rows={data.list}\r\n                totalRecord={data.totalElements}\r\n                totalPage={data.totalPage}\r\n                refreshAPI={onGetTasks}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Tasks\r\n","export const Consts = {\r\n    headers: {\r\n        child1: 'School Detail',\r\n        child2: 'School Status',    //Target School Status\r\n        child3: 'Principal Detail',\r\n        child4: 'Salesman Note',\r\n    },\r\n    operations: {\r\n        cancel: 'Cancel',\r\n        save: 'Save',\r\n    },\r\n    fields: {\r\n        empty: {\r\n            title: 'N/A',\r\n        },\r\n        name: {\r\n            title: 'School Name',\r\n        },\r\n        addr: {\r\n            title: 'Address',\r\n        },\r\n        dist: {\r\n            title: 'District',\r\n        },\r\n        eduLvl: {\r\n            title: 'Educational Level',\r\n        },\r\n        // scale: {\r\n        //     title: 'School Scale',\r\n        // },\r\n        type: {\r\n            title: 'School Type',\r\n        },\r\n        salesStatus: {\r\n            title: 'School Status',  //Target School Status\r\n        },\r\n        tel: {\r\n            title: 'Tel',\r\n        },\r\n        des: {\r\n            title: 'Description',\r\n        },\r\n        reprName: {\r\n            title: 'Full Name',\r\n        },\r\n        reprIsMale: {\r\n            title: 'Gender',\r\n            male: {\r\n                lb: 'Male',\r\n                value: 'true',\r\n            },\r\n            female: {\r\n                lb: 'Female',\r\n                value: 'false',\r\n            },\r\n        },\r\n        reprEmail: {\r\n            title: 'Email',\r\n        },\r\n        reprPhone: {\r\n            title: 'Phone',\r\n        },\r\n        pic: {\r\n            title: 'PIC',\r\n        },\r\n        purpose: {\r\n            title: 'Sales Purpose',\r\n        },\r\n        schlYear: {\r\n            title: 'School Year',\r\n        },\r\n        note: {\r\n            title: 'Manager Note',\r\n            hasNote: 'Last note by',\r\n            noNote: 'No notes yet',\r\n        },\r\n    },\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport {\r\n    Button,\r\n    Grid,\r\n    Icon,\r\n    Select,\r\n    Typography,\r\n    makeStyles,\r\n    MenuItem,\r\n    TextField,\r\n    InputLabel,\r\n    RadioGroup,\r\n    FormControlLabel,\r\n    Radio,\r\n} from '@material-ui/core'\r\nimport { Snackbars, Loading } from '../../../../components'\r\nimport { Consts } from './SchoolInfoConfig'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport * as yup from 'yup'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport { useAuth } from '../../../../hooks/AuthContext'\r\nimport { useApp } from '../../../../hooks/AppContext'\r\nimport * as Milk from '../../../../utils/Milk'\r\nimport { milkNames } from '../../../../constants/Generals'\r\nimport { roleNames, statusNames } from '../../../../constants/Generals'\r\nimport * as TasksServices from '../../TasksServices'\r\nimport { PHONE_RGX } from '../../../../utils/Regex'\r\n// import UpdateSchStatus from '../../dialogs/UpdateSchStatus/UpdateSchStatus'\r\n// import ConfirmUpdateSchoolStatus from '../../dialogs/ConfirmUpdateSchoolStatus/ConfirmUpdateSchoolStatus'\r\nimport classes from './SchoolInfo.module.scss'\r\n\r\nconst reprSchema = yup.object().shape({\r\n    reprName: yup\r\n        .string()\r\n        .trim()\r\n        .min(4, 'Full name must be at least 4 characters')\r\n        .max(30, 'Name must be at most 30 characters'),\r\n    reprPhone: yup\r\n        .string()\r\n        .max(10, 'Phone must be at most 10 digits')\r\n        .matches(PHONE_RGX, { message: 'Phone number is in wrong format (03|5|7|9xxxxxxxx)', excludeEmptyString: true }),\r\n    reprEmail: yup.string().trim().email('Invalid email'),\r\n})\r\n\r\nconst ITEM_HEIGHT = 120\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT,\r\n        },\r\n    },\r\n    anchorOrigin: {\r\n        vertical: 'top',\r\n        horizontal: 'center',\r\n    },\r\n    transformOrigin: {\r\n        vertical: 'top',\r\n        horizontal: 'center',\r\n    },\r\n    getContentAnchorEl: null,\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {},\r\n    menuItemRoot: {\r\n        '&$menuItemSelected': { backgroundColor: 'rgba(0, 0, 0, 0.08)' },\r\n        '&$menuItemSelected:focus': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.12)',\r\n        },\r\n        '&$menuItemSelected:hover': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.04);',\r\n        },\r\n    },\r\n    menuItemSelected: {},\r\n}))\r\n\r\nfunction SchoolInfo(props) {\r\n    const { task, refreshPage } = props\r\n    const { headers, operations, fields } = Consts\r\n    const styles = useStyles()\r\n\r\n    // console.log('SchoolInfo - task: ', task);\r\n\r\n    const { user } = useAuth()\r\n    const { schStatus } = useApp()\r\n    const bakSchStatus = schStatus ? schStatus : Milk.getMilk(milkNames.status)\r\n\r\n    const history = useHistory()\r\n\r\n    const [currStatus, setCurrStatus] = useState(task?.schoolStatus)\r\n\r\n    const [open, setOpen] = useState(false)\r\n    const [openConfirmNgungHT, setOpenConfirmNgungHT] = useState(false)\r\n\r\n    const [notify, setNotify] = useState({\r\n        isOpen: false,\r\n        message: '',\r\n        type: '',\r\n    })\r\n\r\n    const reprValues = {\r\n        // id: task?.id,\r\n        reprName: task?.reprName ? task?.reprName : '',\r\n        reprIsMale: String(task?.reprIsMale)\r\n            ? String(task?.reprIsMale)\r\n            : String(true),\r\n        reprPhone: task?.reprPhone ? task?.reprPhone : '',\r\n        reprEmail: task?.reprEmail ? task?.reprEmail : '',\r\n    }\r\n\r\n    const statusValues = {\r\n        // id: task?.id,\r\n        schoolStatus: task?.schoolStatus\r\n            ? task?.schoolStatus\r\n            : bakSchStatus[0],\r\n    }\r\n\r\n    const {\r\n        control: reprControl,\r\n        errors: reprErrors,\r\n        handleSubmit: reprSubmit,\r\n        formState: reprState,\r\n        reset: reprReset,\r\n    } = useForm({\r\n        resolver: yupResolver(reprSchema),\r\n        defaultValues: reprValues,\r\n    })\r\n\r\n    const {\r\n        control: statusControl,\r\n        // errors,\r\n        handleSubmit: statusSubmit,\r\n        // formState,\r\n        reset: statusReset,\r\n        setValue: setStatus,\r\n    } = useForm({\r\n        defaultValues: statusValues,\r\n    })\r\n\r\n    useEffect(() => {\r\n        reprReset({\r\n            // id: task?.id,\r\n            reprName: task?.reprName ? task?.reprName : '',\r\n            reprIsMale: String(task?.reprIsMale)\r\n                ? String(task?.reprIsMale)\r\n                : String(true),\r\n            reprPhone: task?.reprPhone ? task?.reprPhone : '',\r\n            reprEmail: task?.reprEmail ? task?.reprEmail : '',\r\n        })\r\n    }, [task])\r\n\r\n    useEffect(() => {\r\n        statusReset({\r\n            // id: task?.id,\r\n            schoolStatus: task?.schoolStatus\r\n                ? task?.schoolStatus\r\n                : bakSchStatus[0],\r\n        })\r\n    }, [task])\r\n\r\n    if (!schStatus || !task) {\r\n        return <Loading />\r\n    }\r\n\r\n    // if (!task) {\r\n    //     return <Loading />\r\n    // }\r\n\r\n    const onReprSubmit = (data) => {\r\n        const model = {\r\n            ...data,\r\n            reprIsMale: data.reprIsMale === 'true' ? true : false,\r\n\r\n            // note: task?.note,\r\n            // purpose: task?.purpose,\r\n            // schoolYear: task?.schoolYear,\r\n        }\r\n\r\n        TasksServices.updatePrinciple(task?.schoolId, model)\r\n            .then((res) => {\r\n                refreshPage(task?.id)\r\n                setNotify({\r\n                    isOpen: true,\r\n                    message: 'Updated Successfully',\r\n                    type: 'success',\r\n                })\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n                setNotify({\r\n                    isOpen: true,\r\n                    message: 'Updated failed',\r\n                    type: 'error',\r\n                })\r\n            })\r\n\r\n        // alert(JSON.stringify(model))\r\n    }\r\n\r\n    // const validateStatus = (currStatus, newStatus) => {\r\n    //     let isOK = false\r\n\r\n    //     switch (currStatus) {\r\n    //         case statusNames.lead:\r\n    //             // console.log(task?.services)\r\n\r\n    //             if (newStatus === statusNames.lead) {\r\n    //                 console.log('lead to lead')\r\n    //                 // return console.log('yes')\r\n    //                 return (isOK = true)\r\n    //             }\r\n    //             if (newStatus === statusNames.customer) {\r\n    //                 console.log('lead to cust')\r\n    //                 if (task?.services) {\r\n    //                     // return console.log('yes')\r\n    //                     return (isOK = true)\r\n    //                 } else {\r\n    //                     // return console.log('no')\r\n    //                     return (isOK = false)\r\n    //                 }\r\n    //             }\r\n    //             if (newStatus === statusNames.pending) {\r\n    //                 console.log('lead to pending')\r\n    //                 // return console.log('yes')\r\n    //                 return (isOK = true)\r\n    //             }\r\n\r\n    //             break\r\n    //         case statusNames.customer:\r\n    //             // console.log(task?.services)\r\n\r\n    //             if (newStatus === statusNames.lead) {\r\n    //                 console.log('cust to lead')\r\n    //                 // return console.log('no')\r\n    //                 return (isOK = false)\r\n    //             }\r\n    //             if (newStatus === statusNames.customer) {\r\n    //                 console.log('cust to cust')\r\n    //                 // return console.log('yes')\r\n    //                 return (isOK = true)\r\n    //             }\r\n    //             if (newStatus === statusNames.pending) {\r\n    //                 console.log('cust to pending')\r\n    //                 // return console.log('yes')\r\n    //                 return (isOK = true)\r\n    //             }\r\n\r\n    //             break\r\n    //         case statusNames.pending:\r\n    //             // console.log(task?.services)\r\n    //             if (user.roles[0] !== roleNames.salesman) {\r\n    //                 if (newStatus === statusNames.lead) {\r\n    //                     console.log('pending to lead')\r\n    //                     if (task?.services) {\r\n    //                         // return console.log('no')\r\n    //                         return (isOK = false)\r\n    //                     } else {\r\n    //                         // return console.log('yes')\r\n    //                         return (isOK = true)\r\n    //                     }\r\n    //                 }\r\n    //                 if (newStatus === statusNames.customer) {\r\n    //                     console.log('pending to cust')\r\n    //                     // return console.log('yes')\r\n    //                     return (isOK = true)\r\n    //                 }\r\n    //                 if (newStatus === statusNames.pending) {\r\n    //                     console.log('pending to pending')\r\n    //                     // return console.log('yes')\r\n    //                     return (isOK = true)\r\n    //                 }\r\n    //             } else {\r\n    //                 if (newStatus === statusNames.lead) {\r\n    //                     console.log('pending to lead')\r\n    //                     // return console.log('no')\r\n    //                     return (isOK = false)\r\n    //                 }\r\n    //                 if (newStatus === statusNames.customer) {\r\n    //                     console.log('pending to cust')\r\n    //                     // return console.log('no')\r\n    //                     return (isOK = false)\r\n    //                 }\r\n    //                 if (newStatus === statusNames.pending) {\r\n    //                     console.log('pending to pending')\r\n    //                     // return console.log('no')\r\n    //                     return (isOK = false)\r\n    //                 }\r\n    //             }\r\n    //             break\r\n    //         default:\r\n    //             break\r\n    //     }\r\n    // }\r\n\r\n    const resetStatus = () => {\r\n        statusReset({\r\n            // id: task?.id,\r\n            schoolStatus: task?.schoolStatus\r\n                ? task?.schoolStatus\r\n                : bakSchStatus[0],\r\n        })\r\n    }\r\n\r\n    const onStatusSubmit = (data) => {\r\n        const model = {\r\n            ...data,\r\n            // level: task?.level,\r\n            // type: task?.schoolType,\r\n            // scale: task?.schoolScale,\r\n        }\r\n        setCurrStatus(model)\r\n        // const ok = validateStatus(task?.schoolStatus, data.schoolStatus)\r\n\r\n        // if (ok) {\r\n        //     TasksServices.updateStatus(task?.schoolId, model)\r\n        //         .then((res) => {\r\n        //             refreshPage(task?.id)\r\n        //             setNotify({\r\n        //                 isOpen: true,\r\n        //                 message: 'Updated Successfully',\r\n        //                 type: 'success',\r\n        //             })\r\n        //         })\r\n        //         .catch((error) => {\r\n        //             if (error.response) {\r\n        //                 console.log(error)\r\n        //                 history.push({\r\n        //                     pathname: '/errors',\r\n        //                     state: { error: error.response.status },\r\n        //                 })\r\n        //             }\r\n        //             setNotify({\r\n        //                 isOpen: true,\r\n        //                 message: 'Updated failed',\r\n        //                 type: 'error',\r\n        //             })\r\n        //         })\r\n        // } else {\r\n        //     statusReset({\r\n        //         // id: task?.id,\r\n        //         schoolStatus: task?.schoolStatus\r\n        //             ? task?.schoolStatus\r\n        //             : bakSchStatus[0],\r\n        //     })\r\n        //     setNotify({\r\n        //         isOpen: true,\r\n        //         // message: `Cannot change ${task?.schoolStatus} to ${data.schoolStatus}`,\r\n        //         message: 'This current status cannot be changed',\r\n        //         type: 'warning',\r\n        //     })\r\n        // }\r\n\r\n        const allowUpdate = () => {\r\n            TasksServices.updateStatus(task?.schoolId, model)\r\n                .then((res) => {\r\n                    refreshPage(task?.id)\r\n                    setNotify({\r\n                        isOpen: true,\r\n                        message: \"Updated school's status successfully\",\r\n                        type: 'success',\r\n                    })\r\n                })\r\n                .catch((error) => {\r\n                    if (error.response) {\r\n                        console.log(error)\r\n                        history.push({\r\n                            pathname: '/errors',\r\n                            state: { error: error.response.status },\r\n                        })\r\n                    }\r\n                    setNotify({\r\n                        isOpen: true,\r\n                        message: \"Updated school's status failed\",\r\n                        type: 'error',\r\n                    })\r\n                })\r\n        }\r\n\r\n        const preventUpdate = () => {\r\n            statusReset({\r\n                // id: task?.id,\r\n                schoolStatus: task?.schoolStatus\r\n                    ? task?.schoolStatus\r\n                    : bakSchStatus[0],\r\n            })\r\n            setNotify({\r\n                isOpen: true,\r\n                // message: `Cannot change ${task?.schoolStatus} to ${data.schoolStatus}`,\r\n                message: 'This current status cannot be changed',\r\n                type: 'warning',\r\n            })\r\n        }\r\n\r\n        const confirmUpdate = () => {\r\n            setOpen(true)\r\n        }\r\n\r\n        // const confirmUpdateToNgungHT = () => {\r\n        //     setOpenConfirmNgungHT(true)\r\n        // }\r\n\r\n        switch (task?.schoolStatus) {\r\n            case statusNames.lead:\r\n                // console.log(task?.services)\r\n\r\n                // Ko có tác dụng gì vì useState() đã chặn rồi\r\n                // if (data.schoolStatus === statusNames.lead) {\r\n                //     // console.log('lead to lead')\r\n                //     // return console.log('yes')\r\n                //     allowUpdate()\r\n                // }\r\n                if (data.schoolStatus === statusNames.customer) {\r\n                    // console.log('lead to cust')\r\n                    //   need config\r\n                    // if (task?.services) {\r\n                    //     // return console.log('yes')\r\n                    //     allowUpdate()\r\n                    // } else {\r\n                    //     // return console.log('no')\r\n                    //     preventUpdate()\r\n                    // }\r\n                    confirmUpdate()\r\n                }\r\n                if (data.schoolStatus === statusNames.pending) {\r\n                    // console.log('lead to pending')\r\n                    // return console.log('yes')\r\n                    allowUpdate()\r\n\r\n                    // open the confirm dialog before updating\r\n                    // confirmUpdateToNgungHT()\r\n                    // setOpenConfirmNgungHT(true)  // nó ko cho update trực tiếp ở đây\r\n                }\r\n                break\r\n\r\n            case statusNames.customer:\r\n                // console.log(task?.services)\r\n                if (data.schoolStatus === statusNames.lead) {\r\n                    // console.log('cust to lead')\r\n                    // return console.log('no')\r\n                    preventUpdate()\r\n                }\r\n                // Ko có tác dụng gì vì useState() đã chặn rồi\r\n                // if (data.schoolStatus === statusNames.customer) {\r\n                //     // console.log('cust to cust')\r\n                //     // return console.log('yes')\r\n                //     allowUpdate()\r\n                // }\r\n                if (data.schoolStatus === statusNames.pending) {\r\n                    // console.log('cust to pending')\r\n                    // return console.log('yes')\r\n                    allowUpdate()\r\n\r\n                    // open the confirm dialog before updating\r\n                    // confirmUpdateToNgungHT()\r\n                }\r\n                break\r\n\r\n            case statusNames.pending:    // ko tác động đc các trường đã NgưngHT. Sau này làm sau.\r\n                // // console.log(task?.services)\r\n\r\n                // if (user.roles[0] !== roleNames.salesman) {\r\n                //     if (data.schoolStatus === statusNames.lead) {\r\n                //         // console.log('pending to lead')\r\n                //         if (task?.services) {\r\n                //             // return console.log('no')\r\n                //             preventUpdate()\r\n                //         } else {\r\n                //             // return console.log('yes')\r\n                //             allowUpdate()\r\n                //         }\r\n                //     }\r\n                //     if (data.schoolStatus === statusNames.customer) {\r\n                //         // console.log('pending to cust')\r\n                //         if (task?.services) {\r\n                //             // return console.log('yes')\r\n                //             allowUpdate()\r\n                //         } else {\r\n                //             // return console.log('no')\r\n                //             preventUpdate()\r\n                //         }\r\n                //     }\r\n                //     if (data.schoolStatus === statusNames.pending) {\r\n                //         // console.log('pending to pending')\r\n                //         // return console.log('yes')\r\n                //         allowUpdate()\r\n                //     }\r\n                // } else {\r\n                if (data.schoolStatus === statusNames.lead) {\r\n                    // console.log('pending to lead')\r\n                    // return console.log('no')\r\n                    preventUpdate()\r\n                }\r\n                if (data.schoolStatus === statusNames.customer) {\r\n                    // console.log('pending to cust')\r\n                    // return console.log('no')\r\n                    preventUpdate()\r\n                }\r\n                //     if (data.schoolStatus === statusNames.pending) {\r\n                //         // console.log('pending to pending')\r\n                //         // return console.log('no')\r\n                //         preventUpdate()\r\n                //     }\r\n                // }\r\n                break\r\n            default:\r\n                break\r\n        }\r\n\r\n        // alert(JSON.stringify(model))\r\n    }\r\n\r\n    return (\r\n        <div className={classes.panel}>\r\n            <Grid container spacing={0} className={classes.body}>\r\n                {/* School detail Sector */}\r\n                <Grid item xs={12} sm={12} md={12} lg={12} className={classes.content}>\r\n                    <Grid container spacing={0} className={classes.wrapper}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                            <Typography\r\n                                color=\"inherit\"\r\n                                className={classes.header}\r\n                            >\r\n                                {headers.child1}\r\n                            </Typography>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                            <Grid container spacing={0} className={classes.rowx}>\r\n                                <Grid item xs={12} sm={12} md={3} lg={3} className={classes.rowx}>\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.title}\r\n                                    >\r\n                                        {fields.name.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={12} md={9} lg={8} className={classes.rowx}>\r\n                                    <Typography color=\"inherit\">\r\n                                        {task?.level} {task?.schoolName}\r\n                                    </Typography>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                            <Grid container spacing={0} className={classes.rowx}>\r\n                                <Grid item xs={12} sm={12} md={3} lg={3} className={classes.rowx}>\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.title}\r\n                                    >\r\n                                        {fields.addr.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={12} md={9} lg={8} className={classes.rowx}>\r\n                                    <Typography color=\"inherit\">\r\n                                        {task?.schoolAddress}\r\n                                    </Typography>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                            <Grid container spacing={0} className={classes.rowx}>\r\n                                <Grid item xs={12} sm={12} md={3} lg={3} className={classes.rowx}>\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.title}\r\n                                    >\r\n                                        {fields.dist.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={12} md={9} lg={8} className={classes.rowx}>\r\n                                    <Typography color=\"inherit\">\r\n                                        {task?.district}\r\n                                    </Typography>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                            <Grid container spacing={0} className={classes.rowx}>\r\n                                <Grid item xs={12} sm={12} md={3} lg={3} className={classes.rowx}>\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.title}\r\n                                    >\r\n                                        {fields.type.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={12} md={9} lg={8} className={classes.rowx}>\r\n                                    <Typography color=\"inherit\">\r\n                                        {task?.schoolType}\r\n                                    </Typography>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                        {/* <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                            <Grid container spacing={0} className={classes.rowx}>\r\n                                <Grid item xs={12} sm={12} md={3} lg={3} className={classes.rowx}>\r\n                                    <Typography color=\"inherit\" className={classes.title}>\r\n                                        {fields.scale.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                {/.* <Grid item xs={12} sm={12} md={9} lg={8} className={classes.rowx}>\r\n                                    <Typography color=\"inherit\">\r\n                                        {task?.schoolScale}\r\n                                    </Typography>\r\n                                </Grid> *./}\r\n                            </Grid>\r\n                        </Grid> */}\r\n                    </Grid>\r\n                </Grid>\r\n\r\n                {/* School status Sector */}\r\n                {/* {user.roles[0] !== roleNames.salesman || */} {/**Ko cho Manager/Supervisor đổi status */}\r\n                {/* {(user.roles[0] === roleNames.salesman && user.username === task?.username) && (\r\n                    <>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} className={classes.content}>\r\n                            <form noValidate\r\n                            // onSubmit={handleSubmit(onSubmit)}\r\n                            >\r\n                                <Grid container spacing={0} className={classes.wrapper}> */}\r\n                {/* <Grid item xs={12} sm={12} md={3} lg={3} className={classes.row}>\r\n                                        <Typography\r\n                                            color=\"inherit\"\r\n                                            className={classes.header}\r\n                                        >\r\n                                            {headers.child2}\r\n                                        </Typography>\r\n                                    </Grid> */}\r\n\r\n                {/* <Grid item xs={12} sm={12} md={9} lg={8}\r\n                                        className={classes.statusCbZone}\r\n                                    >\r\n                                        <Controller\r\n                                            name=\"schoolStatus\"\r\n                                            control={statusControl}\r\n                                            render={({ value, onChange }) => (\r\n                                                <Select\r\n                                                    value={value}\r\n                                                    onChange={(e) => {\r\n                                                        setStatus(\r\n                                                            'schoolStatus',\r\n                                                            e.target.value\r\n                                                        )\r\n                                                        statusSubmit(onStatusSubmit)()\r\n                                                    }}\r\n                                                    MenuProps={MenuProps}\r\n                                                    disableUnderline\r\n                                                >\r\n                                                    {bakSchStatus.map(\r\n                                                        (data) => (\r\n                                                            <MenuItem\r\n                                                                key={data}\r\n                                                                value={data}\r\n                                                                classes={{\r\n                                                                    root:\r\n                                                                        styles.menuItemRoot,\r\n                                                                    selected:\r\n                                                                        styles.menuItemSelected,\r\n                                                                }}\r\n                                                            >\r\n                                                                {data}\r\n                                                            </MenuItem>\r\n                                                        )\r\n                                                    )}\r\n                                                </Select>\r\n                                            )}\r\n                                        />\r\n                                    </Grid> */}\r\n                {/* Action */}\r\n                {/* <Grid\r\n                    item\r\n                    xs={12}\r\n                    sm={12}\r\n                    md={12}\r\n                    lg={12}\r\n                    className={classes.action}\r\n                >\r\n                    <Button\r\n                        className={classes.submit}\r\n                        variant=\"contained\"\r\n                        // disabled={!cmtState.isDirty}\r\n                        type=\"submit\"\r\n                    >\r\n                        {operations.save}\r\n                    </Button>\r\n                </Grid> */}\r\n                {/* End Action */}\r\n                {/* </Grid>\r\n            </Grid> */}\r\n                {/* </Grid>\r\n                            </form>\r\n                        </Grid> */}\r\n\r\n                {/**Giờ không còn cho Salesman update school status nữa. */}\r\n                {/* <UpdateSchStatus\r\n                            open={open}\r\n                            onClose={() => {\r\n                                resetStatus()\r\n                                setOpen(false)\r\n                            }}\r\n                            resetStatus={resetStatus}\r\n                            task={task}\r\n                            currStatus={currStatus}\r\n                            refreshPage={refreshPage}\r\n                        /> */}\r\n                {/* <ConfirmUpdateSchoolStatus\r\n                            open={openConfirmNgungHT}\r\n                            onClose={() => {\r\n                                resetStatus()\r\n                                setOpenConfirmNgungHT(false)\r\n                            }}\r\n                            data={task}\r\n                            selectedStatus={currStatus}\r\n                            refreshAPI={refreshPage}\r\n                            setNotify={setNotify}\r\n                        /> */}\r\n                {/* </>\r\n                )} */}\r\n                {/* : (\r\n                    <Grid item xs={12} sm={12} md={12} lg={12} className={classes.content}>\r\n                            <Grid container spacing={0} className={classes.wrapper}>\r\n                                    <Grid item xs={12} sm={12} md={3} lg={3} className={classes.row}>\r\n                                            <Typography\r\n                                                    color=\"inherit\"\r\n                                                    className={classes.header}\r\n                                                >\r\n                                                    {headers.child2}\r\n                                                </Typography>\r\n                                            </Grid>\r\n\r\n                                            <Grid item xs={12} sm={12} md={9} lg={8} className={classes.statusTxtZone}>\r\n                                                <Typography color=\"inherit\">\r\n                                                    {task?.schoolStatus}\r\n                                                </Typography>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                )} */}\r\n\r\n                {/**=========================================================================================================== */}\r\n\r\n                {/* Principal detail Sector */}\r\n                {task?.schoolStatus !== statusNames.pending ? (\r\n                    user.roles[0] !== roleNames.salesman ||\r\n                        (user.roles[0] === roleNames.salesman &&\r\n                            user.username !== task?.username) ? (\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} className={classes.content}>\r\n                            <Grid container spacing={0} className={classes.wrapper}>\r\n                                <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.header}\r\n                                    >\r\n                                        {headers.child3}\r\n                                    </Typography>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                    <Grid container spacing={0} className={classes.rowx}>\r\n                                        <Grid item xs={12} sm={12} md={3} lg={3} className={classes.rowx}>\r\n                                            <Typography\r\n                                                color=\"inherit\"\r\n                                                className={classes.title}\r\n                                            >\r\n                                                {fields.reprName.title}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                        <Grid item xs={12} sm={12} md={9} lg={8} className={classes.rowx}>\r\n                                            <Typography color=\"inherit\">\r\n                                                {task?.reprName\r\n                                                    ? (`${task?.reprIsMale ? 'Mr. ' : 'Ms. '} ${task?.reprName}`)\r\n                                                    : fields.empty.title}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                    <Grid container spacing={0} className={classes.rowx}>\r\n                                        <Grid item xs={12} sm={12} md={3} lg={3} className={classes.rowx}>\r\n                                            <Typography\r\n                                                color=\"inherit\"\r\n                                                className={classes.title}\r\n                                            >\r\n                                                {fields.reprPhone.title}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                        <Grid item xs={12} sm={12} md={9} lg={8} className={classes.rowx}>\r\n                                            <Typography color=\"inherit\">\r\n                                                {task?.reprPhone\r\n                                                    ? task?.reprPhone\r\n                                                    : fields.empty.title}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                    <Grid container spacing={0} className={classes.rowx}>\r\n                                        <Grid item xs={12} sm={12} md={3} lg={3} className={classes.rowx}>\r\n                                            <Typography\r\n                                                color=\"inherit\"\r\n                                                className={classes.title}\r\n                                            >\r\n                                                {fields.reprEmail.title}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                        <Grid item xs={12} sm={12} md={9} lg={8} className={classes.rowx}>\r\n                                            <Typography color=\"inherit\">\r\n                                                {task?.reprEmail\r\n                                                    ? task?.reprEmail\r\n                                                    : fields.empty.title}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    ) : (\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} className={classes.content}>\r\n                            <form\r\n                                onSubmit={reprSubmit(onReprSubmit)}\r\n                                noValidate\r\n                            >\r\n                                {/* Principal Detail */}\r\n                                <Grid container spacing={0} className={classes.wrapper}>\r\n                                    <Grid item xs={12} sm={12} md={3} lg={3} className={classes.row}>\r\n                                        <Typography\r\n                                            color=\"inherit\"\r\n                                            className={classes.header}\r\n                                        >\r\n                                            {headers.child3}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    {/* Detail */}\r\n                                    <Grid item xs={12} sm={12} md={9} lg={8} className={classes.row}>\r\n                                        <Grid container spacing={0}>\r\n                                            <Grid\r\n                                                item\r\n                                                xs={12}\r\n                                                sm={12}\r\n                                                md={6}\r\n                                                lg={6}\r\n                                                className={classes.row}\r\n                                            >\r\n                                                {/* <Controller\r\n                                                name=\"id\"\r\n                                                control={reprControl}\r\n                                                render={({ value }) => (\r\n                                                    <input\r\n                                                        type=\"hidden\"\r\n                                                        name=\"id\"\r\n                                                        value={value}\r\n                                                    />\r\n                                                )}\r\n                                            /> */}\r\n                                                <Controller\r\n                                                    name=\"reprName\"\r\n                                                    control={reprControl}\r\n                                                    render={({\r\n                                                        value,\r\n                                                        onChange,\r\n                                                    }) => (\r\n                                                        <TextField\r\n                                                            label={\r\n                                                                fields.reprName\r\n                                                                    .title\r\n                                                            }\r\n                                                            variant=\"outlined\"\r\n                                                            fullWidth\r\n                                                            // autoFocus\r\n                                                            value={value}\r\n                                                            onChange={onChange}\r\n                                                            error={\r\n                                                                !!reprErrors.reprName\r\n                                                            }\r\n                                                            helperText={\r\n                                                                reprErrors\r\n                                                                    ?.reprName\r\n                                                                    ?.message\r\n                                                            }\r\n                                                        />\r\n                                                    )}\r\n                                                />\r\n                                            </Grid>\r\n\r\n                                            <Grid\r\n                                                item\r\n                                                xs={12}\r\n                                                sm={12}\r\n                                                md={12}\r\n                                                lg={12}\r\n                                                className={classes.row}\r\n                                            >\r\n                                                <InputLabel>\r\n                                                    {fields.reprIsMale.title}\r\n                                                </InputLabel>\r\n                                                <Controller\r\n                                                    name=\"reprIsMale\"\r\n                                                    control={reprControl}\r\n                                                    render={({\r\n                                                        value,\r\n                                                        onChange,\r\n                                                    }) => (\r\n                                                        <RadioGroup\r\n                                                            value={value}\r\n                                                            onChange={onChange}\r\n                                                            row\r\n                                                        >\r\n                                                            <FormControlLabel\r\n                                                                label=\"Male\"\r\n                                                                value=\"true\"\r\n                                                                control={\r\n                                                                    <Radio />\r\n                                                                }\r\n                                                            />\r\n                                                            <FormControlLabel\r\n                                                                label=\"Female\"\r\n                                                                value=\"false\"\r\n                                                                control={\r\n                                                                    <Radio />\r\n                                                                }\r\n                                                            />\r\n                                                        </RadioGroup>\r\n                                                    )}\r\n                                                />\r\n                                            </Grid>\r\n\r\n                                            <Grid\r\n                                                item\r\n                                                xs={12}\r\n                                                sm={12}\r\n                                                md={12}\r\n                                                lg={12}\r\n                                                className={classes.row}\r\n                                            >\r\n                                                <Controller\r\n                                                    name=\"reprPhone\"\r\n                                                    control={reprControl}\r\n                                                    render={({\r\n                                                        value,\r\n                                                        onChange,\r\n                                                    }) => (\r\n                                                        <TextField\r\n                                                            label={\r\n                                                                fields.reprPhone\r\n                                                                    .title\r\n                                                            }\r\n                                                            variant=\"outlined\"\r\n                                                            // required\r\n                                                            // fullWidth\r\n                                                            value={value}\r\n                                                            onChange={onChange}\r\n                                                            error={\r\n                                                                !!reprErrors.reprPhone\r\n                                                            }\r\n                                                            helperText={\r\n                                                                reprErrors\r\n                                                                    ?.reprPhone\r\n                                                                    ?.message\r\n                                                            }\r\n                                                        />\r\n                                                    )}\r\n                                                />\r\n                                            </Grid>\r\n\r\n                                            <Grid\r\n                                                item\r\n                                                xs={12}\r\n                                                sm={12}\r\n                                                md={6}\r\n                                                lg={6}\r\n                                                className={classes.row}\r\n                                            >\r\n                                                <Controller\r\n                                                    name=\"reprEmail\"\r\n                                                    control={reprControl}\r\n                                                    render={({\r\n                                                        value,\r\n                                                        onChange,\r\n                                                    }) => (\r\n                                                        <TextField\r\n                                                            label={\r\n                                                                fields.reprEmail\r\n                                                                    .title\r\n                                                            }\r\n                                                            variant=\"outlined\"\r\n                                                            // required\r\n                                                            fullWidth\r\n                                                            value={value}\r\n                                                            onChange={onChange}\r\n                                                            error={\r\n                                                                !!reprErrors.reprEmail\r\n                                                            }\r\n                                                            helperText={\r\n                                                                reprErrors\r\n                                                                    ?.reprEmail\r\n                                                                    ?.message\r\n                                                            }\r\n                                                        />\r\n                                                    )}\r\n                                                />\r\n                                            </Grid>\r\n                                            {/* Action */}\r\n                                            <Grid\r\n                                                item\r\n                                                xs={12}\r\n                                                sm={12}\r\n                                                md={12}\r\n                                                lg={12}\r\n                                                className={classes.action}\r\n                                            >\r\n                                                <Button\r\n                                                    className={classes.submit}\r\n                                                    variant=\"contained\"\r\n                                                    disabled={\r\n                                                        !reprState.isDirty\r\n                                                    }\r\n                                                    type=\"submit\"\r\n                                                >\r\n                                                    {operations.save}\r\n                                                </Button>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                    {/* End Detail */}\r\n                                </Grid>\r\n                            </form>\r\n                        </Grid>\r\n                    )\r\n                ) : (\r\n                    <Grid\r\n                        item\r\n                        xs={12}\r\n                        sm={12}\r\n                        md={12}\r\n                        lg={12}\r\n                        className={classes.content}\r\n                    >\r\n                        <Grid container spacing={0} className={classes.wrapper}>\r\n                            <Grid\r\n                                item\r\n                                xs={12}\r\n                                sm={12}\r\n                                md={12}\r\n                                lg={12}\r\n                                className={classes.row}\r\n                            >\r\n                                <Typography\r\n                                    color=\"inherit\"\r\n                                    className={classes.header}\r\n                                >\r\n                                    {headers.child3}\r\n                                </Typography>\r\n                            </Grid>\r\n\r\n                            <Grid\r\n                                item\r\n                                xs={12}\r\n                                sm={12}\r\n                                md={12}\r\n                                lg={12}\r\n                                className={classes.row}\r\n                            >\r\n                                <Grid\r\n                                    container\r\n                                    spacing={0}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Grid item xs={12} sm={12} md={3} lg={3} className={classes.rowx}>\r\n                                        <Typography\r\n                                            color=\"inherit\"\r\n                                            className={classes.title}\r\n                                        >\r\n                                            {fields.reprName.title}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={12} md={9} lg={8} className={classes.rowx}>\r\n                                        <Typography color=\"inherit\">\r\n                                            {task?.reprName\r\n                                                ? (`${task?.reprIsMale ? 'Mr. ' : 'Ms. '} ${task?.reprName}`)\r\n                                                : fields.empty.title}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid\r\n                                item\r\n                                xs={12}\r\n                                sm={12}\r\n                                md={12}\r\n                                lg={12}\r\n                                className={classes.row}\r\n                            >\r\n                                <Grid\r\n                                    container\r\n                                    spacing={0}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={3}\r\n                                        lg={3}\r\n                                        className={classes.rowx}\r\n                                    >\r\n                                        <Typography\r\n                                            color=\"inherit\"\r\n                                            className={classes.title}\r\n                                        >\r\n                                            {fields.reprPhone.title}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={12} md={9} lg={8} className={classes.rowx}>\r\n                                        <Typography color=\"inherit\">\r\n                                            {task?.reprPhone\r\n                                                ? task?.reprPhone\r\n                                                : fields.empty.title}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} sm={12} md={12} lg={12}\r\n                                className={classes.row}\r\n                            >\r\n                                <Grid container spacing={0} className={classes.rowx}>\r\n                                    <Grid item xs={12} sm={12} md={3} lg={3}\r\n                                        className={classes.rowx}\r\n                                    >\r\n                                        <Typography\r\n                                            color=\"inherit\"\r\n                                            className={classes.title}\r\n                                        >\r\n                                            {fields.reprEmail.title}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={12} md={9} lg={8} className={classes.rowx}>\r\n                                        <Typography color=\"inherit\">\r\n                                            {task?.reprEmail\r\n                                                ? task?.reprEmail\r\n                                                : fields.empty.title}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                )}\r\n            </Grid>\r\n\r\n            <Snackbars notify={notify} setNotify={setNotify} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SchoolInfo\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport {\r\n    Dialog,\r\n    IconButton,\r\n    DialogTitle,\r\n    Typography,\r\n    withStyles,\r\n    DialogContent,\r\n    DialogActions,\r\n    Button,\r\n    Grid,\r\n    TextField,\r\n    RadioGroup,\r\n    FormControlLabel,\r\n    Radio,\r\n    makeStyles,\r\n    InputAdornment,\r\n    InputLabel,\r\n} from '@material-ui/core'\r\nimport { MdClose } from 'react-icons/md'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport * as yup from 'yup'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport { Snackbars } from '../../../../../components'\r\nimport { Consts } from '../ServicesInfoConfig'\r\nimport * as TasksServices from '../../../TasksServices'\r\nimport { useAuth } from '../../../../../hooks/AuthContext'\r\nimport { roleNames } from '../../../../../constants/Generals'\r\nimport { DURATION_RGX } from '../../../../../utils/Regex'\r\nimport classes from './ServicesForm.module.scss'\r\n\r\nconst clientSchema = yup.object().shape({\r\n    duration: yup\r\n        .string()\r\n        // .trim()\r\n        .required('Duartion is required')\r\n        .min(1, 'Duartion must be at least 1 digit')\r\n        .max(2, 'Duartion must be at most 2 digits')\r\n        .matches(DURATION_RGX, 'Invalid entry'),\r\n    note: yup.string().trim(),\r\n})\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    inputRoot: {\r\n        '&$disabled': {\r\n            color: 'black',\r\n        },\r\n    },\r\n    disabled: {},\r\n}))\r\n\r\nconst stylesTitle = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n})\r\n\r\nconst DialogTitleWithIconClose = withStyles(stylesTitle)((props) => {\r\n    const { children, classes, onClose, ...other } = props\r\n    return (\r\n        <DialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton className={classes.closeButton} onClick={onClose}>\r\n                    <MdClose />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    )\r\n})\r\n\r\nfunction ServicesForm(props) {\r\n    const { open, onClose, service, setService, refreshPage } = props\r\n    const { headers, operations, fields } = Consts\r\n    const styles = useStyles()\r\n\r\n    const { user } = useAuth()\r\n    const history = useHistory()\r\n\r\n    const [notify, setNotify] = useState({\r\n        isOpen: false,\r\n        message: '',\r\n        type: '',\r\n    })\r\n\r\n    const defaultValues = {\r\n        id: service?.id,\r\n        duration: service?.duration,\r\n        revenueCriteria: service?.revenueCriteria,\r\n        service: service?.service,\r\n        note: service?.note,\r\n    }\r\n\r\n    const { control, errors, handleSubmit, formState, reset } = useForm({\r\n        resolver: yupResolver(clientSchema),\r\n        defaultValues: defaultValues,\r\n    })\r\n\r\n    useEffect(() => {\r\n        reset({\r\n            id: service?.id,\r\n            duration: service?.duration,\r\n            revenueCriteria: service?.revenueCriteria,\r\n            service: service?.service,\r\n            note: service?.note,\r\n        })\r\n    }, [service])\r\n\r\n    const onSubmit = (data) => {\r\n        const model = {\r\n            ...data,\r\n            // date: moment(service?.date).format('YYYY-MM-DD'),\r\n            date: service?.date,\r\n            taskId: service?.taskId,\r\n        }\r\n\r\n        TasksServices.updateService(data?.id, model)\r\n            .then((res) => {\r\n                refreshPage(service?.taskId)\r\n                setService(model)\r\n                setNotify({\r\n                    isOpen: true,\r\n                    message: 'Updated Successfully',\r\n                    type: 'success',\r\n                })\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n                setNotify({\r\n                    isOpen: true,\r\n                    message: 'Updated failed',\r\n                    type: 'error',\r\n                })\r\n            })\r\n\r\n        onClose()\r\n        // alert(JSON.stringify(model))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Dialog open={open} onClose={onClose} maxWidth=\"xs\">\r\n                {user.roles[0] === roleNames.salesman ? (\r\n                    <>\r\n                        <DialogTitleWithIconClose onClose={onClose}>\r\n                            {headers.child2}\r\n                        </DialogTitleWithIconClose>\r\n\r\n                        <DialogContent className={classes.dialogCont}>\r\n                            <form\r\n                                // onSubmit={handleSubmit(onSubmit)}\r\n                                noValidate\r\n                            >\r\n                                <Grid\r\n                                    container\r\n                                    spacing={2}\r\n                                    className={classes.wrapper}\r\n                                >\r\n                                    <Grid item xs={12} sm={6} md={6} lg={6}>\r\n                                        <Controller\r\n                                            name=\"id\"\r\n                                            control={control}\r\n                                            render={({ value }) => (\r\n                                                <input\r\n                                                    type=\"hidden\"\r\n                                                    name=\"id\"\r\n                                                    value={value}\r\n                                                />\r\n                                            )}\r\n                                        />\r\n                                        <Controller\r\n                                            name=\"duration\"\r\n                                            control={control}\r\n                                            render={({ value, onChange }) => (\r\n                                                <TextField\r\n                                                    label={\r\n                                                        fields.duration.title\r\n                                                    }\r\n                                                    variant=\"outlined\"\r\n                                                    type=\"number\"\r\n                                                    required\r\n                                                    fullWidth\r\n                                                    autoFocus\r\n                                                    InputProps={{\r\n                                                        endAdornment: (\r\n                                                            <InputAdornment position=\"start\">\r\n                                                                {\r\n                                                                    fields\r\n                                                                        .duration\r\n                                                                        .adornment\r\n                                                                }\r\n                                                            </InputAdornment>\r\n                                                        ),\r\n                                                        inputProps: {\r\n                                                            min: 1,\r\n                                                            max: 99,\r\n                                                        },\r\n                                                    }}\r\n                                                    value={value}\r\n                                                    onChange={onChange}\r\n                                                    error={!!errors.duration}\r\n                                                    helperText={\r\n                                                        errors?.duration\r\n                                                            ?.message\r\n                                                    }\r\n                                                />\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                        <InputLabel>\r\n                                            {fields.service.title}\r\n                                        </InputLabel>\r\n                                        <Controller\r\n                                            name=\"service\"\r\n                                            control={control}\r\n                                            render={({ value, onChange }) => (\r\n                                                <RadioGroup\r\n                                                    value={value}\r\n                                                    onChange={onChange}\r\n                                                    row\r\n                                                >\r\n                                                    <FormControlLabel\r\n                                                        label={\r\n                                                            fields.service.svc1\r\n                                                                .lb\r\n                                                        }\r\n                                                        value={\r\n                                                            fields.service.svc1\r\n                                                                .value\r\n                                                        }\r\n                                                        control={<Radio />}\r\n                                                    />\r\n                                                    <FormControlLabel\r\n                                                        label={\r\n                                                            fields.service.svc2\r\n                                                                .lb\r\n                                                        }\r\n                                                        value={\r\n                                                            fields.service.svc2\r\n                                                                .value\r\n                                                        }\r\n                                                        control={<Radio />}\r\n                                                    />\r\n                                                    <FormControlLabel\r\n                                                        label={\r\n                                                            fields.service.svc3\r\n                                                                .lb\r\n                                                        }\r\n                                                        value={\r\n                                                            fields.service.svc3\r\n                                                                .value\r\n                                                        }\r\n                                                        control={<Radio />}\r\n                                                    />\r\n                                                    <FormControlLabel\r\n                                                        label={\r\n                                                            fields.service.svc4\r\n                                                                .lb\r\n                                                        }\r\n                                                        value={\r\n                                                            fields.service.svc4\r\n                                                                .value\r\n                                                        }\r\n                                                        control={<Radio />}\r\n                                                    />\r\n                                                </RadioGroup>\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                        <InputLabel>\r\n                                            {fields.revenue.title}\r\n                                        </InputLabel>\r\n                                        <Controller\r\n                                            name=\"revenueCriteria\"\r\n                                            control={control}\r\n                                            render={({ value, onChange }) => (\r\n                                                <RadioGroup\r\n                                                    value={value}\r\n                                                    onChange={onChange}\r\n                                                    row\r\n                                                >\r\n                                                    <FormControlLabel\r\n                                                        label={\r\n                                                            fields.revenue.rev1\r\n                                                                .lb\r\n                                                        }\r\n                                                        value={\r\n                                                            fields.revenue.rev1\r\n                                                                .value\r\n                                                        }\r\n                                                        control={<Radio />}\r\n                                                    />\r\n                                                    <FormControlLabel\r\n                                                        label={\r\n                                                            fields.revenue.rev2\r\n                                                                .lb\r\n                                                        }\r\n                                                        value={\r\n                                                            fields.revenue.rev2\r\n                                                                .value\r\n                                                        }\r\n                                                        control={<Radio />}\r\n                                                    />\r\n                                                </RadioGroup>\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                        <Controller\r\n                                            name=\"note\"\r\n                                            control={control}\r\n                                            render={({ value, onChange }) => (\r\n                                                <TextField\r\n                                                    label={fields.note.title}\r\n                                                    variant=\"outlined\"\r\n                                                    fullWidth\r\n                                                    multiline\r\n                                                    rows={5}\r\n                                                    value={value}\r\n                                                    onChange={onChange}\r\n                                                    error={!!errors.note}\r\n                                                    helperText={\r\n                                                        errors?.note?.message\r\n                                                    }\r\n                                                />\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </form>\r\n                        </DialogContent>\r\n\r\n                        <DialogActions className={classes.dialogAct}>\r\n                            <Button\r\n                                className={classes.btnSave}\r\n                                // type=\"submit\"\r\n                                disabled={!formState.isDirty}\r\n                                onClick={handleSubmit(onSubmit)}\r\n                            >\r\n                                {operations.save}\r\n                            </Button>\r\n                            <Button\r\n                                onClick={() => {\r\n                                    reset({\r\n                                        errors: false,\r\n                                        id: service?.id,\r\n                                        duration: service?.duration,\r\n                                        revenueCriteria:\r\n                                            service?.revenueCriteria,\r\n                                        service: service?.service,\r\n                                        note: service?.note,\r\n                                    })\r\n                                    onClose()\r\n                                }}\r\n                            >\r\n                                {operations.cancel}\r\n                            </Button>\r\n                        </DialogActions>\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        <DialogTitleWithIconClose onClose={onClose}>\r\n                            {headers.child2}\r\n                        </DialogTitleWithIconClose>\r\n\r\n                        <DialogContent className={classes.dialogCont}>\r\n                            <Grid\r\n                                container\r\n                                spacing={0}\r\n                                className={classes.wrapper}\r\n                            >\r\n                                <Grid\r\n                                    item\r\n                                    xs={4}\r\n                                    sm={4}\r\n                                    md={4}\r\n                                    lg={4}\r\n                                    className={classes.row}\r\n                                >\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.title}\r\n                                    >\r\n                                        {fields.duration.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid\r\n                                    item\r\n                                    xs={8}\r\n                                    sm={8}\r\n                                    md={8}\r\n                                    lg={8}\r\n                                    className={classes.row}\r\n                                >\r\n                                    <Typography color=\"inherit\">\r\n                                        {`${service?.duration} ${fields.duration.adornment}`}\r\n                                    </Typography>\r\n                                </Grid>\r\n\r\n                                <Grid\r\n                                    item\r\n                                    xs={4}\r\n                                    sm={4}\r\n                                    md={4}\r\n                                    lg={4}\r\n                                    className={classes.row}\r\n                                >\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.title}\r\n                                    >\r\n                                        {fields.service.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid\r\n                                    item\r\n                                    xs={8}\r\n                                    sm={8}\r\n                                    md={8}\r\n                                    lg={8}\r\n                                    className={classes.row}\r\n                                >\r\n                                    <Typography color=\"inherit\">\r\n                                        {service?.service}\r\n                                    </Typography>\r\n                                </Grid>\r\n\r\n                                <Grid\r\n                                    item\r\n                                    xs={4}\r\n                                    sm={4}\r\n                                    md={4}\r\n                                    lg={4}\r\n                                    className={classes.row}\r\n                                >\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.title}\r\n                                    >\r\n                                        {fields.revenue.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid\r\n                                    item\r\n                                    xs={8}\r\n                                    sm={8}\r\n                                    md={8}\r\n                                    lg={8}\r\n                                    className={classes.row}\r\n                                >\r\n                                    <Typography color=\"inherit\">\r\n                                        {service?.revenueCriteria}\r\n                                    </Typography>\r\n                                </Grid>\r\n\r\n                                <Grid\r\n                                    item\r\n                                    xs={4}\r\n                                    sm={4}\r\n                                    md={4}\r\n                                    lg={4}\r\n                                    className={classes.row}\r\n                                >\r\n                                    <Typography\r\n                                        color=\"inherit\"\r\n                                        className={classes.title}\r\n                                    >\r\n                                        {fields.note.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={12}\r\n                                    lg={12}\r\n                                // className={classes.rowx}\r\n                                >\r\n                                    <Controller\r\n                                        name=\"note\"\r\n                                        control={control}\r\n                                        render={({ value }) => (\r\n                                            <TextField\r\n                                                // label={fields.note.title}\r\n                                                placeholder={fields.note.noNote}\r\n                                                variant=\"outlined\"\r\n                                                fullWidth\r\n                                                multiline\r\n                                                rows={5}\r\n                                                value={value}\r\n                                                disabled\r\n                                                InputProps={{\r\n                                                    classes: {\r\n                                                        root: styles.inputRoot,\r\n                                                        disabled:\r\n                                                            styles.disabled,\r\n                                                    },\r\n                                                }}\r\n                                            />\r\n                                        )}\r\n                                    />\r\n                                </Grid>\r\n                            </Grid>\r\n                        </DialogContent>\r\n                    </>\r\n                )}\r\n            </Dialog>\r\n\r\n            <Snackbars notify={notify} setNotify={setNotify} />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ServicesForm\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nimport {\r\n    Grid,\r\n    Typography,\r\n    Button,\r\n    Card,\r\n    CardContent,\r\n    CardActions,\r\n    Tabs,\r\n    Tab,\r\n} from '@material-ui/core'\r\nimport moment from 'moment'\r\nimport { Loading, NotFound } from '../../../../components'\r\nimport { Consts } from './ServicesInfoConfig'\r\nimport { serviceNames } from '../../../../constants/Generals'\r\nimport ServicesForm from './ServicesForm/ServicesForm'\r\nimport { useAuth } from '../../../../hooks/AuthContext'\r\nimport { roleNames } from '../../../../constants/Generals'\r\nimport { useTask } from '../../hooks/TaskContext';\r\nimport classes from './ServicesInfo.module.scss'\r\n\r\nfunction ServicesInfo(props) {\r\n    const { task, refreshPage } = props\r\n    const services = task?.services\r\n\r\n    const [tabValue, setTabValue] = useState(0)\r\n    const [open, setOpen] = useState(false)\r\n\r\n    const { headers, operations, fields } = Consts\r\n\r\n    const { user } = useAuth()\r\n    const { serviceTypes } = useTask()\r\n\r\n    const [service, setService] = useState(null)\r\n\r\n    const filteredServices = (serviceTypes) => {\r\n        console.log(serviceTypes);\r\n        switch (serviceTypes) {\r\n            case serviceNames.svc1:\r\n                return services.filter(\r\n                    (aService) => aService.serviceType === serviceNames.svc1\r\n                )\r\n            case serviceNames.svc2:\r\n                return services.filter(\r\n                    (aService) => aService.serviceType === serviceNames.svc2\r\n                )\r\n            case serviceNames.svc3:\r\n                return services.filter(\r\n                    (aService) => aService.serviceType === serviceNames.svc3\r\n                )\r\n            case serviceNames.svc4:\r\n                return services.filter(\r\n                    (aService) => aService.serviceType === serviceNames.svc4\r\n                )\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    // const services = [\r\n    //     serviceNames.svc1,\r\n    //     serviceNames.svc2,\r\n    //     serviceNames.svc3,\r\n    //     serviceNames.svc4,\r\n    // ]\r\n    // List này giờ get từ API chứ ko set cứng phía FE nữa\r\n    // useEffect(() => {\r\n    //     getServiceTypes().then((res) => {\r\n    //         setServiceTypes(res)\r\n    //         // console.log(\"list tasks = \", res.list);\r\n    //     }).catch((error) => {\r\n    //         if (error.response) {\r\n    //             console.log(error)\r\n    //             history.push({\r\n    //                 pathname: '/errors',\r\n    //                 state: { error: error.response.status },\r\n    //             })\r\n    //         }\r\n    //     })\r\n    // }, []);\r\n\r\n    if (!task) {\r\n        return <Loading />\r\n    }\r\n\r\n    if (!services) {\r\n        return <NotFound title={operations.empty} />\r\n    }\r\n\r\n    const handleChangeTab = (event, value) => {\r\n        setTabValue(value)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.panel}>\r\n            <Grid container spacing={0} className={classes.body}>\r\n                {user.roles[0] !== roleNames.salesman ||\r\n                    (user.roles[0] === roleNames.salesman &&\r\n                        user.username === task?.username) ? (\r\n                    <>\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            md={12}\r\n                            lg={12}\r\n                            className={classes.wrapper}\r\n                        >\r\n                            <Typography\r\n                                color=\"inherit\"\r\n                                className={classes.header}\r\n                            >\r\n                                {headers.child1}\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            md={12}\r\n                            lg={12}\r\n                            className={classes.wrapper}\r\n                        >\r\n                            <Grid container spacing={0}>\r\n                                <Grid\r\n                                    item\r\n                                    xs={3}\r\n                                    sm={3}\r\n                                    md={3}\r\n                                    lg={3}\r\n                                    className={classes.leftSector}\r\n                                >\r\n                                    <Tabs\r\n                                        orientation=\"vertical\"\r\n                                        variant=\"scrollable\"\r\n                                        value={tabValue}\r\n                                        onChange={handleChangeTab}\r\n                                        className={classes.tabs}\r\n                                    >\r\n                                        {serviceTypes.map((service, index) => (\r\n                                            <Tab key={index} label={service} />\r\n                                        ))}\r\n                                    </Tabs>\r\n                                </Grid>\r\n                                <Grid\r\n                                    item\r\n                                    xs={9}\r\n                                    sm={8}\r\n                                    md={7}\r\n                                    lg={5}\r\n                                    className={classes.rightSector}\r\n                                >\r\n                                    {tabValue === 0 && (\r\n                                        <>\r\n                                            {filteredServices(serviceNames.svc1)\r\n                                                .length !== 0 ? (\r\n                                                <>\r\n                                                    {filteredServices(\r\n                                                        serviceNames.svc1\r\n                                                    ).map((aService, index) => (\r\n                                                        <Card\r\n                                                            className={\r\n                                                                classes.card\r\n                                                            }\r\n                                                            key={index}\r\n                                                        >\r\n                                                            <CardContent\r\n                                                                className={\r\n                                                                    classes.cardCnt\r\n                                                                }\r\n                                                            >\r\n                                                                <div\r\n                                                                    className={\r\n                                                                        classes.cardCntHeader\r\n                                                                    }\r\n                                                                >\r\n                                                                    <Grid\r\n                                                                        container\r\n                                                                        spacing={\r\n                                                                            0\r\n                                                                        }\r\n                                                                    >\r\n                                                                        <Grid\r\n                                                                            item\r\n                                                                            xs={\r\n                                                                                6\r\n                                                                            }\r\n                                                                            sm={\r\n                                                                                6\r\n                                                                            }\r\n                                                                            md={\r\n                                                                                6\r\n                                                                            }\r\n                                                                            lg={\r\n                                                                                6\r\n                                                                            }\r\n                                                                        >\r\n                                                                            <Typography\r\n                                                                                color=\"inherit\"\r\n                                                                                variant=\"subtitle1\"\r\n                                                                                className={\r\n                                                                                    classes.cardSubtitle1\r\n                                                                                }\r\n                                                                            >\r\n                                                                                {\r\n                                                                                    aService?.service\r\n                                                                                }\r\n                                                                            </Typography>\r\n                                                                        </Grid>\r\n                                                                        <Grid\r\n                                                                            item\r\n                                                                            xs={\r\n                                                                                6\r\n                                                                            }\r\n                                                                            sm={\r\n                                                                                6\r\n                                                                            }\r\n                                                                            md={\r\n                                                                                6\r\n                                                                            }\r\n                                                                            lg={\r\n                                                                                6\r\n                                                                            }\r\n                                                                        >\r\n                                                                            <Typography\r\n                                                                                color=\"inherit\"\r\n                                                                                variant=\"subtitle2\"\r\n                                                                                className={\r\n                                                                                    classes.cardSubtitle2\r\n                                                                                }\r\n                                                                            >\r\n                                                                                {`${fields\r\n                                                                                    .date\r\n                                                                                    .tittle\r\n                                                                                    } ${moment(\r\n                                                                                        aService?.date\r\n                                                                                    ).format(\r\n                                                                                        'DD/MM/YYYY'\r\n                                                                                    )}`}\r\n                                                                            </Typography>\r\n                                                                        </Grid>\r\n                                                                    </Grid>\r\n                                                                </div>\r\n                                                                <div\r\n                                                                    className={\r\n                                                                        classes.cardCntBody\r\n                                                                    }\r\n                                                                >\r\n                                                                    <Typography\r\n                                                                        color=\"inherit\"\r\n                                                                        noWrap\r\n                                                                        variant=\"body1\"\r\n                                                                    >\r\n                                                                        {\r\n                                                                            aService?.note\r\n                                                                        }\r\n                                                                    </Typography>\r\n                                                                </div>\r\n                                                            </CardContent>\r\n\r\n                                                            <CardActions\r\n                                                                className={\r\n                                                                    classes.cardAct\r\n                                                                }\r\n                                                            >\r\n                                                                <Button\r\n                                                                    size=\"small\"\r\n                                                                    onClick={() => {\r\n                                                                        setOpen(\r\n                                                                            true\r\n                                                                        )\r\n                                                                        setService(\r\n                                                                            aService\r\n                                                                        )\r\n                                                                    }}\r\n                                                                >\r\n                                                                    {\r\n                                                                        operations.view\r\n                                                                    }\r\n                                                                </Button>\r\n                                                            </CardActions>\r\n                                                        </Card>\r\n                                                    ))}\r\n                                                    <ServicesForm\r\n                                                        open={open}\r\n                                                        onClose={() =>\r\n                                                            setOpen(false)\r\n                                                        }\r\n                                                        service={service}\r\n                                                        refreshPage={\r\n                                                            refreshPage\r\n                                                        }\r\n                                                        setService={\r\n                                                            setService\r\n                                                        }\r\n                                                    />\r\n                                                </>\r\n                                            ) : (\r\n                                                <div\r\n                                                    className={\r\n                                                        classes.noServicesZone\r\n                                                    }\r\n                                                >\r\n                                                    <Typography\r\n                                                        color=\"inherit\"\r\n                                                        className={\r\n                                                            classes.noServices\r\n                                                        }\r\n                                                    >\r\n                                                        {operations.noServices}\r\n                                                    </Typography>\r\n                                                </div>\r\n                                            )}\r\n                                        </>\r\n                                    )}\r\n                                    {tabValue === 1 && (\r\n                                        <>\r\n                                            {filteredServices(serviceNames.svc2)\r\n                                                .length !== 0 ? (\r\n                                                <>\r\n                                                    {filteredServices(\r\n                                                        serviceNames.svc2\r\n                                                    ).map((aService, index) => (\r\n                                                        <Card\r\n                                                            className={\r\n                                                                classes.card\r\n                                                            }\r\n                                                            key={index}\r\n                                                        >\r\n                                                            <CardContent\r\n                                                                className={\r\n                                                                    classes.cardCnt\r\n                                                                }\r\n                                                            >\r\n                                                                <div\r\n                                                                    className={\r\n                                                                        classes.cardCntHeader\r\n                                                                    }\r\n                                                                >\r\n                                                                    <Grid\r\n                                                                        container\r\n                                                                        spacing={\r\n                                                                            0\r\n                                                                        }\r\n                                                                    >\r\n                                                                        <Grid\r\n                                                                            item\r\n                                                                            xs={\r\n                                                                                6\r\n                                                                            }\r\n                                                                            sm={\r\n                                                                                6\r\n                                                                            }\r\n                                                                            md={\r\n                                                                                6\r\n                                                                            }\r\n                                                                            lg={\r\n                                                                                6\r\n                                                                            }\r\n                                                                        >\r\n                                                                            <Typography\r\n                                                                                color=\"inherit\"\r\n                                                                                variant=\"subtitle1\"\r\n                                                                                className={\r\n                                                                                    classes.cardSubtitle1\r\n                                                                                }\r\n                                                                            >\r\n                                                                                {\r\n                                                                                    aService?.service\r\n                                                                                }\r\n                                                                            </Typography>\r\n                                                                        </Grid>\r\n                                                                        <Grid\r\n                                                                            item\r\n                                                                            xs={\r\n                                                                                6\r\n                                                                            }\r\n                                                                            sm={\r\n                                                                                6\r\n                                                                            }\r\n                                                                            md={\r\n                                                                                6\r\n                                                                            }\r\n                                                                            lg={\r\n                                                                                6\r\n                                                                            }\r\n                                                                        >\r\n                                                                            <Typography\r\n                                                                                color=\"inherit\"\r\n                                                                                variant=\"subtitle2\"\r\n                                                                                className={\r\n                                                                                    classes.cardSubtitle2\r\n                                                                                }\r\n                                                                            >\r\n                                                                                {`${fields\r\n                                                                                    .date\r\n                                                                                    .tittle\r\n                                                                                    } ${moment(\r\n                                                                                        aService?.date\r\n                                                                                    ).format(\r\n                                                                                        'DD/MM/YYYY'\r\n                                                                                    )}`}\r\n                                                                            </Typography>\r\n                                                                        </Grid>\r\n                                                                    </Grid>\r\n                                                                </div>\r\n                                                                <div\r\n                                                                    className={\r\n                                                                        classes.cardCntBody\r\n                                                                    }\r\n                                                                >\r\n                                                                    <Typography\r\n                                                                        color=\"inherit\"\r\n                                                                        noWrap\r\n                                                                        variant=\"body1\"\r\n                                                                    >\r\n                                                                        {\r\n                                                                            aService?.note\r\n                                                                        }\r\n                                                                    </Typography>\r\n                                                                </div>\r\n                                                            </CardContent>\r\n\r\n                                                            <CardActions\r\n                                                                className={\r\n                                                                    classes.cardAct\r\n                                                                }\r\n                                                            >\r\n                                                                <Button\r\n                                                                    size=\"small\"\r\n                                                                    onClick={() => {\r\n                                                                        setOpen(\r\n                                                                            true\r\n                                                                        )\r\n                                                                        setService(\r\n                                                                            aService\r\n                                                                        )\r\n                                                                    }}\r\n                                                                >\r\n                                                                    {\r\n                                                                        operations.view\r\n                                                                    }\r\n                                                                </Button>\r\n                                                            </CardActions>\r\n                                                        </Card>\r\n                                                    ))}\r\n                                                    <ServicesForm\r\n                                                        open={open}\r\n                                                        onClose={() =>\r\n                                                            setOpen(false)\r\n                                                        }\r\n                                                        service={service}\r\n                                                        refreshPage={\r\n                                                            refreshPage\r\n                                                        }\r\n                                                        setService={\r\n                                                            setService\r\n                                                        }\r\n                                                    />\r\n                                                </>\r\n                                            ) : (\r\n                                                <div\r\n                                                    className={\r\n                                                        classes.noServicesZone\r\n                                                    }\r\n                                                >\r\n                                                    <Typography\r\n                                                        color=\"inherit\"\r\n                                                        className={\r\n                                                            classes.noServices\r\n                                                        }\r\n                                                    >\r\n                                                        {operations.noServices}\r\n                                                    </Typography>\r\n                                                </div>\r\n                                            )}\r\n                                        </>\r\n                                    )}\r\n                                    {tabValue === 2 && (\r\n                                        <>\r\n                                            {filteredServices(serviceNames.svc3)\r\n                                                .length !== 0 ? (\r\n                                                <>\r\n                                                    {filteredServices(\r\n                                                        serviceNames.svc3\r\n                                                    ).map((aService, index) => (\r\n                                                        <Card\r\n                                                            className={\r\n                                                                classes.card\r\n                                                            }\r\n                                                            key={index}\r\n                                                        >\r\n                                                            <CardContent\r\n                                                                className={\r\n                                                                    classes.cardCnt\r\n                                                                }\r\n                                                            >\r\n                                                                <div\r\n                                                                    className={\r\n                                                                        classes.cardCntHeader\r\n                                                                    }\r\n                                                                >\r\n                                                                    <Grid\r\n                                                                        container\r\n                                                                        spacing={\r\n                                                                            0\r\n                                                                        }\r\n                                                                    >\r\n                                                                        <Grid\r\n                                                                            item\r\n                                                                            xs={\r\n                                                                                6\r\n                                                                            }\r\n                                                                            sm={\r\n                                                                                6\r\n                                                                            }\r\n                                                                            md={\r\n                                                                                6\r\n                                                                            }\r\n                                                                            lg={\r\n                                                                                6\r\n                                                                            }\r\n                                                                        >\r\n                                                                            <Typography\r\n                                                                                color=\"inherit\"\r\n                                                                                variant=\"subtitle1\"\r\n                                                                                className={\r\n                                                                                    classes.cardSubtitle1\r\n                                                                                }\r\n                                                                            >\r\n                                                                                {\r\n                                                                                    aService?.service\r\n                                                                                }\r\n                                                                            </Typography>\r\n                                                                        </Grid>\r\n                                                                        <Grid\r\n                                                                            item\r\n                                                                            xs={\r\n                                                                                6\r\n                                                                            }\r\n                                                                            sm={\r\n                                                                                6\r\n                                                                            }\r\n                                                                            md={\r\n                                                                                6\r\n                                                                            }\r\n                                                                            lg={\r\n                                                                                6\r\n                                                                            }\r\n                                                                        >\r\n                                                                            <Typography\r\n                                                                                color=\"inherit\"\r\n                                                                                variant=\"subtitle2\"\r\n                                                                                className={\r\n                                                                                    classes.cardSubtitle2\r\n                                                                                }\r\n                                                                            >\r\n                                                                                {`${fields\r\n                                                                                    .date\r\n                                                                                    .tittle\r\n                                                                                    } ${moment(\r\n                                                                                        aService?.date\r\n                                                                                    ).format(\r\n                                                                                        'DD/MM/YYYY'\r\n                                                                                    )}`}\r\n                                                                            </Typography>\r\n                                                                        </Grid>\r\n                                                                    </Grid>\r\n                                                                </div>\r\n                                                                <div\r\n                                                                    className={\r\n                                                                        classes.cardCntBody\r\n                                                                    }\r\n                                                                >\r\n                                                                    <Typography\r\n                                                                        color=\"inherit\"\r\n                                                                        noWrap\r\n                                                                        variant=\"body1\"\r\n                                                                    >\r\n                                                                        {\r\n                                                                            aService?.note\r\n                                                                        }\r\n                                                                    </Typography>\r\n                                                                </div>\r\n                                                            </CardContent>\r\n\r\n                                                            <CardActions\r\n                                                                className={\r\n                                                                    classes.cardAct\r\n                                                                }\r\n                                                            >\r\n                                                                <Button\r\n                                                                    size=\"small\"\r\n                                                                    onClick={() => {\r\n                                                                        setOpen(\r\n                                                                            true\r\n                                                                        )\r\n                                                                        setService(\r\n                                                                            aService\r\n                                                                        )\r\n                                                                    }}\r\n                                                                >\r\n                                                                    {\r\n                                                                        operations.view\r\n                                                                    }\r\n                                                                </Button>\r\n                                                            </CardActions>\r\n                                                        </Card>\r\n                                                    ))}\r\n                                                    <ServicesForm\r\n                                                        open={open}\r\n                                                        onClose={() =>\r\n                                                            setOpen(false)\r\n                                                        }\r\n                                                        service={service}\r\n                                                        refreshPage={\r\n                                                            refreshPage\r\n                                                        }\r\n                                                        setService={\r\n                                                            setService\r\n                                                        }\r\n                                                    />\r\n                                                </>\r\n                                            ) : (\r\n                                                <div\r\n                                                    className={\r\n                                                        classes.noServicesZone\r\n                                                    }\r\n                                                >\r\n                                                    <Typography\r\n                                                        color=\"inherit\"\r\n                                                        className={\r\n                                                            classes.noServices\r\n                                                        }\r\n                                                    >\r\n                                                        {operations.noServices}\r\n                                                    </Typography>\r\n                                                </div>\r\n                                            )}\r\n                                        </>\r\n                                    )}\r\n                                    {tabValue === 3 && (\r\n                                        <>\r\n                                            {filteredServices(serviceNames.svc4)\r\n                                                .length !== 0 ? (\r\n                                                <>\r\n                                                    {filteredServices(\r\n                                                        serviceNames.svc4\r\n                                                    ).map((aService, index) => (\r\n                                                        <Card\r\n                                                            className={\r\n                                                                classes.card\r\n                                                            }\r\n                                                            key={index}\r\n                                                        >\r\n                                                            <CardContent\r\n                                                                className={\r\n                                                                    classes.cardCnt\r\n                                                                }\r\n                                                            >\r\n                                                                <div\r\n                                                                    className={\r\n                                                                        classes.cardCntHeader\r\n                                                                    }\r\n                                                                >\r\n                                                                    <Grid\r\n                                                                        container\r\n                                                                        spacing={\r\n                                                                            0\r\n                                                                        }\r\n                                                                    >\r\n                                                                        <Grid\r\n                                                                            item\r\n                                                                            xs={\r\n                                                                                6\r\n                                                                            }\r\n                                                                            sm={\r\n                                                                                6\r\n                                                                            }\r\n                                                                            md={\r\n                                                                                6\r\n                                                                            }\r\n                                                                            lg={\r\n                                                                                6\r\n                                                                            }\r\n                                                                        >\r\n                                                                            <Typography\r\n                                                                                color=\"inherit\"\r\n                                                                                variant=\"subtitle1\"\r\n                                                                                className={\r\n                                                                                    classes.cardSubtitle1\r\n                                                                                }\r\n                                                                            >\r\n                                                                                {\r\n                                                                                    aService?.service\r\n                                                                                }\r\n                                                                            </Typography>\r\n                                                                        </Grid>\r\n                                                                        <Grid\r\n                                                                            item\r\n                                                                            xs={\r\n                                                                                6\r\n                                                                            }\r\n                                                                            sm={\r\n                                                                                6\r\n                                                                            }\r\n                                                                            md={\r\n                                                                                6\r\n                                                                            }\r\n                                                                            lg={\r\n                                                                                6\r\n                                                                            }\r\n                                                                        >\r\n                                                                            <Typography\r\n                                                                                color=\"inherit\"\r\n                                                                                variant=\"subtitle2\"\r\n                                                                                className={\r\n                                                                                    classes.cardSubtitle2\r\n                                                                                }\r\n                                                                            >\r\n                                                                                {`${fields\r\n                                                                                    .date\r\n                                                                                    .tittle\r\n                                                                                    } ${moment(\r\n                                                                                        aService?.date\r\n                                                                                    ).format(\r\n                                                                                        'DD/MM/YYYY'\r\n                                                                                    )}`}\r\n                                                                            </Typography>\r\n                                                                        </Grid>\r\n                                                                    </Grid>\r\n                                                                </div>\r\n                                                                <div\r\n                                                                    className={\r\n                                                                        classes.cardCntBody\r\n                                                                    }\r\n                                                                >\r\n                                                                    <Typography\r\n                                                                        color=\"inherit\"\r\n                                                                        noWrap\r\n                                                                        variant=\"body1\"\r\n                                                                    >\r\n                                                                        {\r\n                                                                            aService?.note\r\n                                                                        }\r\n                                                                    </Typography>\r\n                                                                </div>\r\n                                                            </CardContent>\r\n\r\n                                                            <CardActions\r\n                                                                className={\r\n                                                                    classes.cardAct\r\n                                                                }\r\n                                                            >\r\n                                                                <Button\r\n                                                                    size=\"small\"\r\n                                                                    onClick={() => {\r\n                                                                        setOpen(\r\n                                                                            true\r\n                                                                        )\r\n                                                                        setService(\r\n                                                                            aService\r\n                                                                        )\r\n                                                                    }}\r\n                                                                >\r\n                                                                    {\r\n                                                                        operations.view\r\n                                                                    }\r\n                                                                </Button>\r\n                                                            </CardActions>\r\n                                                        </Card>\r\n                                                    ))}\r\n                                                    <ServicesForm\r\n                                                        open={open}\r\n                                                        onClose={() =>\r\n                                                            setOpen(false)\r\n                                                        }\r\n                                                        service={service}\r\n                                                        refreshPage={\r\n                                                            refreshPage\r\n                                                        }\r\n                                                        setService={\r\n                                                            setService\r\n                                                        }\r\n                                                    />\r\n                                                </>\r\n                                            ) : (\r\n                                                <div\r\n                                                    className={\r\n                                                        classes.noServicesZone\r\n                                                    }\r\n                                                >\r\n                                                    <Typography\r\n                                                        color=\"inherit\"\r\n                                                        className={\r\n                                                            classes.noServices\r\n                                                        }\r\n                                                    >\r\n                                                        {operations.noServices}\r\n                                                    </Typography>\r\n                                                </div>\r\n                                            )}\r\n                                        </>\r\n                                    )}\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </>\r\n                ) : (\r\n                    <div className={classes.notFound}>\r\n                        <NotFound title={operations.restriction} />\r\n                    </div>\r\n                )}\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ServicesInfo\r\n","export const Consts = {\r\n    headers: {\r\n        child1: 'Task Detail',\r\n        // child1: 'Assign Detail',\r\n    },\r\n    operations: {\r\n        cancel: 'Cancel',\r\n        save: 'Save',\r\n        empty: 'Not assigned yet!',\r\n        restriction: `Sorry, you can't view this!`,\r\n        purpWarning: 'New school status has been applied',\r\n        complete: 'Mark as completed',\r\n        fail: 'Mark as failed',\r\n    },\r\n    fields: {\r\n        name: {\r\n            title: 'School Name',\r\n        },\r\n        addr: {\r\n            title: 'Address',\r\n        },\r\n        dist: {\r\n            title: 'District',\r\n        },\r\n        eduLvl: {\r\n            title: 'Educational Level',\r\n        },\r\n        // scale: {\r\n        //     title: 'School Scale',\r\n        // },\r\n        type: {\r\n            title: 'School Type',\r\n        },\r\n        salesStatus: {\r\n            title: 'School Status',\r\n        },\r\n        tel: {\r\n            title: 'Tel',\r\n        },\r\n        des: {\r\n            title: 'Description',\r\n        },\r\n        reprName: {\r\n            title: 'Principal Name',\r\n        },\r\n        reprIsMale: {\r\n            title: 'Principal Gender',\r\n        },\r\n        pic: {\r\n            title: 'PIC',\r\n        },\r\n        purpose: {\r\n            title: 'Sales Purpose',\r\n        },\r\n        schlYear: {\r\n            title: 'School Year',\r\n        },\r\n        duration: {\r\n            title: 'Duration',\r\n        },\r\n        note: {\r\n            title: 'Manager Note',\r\n            hasNote: 'Last note by',\r\n            noNote: 'No notes yet',\r\n        },\r\n    },\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogActions,\r\n    withStyles,\r\n    Typography,\r\n    IconButton,\r\n    // FormLabel,\r\n    // Checkbox,\r\n    Grid,\r\n    TextField,\r\n    RadioGroup,\r\n    FormControlLabel,\r\n    Radio,\r\n    InputLabel,\r\n    InputAdornment,\r\n    Divider,\r\n    Tooltip,\r\n    ClickAwayListener,\r\n    Box,\r\n    FormHelperText,\r\n    OutlinedInput,\r\n    FormControl,\r\n} from '@material-ui/core'\r\nimport { MdClose } from 'react-icons/md'\r\nimport moment from 'moment'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport * as yup from 'yup'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\n// import { Snackbars } from '../../../../components'\r\nimport { useSnackbar } from 'notistack'\r\nimport { Consts, confirmTaskCompleteMessage1, getCriteriaInfo } from '../DialogConfig'   // updateStatusMessage,\r\nimport * as TasksServices from '../../TasksServices'\r\nimport { useTask } from '../../hooks/TaskContext'\r\nimport { useAuth } from '../../../../hooks/AuthContext'\r\nimport { useApp } from '../../../../hooks/AppContext'\r\nimport { DateRangePickers } from '../../components'\r\nimport { app as FirebaseApp } from '../../../../services/firebase'\r\nimport { calculateDatesGap, parseDateToString } from '../../../../utils/DateTimes';\r\nimport { suggestPrice } from '../../../../utils/Suggestions';\r\nimport { schoolLevelNames, serviceNames } from '../../../../constants/Generals'\r\nimport { IoInformationCircleSharp } from 'react-icons/io5'\r\nimport classes from './UpdateSchStatus.module.scss'\r\nimport NumberFormat from 'react-number-format'\r\n\r\nconst clientSchema = yup.object().shape({\r\n    classNumber: yup.number('Number of classes must be a number')\r\n        .integer('Number of classes must be an integer')\r\n        .min(1, 'Minimum 1 class')\r\n        .max(100, 'Maximum 100 classes')\r\n        .required('Number of classes is required'),\r\n    studentNumber: yup.number('Number of students must be a number')\r\n        .integer('Number of students must be an integer')\r\n        .min(1, 'Minimum 1 student')\r\n        .max(100, 'Maximum 100 students')\r\n        .required('Number of students is required'),\r\n    slotNumber: yup.number('Number of periods must be a number')\r\n        .integer('Number of periods must be an integer')\r\n        .min(1, 'Minimum 1 period')\r\n        .max(10, 'Maximum 10 periods')\r\n        .required('Number of periods is required'),\r\n    pricePerSlot: yup\r\n        .number('Price floor must be a number')\r\n        .min(100000, 'Minimum price is 100.000VND')\r\n        .max(2000000, 'Maximum price is 2.000.000VND')\r\n        .required('Price floor is required'),\r\n    note: yup.string().trim(),\r\n})\r\n\r\nconst currencyFormatter = new Intl.NumberFormat('vi-VN', {\r\n    style: 'currency', currency: 'VND',\r\n});\r\n\r\nconst stylesTitle = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n})\r\n\r\nconst DialogTitleWithIconClose = withStyles(stylesTitle)((props) => {\r\n    const { children, classes, onClose, ...other } = props\r\n    return (\r\n        <DialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton\r\n                    aria-label=\"close\"\r\n                    className={classes.closeButton}\r\n                    onClick={onClose}\r\n                >\r\n                    <MdClose />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    )\r\n})\r\n\r\nfunction UpdateSchStatus(props) {\r\n    const { open, onClose, task, refreshPage } = props\r\n    const { headers, operations, fields, messages } = Consts\r\n\r\n    const { enqueueSnackbar } = useSnackbar()\r\n\r\n    const { user } = useAuth()\r\n    const { userInfo } = useApp()\r\n    const history = useHistory()\r\n    const { serviceTypes } = useTask()\r\n\r\n    const [openInfoTooltip, setOpenInfoTooltip] = useState(false);\r\n    const [priceSuggestions, setPriceSuggestions] = useState([]);\r\n\r\n    // const [notify, setNotify] = useState({\r\n    //     isOpen: false,\r\n    //     message: '',\r\n    //     type: '',\r\n    // })\r\n\r\n    const defaultValues = {\r\n        // id: memoDets?.id,\r\n        startDate: new Date(),\r\n        endDate: new Date(new Date().getFullYear(new Date().getFullYear() + 1)),\r\n        serviceType: serviceNames.svc1,\r\n        classNumber: 0,\r\n        studentNumber: 0,\r\n        slotNumber: 0,\r\n        pricePerSlot: 100000,\r\n        note: '',\r\n        // showCreate: false,\r\n    }\r\n\r\n    const {\r\n        control,\r\n        errors,\r\n        handleSubmit,\r\n        formState,\r\n        reset,\r\n        //watch,    // chưa hiểu sao đó mà Watch nó chặn nên getValue() ko lấy đc defaultValues của form\r\n        getValues\r\n    } = useForm({\r\n        resolver: yupResolver(clientSchema),\r\n        defaultValues: defaultValues,\r\n    })\r\n\r\n    // const confirmWatch = watch('showCreate')\r\n\r\n    const [listManagers, setListManagers] = useState([])\r\n    const getListManagers = () => {\r\n        TasksServices.getListManagers().then((res) =>\r\n            setListManagers(res.list)\r\n        )\r\n    }\r\n    useEffect(getListManagers, []);\r\n\r\n    const customiseServiceList = (schoolLevel) => {\r\n        const customServiceTypes = [...serviceTypes]\r\n\r\n        if (schoolLevel !== schoolLevelNames.th) {\r\n            customServiceTypes.splice(customServiceTypes.indexOf(serviceNames.svc3), 1)\r\n        }\r\n        return customServiceTypes;\r\n    }\r\n    const customServiceTypes = customiseServiceList(task?.level)\r\n\r\n    // const allowUpdate = () => {\r\n    //     // console.log('allow aupdate nè');\r\n\r\n    //     TasksServices.updateStatus(task?.schoolId, currStatus)\r\n    //         .then((res) => {\r\n    //             refreshPage(task?.id)\r\n    //             // setNotify({\r\n    //             //     isOpen: true,\r\n    //             //     message: \"Updated school's status successfully\",\r\n    //             //     type: 'success',\r\n    //             // })\r\n\r\n    //             enqueueSnackbar(messages.updatedSuccess, { variant: 'success' })\r\n    //         })\r\n    //         .catch((error) => {\r\n    //             if (error.response) {\r\n    //                 console.log(error)\r\n    //                 history.push({\r\n    //                     pathname: '/errors',\r\n    //                     state: { error: error.response.status },\r\n    //                 })\r\n    //             }\r\n    //             // setNotify({\r\n    //             //     isOpen: true,\r\n    //             //     message: \"Updated school's status failed\",\r\n    //             //     type: 'error',\r\n    //             // })\r\n    //             enqueueSnackbar(messages.updatedError, {\r\n    //                 variant: 'error',\r\n    //             })\r\n    //         })\r\n    // }\r\n\r\n    // Coi xem chỗ này còn lỗi ko\r\n    console.log('listManagers: ', listManagers)\r\n    const createNotify = (serviceId) => {    //value\r\n        if (listManagers && listManagers?.length > 0) {\r\n            new Promise((resolve, reject) => {\r\n                // listManagers.map((mng) => {\r\n                console.log({\r\n                    avatar: userInfo?.avatar ? userInfo?.avatar : '',\r\n                    actor: user?.username,\r\n                    type: 'service',\r\n                    timestamp: moment(new Date()).format(\r\n                        'YYYY-MM-DD HH:mm:ss'\r\n                    ),\r\n                    content: 'A service has just been submited.',\r\n                    uid: serviceId,\r\n                    isSeen: false,\r\n                });\r\n                FirebaseApp.database()\r\n                    .ref('notify')\r\n                    .child(listManagers[0]?.username)\r\n                    .push({\r\n                        avatar: userInfo?.avatar ? userInfo?.avatar : '',\r\n                        actor: user?.username,\r\n                        type: 'service',\r\n                        timestamp: moment(new Date()).format(\r\n                            'YYYY-MM-DD HH:mm:ss'\r\n                        ),\r\n                        content: 'A service has just been submited.',\r\n                        uid: serviceId,\r\n                        isSeen: false,\r\n                    })\r\n                // })\r\n            })\r\n        }\r\n    }\r\n\r\n    const onSubmit = (data) => {\r\n        const model = {\r\n            ...data,\r\n            taskId: task?.id,\r\n            submitDate: parseDateToString(new Date(), 'YYYY-MM-DD HH:mm:ss'),\r\n            startDate: data?.duration[0] ? parseDateToString(data?.duration[0], 'YYYY-MM-DD HH:mm:ss')\r\n                : parseDateToString(new Date(), 'YYYY-MM-DD HH:mm:ss'),\r\n            endDate: data?.duration[1] ? parseDateToString(data?.duration[1], 'YYYY-MM-DD HH:mm:ss')\r\n                : parseDateToString(new Date(new Date().getFullYear(new Date().getFullYear() + 1)), 'YYYY-MM-DD HH:mm:ss'),\r\n            serviceType: data?.serviceType ? data?.serviceType : serviceNames.svc1,\r\n            classNumber: parseInt(data?.classNumber ? data?.classNumber : '0', 10),\r\n            studentNumber: parseInt(data?.studentNumber ? data?.studentNumber : '0', 10),\r\n            slotNumber: parseInt(data?.slotNumber ? data?.slotNumber : '0', 10),\r\n            pricePerSlot: parseFloat(data?.pricePerSlot ? data?.pricePerSlot : '0.0'),\r\n        }\r\n        // delete model.showCreate\r\n        delete model.duration\r\n\r\n        // getListManagers()\r\n        // console.log('listManagers: ', listManagers)\r\n\r\n        TasksServices.createServices(model)\r\n            .then((res) => {\r\n                // Send notification by Firebase\r\n                createNotify(res.data)  //res là serviceId\r\n\r\n                refreshPage(task?.id)\r\n                // Manager approve service thì trường này mới đổi trạng thái\r\n                // TasksServices.completeTasks(task?.id).then(res => {\r\n\r\n\r\n                //     // enqueueSnackbar(\"Updated task's status successfully\", {\r\n                //     //     variant: 'success',\r\n                //     // })\r\n                // }).catch((error) => {\r\n                //     if (error.response) {\r\n                //         console.log(error)\r\n                //         history.push({\r\n                //             pathname: '/errors',\r\n                //             state: { error: error.response.status },\r\n                //         })\r\n                //     }\r\n                //     // setNotify({\r\n                //     //     isOpen: true,\r\n                //     //     message: 'Proposed a service failed',\r\n                //     //     type: 'error',\r\n                //     // })\r\n                //     enqueueSnackbar(\"Updated task's status failed\", {\r\n                //         variant: 'error',\r\n                //     })\r\n                // })\r\n\r\n\r\n                // setNotify({\r\n                //     isOpen: true,\r\n                //     message: 'Proposed a service successfully',\r\n                //     type: 'success',\r\n                // })\r\n\r\n                enqueueSnackbar('Created service successfully', {\r\n                    variant: 'success',\r\n                })\r\n\r\n                // reset({ showCreate: false })\r\n\r\n                // allowUpdate()\r\n                onClose()\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n                // setNotify({\r\n                //     isOpen: true,\r\n                //     message: 'Proposed a service failed',\r\n                //     type: 'error',\r\n                // })\r\n                enqueueSnackbar('Created service failed', {\r\n                    variant: 'error',\r\n                })\r\n            })\r\n\r\n        // alert(JSON.stringify(model))\r\n    }\r\n\r\n    // Tạm đóng\r\n    // const calculateEstimateSales = (pricePerSlot, slotNumber, classNumber) => { //, time\r\n    //     let estimateSales = currencyFormatter.format(0)\r\n    //     // const duration = calculateDatesGap(new Date(time[0]), new Date(time[1]), 'M')\r\n    //     const duration = 1; // giả định thế\r\n\r\n    //     if ((pricePerSlot * slotNumber * classNumber * 4 * duration) > 20000000000) {\r\n    //         estimateSales = currencyFormatter.format(20000000000);\r\n    //     } else {\r\n    //         estimateSales = currencyFormatter.format(pricePerSlot * slotNumber * classNumber * 4 * duration)\r\n    //     }\r\n\r\n    //     return estimateSales\r\n    // }\r\n\r\n    return (\r\n        <>\r\n            <Dialog open={open} onClose={onClose} maxWidth=\"sm\">\r\n                <DialogTitleWithIconClose onClose={onClose}>\r\n                    {headers.confirmCompleteTask}\r\n                </DialogTitleWithIconClose>\r\n\r\n                <DialogContent className={classes.dialogCont}>\r\n                    <form noValidate>\r\n                        <DialogContentText className={classes.dialogText}>\r\n                            {/* If you want to update this status, please process to create\r\n                    a Memorandum of Contract. */}\r\n                            {/* {updateStatusMessage()} */}\r\n                            {confirmTaskCompleteMessage1()}\r\n                            <Divider style={{ margin: '1.1rem 5rem' }} />\r\n\r\n                            {/* <div className={classes.showCreate}>\r\n                                <FormLabel>{operations.showCreate}</FormLabel>\r\n                                <Controller\r\n                                    name=\"showCreate\"\r\n                                    control={control}\r\n                                    render={({ value, onChange }) => (\r\n                                        <Checkbox\r\n                                            onChange={(e) =>\r\n                                                onChange(e.target.checked)\r\n                                            }\r\n                                            checked={value}\r\n                                        />\r\n                                    )}\r\n                                />\r\n                            </div> */}\r\n\r\n                            {/* {confirmWatch && (\r\n                                <> */}\r\n                            {/* <Divider style={{ marginBottom: '1.1rem' }} /> */}\r\n                            <Grid container spacing={2} className={classes.wrapper}>\r\n                                <Grid item xs={12} sm={12} md={12} lg={12} className={classes.rowx}>\r\n                                    <Box display=\"flex\" flexDirection=\"row\">\r\n                                        <Box flexGrow={1} display=\"flex\" flexDirection=\"row\">\r\n                                            <Tooltip title='Service \"Toán Khoa\" only available for schools which are \"Tiểu học\"' placement=\"right-end\">\r\n                                                <InputLabel>{fields.service.title}</InputLabel>\r\n                                                {/* <div style={{\r\n                                             marginLeft: '0.7rem' }}><IoInformationCircleSharp className={classes.iconInfo} /></div> */}\r\n                                            </Tooltip>\r\n                                        </Box>\r\n                                        <Box>\r\n                                            <ClickAwayListener onClickAway={() => setOpenInfoTooltip(false)}>\r\n                                                <Tooltip\r\n                                                    interactive\r\n                                                    title={getCriteriaInfo()}\r\n                                                    placement=\"bottom-end\"\r\n                                                    open={openInfoTooltip}\r\n                                                    onClose={() => setOpenInfoTooltip(false)}\r\n                                                    disableFocusListener\r\n                                                    disableHoverListener  // disable cái này thì khi thả chuột ra ko bị close\r\n                                                >\r\n                                                    <div onClick={() => setOpenInfoTooltip(true)}>\r\n                                                        <IoInformationCircleSharp className={classes.iconInfo} />\r\n                                                    </div>\r\n                                                </Tooltip>\r\n                                            </ClickAwayListener>\r\n                                        </Box>\r\n                                    </Box>\r\n                                    <Controller\r\n                                        name=\"serviceType\"\r\n                                        control={control}\r\n                                        render={({ value, onChange }) => (\r\n                                            <RadioGroup value={value} onChange={onChange} row>\r\n                                                <Grid container xs={12} sm={12} md={12} lg={12}>\r\n                                                    {customServiceTypes.map(service => (\r\n                                                        <Grid item xs={3} sm={3} md={3} lg={3} key={service}>\r\n                                                            <FormControlLabel\r\n                                                                control={<Radio />}\r\n                                                                label={service}\r\n                                                                value={service}\r\n                                                            />\r\n                                                        </Grid>\r\n                                                    ))}\r\n                                                </Grid>\r\n                                            </RadioGroup>\r\n                                        )}\r\n                                    />\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} sm={12} md={12} lg={12} className={classes.rowx}>\r\n                                    <Controller\r\n                                        name=\"duration\"\r\n                                        control={control}\r\n                                        defaultValue={[new Date(), new Date(new Date().setFullYear(new Date().getFullYear() + 1))]}\r\n                                        render={({ value, onChange }) => (\r\n                                            <DateRangePickers\r\n                                                dateRange={value}\r\n                                                handleDateRangeChange={onChange}\r\n                                                startLabel=\"Valid from\"\r\n                                                endLabel=\"Valid until\"\r\n                                                isFilter={false}\r\n                                            />\r\n                                        )}\r\n                                    />\r\n                                    {/* <InputLabel>Duration *</InputLabel> */}\r\n                                </Grid>\r\n\r\n                                <Grid item xs={7} sm={6} md={6} lg={6} className={classes.rowx}>\r\n                                    <Controller\r\n                                        name=\"classNumber\"\r\n                                        control={control}\r\n                                        render={({ value, onChange }) => (\r\n                                            <TextField\r\n                                                className={classes.txtNumber}\r\n                                                label={fields.classNo.title}\r\n                                                variant=\"outlined\"\r\n                                                type=\"number\"\r\n                                                required\r\n                                                // fullWidth\r\n                                                value={value}\r\n                                                onChange={onChange}\r\n                                                InputProps={{\r\n                                                    endAdornment: (\r\n                                                        <InputAdornment position=\"end\">\r\n                                                            {fields.classNo.adornment}\r\n                                                        </InputAdornment>\r\n                                                    ),\r\n                                                    inputProps: { min: 1, max: 100 },\r\n                                                }}\r\n                                                error={!!errors.classNumber}\r\n                                                helperText={errors?.classNumber ?\r\n                                                    errors?.classNumber?.message\r\n                                                    : fields.classNo.helper\r\n                                                }\r\n                                            />\r\n                                        )}\r\n                                    />\r\n                                </Grid>\r\n\r\n                                <Grid item xs={7} sm={6} md={6} lg={6} className={classes.rowx}>\r\n                                    <Controller\r\n                                        name=\"studentNumber\"\r\n                                        control={control}\r\n                                        render={({ value, onChange }) => (\r\n                                            <TextField\r\n                                                className={classes.txtNumber}\r\n                                                label={fields.studentNumber.title}\r\n                                                variant=\"outlined\"\r\n                                                type=\"number\"\r\n                                                required\r\n                                                // fullWidth\r\n                                                value={value}\r\n                                                onChange={onChange}\r\n                                                InputProps={{\r\n                                                    endAdornment: (\r\n                                                        <InputAdornment position=\"end\">\r\n                                                            {fields.studentNumber.adornment}\r\n                                                        </InputAdornment>\r\n                                                    ),\r\n                                                    inputProps: { min: 1, max: 100 },\r\n                                                }}\r\n                                                error={!!errors.studentNumber}\r\n                                                helperText={errors?.studentNumber ?\r\n                                                    errors?.studentNumber?.message\r\n                                                    : fields.studentNumber.helper\r\n                                                }\r\n                                            />\r\n                                        )}\r\n                                    />\r\n                                </Grid>\r\n\r\n                                <Grid item xs={7} sm={6} md={6} lg={6} className={classes.rowx}>\r\n                                    <Controller\r\n                                        name=\"pricePerSlot\"\r\n                                        control={control}\r\n                                        render={({ value, onChange }) => (\r\n                                            <Grid container>\r\n                                                <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                                    <FormControl variant=\"outlined\" required>\r\n                                                        <InputLabel htmlFor=\"component-disabled\">{fields.price.title}</InputLabel>\r\n                                                        <NumberFormat\r\n                                                            {...props}\r\n                                                            id=\"component-disabled\"\r\n                                                            value={value}\r\n                                                            customInput={OutlinedInput}\r\n                                                            // customInput={() => <OutlinedInput {...props} label={fields.price.title} required />}\r\n                                                            // suffix={'₫'}\r\n                                                            isNumericString\r\n                                                            type=\"text\"\r\n                                                            thousandSeparator={'.'}\r\n                                                            decimalSeparator={','}\r\n                                                            onValueChange={({ floatValue: val }) => {\r\n                                                                onChange(val)\r\n                                                                suggestPrice(val, setPriceSuggestions)\r\n                                                            }}\r\n                                                        />\r\n                                                        <FormHelperText className={errors?.pricePerSlot ? classes.helper : classes.normal}>\r\n                                                            {errors?.pricePerSlot ? errors?.pricePerSlot?.message\r\n                                                                : fields.price.helper}\r\n                                                        </FormHelperText>\r\n                                                    </FormControl>\r\n                                                    {/* <TextField\r\n                                                        className={classes.txtPrice}\r\n                                                        label={fields.price.title}\r\n                                                        variant=\"outlined\"\r\n                                                        type=\"number\"\r\n                                                        required\r\n                                                        fullWidth\r\n                                                        // autoFocus\r\n                                                        InputProps={{\r\n                                                            endAdornment: (\r\n                                                                <InputAdornment position=\"end\">\r\n                                                                    {fields.price.adornment}\r\n                                                                </InputAdornment>\r\n                                                            ),\r\n                                                            inputProps: { min: 100000, max: 2000000 },\r\n                                                        }}\r\n                                                        value={value}\r\n                                                        // value={new Intl.NumberFormat('vi-VN').format(value)}\r\n                                                        // onChange={onChange}\r\n                                                        onChange={(e) => {\r\n                                                            onChange(e.target.value)\r\n                                                            suggestPrice(Number(e.target.value), setPriceSuggestions)\r\n                                                        }}\r\n                                                        error={!!errors.pricePerSlot}\r\n                                                        helperText={errors?.pricePerSlot ?\r\n                                                            errors?.pricePerSlot?.message\r\n                                                            : fields.price.helper\r\n                                                        }\r\n                                                    /> */}\r\n                                                </Grid>\r\n                                                <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                                    {priceSuggestions.map(suggestion => (\r\n                                                        <Button variant=\"outlined\" size=\"small\" color=\"secondary\"\r\n                                                            onClick={(e) => {\r\n                                                                // console.log('suggestedPrice = ', suggestion);\r\n                                                                onChange(suggestion)\r\n                                                            }}\r\n                                                            className={classes.suggestions}\r\n                                                        >\r\n                                                            {new Intl.NumberFormat('vi-VN').format(suggestion)}\r\n                                                        </Button>\r\n                                                    ))}\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                        )}\r\n                                    />\r\n                                </Grid>\r\n\r\n                                <Grid item xs={7} sm={6} md={6} lg={6} className={classes.rowx}>\r\n                                    <Grid container>\r\n                                        <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                            <Controller\r\n                                                name=\"slotNumber\"\r\n                                                control={control}\r\n                                                render={({ value, onChange }) => (\r\n                                                    <TextField\r\n                                                        className={classes.txtNumber}\r\n                                                        label={fields.slotNumber.title}\r\n                                                        variant=\"outlined\"\r\n                                                        type=\"number\"\r\n                                                        required\r\n                                                        // fullWidth\r\n                                                        value={value}\r\n                                                        onChange={(e) => onChange(e.target.value)}\r\n                                                        InputProps={{\r\n                                                            endAdornment: (\r\n                                                                <InputAdornment position=\"end\">\r\n                                                                    {fields.slotNumber.adornment}\r\n                                                                </InputAdornment>\r\n                                                            ),\r\n                                                            inputProps: { min: 1, max: 10 }\r\n                                                        }}\r\n                                                        error={!!errors.slotNumber}\r\n                                                        helperText={errors?.slotNumber ?\r\n                                                            errors?.slotNumber?.message\r\n                                                            : fields.slotNumber.helper\r\n                                                        }\r\n                                                    // error={!!errors.slotNumber}\r\n                                                    // helperText={errors?.slotNumber?.message}\r\n                                                    />\r\n                                                )}\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                            <Tooltip\r\n                                                title={<Typography variant='caption'>{fields.revenue.formula}</Typography>}\r\n                                                arrow interactive\r\n                                            >\r\n                                                <Typography variant='body1'>\r\n                                                    {/* <span className={classes.txtEstimate}>Estimate sales</span> &nbsp;\r\n                                                                    <span className={classes.txtRevenue}>\r\n                                                        ≈ {calculateEstimateSales(getValues('pricePerSlot'), getValues('slotNumber'), getValues('classNumber'), getValues('duration'))}\r\n                                                    </span> */}\r\n                                                </Typography>\r\n                                            </Tooltip>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Grid>\r\n\r\n                                {/**Giờ bỏ cái này, ko dùng đến nữa */}\r\n                                {/* <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                        <InputLabel>\r\n                                            {fields.revenue.title}\r\n                                        </InputLabel>\r\n                                        <Controller\r\n                                            name=\"revenueCriteria\"\r\n                                            control={control}\r\n                                            defaultValue={\r\n                                                fields.revenue.rev1.value\r\n                                            }\r\n                                            render={({ value, onChange }) => (\r\n                                                <RadioGroup\r\n                                                    value={value}\r\n                                                    onChange={onChange}\r\n                                                    row\r\n                                                >\r\n                                                    <FormControlLabel\r\n                                                        label={\r\n                                                            fields.revenue.rev1\r\n                                                                .lb\r\n                                                        }\r\n                                                        value={\r\n                                                            fields.revenue.rev1\r\n                                                                .value\r\n                                                        }\r\n                                                        control={<Radio />}\r\n                                                    />\r\n                                                    <FormControlLabel\r\n                                                        label={\r\n                                                            fields.revenue.rev2\r\n                                                                .lb\r\n                                                        }\r\n                                                        value={\r\n                                                            fields.revenue.rev2\r\n                                                                .value\r\n                                                        }\r\n                                                        control={<Radio />}\r\n                                                    />\r\n                                                </RadioGroup>\r\n                                            )}\r\n                                        />\r\n                                    </Grid> */}\r\n\r\n                                <Grid item xs={12} sm={12} md={12} lg={12} className={classes.rowx}>\r\n                                    <Controller\r\n                                        name=\"note\"\r\n                                        control={control}\r\n                                        defaultValue=\"\"\r\n                                        render={({ value, onChange }) => (\r\n                                            <TextField\r\n                                                label={fields.note.title}\r\n                                                variant=\"outlined\"\r\n                                                fullWidth\r\n                                                multiline\r\n                                                rows={4}\r\n                                                value={value}\r\n                                                onChange={onChange}\r\n                                                error={!!errors.note}\r\n                                                helperText={errors?.note?.message}\r\n                                            />\r\n                                        )}\r\n                                    />\r\n                                </Grid>\r\n                            </Grid>\r\n                            {/* </>\r\n                            )} */}\r\n                        </DialogContentText>\r\n                    </form>\r\n                </DialogContent>\r\n\r\n                <DialogActions className={classes.dialogAct}>\r\n                    <Button\r\n                        className={classes.btnSave}\r\n                        // type=\"submit\"\r\n                        disabled={!formState.isDirty}\r\n                        onClick={handleSubmit(onSubmit)}\r\n                    >\r\n                        {operations.save}\r\n                    </Button>\r\n                    <Button\r\n                        onClick={() => {\r\n                            reset({\r\n                                errors: false,\r\n                                // showCreate: false,\r\n                            })\r\n                            onClose()\r\n                        }}\r\n                    >\r\n                        {operations.cancel}\r\n                    </Button>\r\n                    {/* {console.log(getValues('pricePerSlot'))}\r\n                    {console.log(getValues('slotNumber'))} */}\r\n                </DialogActions>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default UpdateSchStatus","import React from 'react'\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogActions,\r\n    withStyles,\r\n    Typography,\r\n    IconButton,\r\n} from '@material-ui/core'\r\nimport { MdClose } from 'react-icons/md'\r\nimport { Consts, confirmTaskFailMessage } from '../DialogConfig'\r\nimport { useHistory } from 'react-router'\r\nimport { incompleteTasks } from '../../TasksServices';\r\nimport { useSnackbar } from 'notistack'\r\nimport classes from './ConfirmTaskFail.module.scss'\r\n\r\nconst stylesTitle = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n});\r\n\r\nconst DialogTitleWithIconClose = withStyles(stylesTitle)((props) => {\r\n    const { children, classes, onClose, ...other } = props;\r\n    return (\r\n        <DialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n                    <MdClose />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    );\r\n});\r\n\r\nfunction ConfirmTaskFail(props) {\r\n    const { open, onClose, taskId, refreshPage } = props\r\n    const { headers, operations } = Consts\r\n\r\n    const history = useHistory()\r\n    const { enqueueSnackbar } = useSnackbar()\r\n\r\n    const handleIncompleteTask = () => {\r\n        incompleteTasks(taskId).then(res => {\r\n            refreshPage(taskId)\r\n            enqueueSnackbar(\"Updated task's status successfully\", {\r\n                variant: 'success',\r\n            })\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                history.push({\r\n                    pathname: '/errors',\r\n                    state: { error: error.response.status },\r\n                })\r\n            }\r\n            enqueueSnackbar(\"Updated task's status failed\", {\r\n                variant: 'error',\r\n            })\r\n        })\r\n\r\n        onClose();\r\n    }\r\n\r\n    return (\r\n        <Dialog open={open} onClose={onClose}>\r\n            <DialogTitleWithIconClose onClose={onClose}>\r\n                {headers.confirmFailTask}\r\n            </DialogTitleWithIconClose>\r\n            {/* <Divider /> */}\r\n            <DialogContent>\r\n                <DialogContentText className={classes.dialogText}>\r\n                    {confirmTaskFailMessage()}\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            {/* <Divider /> */}\r\n            <DialogActions>\r\n                <Button className={classes.btnYes} onClick={handleIncompleteTask}>\r\n                    {operations.yes}\r\n                </Button>\r\n                <Button onClick={onClose}>\r\n                    {operations.cancel}\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default React.memo(ConfirmTaskFail)","import React from 'react'\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogActions,\r\n    withStyles,\r\n    Typography,\r\n    IconButton,\r\n} from '@material-ui/core'\r\nimport { MdClose } from 'react-icons/md'\r\nimport { Consts, confirmTaskCompleteMessage2 } from '../DialogConfig'\r\nimport { useHistory } from 'react-router'\r\nimport { completeTasks } from '../../TasksServices';\r\nimport { useSnackbar } from 'notistack'\r\nimport classes from './ConfirmTaskComplete.module.scss'\r\n\r\nconst stylesTitle = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n});\r\n\r\nconst DialogTitleWithIconClose = withStyles(stylesTitle)((props) => {\r\n    const { children, classes, onClose, ...other } = props;\r\n    return (\r\n        <DialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n                    <MdClose />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    );\r\n});\r\n\r\nfunction ConfirmTaskComplete(props) {\r\n    const { open, onClose, refreshPage, taskId } = props\r\n    const { headers, operations } = Consts\r\n\r\n    const history = useHistory()\r\n    const { enqueueSnackbar } = useSnackbar()\r\n\r\n    const handleCompleteTask = () => {\r\n        completeTasks(taskId).then(res => {\r\n            refreshPage(taskId)\r\n            enqueueSnackbar(\"Updated task's status successfully\", {\r\n                variant: 'success',\r\n            })\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                history.push({\r\n                    pathname: '/errors',\r\n                    state: { error: error.response.status },\r\n                })\r\n            }\r\n            enqueueSnackbar(\"Updated task's status failed\", {\r\n                variant: 'error',\r\n            })\r\n        })\r\n\r\n        onClose();\r\n    }\r\n\r\n    return (\r\n        <Dialog open={open} onClose={onClose}>\r\n            <DialogTitleWithIconClose onClose={onClose}>\r\n                {headers.confirmCompleteTask}\r\n            </DialogTitleWithIconClose>\r\n            {/* <Divider /> */}\r\n            <DialogContent>\r\n                <DialogContentText className={classes.dialogText}>\r\n                    {confirmTaskCompleteMessage2()}\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            {/* <Divider /> */}\r\n            <DialogActions>\r\n                <Button className={classes.btnYes} onClick={handleCompleteTask}>\r\n                    {operations.yes}\r\n                </Button>\r\n                <Button onClick={onClose}>\r\n                    {operations.cancel}\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default React.memo(ConfirmTaskComplete)","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport {\r\n    Grid,\r\n    Typography,\r\n    Avatar,\r\n    Button,\r\n    TextField,\r\n    makeStyles,\r\n    Select,\r\n    MenuItem,\r\n    Chip,\r\n    Box,\r\n} from '@material-ui/core'\r\nimport { MdWarning } from 'react-icons/md'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport * as yup from 'yup'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport { useApp } from '../../../../hooks/AppContext'\r\nimport * as Milk from '../../../../utils/Milk'\r\nimport { milkNames, purposeNames, serviceStatusNames, taskResultNames, taskStatusNames } from '../../../../constants/Generals'\r\nimport { Snackbars, Loading, NotFound, LinearProgressBars } from '../../../../components'\r\nimport { Consts } from './AssignInfoConfig'\r\nimport { useAuth } from '../../../../hooks/AuthContext'\r\nimport { roleNames, statusNames } from '../../../../constants/Generals'\r\nimport * as TasksServices from '../../TasksServices'\r\nimport { getPurpsByStatus, handleMatchPurps } from '../../../../utils/Sortings'\r\n// import { parseDateToString, calculateDatesGap } from '../../../../utils/DateTimes';\r\nimport UpdateSchStatus from '../../dialogs/UpdateSchStatus/UpdateSchStatus';\r\nimport ConfirmTaskFail from '../../dialogs/ConfirmTaskFail/ConfirmTaskFail';\r\nimport ConfirmTaskComplete from '../../dialogs/ConfirmTaskComplete/ConfirmTaskComplete';\r\nimport { useSnackbar } from 'notistack'\r\nimport classes from './AssignInfo.module.scss'\r\nimport { parseDateToString } from '../../../../utils/DateTimes'\r\n\r\nconst clientSchema = yup.object().shape({\r\n    note: yup.string().trim(),\r\n})\r\n\r\nconst ITEM_HEIGHT = 120\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT,\r\n        },\r\n    },\r\n    anchorOrigin: {\r\n        vertical: 'top',\r\n        horizontal: 'center',\r\n    },\r\n    transformOrigin: {\r\n        vertical: 'top',\r\n        horizontal: 'center',\r\n    },\r\n    getContentAnchorEl: null,\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {},\r\n    menuItemRoot: {\r\n        '&$menuItemSelected': { backgroundColor: 'rgba(0, 0, 0, 0.08)' },\r\n        '&$menuItemSelected:focus': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.12)',\r\n        },\r\n        '&$menuItemSelected:hover': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.04);',\r\n        },\r\n    },\r\n    menuItemSelected: {},\r\n    // disabledInput: {\r\n    //     '& .MuiInputBase-root.Mui-disabled': {\r\n    //         color: 'black',\r\n    //     },\r\n    // },\r\n    inputRoot: {\r\n        '&$disabled': {\r\n            color: '#616161',   // $text-icon\r\n        },\r\n    },\r\n    disabled: {},\r\n}))\r\n\r\nfunction AssignInfo(props) {\r\n    const { task, refreshPage } = props\r\n    const { headers, operations, fields } = Consts\r\n    const styles = useStyles()\r\n\r\n    const { user } = useAuth()\r\n\r\n    const history = useHistory()\r\n    const { enqueueSnackbar } = useSnackbar()\r\n\r\n    const [openConfirmCompleteDialog, setOpenConfirmCompleteDialog] = useState(false);\r\n    const [openConfirmCompleteDialog2, setOpenConfirmCompleteDialog2] = useState(false);\r\n    const [openConfirmFailDialog, setOpenConfirmFailDialog] = useState(false);\r\n\r\n    // const [notify, setNotify] = useState({\r\n    //     isOpen: false,\r\n    //     message: '',\r\n    //     type: '',\r\n    // })\r\n    // console.log('AssignInfo ------- task: ', task);\r\n\r\n    const { salesPurps } = useApp()\r\n    const bakSalesPurps = salesPurps\r\n        ? salesPurps\r\n        : Milk.getMilk(milkNames.salesPurps)\r\n\r\n    const purpsByStatus = getPurpsByStatus(task?.schoolStatus, bakSalesPurps)\r\n\r\n    const isMatch = handleMatchPurps(task?.purpose, purpsByStatus)\r\n\r\n    const defaultValues = {\r\n        // id: task?.id,\r\n        // schoolYear: task?.schoolYear ? task?.schoolYear : schYears[0],\r\n        purpose: task?.purpose ? task?.purpose : purpsByStatus[0],\r\n        note: task?.note ? task?.note : '',\r\n    }\r\n\r\n    const { control, errors, handleSubmit, formState, reset } = useForm({\r\n        resolver: yupResolver(clientSchema),\r\n        defaultValues: defaultValues,\r\n    })\r\n\r\n    useEffect(() => {\r\n        reset({\r\n            // id: task?.id,\r\n            // schoolYear: task?.schoolYear ? task?.schoolYear : schYears[0],\r\n            purpose: task?.purpose ? task?.purpose : purpsByStatus[0],\r\n            note: task?.note ? task?.note : '',\r\n        })\r\n    }, [task])\r\n\r\n    if (!task) {\r\n        return <Loading />\r\n    }\r\n\r\n    if (!task?.username) {\r\n        return <NotFound title={operations.empty} />\r\n    }\r\n\r\n    const onSubmit = (data) => {\r\n        const model = {\r\n            ...data,\r\n            noteBy: user.username,\r\n        }\r\n\r\n        TasksServices.updateTask(task?.id, model)\r\n            .then((res) => {\r\n                refreshPage(task?.id)\r\n                enqueueSnackbar('Updated task successfully', { variant: 'success' })\r\n                // setNotify({\r\n                //     isOpen: true,\r\n                //     message: 'Updated Successfully',\r\n                //     type: 'success',\r\n                // })\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n                enqueueSnackbar('Updated task failed', { variant: 'error' })\r\n                // setNotify({\r\n                //     isOpen: true,\r\n                //     message: 'Updated failed',\r\n                //     type: 'error',\r\n                // })\r\n            })\r\n\r\n        // alert(JSON.stringify(model))\r\n    }\r\n\r\n    const setPurposeChipColor = (purpose) => {\r\n        switch (purpose) {\r\n            case purposeNames.purp1:\r\n                return <Chip label={purpose} className={classes.chipSalesMoi} />\r\n            // case purposeNames.purp2:\r\n            //     return <Chip label={purpose} className={classes.chipTheoDoi} />\r\n            case purposeNames.purp3:\r\n                return <Chip label={purpose} className={classes.chipChamSoc} />\r\n            case purposeNames.purp4:\r\n                return <Chip label={purpose} className={classes.chipTaiKy} />\r\n            case purposeNames.purp5:\r\n                return <Chip label={purpose} className={classes.chipKyMoi} />\r\n            default:\r\n                return <Chip label={purpose} /> // #5c21f3\r\n        }\r\n    }\r\n\r\n    const generateTaskStatusChip = (result) => {    //, endDate\r\n        // const today = new Date()\r\n        // const deadline = new Date(endDate)\r\n        switch (result) {\r\n            case taskResultNames.successful:\r\n                return <Chip label={taskStatusNames.success} variant=\"outlined\" className={classes.chipSuccess} />\r\n            case taskResultNames.tbd:\r\n                // if (today <= deadline)\r\n                return <Chip label={taskStatusNames.ongoing} variant=\"outlined\" className={classes.chipOnGoing} />\r\n            // else\r\n            case taskResultNames.failed:\r\n                return <Chip label={taskStatusNames.failed} variant=\"outlined\" className={classes.chipFailed} />\r\n            default:\r\n                break   // ko hiện gì\r\n            // return <Chip label={result} /> // #5c21f3\r\n        }\r\n    }\r\n\r\n    // console.log('Task Info --- task: ', task);\r\n\r\n    const handleMarkComplete = (purpose) => {\r\n        switch (purpose) {\r\n            case purposeNames.purp1:  // Sales mới\r\n            case purposeNames.purp4:  // Tái ký\r\n            case purposeNames.purp5:  // Ký mới\r\n                if (openConfirmCompleteDialog) {\r\n                    return (\r\n                        <UpdateSchStatus\r\n                            open={openConfirmCompleteDialog}\r\n                            onClose={() => setOpenConfirmCompleteDialog(false)}\r\n                            task={task}\r\n                            refreshPage={refreshPage}\r\n                        // resetStatus={resetStatus}\r\n                        // currStatus={currStatus}\r\n                        />\r\n                    )\r\n                }\r\n            // case purposeNames.purp2:  // Theo dõi\r\n            case purposeNames.purp3:  // Chăm sóc\r\n                if (openConfirmCompleteDialog2) {\r\n                    return (\r\n                        <ConfirmTaskComplete\r\n                            open={openConfirmCompleteDialog2}\r\n                            onClose={() => setOpenConfirmCompleteDialog2(false)}\r\n                            taskId={task?.id}\r\n                            refreshPage={refreshPage}\r\n                        />\r\n                    )\r\n                }\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    const handleMarkFail = () => {\r\n        if (openConfirmFailDialog) {\r\n            return (\r\n                <ConfirmTaskFail\r\n                    open={openConfirmFailDialog}\r\n                    onClose={() => setOpenConfirmFailDialog(false)}\r\n                    taskId={task?.id}\r\n                    refreshPage={refreshPage}\r\n                />\r\n            )\r\n        }\r\n    }\r\n\r\n    const renderButtonName = (purpose, listServices) => {\r\n        // const listServices = [...task?.services];\r\n        let buttonName = 'Submit a service'\r\n        if (purpose === purposeNames.purp1 || purpose === purposeNames.purp4 || purpose === purposeNames.purp5) {\r\n            if (listServices) {\r\n                const countPendingServices = listServices.filter((obj) => obj.status === serviceStatusNames.pending).length;\r\n                console.log('count = ', countPendingServices);\r\n                if (countPendingServices > 0) {\r\n                    buttonName = 'Submit more services'\r\n                }\r\n            }\r\n        } else {\r\n            buttonName = 'Mark as completed'\r\n        }\r\n        return buttonName\r\n    }\r\n\r\n    const renderServiceCountMessage = (listServices) => {\r\n        if (listServices) {\r\n            const countPendingServices = listServices.filter((obj) => obj.status === serviceStatusNames.pending).length;\r\n            if (countPendingServices > 0) {\r\n                return `You are having ${countPendingServices} pending services`\r\n            }\r\n        }\r\n    }\r\n\r\n    // const renderConfirmFailedDialog = (taskStatus) => {\r\n    //     return (\r\n    //         <ConfirmTaskFail\r\n    //             open={openConfirmFailDialog}\r\n    //             onClose={() => setOpenConfirmFailDialog(false)}\r\n    //             taskStatus={taskStatus}\r\n    //             refreshPage={refreshPage}\r\n    //             setNotify={setNotify}\r\n    //         />\r\n    //     )\r\n    // }\r\n\r\n    return (\r\n        <div className={classes.panel}>\r\n            <Grid container spacing={0} className={classes.body}>\r\n                {/* Assign Info*/}\r\n                {task?.schoolStatus !== statusNames.pending ? (\r\n                    //=======================Task status: \"Ongoing\"========================\r\n                    user.roles[0] !== roleNames.salesman ? (\r\n                        //---------------------Role Manager/Supervisor---------------------\r\n                        <Grid\r\n                            item\r\n                            xs={12}\r\n                            sm={12}\r\n                            md={12}\r\n                            lg={12}\r\n                            className={classes.content}\r\n                        >\r\n                            <form onSubmit={handleSubmit(onSubmit)} noValidate>\r\n                                <Grid\r\n                                    container\r\n                                    spacing={0}\r\n                                    className={classes.wrapper}\r\n                                >\r\n                                    <Grid\r\n                                        item container\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={12}\r\n                                        lg={12}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <Grid item xs={6} sm={4} md={4} lg={3}>\r\n                                            <Typography color=\"inherit\" className={classes.header}>\r\n                                                {headers.child1}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                        <Grid item xs={6} sm={8} md={8} lg={6}>\r\n                                            <Box display=\"flex\" flexDirection=\"row-reverse\">\r\n                                                {generateTaskStatusChip(task?.result)}\r\n                                            </Box>\r\n                                        </Grid>\r\n                                    </Grid>\r\n\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={12}\r\n                                        lg={12}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <Grid\r\n                                            container\r\n                                            spacing={0}\r\n                                            className={classes.rowx}\r\n                                        >\r\n                                            <Grid\r\n                                                item\r\n                                                xs={12}\r\n                                                sm={12}\r\n                                                md={4}\r\n                                                lg={3}\r\n                                                className={classes.rowx}\r\n                                            >\r\n                                                <Typography\r\n                                                    color=\"inherit\"\r\n                                                    className={classes.title}\r\n                                                >\r\n                                                    {fields.pic.title}\r\n                                                </Typography>\r\n                                            </Grid>\r\n                                            <Grid\r\n                                                item\r\n                                                xs={12}\r\n                                                sm={12}\r\n                                                md={8}\r\n                                                lg={6}\r\n                                                className={classes.rowx}\r\n                                            >\r\n                                                <Typography color=\"inherit\">\r\n                                                    <div\r\n                                                        className={classes.user}\r\n                                                    >\r\n                                                        {task?.avatar ? (\r\n                                                            <Avatar\r\n                                                                className={\r\n                                                                    classes.avatar\r\n                                                                }\r\n                                                                alt=\"user avatar\"\r\n                                                                src={\r\n                                                                    task?.avatar\r\n                                                                }\r\n                                                            />\r\n                                                        ) : (\r\n                                                            <Avatar\r\n                                                                className={\r\n                                                                    classes.avatar\r\n                                                                }\r\n                                                            >\r\n                                                                {\r\n                                                                    task?.fullName\r\n                                                                        .split(\r\n                                                                            ' '\r\n                                                                        )\r\n                                                                        .pop()[0]\r\n                                                                }\r\n                                                            </Avatar>\r\n                                                        )}\r\n\r\n                                                        <div\r\n                                                            className={\r\n                                                                classes.info\r\n                                                            }\r\n                                                        >\r\n                                                            <Typography\r\n                                                                component=\"span\"\r\n                                                                className={\r\n                                                                    classes.fullName\r\n                                                                }\r\n                                                            >\r\n                                                                {\r\n                                                                    task?.fullName\r\n                                                                }\r\n                                                            </Typography>\r\n                                                            <Typography\r\n                                                                className={\r\n                                                                    classes.username\r\n                                                                }\r\n                                                            >\r\n                                                                {\r\n                                                                    task?.username\r\n                                                                }\r\n                                                            </Typography>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </Typography>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </Grid>\r\n\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={12}\r\n                                        lg={12}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <Grid\r\n                                            container\r\n                                            spacing={0}\r\n                                            className={classes.rowx}\r\n                                        >\r\n                                            <Grid\r\n                                                item\r\n                                                xs={12}\r\n                                                sm={12}\r\n                                                md={4}\r\n                                                lg={3}\r\n                                                className={classes.rowx}\r\n                                            >\r\n                                                <Typography\r\n                                                    color=\"inherit\"\r\n                                                    className={classes.title}\r\n                                                >\r\n                                                    {fields.schlYear.title}\r\n                                                </Typography>\r\n                                            </Grid>\r\n                                            <Grid\r\n                                                item\r\n                                                xs={12}\r\n                                                sm={12}\r\n                                                md={8}\r\n                                                lg={6}\r\n                                                className={classes.rowx}\r\n                                            >\r\n                                                <Typography color=\"inherit\">\r\n                                                    {task?.schoolYear}\r\n                                                </Typography>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                        <Grid container spacing={0} className={classes.rowx}>\r\n                                            <Grid item xs={12} sm={12} md={4} lg={3} className={classes.rowx}>\r\n                                                <Typography color=\"inherit\" className={classes.title}>\r\n                                                    {fields.duration.title}\r\n                                                </Typography>\r\n                                            </Grid>\r\n                                            <Grid item xs={12} sm={12} md={8} lg={6} className={classes.rowx}>\r\n                                                {task?.result === taskResultNames.tbd ? (\r\n                                                    <LinearProgressBars\r\n                                                        startDate={task?.assignDate}\r\n                                                        endDate={task?.endDate}\r\n                                                        marker={new Date()}\r\n                                                        type=\"task\"\r\n                                                    />\r\n                                                ) : (\r\n                                                    <Typography color=\"inherit\">\r\n                                                        {parseDateToString(task?.assignDate, 'DD-MM-YYYY')}\r\n                                                    &nbsp; ➜ &nbsp;\r\n                                                        {parseDateToString(task?.endDate, 'DD-MM-YYYY')}\r\n                                                    </Typography>\r\n                                                )}\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </Grid>\r\n\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={12}\r\n                                        lg={12}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <Grid\r\n                                            container\r\n                                            spacing={0}\r\n                                            className={classes.rowx}\r\n                                        >\r\n                                            <Grid\r\n                                                item\r\n                                                xs={12}\r\n                                                sm={12}\r\n                                                md={4}\r\n                                                lg={3}\r\n                                                className={classes.rowx}\r\n                                            >\r\n                                                <Typography\r\n                                                    color=\"inherit\"\r\n                                                    className={classes.title}\r\n                                                >\r\n                                                    {fields.purpose.title}\r\n                                                </Typography>\r\n                                            </Grid>\r\n                                            <Grid\r\n                                                item\r\n                                                xs={12}\r\n                                                sm={12}\r\n                                                md={8}\r\n                                                lg={6}\r\n                                                className={classes.rowx}\r\n                                            >\r\n                                                <Controller\r\n                                                    name=\"purpose\"\r\n                                                    control={control}\r\n                                                    render={({\r\n                                                        value,\r\n                                                        onChange,\r\n                                                    }) => (\r\n                                                        <Select\r\n                                                            value={value}\r\n                                                            onChange={onChange}\r\n                                                            MenuProps={\r\n                                                                MenuProps\r\n                                                            }\r\n                                                            disableUnderline\r\n                                                        >\r\n                                                            {purpsByStatus.map(\r\n                                                                (data) => (\r\n                                                                    <MenuItem\r\n                                                                        key={\r\n                                                                            data\r\n                                                                        }\r\n                                                                        value={\r\n                                                                            data\r\n                                                                        }\r\n                                                                        classes={{\r\n                                                                            root:\r\n                                                                                styles.menuItemRoot,\r\n                                                                            selected:\r\n                                                                                styles.menuItemSelected,\r\n                                                                        }}\r\n                                                                    >\r\n                                                                        {data}\r\n                                                                    </MenuItem>\r\n                                                                )\r\n                                                            )}\r\n                                                        </Select>\r\n                                                    )}\r\n                                                />\r\n                                                {!isMatch && (\r\n                                                    <Chip\r\n                                                        variant=\"outlined\"\r\n                                                        icon={\r\n                                                            <MdWarning color=\"#d9534f\" />\r\n                                                        }\r\n                                                        label={\r\n                                                            operations.purpWarning\r\n                                                        }\r\n                                                        className={\r\n                                                            classes.purpWarning\r\n                                                        }\r\n                                                    />\r\n                                                )}\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </Grid>\r\n\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={12}\r\n                                        lg={12}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <Grid\r\n                                            container\r\n                                            spacing={0}\r\n                                            className={classes.rowx}\r\n                                        >\r\n                                            <Grid\r\n                                                item\r\n                                                xs={12}\r\n                                                sm={12}\r\n                                                md={4}\r\n                                                lg={3}\r\n                                                className={classes.rowx}\r\n                                            >\r\n                                                <Typography\r\n                                                    color=\"inherit\"\r\n                                                    className={classes.title}\r\n                                                >\r\n                                                    {fields.note.title}\r\n                                                </Typography>\r\n                                            </Grid>\r\n                                            <Grid\r\n                                                item\r\n                                                xs={12}\r\n                                                sm={12}\r\n                                                md={8}\r\n                                                lg={6}\r\n                                                className={classes.rowx}\r\n                                            >\r\n                                                <Controller\r\n                                                    name=\"note\"\r\n                                                    control={control}\r\n                                                    render={({\r\n                                                        value,\r\n                                                        onChange,\r\n                                                    }) => (\r\n                                                        <TextField\r\n                                                            label={\r\n                                                                task?.noteBy\r\n                                                                    ? `${fields.note.hasNote} ${task?.noteBy}`\r\n                                                                    : fields.note.noNote\r\n                                                            }\r\n                                                            variant=\"outlined\"\r\n                                                            fullWidth\r\n                                                            multiline\r\n                                                            rows={5}\r\n                                                            value={value}\r\n                                                            onChange={onChange}\r\n                                                            error={!!errors.note}\r\n                                                            helperText={errors?.note?.message}\r\n                                                        />\r\n                                                    )}\r\n                                                />\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </Grid>\r\n\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={12}\r\n                                        lg={12}\r\n                                        className={classes.row}\r\n                                    >\r\n                                        <Grid\r\n                                            container\r\n                                            spacing={0}\r\n                                            className={classes.rowx}\r\n                                        >\r\n                                            <Grid\r\n                                                item\r\n                                                xs={12}\r\n                                                sm={12}\r\n                                                md={4}\r\n                                                lg={3}\r\n                                            // className={classes.row}\r\n                                            />\r\n                                            <Grid\r\n                                                item\r\n                                                xs={12}\r\n                                                sm={12}\r\n                                                md={8}\r\n                                                lg={6}\r\n                                                className={classes.action}\r\n                                            >\r\n                                                <Button\r\n                                                    className={classes.submit}\r\n                                                    variant=\"contained\"\r\n                                                    disabled={\r\n                                                        !formState.isDirty\r\n                                                    }\r\n                                                    type=\"submit\"\r\n                                                >\r\n                                                    {operations.save}\r\n                                                </Button>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </form>\r\n                        </Grid>\r\n                    ) : user.username === task?.username ? (\r\n                        //--------------------Salesman đang sử dụng app--------------------\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} className={classes.content}>\r\n                            <Grid\r\n                                container\r\n                                spacing={0}\r\n                                className={classes.wrapper}\r\n                            >\r\n                                <Grid\r\n                                    item container\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={12}\r\n                                    lg={12}\r\n                                    className={classes.row}\r\n                                >\r\n                                    <Grid item xs={6} sm={4} md={4} lg={3}>\r\n                                        <Typography color=\"inherit\" className={classes.header}>\r\n                                            {headers.child1}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid item xs={6} sm={8} md={8} lg={6}>\r\n                                        <Box display=\"flex\" flexDirection=\"row-reverse\">\r\n                                            {generateTaskStatusChip(task?.result, task?.endDate)}\r\n                                        </Box>\r\n                                    </Grid>\r\n                                </Grid>\r\n\r\n                                {/* <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={12}\r\n                                    lg={12}\r\n                                    className={classes.row}\r\n                                >\r\n                                    <Grid\r\n                                        container\r\n                                        spacing={0}\r\n                                        className={classes.rowx}\r\n                                    >\r\n                                        <Grid\r\n                                            item\r\n                                            xs={12}\r\n                                            sm={4}\r\n                                            md={4}\r\n                                            lg={3}\r\n                                            className={classes.rowx}\r\n                                        >\r\n                                            <Typography\r\n                                                color=\"inherit\"\r\n                                                className={classes.title}\r\n                                            >\r\n                                                {fields.pic.title}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                        <Grid\r\n                                            item\r\n                                            xs={12}\r\n                                            sm={8}\r\n                                            md={8}\r\n                                            lg={6}\r\n                                            className={classes.rowx}\r\n                                        >\r\n                                            <div className={classes.user}>\r\n                                                {task?.avatar ? (\r\n                                                    <Avatar\r\n                                                        className={\r\n                                                            classes.avatar\r\n                                                        }\r\n                                                        alt=\"user avatar\"\r\n                                                        src={task?.avatar}\r\n                                                    />\r\n                                                ) : (\r\n                                                    <Avatar\r\n                                                        className={\r\n                                                            classes.avatar\r\n                                                        }\r\n                                                    >\r\n                                                        {\r\n                                                            task?.fullName\r\n                                                                .split(' ')\r\n                                                                .pop()[0]\r\n                                                        }\r\n                                                    </Avatar>\r\n                                                )}\r\n\r\n                                                <div className={classes.info}>\r\n                                                    <Typography\r\n                                                        component=\"span\"\r\n                                                        className={\r\n                                                            classes.fullName\r\n                                                        }\r\n                                                    >\r\n                                                        {task?.fullName}\r\n                                                    </Typography>\r\n                                                    <Typography\r\n                                                        className={\r\n                                                            classes.username\r\n                                                        }\r\n                                                    >\r\n                                                        {task?.username}\r\n                                                    </Typography>\r\n                                                </div>\r\n                                            </div>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Grid> */}\r\n\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={12}\r\n                                    lg={12}\r\n                                    className={classes.row}\r\n                                >\r\n                                    <Grid\r\n                                        container\r\n                                        spacing={0}\r\n                                        className={classes.rowx}\r\n                                    >\r\n                                        <Grid\r\n                                            item\r\n                                            xs={12}\r\n                                            sm={4}\r\n                                            md={4}\r\n                                            lg={3}\r\n                                            className={classes.rowx}\r\n                                        >\r\n                                            <Typography\r\n                                                color=\"inherit\"\r\n                                                className={classes.title}\r\n                                            >\r\n                                                {fields.schlYear.title}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                        <Grid\r\n                                            item\r\n                                            xs={12}\r\n                                            sm={8}\r\n                                            md={8}\r\n                                            lg={6}\r\n                                            className={classes.rowx}\r\n                                        >\r\n                                            <Typography color=\"inherit\">\r\n                                                {task?.schoolYear}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                    <Grid container spacing={0} className={classes.rowx}>\r\n                                        <Grid item xs={12} sm={12} md={4} lg={3} className={classes.rowx}>\r\n                                            <Typography color=\"inherit\" className={classes.title}>\r\n                                                {fields.duration.title}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                        <Grid item xs={12} sm={12} md={8} lg={6} className={classes.rowx}>\r\n                                            {task?.result === taskResultNames.tbd ? (\r\n                                                <LinearProgressBars\r\n                                                    startDate={task?.assignDate}\r\n                                                    endDate={task?.endDate}\r\n                                                    marker={new Date()}\r\n                                                    type=\"task\"\r\n                                                />\r\n                                            ) : (\r\n                                                <Typography color=\"inherit\">\r\n                                                    {parseDateToString(task?.assignDate, 'DD-MM-YYYY')}\r\n                                                    &nbsp; ➜ &nbsp;\r\n                                                    {parseDateToString(task?.endDate, 'DD-MM-YYYY')}\r\n                                                </Typography>\r\n                                            )}\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Grid>\r\n\r\n                                <Grid\r\n                                    item\r\n                                    xs={12}\r\n                                    sm={12}\r\n                                    md={12}\r\n                                    lg={12}\r\n                                    className={classes.row}\r\n                                >\r\n                                    <Grid\r\n                                        container\r\n                                        spacing={0}\r\n                                        className={classes.rowx}\r\n                                    >\r\n                                        <Grid\r\n                                            item\r\n                                            xs={12}\r\n                                            sm={4}\r\n                                            md={4}\r\n                                            lg={3}\r\n                                            className={classes.rowx}\r\n                                        >\r\n                                            <Typography\r\n                                                color=\"inherit\"\r\n                                                className={classes.title}\r\n                                            >\r\n                                                {fields.purpose.title}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                        <Grid\r\n                                            item\r\n                                            xs={12}\r\n                                            sm={8}\r\n                                            md={8}\r\n                                            lg={6}\r\n                                            className={classes.rowx}\r\n                                        >\r\n                                            <Typography color=\"inherit\">\r\n                                                {task?.purpose && setPurposeChipColor(task?.purpose)}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                    <Grid\r\n                                        container\r\n                                        spacing={0}\r\n                                        className={classes.rowx}\r\n                                    >\r\n                                        <Grid\r\n                                            item\r\n                                            xs={12}\r\n                                            sm={12}\r\n                                            md={4}\r\n                                            lg={3}\r\n                                            className={classes.rowx}\r\n                                        >\r\n                                            <Typography\r\n                                                color=\"inherit\"\r\n                                                className={classes.title}\r\n                                            >\r\n                                                {fields.note.title}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                        <Grid\r\n                                            item\r\n                                            xs={12}\r\n                                            sm={12}\r\n                                            md={8}\r\n                                            lg={6}\r\n                                            className={classes.rowx}\r\n                                        >\r\n                                            <Controller\r\n                                                name=\"note\"\r\n                                                control={control}\r\n                                                render={({ value }) => (\r\n                                                    <TextField\r\n                                                        label={\r\n                                                            task?.noteBy\r\n                                                                ? `${fields.note.hasNote} ${task?.noteBy}`\r\n                                                                : fields.note\r\n                                                                    .noNote\r\n                                                        }\r\n                                                        variant=\"outlined\"\r\n                                                        fullWidth\r\n                                                        multiline\r\n                                                        rows={5}\r\n                                                        disabled\r\n                                                        InputProps={{\r\n                                                            classes: {\r\n                                                                root: styles.inputRoot,\r\n                                                                disabled: styles.disabled,\r\n                                                            },\r\n                                                        }}\r\n                                                        value={value}\r\n                                                    />\r\n                                                )}\r\n                                            />\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Grid>\r\n\r\n                                {(task?.result === taskResultNames.tbd) && (new Date() <= new Date(task?.endDate)) && (\r\n                                    <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                        <Grid container spacing={0} className={classes.rowx}>\r\n                                            <Grid item xs={12} sm={12} md={4} lg={3} className={classes.rowx}></Grid>\r\n                                            <Grid item xs={12} sm={12} md={8} lg={6} className={classes.rowx}>\r\n                                                <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"flex-end\"\r\n                                                    className={classes.btnChangeTaskStatus}\r\n                                                >\r\n                                                    <Button order={1} variant=\"contained\" className={classes.btnComplete}\r\n                                                        onClick={() => {\r\n                                                            if (task?.purpose === purposeNames.purp1 ||\r\n                                                                task?.purpose === purposeNames.purp4 ||\r\n                                                                task?.purpose === purposeNames.purp5\r\n                                                            ) {\r\n                                                                setOpenConfirmCompleteDialog(true)\r\n                                                            } else {\r\n                                                                setOpenConfirmCompleteDialog2(true)\r\n                                                            }\r\n                                                        }}\r\n                                                    >\r\n                                                        {renderButtonName(task?.purpose, task?.services)}\r\n                                                    </Button>\r\n                                                    {/* {renderConfirmTaskCompleteDialog()} */}\r\n                                                    {/* {!task?.services || task?.services?.length === 0 && ( */}\r\n                                                    <Button order={2} variant=\"contained\" className={classes.btnFail}\r\n                                                        onClick={() => setOpenConfirmFailDialog(true)}\r\n                                                    >\r\n                                                        Mark as failed\r\n                                                        </Button>\r\n                                                    {/* )} */}\r\n                                                    {handleMarkComplete(task?.purpose)}\r\n                                                    {handleMarkFail()}\r\n                                                </Box>\r\n                                                <Typography\r\n                                                    variant=\"subtitle1\"\r\n                                                    style={{ textAlign: 'right', fontStyle: 'italic' }}\r\n                                                    color=\"textSecondary\"\r\n                                                >\r\n                                                    {renderServiceCountMessage(task?.services)}\r\n                                                </Typography>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                )\r\n                                }\r\n                            </Grid>\r\n                        </Grid>\r\n                    ) : (\r\n                        //------------------Salesman coi của Salesman khác-----------------\r\n                        <div className={classes.notFound}>\r\n                            <NotFound title={operations.restriction} />\r\n                        </div>\r\n                    )\r\n                ) : (\r\n                    //==========Role bất kỳ, task status: \"Failed\" / \"Successful\"==========\r\n                    // Role Manager/Supervisor thì phải\r\n                    <Grid\r\n                        item\r\n                        xs={12}\r\n                        sm={12}\r\n                        md={12}\r\n                        lg={12}\r\n                        className={classes.content}\r\n                    >\r\n                        <Grid container spacing={0} className={classes.wrapper}>\r\n                            <Grid\r\n                                item container\r\n                                xs={12}\r\n                                sm={12}\r\n                                md={12}\r\n                                lg={12}\r\n                                className={classes.row}\r\n                            >\r\n                                <Grid item xs={6} sm={4} md={4} lg={3}>\r\n                                    <Typography color=\"inherit\" className={classes.header}>\r\n                                        {headers.child1}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid item xs={6} sm={8} md={8} lg={6}>\r\n                                    <Box display=\"flex\" flexDirection=\"row-reverse\">\r\n                                        {generateTaskStatusChip(task?.result, task?.endDate)}\r\n                                    </Box>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid\r\n                                item\r\n                                xs={12}\r\n                                sm={12}\r\n                                md={12}\r\n                                lg={12}\r\n                                className={classes.row}\r\n                            >\r\n                                <Grid\r\n                                    container\r\n                                    spacing={0}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={4}\r\n                                        md={4}\r\n                                        lg={3}\r\n                                        className={classes.rowx}\r\n                                    >\r\n                                        <Typography\r\n                                            color=\"inherit\"\r\n                                            className={classes.title}\r\n                                        >\r\n                                            {fields.pic.title}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={8}\r\n                                        md={8}\r\n                                        lg={6}\r\n                                        className={classes.rowx}\r\n                                    >\r\n                                        {/* <Typography color=\"inherit\"> */}\r\n                                        <div className={classes.user}>\r\n                                            {task?.avatar ? (\r\n                                                <Avatar\r\n                                                    className={classes.avatar}\r\n                                                    alt=\"user avatar\"\r\n                                                    src={task?.avatar}\r\n                                                />\r\n                                            ) : (\r\n                                                <Avatar\r\n                                                    className={classes.avatar}\r\n                                                >\r\n                                                    {\r\n                                                        task?.fullName\r\n                                                            .split(' ')\r\n                                                            .pop()[0]\r\n                                                    }\r\n                                                </Avatar>\r\n                                            )}\r\n\r\n                                            <div className={classes.info}>\r\n                                                <Typography\r\n                                                    component=\"span\"\r\n                                                    className={classes.fullName}\r\n                                                >\r\n                                                    {task?.fullName}\r\n                                                </Typography>\r\n                                                <Typography\r\n                                                    className={classes.username}\r\n                                                >\r\n                                                    {task?.username}\r\n                                                </Typography>\r\n                                            </div>\r\n                                        </div>\r\n                                        {/* </Typography> */}\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid\r\n                                item\r\n                                xs={12}\r\n                                sm={12}\r\n                                md={12}\r\n                                lg={12}\r\n                                className={classes.row}\r\n                            >\r\n                                <Grid\r\n                                    container\r\n                                    spacing={0}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={4}\r\n                                        md={4}\r\n                                        lg={3}\r\n                                        className={classes.rowx}\r\n                                    >\r\n                                        <Typography\r\n                                            color=\"inherit\"\r\n                                            className={classes.title}\r\n                                        >\r\n                                            {fields.schlYear.title}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={8}\r\n                                        md={8}\r\n                                        lg={6}\r\n                                        className={classes.rowx}\r\n                                    >\r\n                                        <Typography color=\"inherit\">\r\n                                            {task?.schoolYear}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                <Grid container spacing={0} className={classes.rowx}>\r\n                                    <Grid item xs={12} sm={12} md={4} lg={3} className={classes.rowx}>\r\n                                        <Typography color=\"inherit\" className={classes.title}>\r\n                                            {fields.duration.title}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={12} md={8} lg={6} className={classes.rowx}>\r\n                                        {task?.result === taskResultNames.tbd ? (\r\n                                            <LinearProgressBars\r\n                                                startDate={task?.assignDate}\r\n                                                endDate={task?.endDate}\r\n                                                marker={new Date()}\r\n                                                type=\"task\"\r\n                                            />\r\n                                        ) : (\r\n                                            <Typography color=\"inherit\">\r\n                                                {parseDateToString(task?.assignDate, 'DD-MM-YYYY')}\r\n                                                &nbsp; ➜ &nbsp;\r\n                                                {parseDateToString(task?.endDate, 'DD-MM-YYYY')}\r\n                                            </Typography>\r\n                                        )}\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid\r\n                                item\r\n                                xs={12}\r\n                                sm={12}\r\n                                md={12}\r\n                                lg={12}\r\n                                className={classes.row}\r\n                            >\r\n                                <Grid\r\n                                    container\r\n                                    spacing={0}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={4}\r\n                                        md={4}\r\n                                        lg={3}\r\n                                        className={classes.rowx}\r\n                                    >\r\n                                        <Typography\r\n                                            color=\"inherit\"\r\n                                            className={classes.title}\r\n                                        >\r\n                                            {fields.purpose.title}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={8}\r\n                                        md={8}\r\n                                        lg={6}\r\n                                        className={classes.rowx}\r\n                                    >\r\n                                        <Typography color=\"inherit\">\r\n                                            {task?.purpose}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                            <Grid\r\n                                item\r\n                                xs={12}\r\n                                sm={12}\r\n                                md={12}\r\n                                lg={12}\r\n                                className={classes.row}\r\n                            >\r\n                                <Grid\r\n                                    container\r\n                                    spacing={0}\r\n                                    className={classes.rowx}\r\n                                >\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={4}\r\n                                        lg={3}\r\n                                        className={classes.rowx}\r\n                                    >\r\n                                        <Typography\r\n                                            color=\"inherit\"\r\n                                            className={classes.title}\r\n                                        >\r\n                                            {fields.note.title}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={8}\r\n                                        lg={6}\r\n                                        className={classes.rowx}\r\n                                    >\r\n                                        <Controller\r\n                                            name=\"note\"\r\n                                            control={control}\r\n                                            render={({ value }) => (\r\n                                                <TextField\r\n                                                    label={\r\n                                                        task?.noteBy\r\n                                                            ? `${fields.note.hasNote} ${task?.noteBy}`\r\n                                                            : fields.note.noNote\r\n                                                    }\r\n                                                    variant=\"outlined\"\r\n                                                    fullWidth\r\n                                                    multiline\r\n                                                    rows={5}\r\n                                                    disabled\r\n                                                    InputProps={{\r\n                                                        classes: {\r\n                                                            root:\r\n                                                                styles.inputRoot,\r\n                                                            disabled:\r\n                                                                styles.disabled,\r\n                                                        },\r\n                                                    }}\r\n                                                    value={value}\r\n                                                />\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                )}\r\n\r\n                {/* Another content */}\r\n            </Grid>\r\n            {/* <Snackbars notify={notify} setNotify={setNotify} /> */}\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default AssignInfo\r\n","export const Consts = {\r\n    headers: {\r\n        child1: 'Timeline',\r\n    },\r\n    labels: {\r\n        schoolYear: 'School year:',\r\n        reason: 'Reason:',\r\n        services: 'Successfully collaborated on ',\r\n        duration: 'Duration:',\r\n        startDate: 'Start date:',\r\n        endDate: 'End date:',\r\n        status: 'Status: ',\r\n        result: 'Result:',\r\n        pending: 'Pending for approval',\r\n        approvedOn: 'Approved on ',\r\n        rejectedOn: 'Rejected on ',\r\n        submitOn: 'Submited on '\r\n    },\r\n}\r\n\r\n// Cách tổ chức data mới\r\nexport const timeline = [\r\n    // {   // Object 'Assign'\r\n    //     date: '01-06-2019',\r\n    //     type: 'assign',\r\n    //     schoolYear: '2019-2020',\r\n    //     purpose: 'Sales mới',\r\n    //     fullName: 'Nguyễn Hoàng Anh', // PIC's name\r\n    //     avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2FZe6axJ1.jpg?alt=media&token=3d31ba01-f18f-4c8b-a456-b051fc190354',\r\n    // },\r\n    // {   // Object 'Report'\r\n    //     date: '17-06-2019',\r\n    //     type: 'report',\r\n    //     schoolYear: '2019-2020',\r\n    //     reportId: 74,\r\n    //     result: true,\r\n    //     description: 'Giới thiệu thành công Major',\r\n    //     schoolId: '2',\r\n    //     purpose: 'Sales mới',\r\n    //     fullName: 'Nguyễn Hoàng Anh', // PIC's name\r\n    //     avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2FZe6axJ1.jpg?alt=media&token=3d31ba01-f18f-4c8b-a456-b051fc190354',\r\n    // },\r\n    // {   // Object 'Report'\r\n    //     date: '25-06-2019',\r\n    //     type: 'report',\r\n    //     schoolYear: '2019-2020',\r\n    //     reportId: 75,\r\n    //     result: false,\r\n    //     description: 'Cô bận họp, 2 ngày sau quay lại',\r\n    //     schoolId: '2',\r\n    //     purpose: 'Sales mới',\r\n    //     fullName: 'Nguyễn Hoàng Anh', // PIC's name\r\n    //     avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2FZe6axJ1.jpg?alt=media&token=3d31ba01-f18f-4c8b-a456-b051fc190354',\r\n    // },\r\n    // {   // Object 'Report'\r\n    //     date: '27-06-2019',\r\n    //     type: 'report',\r\n    //     schoolYear: '2019-2020',\r\n    //     reportId: 76,\r\n    //     result: true,\r\n    //     description: 'Đã giới thiệu và báo giá ESL',\r\n    //     schoolId: '2',\r\n    //     purpose: 'Sales mới',\r\n    //     fullName: 'Nguyễn Hoàng Anh', // PIC's name\r\n    //     avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2FZe6axJ1.jpg?alt=media&token=3d31ba01-f18f-4c8b-a456-b051fc190354',\r\n    // },\r\n    // // DB chưa có chỗ để lưu vụ unassign\r\n    // // {   // Object 'Unassign'\r\n    // //     date: '30-06-2019',\r\n    // //     type: 'unassign',\r\n    // //     schoolYear: '2019-2020',\r\n    // //     reason: 'Bận công việc riêng',\r\n    // //     fullName: 'Nguyễn Hoàng Anh', // PIC's name\r\n    // //     avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2FZe6axJ1.jpg?alt=media&token=3d31ba01-f18f-4c8b-a456-b051fc190354',\r\n    // // },\r\n    // {   // Object 'Assign'\r\n    //     date: '30-06-2019',\r\n    //     type: 'assign',\r\n    //     schoolYear: '2019-2020',\r\n    //     purpose: 'Sales mới',\r\n    //     fullName: 'Trần Diễm Nhi', // PIC's name\r\n    //     avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2F0d68523b0481d68304da70f4dad00980.jpg?alt=media&token=6e5fc707-5cd4-4a62-8988-16486e89813e',\r\n    // },\r\n    // {   // Object 'Report'\r\n    //     date: '02-07-2019',\r\n    //     type: 'report',\r\n    //     schoolYear: '2019-2020',\r\n    //     reportId: 77,\r\n    //     result: true,\r\n    //     description: 'Đã gặp HP Chuyên môn, cô đồng ý điều khoản Hợp đồng',\r\n    //     schoolId: '2',\r\n    //     purpose: 'Sales mới',\r\n    //     fullName: 'Trần Diễm Nhi', // PIC's name\r\n    //     avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2F0d68523b0481d68304da70f4dad00980.jpg?alt=media&token=6e5fc707-5cd4-4a62-8988-16486e89813e',\r\n    // },\r\n    // {   // Object 'Report'\r\n    //     date: '15-07-2019',\r\n    //     type: 'report',\r\n    //     schoolYear: '2019-2020',\r\n    //     reportId: 78,\r\n    //     result: true,\r\n    //     description: 'Ký thành công ESL 1 năm',\r\n    //     schoolId: '2',\r\n    //     purpose: 'Sales mới',\r\n    //     fullName: 'Trần Diễm Nhi', // PIC's name\r\n    //     avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2F0d68523b0481d68304da70f4dad00980.jpg?alt=media&token=6e5fc707-5cd4-4a62-8988-16486e89813e',\r\n    // },\r\n    // {   // Object 'Services'\r\n    //     date: '15-07-2019',\r\n    //     type: 'service',\r\n    //     schoolYear: '2019-2020',\r\n    //     services: ['ESL', 'STEM'],\r\n    //     duration: '12 months',\r\n    //     // revenue_criteria: 'Tiết',\r\n    //     // note: '1 tiết/tuần'\r\n    // },\r\n    // // {   // Object 'Assign'\r\n    // //     date: '10-11-2020',\r\n    // //     type: 'assign',\r\n    // //     schoolYear: '2020-2021',\r\n    // //     purpose: 'Chăm sóc',\r\n    // //     fullName: 'Đỗ Thị Ái Xuân', // PIC's name\r\n    // //     avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2F01-366x445.jpg?alt=media&token=f4dc75eb-112c-4de1-a0fa-651467d1a3a5', // PIC's avatar\r\n    // // },\r\n    // // {   // Object 'Report'\r\n    // //     date: '28-12-2020',\r\n    // //     type: 'report',\r\n    // //     schoolYear: '2020-2021',\r\n    // //     reportId: 6,\r\n    // //     result: false,\r\n    // //     description: 'Trường làm lễ, bảo vệ không cho vào',\r\n    // //     schoolId: '2',\r\n    // //     purpose: 'Chăm sóc',\r\n    // //     fullName: 'Đỗ Thị Ái Xuân', // PIC's name\r\n    // //     avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2F01-366x445.jpg?alt=media&token=f4dc75eb-112c-4de1-a0fa-651467d1a3a5', // PIC's avatar\r\n    // // },\r\n    // // {   // Object 'Assign'\r\n    // //     date: '01-12-2020',\r\n    // //     type: 'assign',\r\n    // //     schoolYear: '2020-2021',\r\n    // //     purpose: 'Chăm sóc',\r\n    // //     fullName: 'Trần Diễm Nhi', // PIC's name\r\n    // //     avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2F0d68523b0481d68304da70f4dad00980.jpg?alt=media&token=6e5fc707-5cd4-4a62-8988-16486e89813e', // PIC's avatar\r\n    // // },\r\n    // // {   // Object 'Report'\r\n    // //     date: '12-12-2020',\r\n    // //     type: 'report',\r\n    // //     schoolYear: '2020-2021',\r\n    // //     reportId: 7,\r\n    // //     result: true,\r\n    // //     description: 'Cô rất hài lòng khi nhận quà',\r\n    // //     schoolId: '2',\r\n    // //     // level: 'THCS',           // level và schoolName có cần thiết ko ta???\r\n    // //     // schoolName: 'Văn Lang',\r\n    // //     purpose: 'Chăm sóc',    // có cái note thành lập trường bên task\r\n    // //     fullName: 'Trần Diễm Nhi', // PIC's name\r\n    // //     avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2F0d68523b0481d68304da70f4dad00980.jpg?alt=media&token=6e5fc707-5cd4-4a62-8988-16486e89813e', // PIC's avatar\r\n    // // },\r\n]\r\n\r\n// Cách tổ chức data cũ, gây khó khăn trong việc lồng ghép timeline vì có 2-3 mảng object đan xen cần xử lý\r\n// export const data = {\r\n//     listReports: [\r\n//         {\r\n//             id: 7,\r\n//             date: '12-12-2020',\r\n//             result: true,\r\n//             description: 'Cô rất hài lòng khi nhận quà',\r\n//             schoolId: '2',\r\n//             level: 'THCS',\r\n//             schoolName: 'Văn Lang',\r\n//             purpose: 'Chăm sóc',    // có cái note thành lập trường bên task\r\n//             fullName: 'Trần Diễm Nhi', // PIC's name\r\n//             avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2F0d68523b0481d68304da70f4dad00980.jpg?alt=media&token=6e5fc707-5cd4-4a62-8988-16486e89813e', // PIC's avatar\r\n//             schoolYear: '2020-2021',\r\n//         },\r\n//         {\r\n//             id: 6,\r\n//             date: '20-11-2020',\r\n//             result: false,\r\n//             description: 'Trường làm lễ, bảo vệ không cho vào',\r\n//             schoolId: '2',\r\n//             level: 'THCS',\r\n//             schoolName: 'Văn Lang',\r\n//             purpose: 'Chăm sóc',\r\n//             fullName: 'Đỗ Thị Ái Xuân', // PIC's name\r\n//             avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2F01-366x445.jpg?alt=media&token=f4dc75eb-112c-4de1-a0fa-651467d1a3a5', // PIC's avatar\r\n//             schoolYear: '2020-2021',\r\n//         },\r\n//         {\r\n//             id: 5,\r\n//             date: '15-07-2019',\r\n//             result: true,\r\n//             description: 'Ký thành công ESL 1 năm',\r\n//             schoolId: '2',\r\n//             level: 'THCS',\r\n//             schoolName: 'Văn Lang',\r\n//             purpose: 'Sales mới',\r\n//             fullName: 'Nguyễn Hoàng Anh', // PIC's name\r\n//             avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2FZe6axJ1.jpg?alt=media&token=3d31ba01-f18f-4c8b-a456-b051fc190354', // PIC's avatar\r\n//             schoolYear: '2019-2020',\r\n//         },\r\n//         {\r\n//             id: 4,\r\n//             date: '02-07-2019',\r\n//             result: true,\r\n//             description: 'Đã gặp HP Chuyên môn, cô đồng ý điều khoản Hợp đồng',\r\n//             schoolId: '2',\r\n//             level: 'THCS',\r\n//             schoolName: 'Văn Lang',\r\n//             purpose: 'Sales mới',\r\n//             fullName: 'Nguyễn Hoàng Anh', // PIC's name\r\n//             avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2FZe6axJ1.jpg?alt=media&token=3d31ba01-f18f-4c8b-a456-b051fc190354', // PIC's avatar\r\n//             schoolYear: '2019-2020',\r\n//         },\r\n//         {\r\n//             id: 3,\r\n//             date: '27-06-2019',\r\n//             result: true,\r\n//             description: 'Đã giới thiệu và báo giá ESL',\r\n//             schoolId: '2',\r\n//             level: 'THCS',\r\n//             schoolName: 'Văn Lang',\r\n//             purpose: 'Sales mới',\r\n//             fullName: 'Nguyễn Hoàng Anh', // PIC's name\r\n//             avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2FZe6axJ1.jpg?alt=media&token=3d31ba01-f18f-4c8b-a456-b051fc190354', // PIC's avatar\r\n//             schoolYear: '2019-2020',\r\n//         },\r\n//         {\r\n//             id: 2,\r\n//             date: '25-06-2019',\r\n//             result: false,\r\n//             description: 'Cô bận họp, 2 ngày sau quay lại',\r\n//             schoolId: '2',\r\n//             level: 'THCS',\r\n//             schoolName: 'Văn Lang',\r\n//             purpose: 'Sales mới',\r\n//             fullName: 'Nguyễn Hoàng Anh', // PIC's name\r\n//             avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2FZe6axJ1.jpg?alt=media&token=3d31ba01-f18f-4c8b-a456-b051fc190354', // PIC's avatar\r\n//             schoolYear: '2019-2020',\r\n//         },\r\n//         {\r\n//             id: 1,\r\n//             date: '17-06-2019',\r\n//             result: true,\r\n//             description: 'Giới thiệu thành công Major',\r\n//             schoolId: '2',\r\n//             level: 'THCS',\r\n//             schoolName: 'Văn Lang',\r\n//             purpose: 'Sales mới',\r\n//             fullName: 'Nguyễn Hoàng Anh', // PIC's name\r\n//             avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2FZe6axJ1.jpg?alt=media&token=3d31ba01-f18f-4c8b-a456-b051fc190354', // PIC's avatar\r\n//             schoolYear: '2019-2020',\r\n//         },\r\n//     ],\r\n//     listAssigns: [\r\n//         {\r\n//             assignDate: '01-12-2020',\r\n//             fullName: 'Trần Diễm Nhi', // PIC's name\r\n//             avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2F0d68523b0481d68304da70f4dad00980.jpg?alt=media&token=6e5fc707-5cd4-4a62-8988-16486e89813e', // PIC's avatar\r\n//             schoolYear: '2020-2021',\r\n//         },\r\n//         {\r\n//             assignDate: '10-11-2020',\r\n//             fullName: 'Đỗ Thị Ái Xuân', // PIC's name\r\n//             avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2F01-366x445.jpg?alt=media&token=f4dc75eb-112c-4de1-a0fa-651467d1a3a5', // PIC's avatar\r\n//             schoolYear: '2020-2021',\r\n//         },\r\n//         {\r\n//             assignDate: '01-06-2019',\r\n//             fullName: 'Nguyễn Hoàng Anh', // PIC's name\r\n//             avatar: 'https://firebasestorage.googleapis.com/v0/b/major-sales-management.appspot.com/o/images%2Favatars%2FZe6axJ1.jpg?alt=media&token=3d31ba01-f18f-4c8b-a456-b051fc190354', // PIC's avatar\r\n//             schoolYear: '2019-2020',\r\n//         },\r\n//     ],\r\n// }","import React, { useState, useEffect } from 'react'\r\nimport {\r\n    Grid,\r\n    Typography,\r\n    ListItemAvatar,\r\n    Avatar,\r\n    ListItemText,\r\n    Chip,\r\n} from '@material-ui/core'\r\nimport {\r\n    Timeline,\r\n    TimelineConnector,\r\n    TimelineContent,\r\n    TimelineDot,\r\n    TimelineItem,\r\n    TimelineOppositeContent,\r\n    TimelineSeparator\r\n} from '@material-ui/lab';\r\nimport { useHistory, useRouteMatch } from 'react-router';\r\nimport { Link } from 'react-router-dom';\r\nimport { MdDescription } from 'react-icons/md';\r\nimport { IoPersonAddSharp } from 'react-icons/io5'\r\nimport { FaHandshake } from 'react-icons/fa'\r\nimport { Consts } from './TimelinesConfig'  // timeline\r\nimport { purposeNames, serviceStatusNames, taskStatusNames } from '../../../../constants/Generals'\r\nimport { getTimeline } from '../../TasksServices';\r\nimport { Loading } from '../../../../components';\r\nimport classes from './Timelines.module.scss'\r\nimport { parseDateToString } from '../../../../utils/DateTimes';\r\n\r\nfunction Timelines(props) {\r\n    const { headers, labels } = Consts\r\n    const history = useHistory()\r\n    const { url } = useRouteMatch()\r\n    const newUrl = url.substring(0, 5)\r\n\r\n    const { task } = props\r\n\r\n    const taskId = url.substring(url.lastIndexOf('/') + 1)\r\n    const [timeline, setTimeline] = useState(null);\r\n\r\n    console.log('cannot get task id from: ', url);\r\n    console.log('taskId: ', taskId);\r\n\r\n    let isMounted = true\r\n    useEffect(() => {\r\n        getTimeline(taskId).then(res => {\r\n            if (isMounted) {\r\n                setTimeline(res)\r\n                console.log('TaskDetail - getTimeline: ', res);\r\n            }\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                history.push({\r\n                    pathname: '/errors',\r\n                    state: { error: error.response.status },\r\n                })\r\n            }\r\n        })\r\n        return () => {\r\n            isMounted = false\r\n        };\r\n    }, []);\r\n\r\n    if (!timeline) {\r\n        return <Loading />\r\n    }\r\n\r\n    const setPurposeChipColor = (purpose) => {\r\n        switch (purpose) {\r\n            case purposeNames.purp1:\r\n                return <Chip label={purpose} className={classes.chipSalesMoi} />\r\n            case purposeNames.purp2:\r\n                return <Chip label={purpose} className={classes.chipTheoDoi} />\r\n            case purposeNames.purp3:\r\n                return <Chip label={purpose} className={classes.chipChamSoc} />\r\n            case purposeNames.purp4:\r\n                return <Chip label={purpose} className={classes.chipTaiKy} />\r\n            case purposeNames.purp5:\r\n                return <Chip label={purpose} className={classes.chipKyMoi} />\r\n            default:\r\n                return <Chip label={purpose} /> // #5c21f3\r\n        }\r\n    }\r\n\r\n    // const setTaskStatusChipColor = (status) => {\r\n    //     switch (status) {\r\n    //         case taskStatusNames.ongoing:\r\n    //             return <Chip label={status} className={classes.chipOnGoing} />\r\n    //         case taskStatusNames.success:\r\n    //             return <Chip label={status} className={classes.chipSuccess} />\r\n    //         case taskStatusNames.failed:\r\n    //             return <Chip label={status} className={classes.chipFailed} />\r\n    //         default:\r\n    //             return <Chip label={status} /> // #5c21f3\r\n    //     }\r\n    // }\r\n\r\n    const setServiceStatusChipColor = (status) => {\r\n        switch (status) {\r\n            case serviceStatusNames.approved:\r\n                return <Chip label={status} className={classes.chipApproved} />\r\n            case serviceStatusNames.rejected:\r\n                return <Chip label={status} className={classes.chipRejected} />\r\n            case serviceStatusNames.pending:\r\n                return <Chip label={status} className={classes.chipPending} />\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    // const setResultChipColor = (result) => {\r\n    //     if (result === true) {\r\n    //         return <Chip label='Đã gặp HT/HP' className={classes.chipSuccess} />\r\n    //     } else if (result === false) {\r\n    //         return <Chip label='Chưa gặp HT/HP' className={classes.chipFailed} />\r\n    //     }\r\n    // }\r\n\r\n    const renderTimelineReport = (item) => {\r\n        return (\r\n            <div className={item?.isSuccess ? classes.tlnContentSuccess : classes.tlnContentFailed}>\r\n                <div className={classes.tlnContentChild}>\r\n                    <Typography variant=\"subtitle1\">\r\n                        {item?.reportDescription}\r\n                    </Typography>\r\n                    {/* {setPurposeChipColor(task?.purpose)} */}\r\n                </div>\r\n                <div className={classes.tlnContentChild}>\r\n                    <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n                        <b>{labels.result}</b>\r\n                        {item?.isSuccess\r\n                            ? <span className={classes.rpDaGap}>Đã gặp HT/HP</span>\r\n                            : <span className={classes.rpChuaGap}>Chưa gặp HT/HP</span>\r\n                        }\r\n                        {/* {setResultChipColor(item?.isSuccess)} */}\r\n                    </Typography>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className={classes.panel}>\r\n            <Grid container spacing={0} className={classes.body}>\r\n                {/* Content Sector */}\r\n                <Grid item xs={12} sm={12} md={12} lg={12} className={classes.content}>\r\n                    {/* History of reports */}\r\n                    <Grid container spacing={0} className={classes.wrapper}>\r\n                        <Grid item xs={12} sm={12} md={2} lg={2} className={classes.row}>\r\n                            <Typography color=\"inherit\" className={classes.header}>\r\n                                {headers.child1} {/*of assignments and reports*/}\r\n                            </Typography>\r\n                        </Grid>\r\n                        {/* Detail */}\r\n                        <Grid item xs={12} sm={12} md={10} lg={9} className={classes.row}>\r\n                            {(timeline.length > 0) || (task?.username) ? (\r\n                                <Timeline>\r\n                                    {/* {task?.username && ( */}\r\n                                    <TimelineItem>\r\n                                        <TimelineOppositeContent>\r\n                                            <div className={classes.tlnOpsContent}>\r\n                                                <Typography variant=\"body1\">\r\n                                                    <strong>{parseDateToString(task?.assignDate, 'DD-MM-yyyy')}</strong>\r\n                                                </Typography>\r\n                                                <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n                                                    {labels.schoolYear} <em>{task?.schoolYear}</em>\r\n                                                </Typography>\r\n                                            </div>\r\n                                        </TimelineOppositeContent>\r\n                                        <TimelineSeparator>\r\n                                            <TimelineDot color=\"secondary\">\r\n                                                <IoPersonAddSharp fontSize=\"large\" />\r\n                                            </TimelineDot>\r\n                                            <TimelineConnector className={classes.secondaryTail} />\r\n                                        </TimelineSeparator>\r\n                                        <TimelineContent>\r\n                                            <div className={classes.tlnContent}>\r\n                                                <div className={classes.tlnContentChild}>\r\n                                                    <div className={classes.picZone}>\r\n                                                        <ListItemAvatar className={classes.picAvatar}>\r\n                                                            <Avatar src={task?.avatar} />\r\n                                                        </ListItemAvatar>\r\n                                                        <ListItemText primary={task?.fullName} className={classes.picName} />\r\n                                                    </div>\r\n                                                    {task?.purpose && setPurposeChipColor(task?.purpose)}\r\n                                                </div>\r\n                                                {/* <div className={classes.tlnContentChild}>\r\n                                                    <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n                                                        <b>{labels.startDate}</b> {task?.startDate}\r\n                                                    </Typography>\r\n                                                    <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n                                                        <b>{labels.endDate}</b> {task?.endDate}\r\n                                                    </Typography>\r\n                                                </div> */}\r\n                                                {/* <div className={classes.tlnContentChild}>\r\n                                                        <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n                                                            <b>{labels.status} </b>\r\n                                                            {setTaskStatusChipColor(task?.status)}\r\n                                                        </Typography>\r\n                                                    </div> */}\r\n                                            </div>\r\n                                        </TimelineContent>\r\n                                    </TimelineItem>\r\n                                    {/* )} */}\r\n\r\n                                    {timeline.map((item, index) =>\r\n                                        <div key={index}>\r\n                                            {item?.type === 'report' && (\r\n                                                <TimelineItem>\r\n                                                    <TimelineOppositeContent>\r\n                                                        <div className={classes.tlnOpsContent}>\r\n                                                            <Typography variant=\"body1\">\r\n                                                                {parseDateToString(item?.date, 'DD-MM-yyyy')}\r\n                                                                {/* <strong>{parseDateToString(item?.date, 'DD-MM-yyyy')}</strong> */}\r\n                                                            </Typography>\r\n                                                            {/* <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n                                                                {labels.schoolYear} <em>{item?.schoolYear}</em>\r\n                                                            </Typography> */}\r\n                                                        </div>\r\n                                                    </TimelineOppositeContent>\r\n                                                    <TimelineSeparator>\r\n                                                        <TimelineDot color=\"primary\">\r\n                                                            <MdDescription fontSize=\"large\" />\r\n                                                        </TimelineDot>\r\n                                                        <TimelineConnector className={classes.primaryTail} />\r\n                                                    </TimelineSeparator>\r\n                                                    <TimelineContent>\r\n                                                        {task?.username ? (\r\n                                                            <Link\r\n                                                                to={{\r\n                                                                    pathname: `${newUrl}/reports/${item?.id}`\r\n                                                                }}\r\n                                                                onClick={() => console.log(taskId)}\r\n                                                                className={classes.linkCard}\r\n                                                            >\r\n                                                                {renderTimelineReport(item)}\r\n                                                            </Link>\r\n                                                        ) : renderTimelineReport(item)}\r\n                                                    </TimelineContent>\r\n                                                </TimelineItem>\r\n                                            )}\r\n\r\n                                            {item?.type === 'service' && (\r\n                                                <TimelineItem>\r\n                                                    <TimelineOppositeContent>\r\n                                                        <Link\r\n                                                            to={{ pathname: `${newUrl}/services/${item?.id}` }}\r\n                                                            onClick={() => console.log(taskId)}\r\n                                                            className={classes.linkCard}\r\n                                                        >\r\n                                                            <div\r\n                                                                className={\r\n                                                                    item?.status === serviceStatusNames.approved\r\n                                                                        ? classes.tlnServiceAppproved : classes.tlnServiceRejected}\r\n                                                            >\r\n                                                                <Typography variant=\"subtitle1\">\r\n                                                                    {/* {labels.services} <strong> {item?.services.join(', ')} </strong> */}\r\n                                                                    {labels.services} <strong> {item?.service} </strong>\r\n                                                                </Typography>\r\n                                                                <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n                                                                    <b>{labels.duration} </b>\r\n                                                                    {parseDateToString(item?.startDate, 'DD-MM-YYYY')} ➜ &nbsp;\r\n                                                                    {parseDateToString(item?.endDate, 'DD-MM-YYYY')}\r\n                                                                </Typography>\r\n                                                                {item?.status && setServiceStatusChipColor(item?.status)}\r\n                                                            </div>\r\n                                                        </Link>\r\n                                                    </TimelineOppositeContent>\r\n                                                    <TimelineSeparator>\r\n                                                        <TimelineDot className={classes.ternary}>\r\n                                                            <FaHandshake fontSize=\"large\" />\r\n                                                        </TimelineDot>\r\n                                                        {/* <TimelineConnector className={classes.ternaryTail} /> */}\r\n                                                    </TimelineSeparator>\r\n                                                    <TimelineContent>\r\n                                                        {item?.approvedDate ? (\r\n                                                            <div className={classes.tlnOpsContent}>\r\n                                                                <Typography variant=\"body1\">\r\n                                                                    {item?.status === serviceStatusNames.approved && (\r\n                                                                        <>\r\n                                                                            {labels.approvedOn} <strong style={{ color: \"#4caf50\" }}>{parseDateToString(item?.approvedDate, 'DD-MM-YYYY')}</strong>\r\n                                                                        </>\r\n                                                                    )}\r\n                                                                    {item?.status === serviceStatusNames.rejected && (\r\n                                                                        <>\r\n                                                                            {labels.rejectedOn} <strong style={{ color: \"#ee3e38\" }}>{parseDateToString(item?.approvedDate, 'DD-MM-YYYY')}</strong>\r\n                                                                        </>\r\n                                                                    )}\r\n                                                                </Typography>\r\n                                                                <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n                                                                    {labels.submitOn} <em>{parseDateToString(item?.date, 'DD-MM-YYYY')}</em>\r\n                                                                </Typography>\r\n                                                            </div>\r\n                                                        ) : (\r\n                                                            <div className={classes.tlnOpsContent}>\r\n                                                                <Typography variant=\"body1\">\r\n                                                                    <strong>{parseDateToString(item?.date, 'DD-MM-YYYY')}</strong>\r\n                                                                </Typography>\r\n                                                                <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n                                                                    <em>{labels.pending}</em>\r\n                                                                </Typography>\r\n                                                            </div>\r\n                                                        )}\r\n                                                    </TimelineContent>\r\n                                                </TimelineItem>\r\n                                            )}\r\n                                        </div>\r\n                                    )}\r\n                                </Timeline>\r\n                            ) : (\r\n                                <Typography>This task has not had any activities yet.</Typography>\r\n                            )}\r\n                        </Grid>\r\n                        {/* End Detail */}\r\n                    </Grid>\r\n                </Grid>\r\n                {/* Another Sector */}\r\n            </Grid>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default Timelines","import React, { useState, useEffect } from 'react'\r\nimport { useLocation, useParams, useHistory } from 'react-router-dom'\r\nimport { DetailLayouts } from '../../layouts'\r\nimport { SchoolInfo, AssignInfo, Timelines } from './panels'\r\nimport { useAuth } from '../../hooks/AuthContext'\r\nimport { roleNames } from '../../constants/Generals'\r\nimport * as TasksServices from './TasksServices'\r\nimport { taskConsts } from './TasksConfig'\r\nimport { Loading, NotFound } from '../../components'\r\n\r\nfunction Task() {\r\n    const { linkNames, tabNames, operations } = taskConsts\r\n    const { user } = useAuth()\r\n\r\n    const { id } = useParams()\r\n    const location = useLocation()\r\n    const history = useHistory()\r\n\r\n    // const [tabValue, setTabValue] = useState(0)\r\n    const [tabValue, setTabValue] = useState(location?.state?.tabNo ? location?.state?.tabNo : 0)\r\n\r\n    const stateData = location?.state?.data\r\n    const [task, setTask] = useState(stateData?.model)\r\n\r\n    const [exist, setExist] = useState(true)\r\n\r\n    let isMounted = true\r\n    const refreshPage = (taskId) => {\r\n        TasksServices.getTask(taskId)\r\n            .then((data) => {\r\n                if (isMounted) {\r\n                    setTask(data)\r\n                    // console.log('task detail: ', task);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    if (error.response.status === 403) {\r\n                        setExist(false)\r\n                    } else {\r\n                        history.push({\r\n                            pathname: '/errors',\r\n                            state: { error: error.response.status },\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshPage(id)\r\n        return () => {\r\n            isMounted = false\r\n        }\r\n    }, [])\r\n\r\n    if (!task) {\r\n        if (!exist) {\r\n            return <NotFound title={operations.notFound} />\r\n        } else {\r\n            return <Loading />\r\n        }\r\n    }\r\n\r\n    const handleChangeTab = (event, value) => {\r\n        setTabValue(value)\r\n    }\r\n\r\n    // const getListTabs = (role) => {\r\n    //     if (role === roleNames.salesman)\r\n    //         return [tabNames.tab2, tabNames.tab1, tabNames.tab3]\r\n    //     else return [tabNames.tab1, tabNames.tab2, tabNames.tab3]\r\n    // }\r\n\r\n    // const getTab = (role, tabValue) => {\r\n    //     switch (tabValue) {\r\n    //         case 0:\r\n    //             if (role === roleNames.salesman) {\r\n    //                 return <AssignInfo task={task} refreshPage={refreshPage} />;\r\n    //             } else {\r\n    //                 return <SchoolInfo task={task} refreshPage={refreshPage} />;\r\n    //             }\r\n    //         case 1:\r\n    //             if (role === roleNames.salesman) {\r\n    //                 return <SchoolInfo task={task} refreshPage={refreshPage} />;\r\n    //             } else {\r\n    //                 return <AssignInfo task={task} refreshPage={refreshPage} />;\r\n    //             }\r\n    //         case 2:\r\n    //             return <Timelines task={task} />;\r\n    //         default:\r\n    //             break;\r\n    //     }\r\n    // }\r\n\r\n    return (\r\n        <DetailLayouts\r\n            linkBack={linkNames.back}\r\n            header={`${task?.level} ${task?.schoolName}`}\r\n            subHeader={task?.schoolStatus}\r\n            isStatus={true}\r\n            tabs={[tabNames.tab2, tabNames.tab1, tabNames.tab3]}\r\n            // tabs={getListTabs(user.roles[0])}\r\n            tabValue={tabValue}\r\n            handleChangeTab={handleChangeTab}\r\n        >\r\n            {/* {getTab(user.roles[0], tabValue)} */}\r\n            {tabValue === 0 &&\r\n                <AssignInfo task={task} refreshPage={refreshPage} />\r\n            }\r\n            {tabValue === 1 &&\r\n                <SchoolInfo task={task} refreshPage={refreshPage} />\r\n            }\r\n            {tabValue === 2 &&\r\n                <Timelines task={task} />\r\n            }\r\n        </DetailLayouts>\r\n    )\r\n}\r\n\r\nexport default Task","import React, { useState } from 'react'\r\nimport { Avatar, Button, Chip } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n// import PropTypes from 'prop-types'\r\nimport * as ReducerActions from '../../../../../constants/ActionTypes'\r\nimport {\r\n    SERVICE_TYPE_FILTER,\r\n    SERVICE_STATUS_FILTER,\r\n    SCHOOL_YEAR_FILTER,\r\n    EXPIRED_FILTER,\r\n    DATE_RANGE_FILTER,\r\n    PIC_FILTER\r\n} from '../../../../../constants/Filters'\r\n// import classes from './Chips.module.scss'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        flexWrap: 'wrap',\r\n    },\r\n    ul: {\r\n        // maxWidth: 10 * 6 + 5,\r\n        maxWidth: 810,\r\n        overflowX: 'auto',\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        flexWrap: 'nowrap',\r\n        listStyle: 'none',\r\n        margin: 0,\r\n        paddingLeft: '0.5rem',\r\n    },\r\n    btnClear: {\r\n        fontSize: '0.75rem',\r\n    },\r\n    chip: {\r\n        margin: theme.spacing(0.5),\r\n    },\r\n}))\r\n\r\nfunction Chips(props) {\r\n    const classes = useStyles()\r\n    const { chips, dispatch, handleChipsRemoved } = props\r\n\r\n    //================Generate chips according to filters================\r\n    const [btnClearAll, setBtnClearAll] = useState(false)\r\n\r\n    const handleChipDelete = (chipToDelete) => () => {\r\n        switch (chipToDelete.filterType) {\r\n            case SERVICE_TYPE_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_SERVICE_TYPE,\r\n                    payload: { filterType: SERVICE_TYPE_FILTER, filterValue: '' },\r\n                })\r\n                break\r\n            case SERVICE_STATUS_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_SERVICE_STATUS,\r\n                    payload: { filterType: SERVICE_STATUS_FILTER, filterValue: '' },\r\n                })\r\n                break\r\n            case SCHOOL_YEAR_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_SCHOOL_YEAR,\r\n                    payload: { filterType: SCHOOL_YEAR_FILTER, filterValue: '' },\r\n                })\r\n                break\r\n            case PIC_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_PIC,\r\n                    payload: { filterType: PIC_FILTER, filterValue: null },\r\n                })\r\n                break\r\n            case EXPIRED_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_EXPIRED,\r\n                    payload: { filterType: EXPIRED_FILTER, filterValue: null },\r\n                })\r\n                break\r\n            case DATE_RANGE_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_DATE_RANGE,\r\n                    payload: { filterType: DATE_RANGE_FILTER, filterValue: [null, null] },\r\n                })\r\n                break\r\n            default:\r\n                break\r\n        }\r\n\r\n        if (!handleChipsRemoved) return\r\n        // Reset corresponding filters' value to \"All\" / null\r\n        const removedFilters = [chipToDelete.filterType]\r\n        handleChipsRemoved(removedFilters)\r\n    }\r\n\r\n    const handleClearAllChips = () => {\r\n        setBtnClearAll(false)\r\n\r\n        if (!handleChipsRemoved) return\r\n\r\n        dispatch({\r\n            type: ReducerActions.FILTER_SERVICE_TYPE,\r\n            payload: { filterType: SERVICE_TYPE_FILTER, filterValue: '' },\r\n        })\r\n        dispatch({\r\n            type: ReducerActions.FILTER_SERVICE_STATUS,\r\n            payload: { filterType: SERVICE_STATUS_FILTER, filterValue: '' },\r\n        })\r\n        dispatch({\r\n            type: ReducerActions.FILTER_SCHOOL_YEAR,\r\n            payload: { filterType: SCHOOL_YEAR_FILTER, filterValue: '' },\r\n        })\r\n        dispatch({\r\n            type: ReducerActions.FILTER_PIC,\r\n            payload: { filterType: PIC_FILTER, filterValue: null },\r\n        })\r\n        dispatch({\r\n            type: ReducerActions.FILTER_EXPIRED,\r\n            payload: { filterType: EXPIRED_FILTER, filterValue: null },\r\n        })\r\n        dispatch({\r\n            type: ReducerActions.FILTER_DATE_RANGE,\r\n            payload: { filterType: DATE_RANGE_FILTER, filterValue: [null, null] },\r\n        })\r\n\r\n        const removedFilters = [\r\n            SERVICE_TYPE_FILTER,\r\n            SERVICE_STATUS_FILTER,\r\n            SCHOOL_YEAR_FILTER,\r\n            EXPIRED_FILTER,\r\n            DATE_RANGE_FILTER\r\n        ]\r\n\r\n        handleChipsRemoved(removedFilters)\r\n    }\r\n\r\n    const handleShowClearAllButton = () => {\r\n        let count = 0\r\n        chips.forEach((chip) => {\r\n            if (chip.filterValue === '' || chip.filterValue === null || chip.filterValue === undefined) {\r\n                count++\r\n            }\r\n            else if (\r\n                chip.filterType === DATE_RANGE_FILTER &&\r\n                typeof chip.filterValue !== 'string'\r\n            ) {\r\n                count++\r\n            }\r\n        })\r\n        return count;\r\n    }\r\n\r\n    const renderChips = (chip) => {\r\n        if (chip.filterType === PIC_FILTER) {\r\n            return (\r\n                <Chip\r\n                    label={chip.filterValue.fullName}\r\n                    avatar={<Avatar src={chip.filterValue.avatar} />}\r\n                    onDelete={handleChipDelete(chip)}\r\n                    className={classes.chip}\r\n                    color=\"secondary\"\r\n                />\r\n            )\r\n        } else if (chip.filterType === DATE_RANGE_FILTER) {\r\n            if (typeof chip.filterValue === 'string') {\r\n                return (\r\n                    <Chip\r\n                        label={chip.filterValue}\r\n                        onDelete={handleChipDelete(chip)}\r\n                        className={classes.chip}\r\n                        color=\"secondary\"\r\n                    />\r\n                )\r\n            }\r\n        } else {    // } else if (chip.filterType !== 'dateRange') {\r\n            return (\r\n                <Chip\r\n                    label={chip.filterValue}\r\n                    onDelete={handleChipDelete(chip)}\r\n                    className={classes.chip}\r\n                    color=\"secondary\"\r\n                />\r\n            )\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {handleShowClearAllButton() !== 6 && (\r\n                <div className={classes.root}>\r\n                    <Button\r\n                        size=\"small\"\r\n                        className={classes.btnClear}\r\n                        onClick={handleClearAllChips}\r\n                    >\r\n                        Clear all\r\n                    </Button>\r\n                    <ul className={classes.ul}>\r\n                        {chips.map((chip) => {\r\n                            return (\r\n                                <div key={chip.filterType}>\r\n                                    {chip.filterValue && (\r\n                                        <li>\r\n                                            {renderChips(chip)}\r\n                                        </li>\r\n                                    )}\r\n                                </div>\r\n                                // <li key={chip.filterType}>\r\n                                //     {chip.filterType !== EXPIRED_FILTER && chip.filterValue &&\r\n                                //         <Chip\r\n                                //             label={chip.filterValue}\r\n                                //             onDelete={handleChipDelete(chip)}\r\n                                //             className={classes.chip}\r\n                                //             color=\"secondary\"\r\n                                //         />\r\n                                //     }\r\n                                //     {chip.filterType === EXPIRED_FILTER && chip.filterValue !== null &&\r\n                                //         <Chip\r\n                                //             label={chip.filterValue ? 'Expired' : 'Valid / Effective'}\r\n                                //             onDelete={handleChipDelete(chip)}\r\n                                //             className={classes.chip}\r\n                                //             color=\"secondary\"\r\n                                //         />\r\n                                //     }\r\n                                // </li>\r\n                            )\r\n                        })}\r\n                    </ul>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Chips)\r\n\r\n// Chips.propTypes = {\r\n//     chips: PropTypes.array.isRequired,\r\n//     dispatch: PropTypes.func.isRequired,\r\n//     handleChipsRemoved: PropTypes.func,\r\n// }\r\n","import { roleNames } from \"../../constants/Generals\";\r\n\r\nconst columns = [\r\n    { key: 'no', name: '#', sortable: false, width1: '1%', width2: '5%' },\r\n    { key: 'serviceType', name: 'Service Type', sortable: true, width1: '13%', width2: '18%' },\r\n    { key: 'task.school.schoolId', name: 'School Name', sortable: true, width1: '20%', width2: '25%' },\r\n    { key: 'task.user.username', name: 'PIC', sortable: true, width1: '23%', width2: '0%' },\r\n    // { key: 'duration', name: 'Duration', sortable: false, width1: '25%', width2: '28%' },\r\n    { key: 'status', name: 'Status', sortable: true, width1: '12%', width2: '15%' },    // Pending, Approved, Rejected\r\n    // { key: 'approveDate', name: 'Approved Date', sortable: true, width1: '17%', width2: '1%' },\r\n    { key: '', name: '', sortable: false, width1: '1%', width2: '1%' },\r\n]\r\n\r\nexport const getColumns = (role) => {\r\n    const [no, serviceType, schoolName, pic, status, actions] = columns     // duration,\r\n\r\n    switch (role) {\r\n        case roleNames.manager:\r\n            return [no, serviceType, schoolName, pic, status, actions]      // duration,\r\n        case roleNames.salesman:\r\n            return [no, serviceType, schoolName, status, actions]       // duration,\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\n//=========================================================================================================\r\n\r\nexport const detailPageConsts = {\r\n    linkNames: {\r\n        back: 'Services',\r\n    },\r\n    tabNames: {\r\n        tab1: 'Service Info',\r\n    },\r\n    operations: {\r\n        notFound: 'Service Not Found',\r\n    },\r\n}\r\n\r\nexport const Consts = {\r\n    operations: {\r\n        filter: 'Filters',\r\n        search: {\r\n            placeholder: 'Search...',\r\n        },\r\n        create: 'Insert',\r\n    },\r\n    filters: {\r\n        serviceType: {\r\n            title: 'Service Types',\r\n        },\r\n        serviceStatus: {\r\n            title: 'Service Statuses',\r\n        },\r\n        schoolYear: {\r\n            title: 'School Years',\r\n        },\r\n        expiredStatus: {\r\n            title: 'Expired Statuses',\r\n            options: {\r\n                all: 'All',\r\n                expired: 'Expired',\r\n                valid: 'Valid / Effective',\r\n            },\r\n        },\r\n        // duration: {\r\n        //     title: 'Duration (from/to)',\r\n        // },\r\n        pic: {\r\n            title: 'PICs',\r\n        },\r\n    },\r\n    messages: {\r\n        notFound: 'No records found.',\r\n    },\r\n    menuItems: {\r\n        details: {\r\n            title: 'View details',\r\n        },\r\n    },\r\n}\r\n","import React, { useRef, useState } from 'react'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n    Accordion,\r\n    AccordionSummary,\r\n    AccordionDetails,\r\n    Typography,\r\n    Select,\r\n    Grid,\r\n    Box,\r\n    InputLabel,\r\n    MenuItem,\r\n    FormControl,\r\n    Button,\r\n    Menu,\r\n    TextField,\r\n    InputAdornment,\r\n    ListItemAvatar,\r\n    Avatar,\r\n    ListItemText,\r\n} from '@material-ui/core'\r\nimport { MdAccountCircle, MdExpandMore, MdFilterList } from 'react-icons/md'\r\nimport { SearchFields } from '../../../../components'\r\nimport Chips from './Chips/Chips'\r\nimport * as ReducerActions from '../../../../constants/ActionTypes'\r\nimport { useService } from '../../hooks/ServiceContext'\r\nimport {\r\n    SERVICE_TYPE_FILTER,\r\n    SERVICE_STATUS_FILTER,\r\n    SCHOOL_YEAR_FILTER,\r\n    PIC_FILTER,\r\n    EXPIRED_FILTER,\r\n    DATE_RANGE_FILTER\r\n} from '../../../../constants/Filters'\r\nimport { useApp } from '../../../../hooks/AppContext'\r\nimport * as Milk from '../../../../utils/Milk'\r\nimport { milkNames } from '../../../../constants/Generals'\r\nimport { Consts } from '../../ServicesConfig'\r\nimport moment from 'moment'\r\n// import DateRangePickers from '../DateRangePickers/DateRangePickers';\r\n// import { Autocomplete } from '@material-ui/lab'\r\nimport styles from './Filters.module.scss'\r\n\r\n//===============Set max-height for dropdown list===============\r\nconst ITEM_HEIGHT = 38\r\nconst ITEM_PADDING_TOP = 5\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT * 4 + ITEM_PADDING_TOP,\r\n        },\r\n    },\r\n}\r\n//==============================================================\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 160,\r\n    },\r\n    flexBox: {\r\n        padding: 0,\r\n    },\r\n    flexItem: {\r\n        padding: 0,\r\n    },\r\n    option: {\r\n        fontSize: '0.875rem',\r\n    },\r\n    btn: {\r\n        padding: '0.5rem',\r\n        margin: '0 0.3rem',\r\n        borderRadius: '8px',\r\n        // minWidth: 3, // minHeight: 0, // lineHeight: 0,\r\n    },\r\n    root: {},\r\n    menuItemRoot: {\r\n        '&$menuItemSelected': { backgroundColor: 'rgba(0, 0, 0, 0.08)' },\r\n        '&$menuItemSelected:focus': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.12)',\r\n        },\r\n        '&$menuItemSelected:hover': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.04);',\r\n        },\r\n    },\r\n    menuItemSelected: {},\r\n    autoComplete: {\r\n        width: 260,\r\n        marginLeft: '0.5rem',\r\n    },\r\n    itemPIC: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        padding: 0,\r\n        margin: 0,\r\n    },\r\n    itemTextPrimary: {\r\n        fontSize: '0.875rem',\r\n    },\r\n}))\r\n\r\nconst MuiAccordion = withStyles({\r\n    root: {\r\n        backgroundColor: 'rgb(238, 238, 238)',\r\n        borderRadius: '8px',\r\n        marginBottom: '0.5rem',\r\n        boxShadow: 'none',\r\n        '&:not(:last-child)': {\r\n            borderBottom: 0,\r\n            borderRadius: '8px',\r\n        },\r\n        '&:before': {\r\n            display: 'none',\r\n        },\r\n        '&$expanded': {\r\n            margin: 'auto',\r\n            borderRadius: '8px',\r\n        },\r\n    },\r\n    expanded: {},\r\n})(Accordion)\r\n\r\nconst MuiAccordionSummary = withStyles({\r\n    root: {\r\n        height: 41.5,\r\n        minHeight: 35,\r\n        maxWidth: 120,\r\n        backgroundColor: 'rgb(255, 255, 255)',\r\n        fontWeight: 'bold',\r\n        // borderBottom: '1px solid rgba(0, 0, 0, .125)',\r\n        // boxShadow: '1px 1px 2px gray',\r\n        boxShadow: '0 4px 6px -6px #000', // 0px 1px 1px gray\r\n        borderRadius: '8px',\r\n        paddingButtom: 0,\r\n        '&$expanded': {\r\n            minHeight: 35,\r\n            borderRadius: '8px',\r\n        },\r\n    },\r\n    content: {\r\n        '&$expanded': {\r\n            margin: '12px 0',\r\n        },\r\n    },\r\n    expanded: {},\r\n})(AccordionSummary)\r\n\r\nconst MuiAccordionDetails = withStyles((theme) => ({\r\n    root: {\r\n        backgroundColor: 'rgb(255, 255, 255)',\r\n        margin: '0.5rem 0',\r\n        padding: '0.3rem 0 1rem 2rem',\r\n        borderRadius: '8px',\r\n    },\r\n}))(AccordionDetails)\r\n\r\nfunction Filters() {\r\n    const classes = useStyles()\r\n    const { operations, filters } = Consts\r\n\r\n    const { schYears } = useApp()\r\n    const bakSchoolYears = schYears ? schYears : Milk.getMilk(milkNames.schYears)\r\n\r\n    //Use states which have been declared in the ServiceContext\r\n    const {\r\n        params,\r\n        dispatchParams,\r\n        serviceStatus,\r\n        serviceType,\r\n        schoolYear,\r\n        serviceTypes,\r\n        isExpired,\r\n        expiredStatuses,\r\n        serviceStatuses,\r\n        setFilter,\r\n        PIC,\r\n        PICs,\r\n        getListPICs,\r\n    } = useService()\r\n\r\n    const [anchorEl, setAnchorEl] = useState(null)\r\n    const typingTimeoutRef = useRef({})\r\n\r\n    //================Handle useState() of filters================\r\n    const handleServiceStatusChange = (event) => {\r\n        const selectedServiceStatus = event.target.value\r\n        setFilter(SERVICE_STATUS_FILTER, selectedServiceStatus)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_SERVICE_STATUS,\r\n            payload: {\r\n                filterType: SERVICE_STATUS_FILTER,\r\n                filterValue: selectedServiceStatus,\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleServiceTypeChange = (event) => {\r\n        const selectedServiceType = event.target.value\r\n        setFilter(SERVICE_TYPE_FILTER, selectedServiceType)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_SERVICE_TYPE,\r\n            payload: {\r\n                filterType: SERVICE_TYPE_FILTER,\r\n                filterValue: selectedServiceType,\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleSchoolYearChange = (event) => {\r\n        const selectedSchoolYear = event.target.value\r\n        setFilter(SCHOOL_YEAR_FILTER, selectedSchoolYear)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_SCHOOL_YEAR,\r\n            payload: {\r\n                filterType: SCHOOL_YEAR_FILTER,\r\n                filterValue: selectedSchoolYear,\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleIsExpiredChange = (event) => {\r\n        const selectedExpiredStatus = event.target.value\r\n        setFilter(EXPIRED_FILTER, selectedExpiredStatus)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_EXPIRED,\r\n            payload: {\r\n                filterType: EXPIRED_FILTER,\r\n                filterValue: selectedExpiredStatus,\r\n            },\r\n        })\r\n    }\r\n\r\n    const onSearchPICChange = (event) => {\r\n        if (typingTimeoutRef.current) {\r\n            clearTimeout(typingTimeoutRef.current)\r\n        }\r\n\r\n        typingTimeoutRef.current = setTimeout(() => {\r\n            const searchPIC = event.target.value\r\n            if (searchPIC) {\r\n                getListPICs(searchPIC)\r\n            } else {\r\n                getListPICs()\r\n            }\r\n        }, 300)\r\n    }\r\n\r\n    const handlePICChange = (event, newPIC) => {\r\n        setFilter(PIC_FILTER, newPIC)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_PIC,\r\n            payload: {\r\n                filterType: PIC_FILTER,\r\n                filterValue: newPIC ? newPIC : null,\r\n            },\r\n        })\r\n    }\r\n\r\n    // Duration\r\n    const handleDateRangeChange = (selectedDate) => {\r\n        const fromDate = selectedDate[0]\r\n            ? moment(selectedDate[0]).format('YYYY-MM-DD')\r\n            : null\r\n        const toDate = selectedDate[1]\r\n            ? moment(selectedDate[1]).format('YYYY-MM-DD')\r\n            : null\r\n\r\n        setFilter(DATE_RANGE_FILTER, [fromDate, toDate])\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_DATE_RANGE,\r\n            payload: {\r\n                filterType: DATE_RANGE_FILTER,\r\n                filterValue: [fromDate, toDate]\r\n                    ? [fromDate, toDate]\r\n                    : [null, null],\r\n            },\r\n        })\r\n    }\r\n\r\n    //==============Handle action delete from Chips and btn \"Clear all\"==============\r\n    const handleChipsRemoved = (removedFilters) => {\r\n        removedFilters.forEach((removedFilter) => {\r\n            switch (removedFilter) {\r\n                case SERVICE_TYPE_FILTER:\r\n                    setFilter(SERVICE_TYPE_FILTER, '')\r\n                    break\r\n                case SERVICE_STATUS_FILTER:\r\n                    setFilter(SERVICE_STATUS_FILTER, '')\r\n                    break\r\n                case SCHOOL_YEAR_FILTER:\r\n                    setFilter(SCHOOL_YEAR_FILTER, '')\r\n                    break\r\n                case EXPIRED_FILTER:\r\n                    setFilter(EXPIRED_FILTER, null)\r\n                    break\r\n                case DATE_RANGE_FILTER:\r\n                    setFilter(DATE_RANGE_FILTER, [null, null])\r\n                    break\r\n                default:\r\n                    break\r\n            }\r\n        })\r\n    }\r\n\r\n    const generateChipsArray = (listFilters) => {\r\n        const listChips = []\r\n        let newListFilters = { ...listFilters }\r\n\r\n        for (const chip in newListFilters) {\r\n            if (chip === DATE_RANGE_FILTER) {\r\n                const fromDate = moment(\r\n                    newListFilters[chip].filterValue[0]\r\n                ).format('MMM D, YYYY')\r\n                const toDate = moment(\r\n                    newListFilters[chip].filterValue[1]\r\n                ).format('MMM D, YYYY')\r\n                if (fromDate !== 'Invalid date' && toDate !== 'Invalid date') {\r\n                    newListFilters = {\r\n                        ...newListFilters,\r\n                        dateRange: {\r\n                            filterType: DATE_RANGE_FILTER,\r\n                            filterValue: `${fromDate} ➜ ${toDate}`,\r\n                        },\r\n                    }\r\n                }\r\n            }\r\n            listChips.push(newListFilters[chip])\r\n        }\r\n        return listChips\r\n    }\r\n    //===============================================================================\r\n\r\n    //=================Handle action enter / submit of SearchFields==================\r\n    const handleSearch = (keyword) => {\r\n        dispatchParams({\r\n            type: ReducerActions.ENTER_SEARCH_KEYWORD,\r\n            payload: keyword,\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <MuiAccordion>\r\n                <Box\r\n                    display=\"flex\"\r\n                    flexWrap=\"nowrap\"\r\n                    className={classes.flexBox}\r\n                >\r\n                    <Box className={classes.flexItem}>\r\n                        <MuiAccordionSummary expandIcon={<MdExpandMore />}>\r\n                            <MdFilterList className={styles.iconFilter} />{' '}\r\n                            &nbsp;\r\n                            <Typography>{operations.filter}</Typography>\r\n                        </MuiAccordionSummary>\r\n                    </Box>\r\n                    <Box flexGrow={1} className={classes.flexItem}>\r\n                        <Chips\r\n                            chips={generateChipsArray(params.listFilters)}\r\n                            dispatch={dispatchParams}\r\n                            handleChipsRemoved={handleChipsRemoved}\r\n                        />\r\n                    </Box>\r\n                    <Box className={classes.flexItem}>\r\n                        <SearchFields\r\n                            placeholder={operations.search.placeholder}\r\n                            onChange={handleSearch}\r\n                        />\r\n                    </Box>\r\n                </Box>\r\n                <MuiAccordionDetails>\r\n                    <Grid container>\r\n                        <Grid item xs={12} sm={6} md={4} lg={3}>\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>{filters.serviceType.title}</InputLabel>\r\n                                <Select\r\n                                    value={serviceType || ''}\r\n                                    onChange={handleServiceTypeChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    <MenuItem\r\n                                        value=\"\"\r\n                                        className={classes.option}\r\n                                        classes={{\r\n                                            root: classes.menuItemRoot,\r\n                                            selected: classes.menuItemSelected,\r\n                                        }}\r\n                                    >\r\n                                        All\r\n                                    </MenuItem>\r\n                                    {serviceTypes?.map((type) => (\r\n                                        <MenuItem\r\n                                            key={type}\r\n                                            value={type}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {type}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={6} md={4} lg={3}>\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>{filters.serviceStatus.title}</InputLabel>\r\n                                <Select\r\n                                    value={serviceStatus || ''}\r\n                                    onChange={handleServiceStatusChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    <MenuItem\r\n                                        value=\"\"\r\n                                        className={classes.option}\r\n                                        classes={{\r\n                                            root: classes.menuItemRoot,\r\n                                            selected: classes.menuItemSelected,\r\n                                        }}\r\n                                    >\r\n                                        All\r\n                                    </MenuItem>\r\n                                    {serviceStatuses?.map((status) => (\r\n                                        <MenuItem\r\n                                            key={status}\r\n                                            value={status}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {status}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={6} md={4} lg={3}>\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>\r\n                                    {filters.schoolYear.title}\r\n                                </InputLabel>\r\n                                <Select\r\n                                    value={schoolYear || ''}\r\n                                    onChange={handleSchoolYearChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    <MenuItem\r\n                                        value=\"\"\r\n                                        className={classes.option}\r\n                                        classes={{\r\n                                            root: classes.menuItemRoot,\r\n                                            selected: classes.menuItemSelected,\r\n                                        }}\r\n                                    >\r\n                                        All\r\n                                    </MenuItem>\r\n                                    {bakSchoolYears?.map((year) => (\r\n                                        <MenuItem\r\n                                            key={year}\r\n                                            value={year}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {year}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} sm={6} md={4} lg={3}>\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>{filters.expiredStatus.title}</InputLabel>\r\n                                <Select\r\n                                    value={isExpired || ''}\r\n                                    onChange={handleIsExpiredChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    <MenuItem\r\n                                        value={null}\r\n                                        className={classes.option}\r\n                                        classes={{\r\n                                            root: classes.menuItemRoot,\r\n                                            selected: classes.menuItemSelected,\r\n                                        }}\r\n                                    >\r\n                                        All\r\n                                    </MenuItem>\r\n                                    {expiredStatuses?.map((expiredStatus) => (\r\n                                        <MenuItem\r\n                                            key={expiredStatus}\r\n                                            value={expiredStatus}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {expiredStatus}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n                    </Grid>\r\n                </MuiAccordionDetails>\r\n            </MuiAccordion>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filters\r\n","import React, { useState } from 'react'\r\nimport {\r\n    IconButton,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    Menu,\r\n    MenuItem,\r\n    Tooltip,\r\n} from '@material-ui/core'\r\nimport { Link, useRouteMatch } from 'react-router-dom'\r\nimport { MdMoreVert, MdInfo } from 'react-icons/md'\r\nimport { useService } from '../../../hooks/ServiceContext'\r\nimport { Consts } from '../../../ServicesConfig'\r\n// import PropTypes from 'prop-types'\r\nimport classes from './MenuOptions.module.scss'\r\n\r\nfunction MenuOptions(props) {\r\n    const { data } = props\r\n    const { menuItems } = Consts\r\n\r\n    const { params } = useService()\r\n    const { url } = useRouteMatch()\r\n\r\n    const [anchorEl, setAnchorEl] = useState(null)\r\n\r\n    const stateData = {\r\n        model: data,\r\n        params: params,\r\n        // pathName: `${url}/${data.name}`,\r\n    }\r\n\r\n    const handleOpen = (event) => {\r\n        setAnchorEl(event.currentTarget)\r\n    }\r\n\r\n    const handleCloseMenus = () => {\r\n        setAnchorEl(null)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Tooltip title=\"Actions\">\r\n                <IconButton color=\"primary\" onClick={handleOpen}>\r\n                    <MdMoreVert />\r\n                </IconButton>\r\n            </Tooltip>\r\n            <Menu\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={!!anchorEl}\r\n                onClose={handleCloseMenus}\r\n            >\r\n                <MenuItem\r\n                    onClick={handleCloseMenus}\r\n                    component={Link}\r\n                    to={{\r\n                        pathname: `${url}/${data?.id}`,\r\n                        state: { data: stateData },\r\n                    }}\r\n                >\r\n                    <ListItemIcon className={classes.itemIcon}>\r\n                        <MdInfo fontSize=\"large\" />\r\n                    </ListItemIcon>\r\n                    <ListItemText className={classes.itemText}>\r\n                        {menuItems.details.title}\r\n                    </ListItemText>\r\n                </MenuItem>\r\n            </Menu>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(MenuOptions)\r\n\r\n// MenuOptions.propTypes = {\r\n//     data: PropTypes.object.isRequired,\r\n// }\r\n","import React from 'react'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\r\nimport {\r\n    TableContainer,\r\n    Table,\r\n    TableHead,\r\n    TableBody,\r\n    TableRow,\r\n    TableCell,\r\n    TablePagination,\r\n    IconButton,\r\n    Chip,\r\n    TableSortLabel,\r\n    withStyles,\r\n    ListItemText,\r\n    Avatar,\r\n    ListItemAvatar,\r\n    ListItem,\r\n} from '@material-ui/core'\r\nimport {\r\n    MdFirstPage,\r\n    MdKeyboardArrowLeft,\r\n    MdKeyboardArrowRight,\r\n    MdLastPage,\r\n} from 'react-icons/md'\r\nimport { useService } from '../../hooks/ServiceContext'\r\nimport MenuOptions from './MenuOptions/MenuOptions'\r\nimport * as ReducerActions from '../../../../constants/ActionTypes'\r\nimport { roleNames, serviceStatusNames } from '../../../../constants/Generals'\r\nimport { Consts } from '../../ServicesConfig'\r\nimport Highlighter from 'react-highlight-words'\r\nimport { LinearProgressBars } from '../../../../components'\r\nimport { useAuth } from '../../../../hooks/AuthContext'\r\n// import PropTypes from 'prop-types'\r\nimport classes from './Tables.module.scss'\r\n\r\n// Customize component TablePagination\r\nfunction TablePaginationActions(props) {\r\n    const theme = useTheme()\r\n\r\n    const { count, page, rowsPerPage, totalPage, onChangePage } = props\r\n\r\n    const handleFirstPageButtonClick = (event) => {\r\n        onChangePage(event, 0) // firstPage has index = 0\r\n    }\r\n\r\n    const handleLastPageButtonClick = (event) => {\r\n        onChangePage(event, Math.ceil(count / rowsPerPage) - 1)\r\n    }\r\n\r\n    const handleBackPageButtonClick = (event) => {\r\n        onChangePage(event, page - 1) // current page - 1\r\n    }\r\n\r\n    const handleNextPageButtonClick = (event) => {\r\n        onChangePage(event, page + 1) // current page + 1\r\n    }\r\n\r\n    return (\r\n        <div className={classes.paging}>\r\n            <IconButton\r\n                onClick={handleFirstPageButtonClick}\r\n                disabled={page === 0}\r\n                aria-label=\"first page\"\r\n            >\r\n                {theme.direction === 'rtl' ? <MdLastPage /> : <MdFirstPage />}\r\n            </IconButton>\r\n            <IconButton\r\n                onClick={handleBackPageButtonClick}\r\n                disabled={page === 0}\r\n                aria-label=\"previous page\"\r\n            >\r\n                {theme.direction === 'rtl' ? (\r\n                    <MdKeyboardArrowRight />\r\n                ) : (\r\n                    <MdKeyboardArrowLeft />\r\n                )}\r\n            </IconButton>\r\n            <span>\r\n                {page + 1} / {totalPage}\r\n            </span>\r\n            <IconButton\r\n                onClick={handleNextPageButtonClick}\r\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n                aria-label=\"next page\"\r\n            >\r\n                {theme.direction === 'rtl' ? (\r\n                    <MdKeyboardArrowLeft />\r\n                ) : (\r\n                    <MdKeyboardArrowRight />\r\n                )}\r\n            </IconButton>\r\n            <IconButton\r\n                onClick={handleLastPageButtonClick}\r\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n                aria-label=\"last page\"\r\n            >\r\n                {theme.direction === 'rtl' ? <MdFirstPage /> : <MdLastPage />}\r\n            </IconButton>\r\n        </div>\r\n    )\r\n}\r\n\r\n// TablePaginationActions.propTypes = {\r\n//     count: PropTypes.number.isRequired,\r\n//     page: PropTypes.number.isRequired,\r\n//     rowsPerPage: PropTypes.number.isRequired,\r\n//     onChangePage: PropTypes.func.isRequired,\r\n//     totalPage: PropTypes.number.isRequired,\r\n// }\r\n\r\nfunction SortableTableHeaders(props) {\r\n    const { columns, direction, column, onRequestSort, role } = props\r\n    const createSortHandler = (col, direction) => {\r\n        onRequestSort(col, direction)\r\n    }\r\n\r\n    const MuiTableSortLabel = withStyles({\r\n        root: {\r\n            color: 'white !important',\r\n            '&:hover': {\r\n                color: 'white !important',\r\n            },\r\n            '&$active': {\r\n                color: 'white !important',\r\n            },\r\n        },\r\n        active: {},\r\n        icon: {\r\n            color: 'white !important',\r\n        },\r\n    })(TableSortLabel)\r\n\r\n    return (\r\n        <TableHead>\r\n            <TableRow className={classes.tHead}>\r\n                {columns.map((col) => (\r\n                    <TableCell\r\n                        key={col.key}\r\n                        className={classes.tHeadCell}\r\n                        sortDirection={column === col.key ? direction : false}\r\n                        align={\r\n                            col.key === 'no' || col.key === 'task.user.username'\r\n                                ? 'center'\r\n                                : 'left'\r\n                        }\r\n                        width={\r\n                            role === roleNames.manager ? col.width1 : col.width2\r\n                        }\r\n                    >\r\n                        {col?.sortable ? (\r\n                            <MuiTableSortLabel\r\n                                active={column === col.key}\r\n                                direction={\r\n                                    column === col.key ? direction : 'asc'\r\n                                }\r\n                                onClick={() =>\r\n                                    createSortHandler(col, direction)\r\n                                }\r\n                            >\r\n                                {col.name}\r\n                            </MuiTableSortLabel>\r\n                        ) : (\r\n                            col.name\r\n                        )}\r\n                    </TableCell>\r\n                ))}\r\n            </TableRow>\r\n        </TableHead>\r\n    )\r\n}\r\n\r\n// SortableTableHeaders.propTypes = {\r\n//     columns: PropTypes.array.isRequired,\r\n//     direction: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n//     column: PropTypes.string.isRequired,\r\n//     onRequestSort: PropTypes.func.isRequired,\r\n// }\r\n\r\n// Customize component Table\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    itemPIC: {\r\n        padding: 0,\r\n        margin: 0,\r\n    },\r\n    itemTextPrimary: {\r\n        fontSize: '0.875rem',\r\n    },\r\n    itemTextSecondary: {\r\n        fontSize: '0.8rem',\r\n    },\r\n}))\r\n\r\nfunction Tables(props) {\r\n    const styles = useStyles()\r\n    const { columns, rows, totalRecord, totalPage } = props\r\n    const { messages } = Consts\r\n\r\n    const { user } = useAuth()\r\n\r\n    const {\r\n        params,\r\n        dispatchParams,\r\n        limit,\r\n        direction,\r\n        column,\r\n        setColumn,\r\n        setLimit,\r\n        setPage,\r\n        setDirection,\r\n    } = useService()\r\n\r\n    // ====================Paging====================\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage)\r\n        dispatchParams({\r\n            type: ReducerActions.CHANGE_PAGE,\r\n            payload: {\r\n                page: newPage,\r\n                limit: params.limit,\r\n            },\r\n        })\r\n    }\r\n\r\n    const handleChangeLimit = (event) => {\r\n        setLimit(parseInt(event.target.value, 10))\r\n        setPage(0)\r\n        dispatchParams({\r\n            type: ReducerActions.CHANGE_PAGE,\r\n            payload: {\r\n                page: 0,\r\n                limit: parseInt(event.target.value, 10),\r\n            },\r\n        })\r\n    }\r\n\r\n    const onSortBy = (col, direction) => {\r\n        if (col.sortable) {\r\n            setDirection(direction === 'desc' ? 'asc' : 'desc')\r\n            setColumn(col.key)\r\n\r\n            dispatchParams({\r\n                type: ReducerActions.SORT_BY,\r\n                payload: {\r\n                    column: col.key,\r\n                    direction: direction,\r\n                },\r\n            })\r\n        }\r\n    }\r\n\r\n    const setServiceStatusChipColor = (status) => {\r\n        switch (status) {\r\n            case serviceStatusNames.approved:\r\n                return <Chip label={status} className={classes.chipApproved} />\r\n            case serviceStatusNames.rejected:\r\n                return <Chip label={status} className={classes.chipRejected} />\r\n            case serviceStatusNames.pending:\r\n                return <Chip label={status} className={classes.chipPending} />\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <TableContainer className={classes.container} component=\"div\">\r\n                <Table\r\n                    className={classes.table}\r\n                    stickyHeader\r\n                    size=\"small\"\r\n                    aria-label=\"sticky table\"\r\n                >\r\n                    <SortableTableHeaders\r\n                        columns={columns}\r\n                        direction={direction}\r\n                        column={column}\r\n                        onRequestSort={onSortBy}\r\n                        role={user.roles[0]}\r\n                    />\r\n\r\n                    <TableBody className={classes.tBody}>\r\n                        {rows?.length > 0 ? (\r\n                            rows.map((row, index) => (\r\n                                <TableRow\r\n                                    key={row?.id}\r\n                                    className={classes.tBodyRow}\r\n                                >\r\n                                    <TableCell\r\n                                        className={classes.tableCell}\r\n                                        align=\"center\"\r\n                                    >\r\n                                        {params.page * params.limit + index + 1}\r\n                                    </TableCell>\r\n                                    <TableCell className={classes.tBodyCell}>\r\n                                        <Highlighter\r\n                                            highlightClassName=\"YourHighlightClass\"\r\n                                            searchWords={[params.searchKey]}\r\n                                            autoEscape={true}\r\n                                            textToHighlight={row?.serviceType}\r\n                                        />\r\n                                    </TableCell>\r\n                                    <TableCell className={classes.tBodyCell}>\r\n                                        <ListItemText\r\n                                            primary={\r\n                                                <>\r\n                                                    {row?.educationLevel}{' '}\r\n                                                    <Highlighter\r\n                                                        highlightClassName=\"YourHighlightClass\"\r\n                                                        searchWords={[\r\n                                                            params.searchKey,\r\n                                                        ]}\r\n                                                        autoEscape={true}\r\n                                                        textToHighlight={\r\n                                                            row?.schoolName\r\n                                                        }\r\n                                                    />\r\n                                                </>\r\n                                            }\r\n                                            secondary={row?.district}\r\n                                            classes={{\r\n                                                primary: classes.itemText,\r\n                                                secondary: classes.itemText,\r\n                                            }}\r\n                                        />\r\n                                    </TableCell>\r\n                                    {user.roles[0] === roleNames.manager && (\r\n                                        <TableCell>\r\n                                            {row?.fullName && (\r\n                                                <ListItem\r\n                                                    className={classes.itemPIC}\r\n                                                >\r\n                                                    <ListItemAvatar>\r\n                                                        <Avatar\r\n                                                            src={row?.avatar}\r\n                                                        />\r\n                                                    </ListItemAvatar>\r\n                                                    <ListItemText\r\n                                                        className={\r\n                                                            classes.picName\r\n                                                        }\r\n                                                        primary={\r\n                                                            <Highlighter\r\n                                                                highlightClassName=\"YourHighlightClass\"\r\n                                                                searchWords={[\r\n                                                                    params.searchKey,\r\n                                                                ]}\r\n                                                                autoEscape={\r\n                                                                    true\r\n                                                                }\r\n                                                                textToHighlight={\r\n                                                                    row?.fullName ||\r\n                                                                    ''\r\n                                                                }\r\n                                                            />\r\n                                                        }\r\n                                                        secondary={\r\n                                                            <Highlighter\r\n                                                                highlightClassName=\"YourHighlightClass\"\r\n                                                                searchWords={[\r\n                                                                    params.searchKey,\r\n                                                                ]}\r\n                                                                autoEscape={\r\n                                                                    true\r\n                                                                }\r\n                                                                textToHighlight={\r\n                                                                    row?.username ||\r\n                                                                    ''\r\n                                                                }\r\n                                                            />\r\n                                                        }\r\n                                                        classes={{\r\n                                                            primary:\r\n                                                                styles.itemTextPrimary,\r\n                                                            secondary:\r\n                                                                styles.itemTextSecondary,\r\n                                                        }}\r\n                                                    />\r\n                                                </ListItem>\r\n                                            )}\r\n                                        </TableCell>\r\n                                    )}\r\n                                    {/* <TableCell className={classes.tBodyCellDuration}>\r\n                                        {row?.status === serviceStatusNames.approved && ( */}\r\n                                    {/* <> */}\r\n                                    {/**Duration 1 cái progress bar ở đây */}\r\n                                    {/* <LinearProgressBars\r\n                                                startDate={row?.startDate}\r\n                                                endDate={row?.endDate}\r\n                                                marker={new Date()}\r\n                                            /> */}\r\n                                    {/* {parseDateToString(row?.startDate, 'DD-MM-YYYY')} ➜ &nbsp;\r\n                                                {parseDateToString(row?.endDate, 'DD-MM-YYYY')}\r\n                                            </> */}\r\n                                    {/* )}\r\n                                    </TableCell> */}\r\n                                    <TableCell className={classes.tBodyCell}>\r\n                                        {row?.status &&\r\n                                            setServiceStatusChipColor(\r\n                                                row?.status\r\n                                            )}\r\n                                    </TableCell>\r\n                                    {/* <TableCell className={classes.tBodyCell}>\r\n                                        {row?.approveDate ? parseDateToString(row?.approveDate, 'DD-MM-YYYY') : ''}\r\n                                    </TableCell> */}\r\n                                    <TableCell\r\n                                        className={classes.tBodyCell}\r\n                                        align=\"right\"\r\n                                    >\r\n                                        <MenuOptions data={row} />\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            ))\r\n                        ) : (\r\n                            <TableRow className={classes.tBodyRow}>\r\n                                <TableCell\r\n                                    className={classes.noRecord}\r\n                                    component=\"td\"\r\n                                    colSpan=\"100%\"\r\n                                >\r\n                                    {messages.notFound}\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        )}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n            <TablePagination\r\n                rowsPerPageOptions={[10, 20, 50]}\r\n                component=\"div\"\r\n                count={totalRecord ? totalRecord : 0}\r\n                rowsPerPage={limit}\r\n                page={params.page}\r\n                SelectProps={{\r\n                    inputProps: {\r\n                        'aria-label': 'rows per page',\r\n                    },\r\n                    native: true,\r\n                }}\r\n                onChangePage={handleChangePage}\r\n                onChangeRowsPerPage={handleChangeLimit}\r\n                ActionsComponent={() => (\r\n                    <TablePaginationActions\r\n                        count={totalRecord ? totalRecord : 0}\r\n                        page={params.page}\r\n                        rowsPerPage={params.limit}\r\n                        totalPage={totalPage}\r\n                        onChangePage={handleChangePage}\r\n                    />\r\n                )}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Tables)\r\n\r\n// Tables.propTypes = {\r\n//     rows: PropTypes.array,\r\n//     columns: PropTypes.array.isRequired,\r\n//     totalRecord: PropTypes.number.isRequired,\r\n//     totalPage: PropTypes.number.isRequired,\r\n// }\r\n","import React, { useState } from 'react'\r\nimport { FormControl, Grid, TextField } from '@material-ui/core'\r\nimport { DateRangePicker, LocalizationProvider } from 'mui-pickers-v4' //DateRangeDelimiter\r\n// import DateFnsUtils from \"mui-pickers-v4/adapter/date-fns\";\r\nimport DateFnsAdapter from 'mui-pickers-v4/adapter/date-fns'\r\n// import { DATE_RANGE_FILTER } from '../../../../../constants/Filters'\r\n// import classes from \"./DateRangePickers.module.scss\";\r\n\r\n// const useStyles = makeStyles((theme) => ({\r\n//     formControl: {\r\n//         width: 130,\r\n//         // paddingRight: '0.5rem',\r\n//     },\r\n// }))\r\n\r\nfunction DateRangePickers(props) {\r\n    // const classes = useStyles()\r\n    const { dateRange, handleDateRangeChange } = props\r\n    const [duration, setDuration] = useState(dateRange);\r\n\r\n    // const { filters } = Consts\r\n\r\n    // const {\r\n    //     dateRange,\r\n    //     // setDateRange\r\n    //     setFilter,\r\n    // } = useReport()\r\n\r\n    // console.log('Service ------- duration: ', duration);\r\n\r\n    const handleChange = (newDuration) => {\r\n        // console.log('Service ------- newDuration: ', newDuration);\r\n\r\n        setDuration(newDuration)\r\n        handleDateRangeChange(newDuration)\r\n\r\n        // setDateRange(newDate)\r\n        // setFilter(DATE_RANGE_FILTER, [null, null])\r\n        // setFilter(DATE_RANGE_FILTER, newDate)\r\n    }\r\n\r\n    return (\r\n        <LocalizationProvider dateAdapter={DateFnsAdapter}>\r\n            <DateRangePicker\r\n                // className={classes.picker}\r\n                startText='Valid from'\r\n                endText='Expire on'  //Valid until\r\n                // clearable\r\n                showToolbar\r\n                inputFormat='dd/MM/yyyy'\r\n                value={duration}\r\n                onChange={(newRange) => handleChange(newRange)}\r\n                // allowSameDateSelection\r\n                renderInput={(startProps, endProps) => (\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={6} sm={6} md={6} lg={6}>\r\n                            <FormControl>\r\n                                <TextField {...startProps} variant=\"outlined\" value={duration[0]} fullWidth />\r\n                            </FormControl>\r\n                        </Grid>\r\n                        {/* <Box sx={{ mx: 2 }}> to </Box> */}\r\n                        <Grid item xs={6} sm={6} md={6} lg={6}>\r\n                            <FormControl>\r\n                                <TextField {...endProps} variant=\"outlined\" value={duration[1]} fullWidth />\r\n                            </FormControl>\r\n                        </Grid>\r\n                    </Grid>\r\n                )}\r\n            />\r\n        </LocalizationProvider>\r\n    )\r\n}\r\n\r\nexport default DateRangePickers\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { Filters, Tables } from './components'\r\nimport { getColumns } from './ServicesConfig'\r\nimport { useService } from './hooks/ServiceContext'\r\nimport { getServices } from './ServicesServices'\r\nimport { Loading } from '../../components'\r\nimport { useAuth } from '../../hooks/AuthContext'\r\nimport { roleNames } from '../../constants/Generals';\r\nimport classes from './Services.module.scss'\r\n\r\nfunction Services() {\r\n    const history = useHistory()\r\n    const { user } = useAuth()\r\n    const columns = getColumns(user.roles[0])\r\n    const { params } = useService()\r\n    const { listFilters, page, limit, column, direction, searchKey } = params\r\n\r\n    const [data, setData] = useState(null)\r\n\r\n    let isMounted = true\r\n    const refreshPage = (\r\n        page = 0,\r\n        limit = 10,\r\n        column = 'submitDate',\r\n        direction = 'desc',\r\n        searchKey,\r\n        listFilters,\r\n        picUsername\r\n    ) => {\r\n        getServices(\r\n            page,\r\n            limit,\r\n            column,\r\n            direction,\r\n            searchKey,\r\n            listFilters,\r\n            picUsername\r\n        )\r\n            .then((res) => {\r\n                if (isMounted) {\r\n                    setData(res.data)\r\n                    // console.log('Services nè: ', res.data.list)\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    useEffect(() => {\r\n        if (user.roles[0] === roleNames.salesman) {\r\n            refreshPage(page, limit, column, direction, searchKey, listFilters, user.username)\r\n        } else {\r\n            refreshPage(page, limit, column, direction, searchKey, listFilters)\r\n        }\r\n        return () => {\r\n            // eslint-disable-next-line react-hooks/exhaustive-deps\r\n            isMounted = false\r\n            // setData(null)\r\n        }\r\n    }, [params])\r\n\r\n    if (!data) {\r\n        return <Loading />\r\n    }\r\n\r\n    return (\r\n        <div className={classes.panel}>\r\n            {/* <Fab size=\"medium\" variant=\"extended\" color=\"primary\" className={classes.fab}>\r\n                <MdAdd fontSize=\"large\" />&nbsp; Add Service\r\n            </Fab> */}\r\n            <Filters className={classes.filter} refreshAPI={refreshPage} />\r\n            <Tables\r\n                className={classes.table}\r\n                columns={columns}\r\n                rows={data.list}\r\n                totalRecord={data.totalElements}\r\n                totalPage={data.totalPage}\r\n                refreshAPI={refreshPage}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Services\r\n","import classes from \"./ServiceInfo.module.scss\"\r\nimport { schoolLevelNames, serviceNames } from \"../../../../constants/Generals\"\r\nimport { Grid, Typography } from \"@material-ui/core\"\r\n\r\nexport const Consts = {\r\n    headers: {\r\n        child1: 'Service Detail',\r\n        child2: 'Submission Detail',\r\n        child3: 'Evaluation Criteria',\r\n    },\r\n    operations: {\r\n        // cancel: 'Cancel',\r\n        save: 'Save',\r\n        approve: 'Approve',\r\n        reject: 'Reject',\r\n        restriction: 'You are not allowed to view this',\r\n    },\r\n    fields: {\r\n        serviceType: {\r\n            title: 'Service type',\r\n        },\r\n        duration: {\r\n            title: 'Duaration',\r\n        },\r\n        submitedDate: {\r\n            title: 'Submited on',\r\n        },\r\n        submitedBy: {\r\n            title: 'Submited by',\r\n        },\r\n        classNo: {\r\n            title: 'No. of applied classes',\r\n            adornment: 'classes',\r\n            helper: 'Min: 1 class.  Max: 100 classes'\r\n        },\r\n        studentNumber: {\r\n            title: 'Students per classes',\r\n            adornment: 'students/class',\r\n            helper: 'Min: 1 student.  Max: 100 students'\r\n        },\r\n        slotNumber: {\r\n            title: 'Periods per week',\r\n            adornment: 'periods/week',\r\n            helper: 'Min: 1 period. Max: 10 periods'\r\n        },\r\n        price: {\r\n            title: 'Price floor',\r\n            adornment: 'VND/period',\r\n            helper: '100.000VND - 2.000.000VND'\r\n        },\r\n        note: {\r\n            title: 'Note',\r\n            noNote: 'No notes yet',\r\n        },\r\n        serviceStatus: {\r\n            title: 'Status',\r\n        },\r\n        rejectedReason: {\r\n            title: 'Rejected reason',\r\n            placeholder: 'The reason I rejected this service is...?',\r\n            noReason: 'N/A',\r\n        },\r\n        revenue: {\r\n            formula: <>Price floor * Periods per week * 4 weeks <br />* No. of classes * Duration (in months)</>\r\n        }\r\n    },\r\n}\r\n\r\nconst currencyFormatter = new Intl.NumberFormat('vi-VN', {\r\n    style: 'currency', currency: 'VND',\r\n});\r\nexport const getCriteriaInfo = () => {\r\n    return (\r\n        <div className={classes.criInfoPanel}>\r\n            <Grid container spacing={2}>\r\n                <Grid item>\r\n                    <Typography variant=\"overline\">Criteria description</Typography>\r\n                    <br />\r\n                    <Typography variant=\"caption\" className={classes.txtCriInfoHeader}>\r\n                        1/ Price floor per period\r\n                    </Typography>\r\n                    <div className={classes.txtCriInfo}>\r\n                        <span className={classes.txtCriInfoHeader}>{serviceNames.svc1}:</span>\r\n                        <Grid container spacing={2}>\r\n                            <Grid item container xs={6}>\r\n                                <Grid item xs={12}> - {schoolLevelNames.th}:</Grid>\r\n                                <Grid item xs={12}> &nbsp; {currencyFormatter.format(700000)}/period</Grid>\r\n                            </Grid>\r\n                            <Grid item container xs={6}>\r\n                                <Grid item xs={12}> - {schoolLevelNames.thcs} &amp; {schoolLevelNames.thpt}:</Grid>\r\n                                <Grid item xs={12}> &nbsp; {currencyFormatter.format(800000)}/period</Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div>\r\n                    <p className={classes.txtCriInfo}>\r\n                        <span className={classes.txtCriInfoHeader}>{serviceNames.svc2}:</span>\r\n                        <Grid container spacing={2}>\r\n                            <Grid item container xs={6}>\r\n                                <Grid item xs={12}> - {schoolLevelNames.th}:</Grid>\r\n                                <Grid item xs={12}> &nbsp; {currencyFormatter.format(600000)}/period</Grid>\r\n                            </Grid>\r\n                            <Grid item container xs={6}>\r\n                                <Grid item xs={12}> - {schoolLevelNames.thcs} &amp; {schoolLevelNames.thpt}:</Grid>\r\n                                <Grid item xs={12}> &nbsp; {currencyFormatter.format(700000)}/period</Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </p>\r\n                    <p className={classes.txtCriInfo}>\r\n                        <span className={classes.txtCriInfoHeader}>{serviceNames.svc3}:</span>\r\n                        <Grid container spacing={2}>\r\n                            <Grid item container xs={6}>\r\n                                <Grid item xs={12}> - {schoolLevelNames.th}:</Grid>\r\n                                <Grid item xs={12}> &nbsp; {currencyFormatter.format(1500000)}/period</Grid>\r\n                            </Grid>\r\n                            <Grid item container xs={6}>\r\n                                <Grid item xs={12}> - {schoolLevelNames.thcs} &amp; {schoolLevelNames.thpt}:</Grid>\r\n                                <Grid item xs={12}> &nbsp; (N/A)</Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </p>\r\n                    <p className={classes.txtCriInfo}>\r\n                        <span className={classes.txtCriInfoHeader}>{serviceNames.svc4}:</span>\r\n                        <Grid container spacing={2}>\r\n                            <Grid item container xs={6}>\r\n                                <Grid item xs={12}> - {schoolLevelNames.th}:</Grid>\r\n                                <Grid item xs={12}> &nbsp; {currencyFormatter.format(1000000)}/period</Grid>\r\n                            </Grid>\r\n                            <Grid item container xs={6}>\r\n                                <Grid item xs={12}> - {schoolLevelNames.thcs} &amp; {schoolLevelNames.thpt}:</Grid>\r\n                                <Grid item xs={12}> &nbsp; {currencyFormatter.format(1800000)}/period</Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </p>\r\n                    <br />\r\n                    <Typography variant=\"caption\" className={classes.txtCriInfoHeader}>\r\n                        2/ Number of periods per week\r\n                    </Typography>\r\n                    <div className={classes.txtCriInfo}>\r\n                        <Grid container spacing={1}>\r\n                            <Grid item xs={1}></Grid>\r\n                            <Grid item xs={11}>\r\n                                <span className={classes.txtCriInfoHeader}>• &nbsp;{serviceNames.svc1}:</span>\r\n                                &emsp;2 periods/week\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid container spacing={1}>\r\n                            <Grid item xs={1}></Grid>\r\n                            <Grid item xs={11}>\r\n                                <span className={classes.txtCriInfoHeader}>• &nbsp;{serviceNames.svc2}:</span>\r\n                                &emsp;1 period/week\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid container spacing={1}>\r\n                            <Grid item xs={1}></Grid>\r\n                            <Grid item xs={11}>\r\n                                <span className={classes.txtCriInfoHeader}>• &nbsp;{serviceNames.svc3}:</span>\r\n                                &emsp;2 periods/week\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid container spacing={1}>\r\n                            <Grid item xs={1}></Grid>\r\n                            <Grid item xs={11}>\r\n                                <span className={classes.txtCriInfoHeader}>• &nbsp;{serviceNames.svc4}:</span>\r\n                                &emsp;2 periods/week\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div>\r\n                    <br />\r\n                    <Typography variant=\"caption\" className={classes.txtCriInfoHeader}>\r\n                        3/ Number of classes\r\n                    </Typography>\r\n                    <div className={classes.txtCriInfo}>\r\n                        <i>Number of classes applying this service</i>\r\n                        <br />\r\n                        <Grid container spacing={1}>\r\n                            <Grid item xs={1}></Grid>\r\n                            <Grid item xs={11}>\r\n                                <span className={classes.txtCriInfoHeader}>• &nbsp;{serviceNames.svc1}:</span>\r\n                                &emsp;≥ 8 classes\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid container spacing={1}>\r\n                            <Grid item xs={1}></Grid>\r\n                            <Grid item xs={11}>\r\n                                <span className={classes.txtCriInfoHeader}>• &nbsp;{serviceNames.svc2}:</span>\r\n                                &emsp;≥ 8 classes\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid container spacing={1}>\r\n                            <Grid item xs={1}></Grid>\r\n                            <Grid item xs={11}>\r\n                                <span className={classes.txtCriInfoHeader}>• &nbsp;{serviceNames.svc3}:</span>\r\n                                &emsp;≥ 2 classes\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid container spacing={1}>\r\n                            <Grid item xs={1}></Grid>\r\n                            <Grid item xs={11}>\r\n                                <span className={classes.txtCriInfoHeader}>• &nbsp;{serviceNames.svc4}:</span>\r\n                                &emsp;≥ 2 classes\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div>\r\n                    <br />\r\n                    <Typography variant=\"caption\" className={classes.txtCriInfoHeader}>\r\n                        4/ Average class size\r\n                    </Typography>\r\n                    <p className={classes.txtCriInfo}>\r\n                        <i>Average number of students per class:</i>\r\n                        <br /> ≥ 40 students\r\n                    </p>\r\n                    <br />\r\n                    <Typography variant=\"caption\" className={classes.txtCriInfoHeader}>\r\n                        5/ Duration\r\n                    </Typography>\r\n                    <p className={classes.txtCriInfo}>\r\n                        <i>Amount of time the service takes effective:</i>\r\n                        <br /> ≥ 7 months\r\n                    </p>\r\n                    <br />\r\n                </Grid>\r\n                {/* <Divider style={{ color: 'white' }} /> */}\r\n                <hr style={{ width: '85%', height: '0%', textAlign: 'center', margin: '0 auto' }} />\r\n                <Grid item>\r\n                    <Typography variant=\"overline\">Sales estimation formula</Typography>\r\n                    <br />\r\n                    <div style={{ border: '1px solid', textAlign: 'center', margin: '0 0 0 0.35rem', padding: '0 0.5rem' }}>\r\n                        <p style={{ fontSize: '0.75rem', fontWeight: 100 }}>\r\n                            Sales = <br />Price floor * Periods per week * 4 weeks * No. of classes * Duration (in months)\r\n                        </p>\r\n                    </div>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const getCriteria = (serviceType, schoolLevel) => {\r\n    switch (serviceType) {\r\n        case serviceNames.svc1: // ESL\r\n            if (schoolLevel === schoolLevelNames.th) {\r\n                return [\r\n                    { key: 'price', name: 'Price Floor', standardValue: 700000 }, // >= 700.000VND/period\r\n                    { key: 'period', name: 'Number of periods per week', standardValue: 2 }, // 2 periods/week\r\n                    { key: 'class', name: 'Number of applied classes', standardValue: 8 }, // >= 10 classes\r\n                    { key: 'student', name: 'Number of students per class', standardValue: 40 }, // >= 40 students\r\n                    { key: 'duration', name: \"Duration\", standardValue: 7 }, // >= 7 months\r\n                ]\r\n            } else {\r\n                return [\r\n                    { key: 'price', name: 'Price Floor', standardValue: 800000 },\r\n                    { key: 'period', name: 'Number of periods per week', standardValue: 2 },\r\n                    { key: 'class', name: 'Number of applied classes', standardValue: 8 },\r\n                    { key: 'student', name: 'Number of students per class', standardValue: 40 },\r\n                    { key: 'duration', name: \"Duration\", standardValue: 7 },\r\n                ]\r\n            }\r\n        case serviceNames.svc2: // SEL\r\n            if (schoolLevel === schoolLevelNames.th) {\r\n                return [\r\n                    { key: 'price', name: 'Price Floor', standardValue: 600000 },\r\n                    { key: 'period', name: 'Number of periods per week', standardValue: 1 },\r\n                    { key: 'class', name: 'Number of applied classes', standardValue: 8 },\r\n                    { key: 'student', name: 'Number of students per class', standardValue: 40 },\r\n                    { key: 'duration', name: \"Duration\", standardValue: 7 },\r\n                ]\r\n            } else {\r\n                return [\r\n                    { key: 'price', name: 'Price Floor', standardValue: 700000 },\r\n                    { key: 'period', name: 'Number of periods per week', standardValue: 1 },\r\n                    { key: 'class', name: 'Number of applied classes', standardValue: 8 },\r\n                    { key: 'student', name: 'Number of students per class', standardValue: 40 },\r\n                    { key: 'duration', name: \"Duration\", standardValue: 7 },\r\n                ]\r\n            }\r\n        case serviceNames.svc3: // Toán Khoa\r\n            if (schoolLevel === schoolLevelNames.th) {\r\n                return [\r\n                    { key: 'price', name: 'Price Floor', standardValue: 1500000 },\r\n                    { key: 'period', name: 'Number of periods per week', standardValue: 2 },\r\n                    { key: 'class', name: 'Number of applied classes', standardValue: 2 },\r\n                    { key: 'student', name: 'Number of students per class', standardValue: 40 },\r\n                    { key: 'duration', name: \"Duration\", standardValue: 7 },\r\n                ]\r\n            }\r\n        case serviceNames.svc4: // STEAM\r\n            if (schoolLevel === 'Tiểu học') {\r\n                return [\r\n                    { key: 'price', name: 'Price Floor', standardValue: 1000000 },\r\n                    { key: 'period', name: 'Number of periods per week', standardValue: 2 },\r\n                    { key: 'class', name: 'Number of applied classes', standardValue: 2 },\r\n                    { key: 'student', name: 'Number of students per class', standardValue: 40 },\r\n                    { key: 'duration', name: \"Duration\", standardValue: 7 },\r\n                ]\r\n            } else {\r\n                return [\r\n                    { key: 'price', name: 'Price Floor', standardValue: 1800000 },\r\n                    { key: 'period', name: 'Number of periods per week', standardValue: 2 },\r\n                    { key: 'class', name: 'Number of applied classes', standardValue: 2 },\r\n                    { key: 'student', name: 'Number of students per class', standardValue: 40 },\r\n                    { key: 'duration', name: \"Duration\", standardValue: 7 },\r\n                ]\r\n            }\r\n\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\n// export const criteria = [\r\n//     { key: 'price', name: 'Price Floor >= 1.000.000VND/period', standardValue: 1000000 },\r\n//     { key: 'class', name: 'Number of applied classes', standardValue: 10 },\r\n//     { key: 'student', name: 'Number of students per class', standardValue: 40 },\r\n//     { key: 'duration', name: \"Duration\", standardValue: 7 },\r\n// ]","export const Consts = {\r\n    headers: {\r\n        reject: 'Confirm Reject Service',\r\n        approve: 'Confirm Approve Service',\r\n    },\r\n    operations: {\r\n        cancel: 'Cancel',\r\n        reject: 'Reject',\r\n        approve: 'Approve',\r\n    },\r\n    fields: {\r\n        rejectedReason: {\r\n            label: 'Rejected reason',\r\n            placeholder: 'The reason I rejected this service is...?'\r\n        },\r\n        serviceType: {\r\n            title: 'Service type',\r\n        },\r\n        schoolName: {\r\n            title: 'School name',\r\n        },\r\n    },\r\n}\r\n\r\nexport const confirmMessage = (schoolLevel, schoolName, serviceType) => {\r\n    return (\r\n        <>\r\n            Do you really want to approve service <strong>{serviceType}</strong> of school\r\n            <strong><em> {schoolLevel} {schoolName} </em></strong>?\r\n            <br />\r\n            This process cannot be undone.\r\n        </>\r\n    )\r\n}","import React from 'react'\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogActions,\r\n    withStyles,\r\n    Typography,\r\n    IconButton,\r\n    Grid,\r\n    TextField,\r\n} from '@material-ui/core'\r\nimport { rejectServices } from '../../ServicesServices'\r\nimport { MdClose } from 'react-icons/md'\r\nimport { Consts } from '../DialogConfig'\r\nimport classes from './RejectService.module.scss'\r\nimport { useHistory } from 'react-router'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport * as yup from 'yup'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\n\r\nconst stylesTitle = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n});\r\n\r\nconst DialogTitleWithIconClose = withStyles(stylesTitle)((props) => {\r\n    const { children, classes, onClose, ...other } = props;\r\n    return (\r\n        <DialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n                    <MdClose />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    );\r\n});\r\n\r\nconst yupSchema = yup.object().shape({\r\n    reason: yup.string().trim(),\r\n})\r\n\r\nfunction RejectService(props) {\r\n    const { open, onClose, service, refreshPage, setNotify } = props\r\n    const { headers, operations, fields } = Consts\r\n\r\n    const history = useHistory()\r\n\r\n    const defaultValues = {\r\n        id: service?.id,\r\n        reason: service?.rejectedReason,\r\n    }\r\n\r\n    const { control, handleSubmit, formState } = useForm({\r\n        resolver: yupResolver(yupSchema),\r\n        defaultValues: defaultValues,\r\n    })\r\n\r\n    const handleReject = (data) => {\r\n        rejectServices(service?.id, data?.reason).then((res) => {\r\n            refreshPage(service?.id)\r\n\r\n            setNotify({\r\n                isOpen: true,\r\n                message: 'Rejected service successfully',\r\n                type: 'success',\r\n            })\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                history.push({\r\n                    pathname: '/errors',\r\n                    state: { error: error.response.status },\r\n                })\r\n            }\r\n            setNotify({\r\n                isOpen: true,\r\n                message: 'Rejected service failed',\r\n                type: 'error',\r\n            })\r\n        })\r\n\r\n        onClose();\r\n    }\r\n\r\n    return (\r\n        <Dialog open={open} onClose={onClose} maxWidth=\"sm\" fullWidth>\r\n            <DialogTitleWithIconClose onClose={onClose}>{headers.reject}</DialogTitleWithIconClose>\r\n            {/* <Divider /> */}\r\n            <form onSubmit={handleSubmit(handleReject)} noValidate >\r\n                <DialogContent>\r\n                    <Grid container spacing={0}>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} className={classes.rowx}>\r\n                            <Grid container spacing={0}>\r\n                                <Grid item xs={12} sm={4} md={3} lg={3}>\r\n                                    <Typography color=\"inherit\" className={classes.title}>\r\n                                        {fields.serviceType.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={8} md={8} lg={8}>\r\n                                    <Typography color=\"inherit\">\r\n                                        {service?.serviceType}\r\n                                    </Typography>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                            <Grid container spacing={0}>\r\n                                <Grid item xs={12} sm={4} md={3} lg={3}>\r\n                                    <Typography color=\"inherit\" className={classes.title}>\r\n                                        {fields.schoolName.title}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={8} md={8} lg={8}>\r\n                                    <Typography color=\"inherit\">\r\n                                        {service?.educationLevel} {service?.schoolName}\r\n                                    </Typography>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                            <Controller\r\n                                name=\"reason\"\r\n                                control={control}\r\n                                render={({ value, onChange }) => (\r\n                                    <TextField\r\n                                        variant=\"outlined\"\r\n                                        fullWidth\r\n                                        multiline\r\n                                        rows={5}\r\n                                        value={value}\r\n                                        onChange={onChange}\r\n                                        // label={fields.note.noNote}\r\n                                        label={fields.rejectedReason.label}\r\n                                        placeholder={fields.rejectedReason.placeholder}\r\n                                    />\r\n                                )}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                    {/* </DialogContentText> */}\r\n                </DialogContent>\r\n                {/* <Divider /> */}\r\n                <DialogActions>\r\n                    <Button type=\"submit\" disabled={!formState.isDirty} autoFocus\r\n                        className={classes.btnReject}\r\n                    // onClick={handleReject}\r\n                    >\r\n                        {operations.reject}\r\n                    </Button>\r\n                    <Button onClick={onClose}>\r\n                        {operations.cancel}\r\n                    </Button>\r\n                </DialogActions>\r\n            </form>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default React.memo(RejectService)","import React from 'react'\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogActions,\r\n    withStyles,\r\n    Typography,\r\n    IconButton,\r\n} from '@material-ui/core'\r\nimport { approveServices } from '../../ServicesServices'\r\nimport { MdClose } from 'react-icons/md'\r\nimport { Consts, confirmMessage } from '../DialogConfig'\r\nimport { useHistory } from 'react-router'\r\nimport { useSnackbar } from 'notistack'\r\nimport classes from './ConfirmApprove.module.scss'\r\n\r\nconst stylesTitle = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n})\r\n\r\nconst DialogTitleWithIconClose = withStyles(stylesTitle)((props) => {\r\n    const { children, classes, onClose, ...other } = props\r\n    return (\r\n        <DialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton\r\n                    aria-label=\"close\"\r\n                    className={classes.closeButton}\r\n                    onClick={onClose}\r\n                >\r\n                    <MdClose />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    )\r\n})\r\n\r\nfunction ConfirmApprove(props) {\r\n    const { open, onClose, service, refreshPage } = props\r\n    const { headers, operations } = Consts\r\n\r\n    const history = useHistory()\r\n    const { enqueueSnackbar } = useSnackbar()\r\n\r\n    const handleApprove = () => {\r\n        approveServices(service?.id)\r\n            .then((res) => {\r\n                refreshPage(service?.id)\r\n                enqueueSnackbar('Approved service successfully', {\r\n                    variant: 'success',\r\n                })\r\n                // setNotify({\r\n                //     isOpen: true,\r\n                //     message: 'Approved service successfully',\r\n                //     type: 'success',\r\n                // })\r\n\r\n                //\r\n                // TasksServices.completeTasks(task?.id).then(res => {\r\n                //     refreshPage(task?.id)\r\n\r\n                // }).catch((error) => {\r\n                //     if (error.response) {\r\n                //         console.log(error)\r\n                //         history.push({\r\n                //             pathname: '/errors',\r\n                //             state: { error: error.response.status },\r\n                //         })\r\n                //     }\r\n                //     // setNotify({\r\n                //     //     isOpen: true,\r\n                //     //     message: 'Proposed a service failed',\r\n                //     //     type: 'error',\r\n                //     // })\r\n                //     enqueueSnackbar(\"Updated task's status failed\", {\r\n                //         variant: 'error',\r\n                //     })\r\n                // })\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n\r\n                // setNotify({\r\n                //     isOpen: true,\r\n                //     message: 'Approved service failed',\r\n                //     type: 'error',\r\n                // })\r\n            })\r\n\r\n        onClose()\r\n    }\r\n\r\n    return (\r\n        <Dialog open={open} onClose={onClose}>\r\n            <DialogTitleWithIconClose onClose={onClose}>\r\n                {headers.approve}\r\n            </DialogTitleWithIconClose>\r\n            {/* <Divider /> */}\r\n            <DialogContent>\r\n                <DialogContentText className={classes.dialogText}>\r\n                    {confirmMessage(\r\n                        service?.educationLevel,\r\n                        service?.schoolName,\r\n                        service?.serviceType\r\n                    )}\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            {/* <Divider /> */}\r\n            <DialogActions>\r\n                <Button\r\n                    className={classes.btnApprove}\r\n                    onClick={handleApprove}\r\n                    autoFocus\r\n                >\r\n                    {operations.approve}\r\n                </Button>\r\n                <Button onClick={onClose}>{operations.cancel}</Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default React.memo(ConfirmApprove)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport {\r\n    Avatar,\r\n    Box,\r\n    Button,\r\n    Chip,\r\n    ClickAwayListener,\r\n    Divider,\r\n    Grid,\r\n    InputAdornment,\r\n    List,\r\n    ListItem,\r\n    ListItemAvatar,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    makeStyles,\r\n    TextField,\r\n    Tooltip,\r\n    Typography,\r\n} from '@material-ui/core'\r\nimport { Snackbars, Loading, NotFound, LinearProgressBars } from '../../../../components'\r\nimport { Consts, getCriteria, getCriteriaInfo } from './ServiceInfoConfig'\r\nimport { updateService } from '../../ServicesServices'\r\nimport { useAuth } from '../../../../hooks/AuthContext';\r\nimport { CheckMark, CrosskMark } from '../../../../assets/icons'\r\nimport { parseDateToString, calculateDatesGap } from '../../../../utils/DateTimes'\r\nimport { roleNames, serviceStatusNames } from '../../../../constants/Generals'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport * as yup from 'yup'\r\nimport { yupResolver } from '@hookform/resolvers/yup'\r\nimport { IoInformationCircleSharp } from 'react-icons/io5'\r\nimport RejectService from '../../dialogs/RejectService/RejectService';\r\nimport ConfirmApprove from '../../dialogs/ConfirmApprove/ConfirmApprove';\r\nimport { DateRangePickers } from '../../components';\r\nimport { suggestPrice } from '../../../../utils/Suggestions';\r\nimport classes from './ServiceInfo.module.scss'\r\n\r\nconst serviceSchema = yup.object().shape({\r\n    classNumber: yup\r\n        .number('Number of classes must be a number')\r\n        .integer('Number of classes must be an integer')\r\n        .min(1, 'Minimum 1 class')\r\n        .max(100, 'Maximum 100 classes')\r\n        .required('Number of classes is required'),\r\n    studentNumber: yup\r\n        .number('Number of students must be a number')\r\n        .integer('Number of students must be an integer')\r\n        .min(1, 'Minimum 1 student')\r\n        .max(100, 'Maximum 100 students')\r\n        .required('Number of students is required'),\r\n    slotNumber: yup\r\n        .number('Number of periods must be a number')\r\n        .integer('Number of periods must be an integer')\r\n        .min(1, 'Minimum 1 period')\r\n        .max(10, 'Maximum 10 periods')\r\n        .required('Number of periods is required'),\r\n    pricePerSlot: yup\r\n        .number('Price floor must be a number')\r\n        .min(100000, 'Minimum price is 100.000VND')\r\n        .max(2000000, 'Maximum price is 2.000.000VND')\r\n        .required('Price floor is required'),\r\n    note: yup.string().trim(),\r\n})\r\n// const reasonSchema = yup.object().shape({\r\n//     rejectedReason: yup.string().trim(),\r\n// })\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    inputRoot: {\r\n        '&$disabled': {\r\n            color: '#616161',   // $text-icon\r\n        },\r\n    },\r\n    disabled: {},\r\n    itemPIC: {\r\n        padding: 0,\r\n        margin: 0,\r\n    },\r\n    itemTextPrimary: {\r\n        fontSize: '0.875rem',\r\n    },\r\n    itemTextSecondary: {\r\n        fontSize: '0.8rem',\r\n    },\r\n    customWidth: {\r\n        maxWidth: 300\r\n    }\r\n}))\r\n\r\nconst currencyFormatter = new Intl.NumberFormat('vi-VN', {\r\n    style: 'currency', currency: 'VND',\r\n});\r\n\r\nfunction ServiceInfo(props) {\r\n    const styles = useStyles()\r\n    const { service, refreshPage } = props\r\n    const { headers, operations, fields } = Consts\r\n\r\n    const history = useHistory()\r\n    const { user } = useAuth()\r\n\r\n    // Popover Criteria Info\r\n    // const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const [openInfoTooltip, setOpenInfoTooltip] = useState(false);\r\n    const [openRejectDialog, setOpenRejectDialog] = useState(false);\r\n    const [openApproveDialog, setOpenApproveDialog] = useState(false);\r\n\r\n    const [notify, setNotify] = useState({\r\n        isOpen: false,\r\n        message: '',\r\n        type: '',\r\n    })\r\n\r\n    const [priceSuggestions, setPriceSuggestions] = useState([]);\r\n\r\n    const criteria = getCriteria(service?.serviceType, service?.educationLevel);\r\n\r\n    // const handleOpenCriteriaInfo = (event) => {\r\n    //     setAnchorEl(anchorEl ? null : event.currentTarget)\r\n    // }\r\n    // const openInfoPopover = Boolean(anchorEl);  // <=> !!anchorEl\r\n\r\n    const defaultValues = {\r\n        id: service?.id,\r\n        serviceType: service?.serviceType,\r\n        // startDate: service?.startDate,\r\n        // endDate: service?.endDate,\r\n        duration: [service?.startDate, service?.endDate],\r\n        pricePerSlot: service?.pricePerSlot,\r\n        classNumber: service?.classNumber,\r\n        studentNumber: service?.studentNumber,\r\n        slotNumber: service?.slotNumber,\r\n        note: service?.note,\r\n    }\r\n\r\n    const { control, handleSubmit, formState, errors, getValues } = useForm({\r\n        resolver: yupResolver(serviceSchema),\r\n        defaultValues: defaultValues,\r\n    })\r\n\r\n    // const defaultReasonValues = {\r\n    //     id: service?.id,\r\n    //     rejectedReason: service?.rejectedReason,\r\n    // }\r\n    // const { control: reasonControl, handleSubmit: handleReasonSubmit, formState: reasonState } = useForm({\r\n    //     resolver: yupResolver(reasonSchema),\r\n    //     defaultValues: defaultReasonValues,\r\n    // })\r\n\r\n    // const customiseServiceList = (schoolLevel) => {\r\n    //     const customServiceTypes = [...serviceTypes]\r\n\r\n    //     if (schoolLevel !== schoolLevelNames.th) {\r\n    //         customServiceTypes.splice(customServiceTypes.indexOf(serviceNames.svc3), 1)\r\n    //     }\r\n    //     return customServiceTypes;\r\n    // }\r\n    // const customServiceTypes = customiseServiceList(service?.educationLevel)\r\n\r\n    // console.log('service: ', service)\r\n\r\n    const onSubmit = (data) => {\r\n        const model = {\r\n            // ...data,\r\n            id: service?.id,\r\n            taskId: service?.taskId,\r\n            serviceType: service?.serviceType,\r\n            submitDate: parseDateToString(new Date(), 'YYYY-MM-DD HH:mm:ss'),\r\n            startDate: data?.duration[0] ? parseDateToString(data?.duration[0], 'YYYY-MM-DD HH:mm:ss')\r\n                : service?.startDate,    // parseDateToString(service?.startDate, 'YYYY-MM-DD HH:mm:ss'),\r\n            endDate: data?.duration[1] ? parseDateToString(data?.duration[1], 'YYYY-MM-DD HH:mm:ss')\r\n                : service?.endDate,     // parseDateToString(service?.endDate, 'YYYY-MM-DD HH:mm:ss'),\r\n            classNumber: data?.classNumber ? parseInt(data?.classNumber, 10) : service?.classNumber,\r\n            slotNumber: data?.slotNumber ? Number(data?.slotNumber) : service?.slotNumber,\r\n            studentNumber: data?.studentNumber ? Number(data?.studentNumber) : service?.studentNumber,\r\n            pricePerSlot: data?.pricePerSlot ? Number(data?.pricePerSlot) : service?.pricePerSlot,\r\n            status: service?.status,\r\n            note: data?.note,    // Này lấy y nguyên từ note, ko thông qua chỉnh sửa thì ko cần phải ghi lại thế này\r\n\r\n            /**Do hồi trước không định cho sửa các thông tin khác của Service nên mới có những biến như phía dưới này  */\r\n            // startDate: service?.startDate ? parseDateToString(service?.startDate, 'YYYY-MM-DD HH:mm:ss') : null,\r\n            // endDate: service?.endDate ? parseDateToString(service?.endDate, 'YYYY-MM-DD HH:mm:ss')\r\n            //     : parseDateToString(new Date(new Date().getFullYear(), 8, 30), 'YYYY-MM-DD HH:mm:ss'),\r\n            // serviceType: service?.serviceType ? service?.serviceType : '',\r\n            // classNumber: parseInt(service?.classNumber ? service?.classNumber : '0', 10),\r\n            // slotNumber: parseInt(service?.slotNumber ? service?.slotNumber : '0', 10),\r\n            // studentNumber: parseInt(service?.studentNumber ? service?.studentNumber : '0', 10),\r\n            // pricePerSlot: parseFloat(service?.pricePerSlot ? service?.pricePerSlot : '0.0'),\r\n        }\r\n\r\n        updateService(service?.id, model)\r\n            .then((res) => {\r\n                refreshPage(service?.id)\r\n                setNotify({\r\n                    isOpen: true,\r\n                    message: 'Updated service successfully',\r\n                    type: 'success',\r\n                })\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n                setNotify({\r\n                    isOpen: true,\r\n                    message: 'Updated service failed',\r\n                    type: 'error',\r\n                })\r\n            })\r\n\r\n        // alert(JSON.stringify(model))\r\n    }\r\n\r\n    // Reject chỉ nhập lý do 1 lần duy nhất ban đầu, ko có thay đổi về sau nữa\r\n    // ===> Bỏ, ko cho sửa luôn\r\n    // const onReasonSubmit = (data) => {\r\n    //     console.log('submit service rejectedReason: ', data);\r\n\r\n    //     const model = {\r\n    //         // ...data,\r\n    //         id: service?.id,\r\n    //         taskId: service?.taskId,\r\n    //         submitDate: parseDateToString(new Date(), 'YYYY-MM-DD HH:mm:ss'),\r\n    //         startDate: service?.startDate ? parseDateToString(service?.startDate, 'YYYY-MM-DD HH:mm:ss') : null,\r\n    //         endDate: service?.endDate ? parseDateToString(service?.endDate, 'YYYY-MM-DD HH:mm:ss')\r\n    //             : parseDateToString(new Date(new Date().getFullYear(), 8, 30), 'YYYY-MM-DD HH:mm:ss'),\r\n    //         serviceType: service?.serviceType ? service?.serviceType : '',\r\n    //         classNumber: parseInt(service?.classNumber ? service?.classNumber : '0', 10),\r\n    //         slotNumber: parseInt(service?.slotNumber ? service?.slotNumber : '0', 10),\r\n    //         studentNumber: parseInt(service?.studentNumber ? service?.studentNumber : '0', 10),\r\n    //         pricePerSlot: parseFloat(service?.pricePerSlot ? service?.pricePerSlot : '0.0'),\r\n    //         status: service?.status,\r\n    //         note: service?.note,\r\n    //         rejectedReason: data?.rejectedReason,\r\n    //     }\r\n\r\n    //     updateService(service?.id, model)\r\n    //         .then((res) => {\r\n    //             refreshPage(service?.id)\r\n    //             setNotify({\r\n    //                 isOpen: true,\r\n    //                 message: 'Updated rejected reason successfully',\r\n    //                 type: 'success',\r\n    //             })\r\n    //         })\r\n    //         .catch((error) => {\r\n    //             if (error.response) {\r\n    //                 console.log(error)\r\n    //                 history.push({\r\n    //                     pathname: '/errors',\r\n    //                     state: { error: error.response.status },\r\n    //                 })\r\n    //             }\r\n    //             setNotify({\r\n    //                 isOpen: true,\r\n    //                 message: 'Updated rejected reason failed',\r\n    //                 type: 'error',\r\n    //             })\r\n    //         })\r\n\r\n    //     alert(JSON.stringify(model))\r\n    // }\r\n\r\n    const setServiceStatusChipColor = (status) => {\r\n        switch (status) {\r\n            case serviceStatusNames.approved:\r\n                return <Chip label={status} className={classes.chipApproved} />\r\n            case serviceStatusNames.rejected:\r\n                return <Chip label={status} className={classes.chipRejected} />\r\n            case serviceStatusNames.pending:\r\n                return <Chip label={status} className={classes.chipPending} />\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    if (!service) {\r\n        return <Loading />\r\n    }\r\n\r\n    // const handleApprove = () => {\r\n    //     approveServices(service?.id).then((res) => {\r\n    //         refreshPage(service?.id)\r\n    //         setNotify({\r\n    //             isOpen: true,\r\n    //             message: 'Approved service successfully',\r\n    //             type: 'success',\r\n    //         })\r\n    //     }).catch((error) => {\r\n    //         if (error.response) {\r\n    //             console.log(error)\r\n    //             history.push({\r\n    //                 pathname: '/errors',\r\n    //                 state: { error: error.response.status },\r\n    //             })\r\n    //         }\r\n    //         setNotify({\r\n    //             isOpen: true,\r\n    //             message: 'Approved service failed',\r\n    //             type: 'error',\r\n    //         })\r\n    //     })\r\n    // }\r\n\r\n    const renderApproveDialog = () => {\r\n        return (\r\n            <ConfirmApprove\r\n                open={openApproveDialog}\r\n                onClose={() => setOpenApproveDialog(false)}\r\n                service={service}\r\n                refreshPage={refreshPage}\r\n            // setNotify={setNotify}\r\n            />\r\n        )\r\n    }\r\n\r\n    const renderRejectDialog = () => {\r\n        return (\r\n            <RejectService\r\n                open={openRejectDialog}\r\n                onClose={() => setOpenRejectDialog(false)}\r\n                service={service}\r\n                refreshPage={refreshPage}\r\n                setNotify={setNotify}\r\n            />\r\n        )\r\n    }\r\n\r\n    const checkCriteria = (criteria, standardValue, service) => {\r\n        const { pricePerSlot, slotNumber, classNumber, studentNumber, startDate, endDate } = service\r\n        const duration = calculateDatesGap(new Date(startDate), new Date(endDate), 'M')\r\n\r\n        switch (criteria) {\r\n            case 'price':\r\n                if (pricePerSlot >= standardValue)\r\n                    return true\r\n                else return false\r\n            case 'period':\r\n                if (slotNumber >= standardValue)\r\n                    return true\r\n                else return false\r\n            case 'class':\r\n                if (classNumber >= standardValue)\r\n                    return true\r\n                else return false\r\n            case 'student':\r\n                if (studentNumber >= standardValue)\r\n                    return true\r\n                else return false\r\n            case 'duration':\r\n                if (duration >= standardValue)\r\n                    return true\r\n                else return false\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    const getTooltipTitle = (criteria, standardValue, service, formValues) => {\r\n        const { pricePerSlot, slotNumber, classNumber, studentNumber, startDate, endDate } = service\r\n        const { priceFloor, slotNo, classNo, studentNo, time } = formValues\r\n        // Sao cái formValues này có lúc nó cập nhật có lúc nó giữ nguyên thế nhỉ???\r\n\r\n        // console.log('formValues = ', formValues);\r\n\r\n        let duration = 0\r\n        if (formValues && time) {\r\n            // console.log('time[0] = ', time[0]);\r\n            // console.log('time[1] = ', time[1]);\r\n            duration = calculateDatesGap(new Date(time[0]), new Date(time[1]), 'M')\r\n        } else {\r\n            duration = calculateDatesGap(new Date(startDate), new Date(endDate), 'M')\r\n        }\r\n        // const duration = calculateDatesGap(new Date(startDate), new Date(endDate), 'M')\r\n\r\n        switch (criteria) {\r\n            case 'price':\r\n                return (\r\n                    <Box display=\"flex\">\r\n                        <Box p={1} flexGrow={1}>\r\n                            <Typography variant='caption'>Standard: </Typography>\r\n                            <Typography variant='body2'>{currencyFormatter.format(standardValue)}/period</Typography>\r\n                        </Box>\r\n                        <Box p={1} className={classes.tooltipRightInfo}>\r\n                            <Typography variant='caption'>Actual: </Typography>\r\n                            <Typography variant='body2'>\r\n                                {formValues && priceFloor\r\n                                    ? currencyFormatter.format(priceFloor)\r\n                                    : currencyFormatter.format(pricePerSlot)}/period\r\n                            </Typography>\r\n                        </Box>\r\n                    </Box>\r\n                )\r\n            case 'period':\r\n                return (\r\n                    <Box display=\"flex\">\r\n                        <Box p={1} flexGrow={1}>\r\n                            <Typography variant='caption'>Standard: </Typography>\r\n                            <Typography variant='body2'>{standardValue} periods/week</Typography>\r\n                        </Box>\r\n                        <Box p={1} className={classes.tooltipRightInfo}>\r\n                            <Typography variant='caption'>Actual: </Typography>\r\n                            {(formValues && slotNo) ? (slotNo <= 1 ? (\r\n                                <Typography variant='body2'>{slotNo} period/week</Typography>\r\n                            ) : (\r\n                                <Typography variant='body2'>{slotNo} periods/week</Typography>\r\n                            )) : (\r\n                                slotNumber <= 1 ? (\r\n                                    <Typography variant='body2'>{slotNumber} period/week</Typography>\r\n                                ) : (\r\n                                    <Typography variant='body2'>{slotNumber} periods/week</Typography>\r\n                                )\r\n                            )}\r\n                        </Box>\r\n                    </Box>\r\n                )\r\n            case 'class':\r\n                return (\r\n                    <Box display=\"flex\">\r\n                        <Box p={1} flexGrow={1}>\r\n                            <Typography variant='caption'>Standard: </Typography>\r\n                            <Typography variant='body2'>{standardValue} classes</Typography>\r\n                        </Box>\r\n                        <Box p={1}>\r\n                            <Typography variant='caption'>Actual: </Typography>\r\n                            {(formValues && classNo) ? (classNo <= 1 ? (\r\n                                <Typography variant='body2'>{classNo} class</Typography>\r\n                            ) : (\r\n                                <Typography variant='body2'>{classNo} classes</Typography>\r\n                            )) : (\r\n                                classNumber <= 1 ? (\r\n                                    <Typography variant='body2'>{classNumber} class</Typography>\r\n                                ) : (\r\n                                    <Typography variant='body2'>{classNumber} classes</Typography>\r\n                                )\r\n                            )}\r\n                        </Box>\r\n                    </Box>\r\n                )\r\n            case 'student':\r\n                return (\r\n                    <Box display=\"flex\">\r\n                        <Box p={1} flexGrow={1}>\r\n                            <Typography variant='caption'>Standard: </Typography>\r\n                            <Typography variant='body2'>{standardValue} students/class</Typography>\r\n                        </Box>\r\n                        <Box p={1}>\r\n                            <Typography variant='caption'>Actual: </Typography>\r\n                            <Typography variant='body2'>\r\n                                {(formValues && studentNo) ? studentNo : studentNumber} students/class\r\n                            </Typography>\r\n                        </Box>\r\n                    </Box>\r\n                )\r\n            case 'duration':\r\n                return (\r\n                    <Box display=\"flex\">\r\n                        <Box p={1} flexGrow={1}>\r\n                            <Typography variant='caption'>Standard: </Typography>\r\n                            <Typography variant='body2'>{standardValue} months</Typography>\r\n                        </Box>\r\n                        <Box p={1}>\r\n                            <Typography variant='caption'>Actual: </Typography>\r\n                            {duration <= 1 ? (\r\n                                <Typography variant='body2'>{duration} month</Typography>\r\n                            ) : (\r\n                                <Typography variant='body2'>{duration} months</Typography>\r\n                            )}\r\n                        </Box>\r\n                    </Box>\r\n                )\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    const calculateEstimateSales = (service, formValues) => {\r\n        const { pricePerSlot, slotNumber, classNumber, startDate, endDate } = service\r\n        const { priceFloor, slotNo, classNo } = formValues\r\n        const duration = calculateDatesGap(new Date(startDate), new Date(endDate), 'M')\r\n        let estimateSales = 0\r\n\r\n        if (formValues && priceFloor && slotNo && classNo) {\r\n            estimateSales = currencyFormatter.format(priceFloor * slotNo * classNo * 4 * duration);\r\n        } else {\r\n            estimateSales = currencyFormatter.format(pricePerSlot * slotNumber * classNumber * 4 * duration)\r\n        }\r\n\r\n        // Ô này chỉ view thôi mà, có sao hiện vậy chứ ko có validate lại\r\n        // if (estimateSales > 2000000000) {\r\n        //     estimateSales = 2000000000\r\n        // }\r\n        return estimateSales\r\n    }\r\n\r\n    return (\r\n        <div className={classes.panel}>\r\n            <Grid container spacing={0} className={classes.body}>\r\n                {user.roles[0] === roleNames.salesman && user.username !== service?.username ? (\r\n                    <div className={classes.notFound}>\r\n                        <NotFound title={operations.restriction} />\r\n                    </div>\r\n                ) : (\r\n                    <>\r\n                        {/* Detail Sector */}\r\n                        <Grid item container xs={12} sm={12} md={8} lg={8} className={classes.content}>\r\n                            {/* Service Detail */}\r\n                            <Grid item xs={12} sm={12} md={12} lg={12}\r\n                                container spacing={0} className={classes.wrapper}\r\n                            >\r\n                                <Grid item xs={12} sm={4} md={4} lg={4} className={classes.row}>\r\n                                    <Typography color=\"inherit\" className={classes.header}>\r\n                                        {headers.child1}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                {/**Salesman edit Service của mình (khi chưa đc Approve/Reject) */}\r\n                                {user.roles[0] === roleNames.salesman && user.username === service?.username ? (\r\n                                    <form onSubmit={handleSubmit(onSubmit)} noValidate>\r\n                                        <Grid item container xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                            <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                                <Grid container spacing={0} className={classes.rowx}>\r\n                                                    <Grid item xs={12} sm={4} md={4} lg={4} className={classes.rowx}>\r\n                                                        <Typography\r\n                                                            color=\"inherit\"\r\n                                                            className={classes.title}\r\n                                                        >\r\n                                                            {fields.serviceType.title}\r\n                                                        </Typography>\r\n                                                    </Grid>\r\n                                                    <Grid item xs={12} sm={8} md={8} lg={8} className={classes.rowx}>\r\n                                                        <Typography color=\"inherit\">\r\n                                                            {service?.serviceType}\r\n                                                        </Typography>\r\n                                                    </Grid>\r\n                                                </Grid>\r\n                                            </Grid>\r\n\r\n                                            <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                                <Grid container spacing={0} className={classes.rowx}>\r\n                                                    <Grid item xs={12} sm={4} md={4} lg={4} className={classes.rowx}>\r\n                                                        <Typography\r\n                                                            color=\"inherit\"\r\n                                                            className={classes.title}\r\n                                                        >\r\n                                                            {fields.duration.title}\r\n                                                        </Typography>\r\n                                                    </Grid>\r\n                                                    <Grid item xs={12} sm={8} md={8} lg={8} className={classes.rowx}>\r\n                                                        {service?.status === serviceStatusNames.pending ? (\r\n                                                            <Controller\r\n                                                                name=\"duration\"\r\n                                                                control={control}\r\n                                                                defaultValue={[service?.startDate, service?.endDate]}\r\n                                                                render={({ value, onChange }) => (\r\n                                                                    <DateRangePickers\r\n                                                                        dateRange={value}\r\n                                                                        handleDateRangeChange={onChange}\r\n                                                                    />\r\n                                                                )}\r\n                                                            />\r\n                                                        ) : service?.status === serviceStatusNames.approved ? (\r\n\r\n                                                            <LinearProgressBars\r\n                                                                startDate={service?.startDate}\r\n                                                                endDate={service?.endDate}\r\n                                                                marker={new Date()}\r\n                                                                type=\"service\"\r\n                                                            />\r\n                                                        ) : (\r\n                                                            <Typography color=\"inherit\">\r\n                                                                {parseDateToString(service?.startDate, 'DD-MM-YYYY')} ➜ &nbsp;\r\n                                                                {parseDateToString(service?.endDate, 'DD-MM-YYYY')}\r\n                                                            </Typography>\r\n                                                        )}\r\n                                                    </Grid>\r\n                                                </Grid>\r\n                                            </Grid>\r\n\r\n                                            <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                                <Grid container spacing={0} className={classes.rowx}>\r\n                                                    <Grid item xs={12} sm={4} md={4} lg={4} className={classes.rowx}>\r\n                                                        <Typography\r\n                                                            color=\"inherit\"\r\n                                                            className={classes.title}\r\n                                                        >\r\n                                                            {fields.classNo.title}\r\n                                                        </Typography>\r\n                                                    </Grid>\r\n                                                    <Grid item xs={12} sm={8} md={8} lg={8} className={classes.rowx}>\r\n                                                        {service?.status === serviceStatusNames.pending ? (\r\n                                                            <Controller\r\n                                                                name=\"classNumber\"\r\n                                                                control={control}\r\n                                                                render={({ value, onChange }) => (\r\n                                                                    <Grid item xs={8} sm={7} md={4} lg={4}>\r\n                                                                        <TextField\r\n                                                                            // label={fields.classNo.title}\r\n                                                                            variant=\"outlined\"\r\n                                                                            type=\"number\"\r\n                                                                            required\r\n                                                                            fullWidth\r\n                                                                            value={value}\r\n                                                                            onChange={onChange}\r\n                                                                            InputProps={{\r\n                                                                                endAdornment: (\r\n                                                                                    <InputAdornment position=\"end\">\r\n                                                                                        {fields.classNo.adornment}\r\n                                                                                    </InputAdornment>\r\n                                                                                ),\r\n                                                                                inputProps: { min: 1, max: 100 },\r\n                                                                            }}\r\n                                                                            error={!!errors?.classNumber}\r\n                                                                            helperText={errors?.classNumber?.message}\r\n                                                                        />\r\n                                                                    </Grid>\r\n                                                                )}\r\n                                                            />\r\n                                                        ) : (\r\n                                                            <Typography color=\"inherit\">\r\n                                                                {service?.classNumber} {fields.classNo.adornment}\r\n                                                            </Typography>\r\n                                                        )}\r\n                                                    </Grid>\r\n                                                </Grid>\r\n                                            </Grid>\r\n\r\n                                            <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                                <Grid container spacing={0} className={classes.rowx}>\r\n                                                    <Grid item xs={12} sm={4} md={4} lg={4} className={classes.rowx}>\r\n                                                        <Typography\r\n                                                            color=\"inherit\"\r\n                                                            className={classes.title}\r\n                                                        >\r\n                                                            {fields.studentNumber.title}\r\n                                                        </Typography>\r\n                                                    </Grid>\r\n                                                    <Grid item xs={12} sm={8} md={8} lg={8} className={classes.rowx}>\r\n                                                        {service?.status === serviceStatusNames.pending ? (\r\n                                                            <Controller\r\n                                                                name=\"studentNumber\"\r\n                                                                control={control}\r\n                                                                render={({ value, onChange }) => (\r\n                                                                    <Grid item xs={10} sm={7} md={6} lg={6}>\r\n                                                                        <TextField\r\n                                                                            // label={fields.studentNumber.title}\r\n                                                                            variant=\"outlined\"\r\n                                                                            type=\"number\"\r\n                                                                            required\r\n                                                                            fullWidth\r\n                                                                            value={value}\r\n                                                                            onChange={onChange}\r\n                                                                            InputProps={{\r\n                                                                                endAdornment: (\r\n                                                                                    <InputAdornment position=\"end\">\r\n                                                                                        {fields.studentNumber.adornment}\r\n                                                                                    </InputAdornment>\r\n                                                                                ),\r\n                                                                                inputProps: { min: 1, max: 100 },\r\n                                                                            }}\r\n                                                                            error={!!errors?.studentNumber}\r\n                                                                            helperText={errors?.studentNumber?.message}\r\n                                                                        />\r\n                                                                    </Grid>\r\n                                                                )}\r\n                                                            />\r\n                                                        ) : (\r\n                                                            <Typography color=\"inherit\">\r\n                                                                {service?.studentNumber} {fields.studentNumber.adornment}\r\n                                                            </Typography>\r\n                                                        )}\r\n                                                    </Grid>\r\n                                                </Grid>\r\n                                            </Grid>\r\n\r\n                                            <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                                <Grid container spacing={0} className={classes.rowx}>\r\n                                                    <Grid item xs={12} sm={4} md={4} lg={4} className={classes.rowx}>\r\n                                                        <Typography\r\n                                                            color=\"inherit\"\r\n                                                            className={classes.title}\r\n                                                        >\r\n                                                            {fields.price.title}\r\n                                                        </Typography>\r\n                                                    </Grid>\r\n                                                    <Grid item xs={12} sm={8} md={8} lg={8} className={classes.rowx}>\r\n                                                        {service?.status === serviceStatusNames.pending ? (\r\n                                                            <Controller\r\n                                                                name=\"pricePerSlot\"\r\n                                                                control={control}\r\n                                                                render={({ value, onChange }) => (\r\n                                                                    <Grid container>\r\n                                                                        <Grid item xs={12} sm={7} md={8} lg={7}>\r\n                                                                            <TextField\r\n                                                                                // label={fields.price.title}\r\n                                                                                variant=\"outlined\"\r\n                                                                                type=\"number\"\r\n                                                                                required\r\n                                                                                fullWidth\r\n                                                                                // autoFocus\r\n                                                                                InputProps={{\r\n                                                                                    endAdornment: (\r\n                                                                                        <InputAdornment position=\"end\">\r\n                                                                                            {fields.price.adornment}\r\n                                                                                        </InputAdornment>\r\n                                                                                    ),\r\n                                                                                    inputProps: { min: 100000, max: 2000000 },\r\n                                                                                }}\r\n                                                                                value={value}\r\n                                                                                onChange={(e) => {\r\n                                                                                    onChange(e.target.value)\r\n                                                                                    suggestPrice(Number(e.target.value), setPriceSuggestions)\r\n                                                                                }}\r\n                                                                                error={!!errors?.pricePerSlot}\r\n                                                                                helperText={errors?.pricePerSlot?.message}\r\n                                                                            />\r\n                                                                        </Grid>\r\n                                                                        <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                                                            {priceSuggestions.map(suggestion => (\r\n                                                                                <Button variant=\"outlined\" size=\"small\" color=\"secondary\"\r\n                                                                                    onClick={(e) => onChange(suggestion)}\r\n                                                                                    className={classes.suggestions}\r\n                                                                                >\r\n                                                                                    {new Intl.NumberFormat('vi-VN').format(suggestion)}\r\n                                                                                </Button>\r\n                                                                            ))}\r\n                                                                        </Grid>\r\n                                                                    </Grid>\r\n                                                                )}\r\n                                                            />\r\n                                                        ) : (\r\n                                                            <Typography color=\"inherit\">\r\n                                                                {currencyFormatter.format(service?.pricePerSlot)}/period\r\n                                                            </Typography>\r\n                                                        )}\r\n                                                    </Grid>\r\n                                                </Grid>\r\n                                            </Grid>\r\n\r\n                                            <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                                <Grid container spacing={0} className={classes.rowx}>\r\n                                                    <Grid item xs={12} sm={4} md={4} lg={4} className={classes.rowx}>\r\n                                                        <Typography\r\n                                                            color=\"inherit\"\r\n                                                            className={classes.title}\r\n                                                        >\r\n                                                            {fields.slotNumber.title}\r\n                                                        </Typography>\r\n                                                    </Grid>\r\n                                                    <Grid item xs={12} sm={8} md={8} lg={8} className={classes.rowx}>\r\n                                                        {service?.status === serviceStatusNames.pending ? (\r\n                                                            <Controller\r\n                                                                name=\"slotNumber\"\r\n                                                                control={control}\r\n                                                                render={({ value, onChange }) => (\r\n                                                                    <Grid container>\r\n                                                                        <Grid item xs={8} sm={7} md={5} lg={5}>\r\n                                                                            <TextField\r\n                                                                                // label={fields.slotNumber.title}\r\n                                                                                variant=\"outlined\"\r\n                                                                                type=\"number\"\r\n                                                                                required\r\n                                                                                fullWidth\r\n                                                                                value={value}\r\n                                                                                onChange={(e) => onChange(e.target.value)}\r\n                                                                                InputProps={{\r\n                                                                                    endAdornment: (\r\n                                                                                        <InputAdornment position=\"end\">\r\n                                                                                            {fields.slotNumber.adornment}\r\n                                                                                        </InputAdornment>\r\n                                                                                    ),\r\n                                                                                    inputProps: { min: 0, max: 10 }\r\n                                                                                }}\r\n                                                                                error={!!errors?.slotNumber}\r\n                                                                                helperText={errors?.slotNumber?.message}\r\n                                                                            />\r\n                                                                        </Grid>\r\n                                                                        {/* <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                                                            <Tooltip\r\n                                                                                title={<Typography variant='caption'>{fields.revenue.formula}</Typography>}\r\n                                                                                arrow interactive\r\n                                                                            >\r\n                                                                                <Typography variant='body1'>\r\n                                                                                    <span className={classes.txtEstimate}>Estimate sales</span> &nbsp;\r\n                                                                                    <span className={classes.txtRevenue}>\r\n                                                                                        ≈ {currencyFormatter.format(getValues('pricePerSlot') * getValues('slotNumber') * 4)}\r\n                                                                                    </span>\r\n                                                                                </Typography>\r\n                                                                            </Tooltip>\r\n                                                                        </Grid> */}\r\n                                                                    </Grid>\r\n                                                                )}\r\n                                                            />\r\n                                                        ) : (\r\n                                                            <Typography color=\"inherit\">\r\n                                                                {service?.slotNumber} {service?.slotNumber === 1 ? 'period/week' : 'periods/week'}\r\n                                                            </Typography>\r\n                                                        )}\r\n                                                    </Grid>\r\n                                                </Grid>\r\n                                            </Grid>\r\n\r\n                                            <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                                <Grid container spacing={0} className={classes.rowx}>\r\n                                                    <Grid item xs={12} sm={4} md={4} lg={4} className={classes.rowx}>\r\n                                                        <Typography color=\"inherit\" className={classes.title}>\r\n                                                            {fields.note.title}\r\n                                                        </Typography>\r\n                                                    </Grid>\r\n                                                    <Grid item xs={12} sm={8} md={8} lg={8} className={classes.rowx}>\r\n                                                        <Controller\r\n                                                            name=\"note\"\r\n                                                            control={control}\r\n                                                            render={({ value, onChange }) => (\r\n                                                                <TextField\r\n                                                                    variant=\"outlined\"\r\n                                                                    fullWidth\r\n                                                                    multiline\r\n                                                                    rows={5}\r\n                                                                    value={value}\r\n                                                                    onChange={onChange}\r\n                                                                    // label={fields.note.noNote}\r\n                                                                    placeholder={fields.note.noNote}\r\n                                                                    disabled={service?.status !== serviceStatusNames.pending}\r\n                                                                    InputProps={{\r\n                                                                        classes: {\r\n                                                                            root: styles.inputRoot,\r\n                                                                            disabled: styles.disabled,\r\n                                                                        },\r\n                                                                    }}\r\n                                                                />\r\n                                                            )}\r\n                                                        />\r\n                                                    </Grid>\r\n                                                </Grid>\r\n                                            </Grid>\r\n\r\n                                            {service?.status === serviceStatusNames.pending && (\r\n                                                <Grid item xs={12} sm={12} md={12} lg={12} className={classes.action}>\r\n                                                    <Button\r\n                                                        type=\"submit\"\r\n                                                        onClick={() => {\r\n                                                            // console.log('serviceType = ', getValues('serviceType'));\r\n                                                            // console.log('startDate = ', getValues('duration[0]'));\r\n                                                            // console.log('endDate = ', getValues('duration[1]'));\r\n                                                            // console.log('classNumber = ', getValues('classNumber'));\r\n                                                            // console.log('studentNumber = ', getValues('studentNumber'));\r\n                                                            // console.log('pricePerSlot = ', getValues('pricePerSlot'));\r\n                                                            // console.log('slotNumber = ', getValues('slotNumber'));\r\n                                                            // console.log('note = ', getValues('note'));\r\n                                                        }}\r\n                                                        disabled={!formState.isDirty}\r\n                                                        className={classes.btnApprove}\r\n                                                        variant=\"contained\"\r\n                                                    >\r\n                                                        {operations.save}\r\n                                                    </Button>\r\n                                                </Grid>\r\n                                            )}\r\n                                        </Grid>\r\n                                    </form>\r\n                                ) : (\r\n                                    <Grid item container xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                        <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                            <Grid container spacing={0} className={classes.rowx}>\r\n                                                <Grid item xs={12} sm={4} md={4} lg={4} className={classes.rowx}>\r\n                                                    <Typography\r\n                                                        color=\"inherit\"\r\n                                                        className={classes.title}\r\n                                                    >\r\n                                                        {fields.serviceType.title}\r\n                                                    </Typography>\r\n                                                </Grid>\r\n                                                <Grid item xs={12} sm={8} md={8} lg={8} className={classes.rowx}>\r\n                                                    <Typography color=\"inherit\">\r\n                                                        {service?.serviceType}\r\n                                                    </Typography>\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                        </Grid>\r\n\r\n                                        <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                            <Grid container spacing={0} className={classes.rowx}>\r\n                                                <Grid item xs={12} sm={4} md={4} lg={4} className={classes.rowx}>\r\n                                                    <Typography\r\n                                                        color=\"inherit\"\r\n                                                        className={classes.title}\r\n                                                    >\r\n                                                        {fields.duration.title}\r\n                                                    </Typography>\r\n                                                </Grid>\r\n                                                <Grid item xs={12} sm={8} md={8} lg={8} className={classes.rowx}>\r\n                                                    <LinearProgressBars\r\n                                                        startDate={service?.startDate}\r\n                                                        endDate={service?.endDate}\r\n                                                        marker={new Date()}\r\n                                                        type=\"service\"\r\n                                                    />\r\n                                                    {/* <Typography color=\"inherit\">\r\n                                                        {parseDateToString(service?.startDate, 'DD-MM-YYYY')} ➜ &nbsp;\r\n                                                        {parseDateToString(service?.endDate, 'DD-MM-YYYY')}\r\n                                                    </Typography> */}\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                        </Grid>\r\n\r\n                                        <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                            <Grid container spacing={0} className={classes.rowx}>\r\n                                                <Grid item xs={12} sm={4} md={4} lg={4} className={classes.rowx}>\r\n                                                    <Typography\r\n                                                        color=\"inherit\"\r\n                                                        className={classes.title}\r\n                                                    >\r\n                                                        {fields.classNo.title}\r\n                                                    </Typography>\r\n                                                </Grid>\r\n                                                <Grid item xs={12} sm={8} md={8} lg={8} className={classes.rowx}>\r\n                                                    <Typography color=\"inherit\">\r\n                                                        {service?.classNumber} {fields.classNo.adornment}\r\n                                                    </Typography>\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                        </Grid>\r\n\r\n                                        <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                            <Grid container spacing={0} className={classes.rowx}>\r\n                                                <Grid item xs={12} sm={4} md={4} lg={4} className={classes.rowx}>\r\n                                                    <Typography\r\n                                                        color=\"inherit\"\r\n                                                        className={classes.title}\r\n                                                    >\r\n                                                        {fields.studentNumber.title}\r\n                                                    </Typography>\r\n                                                </Grid>\r\n                                                <Grid item xs={12} sm={8} md={8} lg={8} className={classes.rowx}>\r\n                                                    <Typography color=\"inherit\">\r\n                                                        {service?.studentNumber} {fields.studentNumber.adornment}\r\n                                                    </Typography>\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                        </Grid>\r\n\r\n                                        <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                            <Grid container spacing={0} className={classes.rowx}>\r\n                                                <Grid item xs={12} sm={4} md={4} lg={4} className={classes.rowx}>\r\n                                                    <Typography\r\n                                                        color=\"inherit\"\r\n                                                        className={classes.title}\r\n                                                    >\r\n                                                        {fields.price.title}\r\n                                                    </Typography>\r\n                                                </Grid>\r\n                                                <Grid item xs={12} sm={8} md={8} lg={8} className={classes.rowx}>\r\n                                                    <Typography color=\"inherit\">\r\n                                                        {currencyFormatter.format(service?.pricePerSlot)}/period\r\n                                                    </Typography>\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                        </Grid>\r\n\r\n                                        <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                            <Grid container spacing={0} className={classes.rowx}>\r\n                                                <Grid item xs={12} sm={4} md={4} lg={4} className={classes.rowx}>\r\n                                                    <Typography\r\n                                                        color=\"inherit\"\r\n                                                        className={classes.title}\r\n                                                    >\r\n                                                        {fields.slotNumber.title}\r\n                                                    </Typography>\r\n                                                </Grid>\r\n                                                <Grid item xs={12} sm={8} md={8} lg={8} className={classes.rowx}>\r\n                                                    <Typography color=\"inherit\">\r\n                                                        {service?.slotNumber} {service?.slotNumber === 1 ? 'period/week' : 'periods/week'}\r\n                                                    </Typography>\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                        </Grid>\r\n\r\n                                        <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                            <Grid container spacing={0} className={classes.rowx}>\r\n                                                <Grid item xs={12} sm={4} md={4} lg={4} className={classes.rowx}>\r\n                                                    <Typography color=\"inherit\" className={classes.title}>\r\n                                                        {fields.note.title}\r\n                                                    </Typography>\r\n                                                </Grid>\r\n                                                <Grid item xs={12} sm={8} md={8} lg={8} className={classes.rowx}>\r\n                                                    <TextField\r\n                                                        variant=\"outlined\"\r\n                                                        fullWidth\r\n                                                        multiline\r\n                                                        rows={5}\r\n                                                        value={service?.note}\r\n                                                        // readOnly\r\n                                                        disabled\r\n                                                        placeholder={fields.note.noNote}\r\n                                                        InputProps={{\r\n                                                            classes: {\r\n                                                                root: styles.inputRoot,\r\n                                                                disabled: styles.disabled,\r\n                                                            },\r\n                                                        }}\r\n                                                    />\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                        </Grid>\r\n\r\n                                        {service?.status === serviceStatusNames.pending && (\r\n                                            <Grid item xs={12} sm={12} md={12} lg={12} className={classes.action}>\r\n                                                <Button\r\n                                                    className={classes.btnApprove}\r\n                                                    variant=\"contained\"\r\n                                                    onClick={() => { setOpenApproveDialog(true) }}\r\n                                                >\r\n                                                    {operations.approve}\r\n                                                </Button>\r\n                                                {renderApproveDialog()}\r\n                                                <Button\r\n                                                    className={classes.btnReject}\r\n                                                    variant=\"contained\"\r\n                                                    onClick={() => { setOpenRejectDialog(true) }}\r\n                                                >\r\n                                                    {operations.reject}\r\n                                                </Button>\r\n                                                {renderRejectDialog()}\r\n                                            </Grid>\r\n                                        )}\r\n                                    </Grid>\r\n                                )}\r\n                            </Grid>\r\n\r\n                            {/* Submission Detail */}\r\n                            <Grid item xs={12} sm={12} md={12} lg={12}\r\n                                container spacing={0} className={classes.wrapper}\r\n                            >\r\n                                <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                    <Typography color=\"inherit\" className={classes.header}>\r\n                                        {headers.child2}\r\n                                    </Typography>\r\n                                </Grid>\r\n                                <Grid item container xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                    <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                        <Grid container spacing={0} className={classes.rowx}>\r\n                                            <Grid item xs={12} sm={4} md={4} lg={4} className={classes.rowx}>\r\n                                                <Typography\r\n                                                    color=\"inherit\"\r\n                                                    className={classes.title}\r\n                                                >\r\n                                                    {fields.submitedDate.title}\r\n                                                </Typography>\r\n                                            </Grid>\r\n                                            <Grid item xs={12} sm={8} md={8} lg={8} className={classes.rowx}>\r\n                                                <Typography color=\"inherit\">\r\n                                                    {parseDateToString(service?.submitDate, 'DD-MM-YYYY')}\r\n                                                </Typography>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                        <Grid container spacing={0} className={classes.rowx}>\r\n                                            <Grid item xs={12} sm={4} md={4} lg={4} className={classes.rowx}>\r\n                                                <Typography color=\"inherit\" className={classes.title}>\r\n                                                    {fields.submitedBy.title}\r\n                                                </Typography>\r\n                                            </Grid>\r\n                                            <Grid item xs={12} sm={8} md={8} lg={8} className={classes.rowx}>\r\n                                                <ListItem className={styles.itemPIC}>\r\n                                                    <ListItemAvatar>\r\n                                                        <Avatar src={service?.avatar} />\r\n                                                    </ListItemAvatar>\r\n                                                    <ListItemText\r\n                                                        className={classes.picName}\r\n                                                        primary={service?.fullName}\r\n                                                        secondary={service?.username}\r\n                                                        classes={{\r\n                                                            primary: styles.itemTextPrimary,\r\n                                                            secondary: styles.itemTextSecondary,\r\n                                                        }}\r\n                                                    />\r\n                                                </ListItem>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </Grid>\r\n\r\n                                    <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                        <Grid container spacing={0} className={classes.rowx}>\r\n                                            <Grid item xs={12} sm={4} md={4} lg={4} className={classes.rowx}>\r\n                                                <Typography color=\"inherit\" className={classes.title}>\r\n                                                    {fields.serviceStatus.title}\r\n                                                </Typography>\r\n                                            </Grid>\r\n                                            <Grid item xs={12} sm={8} md={8} lg={8} className={classes.rowx}>\r\n                                                {service?.status && setServiceStatusChipColor(service?.status)}\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </Grid>\r\n\r\n                                    {service?.rejectedReason && (\r\n                                        <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                            <Grid container spacing={0} className={classes.rowx}>\r\n                                                <Grid item xs={12} sm={4} md={4} lg={4} className={classes.rowx}>\r\n                                                    <Typography color=\"inherit\" className={classes.title}>\r\n                                                        {fields.rejectedReason.title}\r\n                                                    </Typography>\r\n                                                </Grid>\r\n                                                <Grid item xs={12} sm={8} md={8} lg={8} className={classes.rowx}>\r\n                                                    <TextField\r\n                                                        variant=\"outlined\"\r\n                                                        fullWidth\r\n                                                        multiline\r\n                                                        rows={3}\r\n                                                        value={service?.rejectedReason}\r\n                                                        // readOnly\r\n                                                        disabled\r\n                                                        InputProps={{\r\n                                                            classes: {\r\n                                                                root: styles.inputRoot,\r\n                                                                disabled: styles.disabled,\r\n                                                            },\r\n                                                        }}\r\n                                                    />\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    )}\r\n                                    {/* )} */}\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                        {/* Criteria Sector */}\r\n                        {(user.roles[0] === roleNames.manager || user.roles[0] === roleNames.salesman) && (\r\n                            <Grid item xs={12} sm={12} md={4} lg={4} className={classes.content}>\r\n                                <Grid container spacing={0} className={classes.wrapper}>\r\n                                    <Grid item xs={12} sm={12} md={12} lg={12} className={classes.row}>\r\n                                        <Box display=\"flex\">\r\n                                            <Box flexGrow={1}>\r\n                                                <Typography color=\"inherit\" className={classes.header}>\r\n                                                    {headers.child3}\r\n                                                </Typography>\r\n                                            </Box>\r\n                                            <Box>\r\n                                                {/*Ko hiểu sao icon này lúc ẩn lúc hiện */}\r\n                                                <ClickAwayListener onClickAway={() => setOpenInfoTooltip(false)}>\r\n                                                    <Tooltip\r\n                                                        interactive\r\n                                                        title={getCriteriaInfo()}\r\n                                                        placement=\"bottom-end\"\r\n                                                        open={openInfoTooltip}\r\n                                                        onClose={() => setOpenInfoTooltip(false)}\r\n                                                        disableFocusListener\r\n                                                        disableHoverListener  // disable cái này thì khi thả chuột ra ko bị close\r\n                                                    // disableTouchListener\r\n                                                    // PopperProps={{ disablePortal: true }}\r\n                                                    >\r\n                                                        {/* <Button onClick={() => setOpenInfoTooltip(true)}> */}\r\n                                                        {/* <IconButton className={classes.iconInfo}\r\n                                                            onClick={() => setOpenInfoTooltip(true)}\r\n                                                        > */}\r\n                                                        <div onClick={() => setOpenInfoTooltip(true)}>\r\n                                                            <IoInformationCircleSharp className={classes.iconInfo} />\r\n                                                        </div>\r\n                                                        {/* </IconButton> */}\r\n                                                        {/* </Button> */}\r\n                                                    </Tooltip>\r\n                                                </ClickAwayListener>\r\n                                            </Box>\r\n                                        </Box>\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={10} md={12} lg={12} className={classes.row}>\r\n                                        <List>\r\n                                            {criteria.map((cri) => (\r\n                                                <div key={cri.key}>\r\n                                                    <ListItem>\r\n                                                        <ListItemIcon>\r\n                                                            {checkCriteria(cri.key, cri.standardValue, service) ? (\r\n                                                                <img className={classes.icon} src={CheckMark} />\r\n                                                            ) : (\r\n                                                                <img className={classes.icon} src={CrosskMark} />\r\n                                                            )}\r\n                                                        </ListItemIcon>\r\n                                                        <Tooltip\r\n                                                            title={user.roles[0] === roleNames.salesman\r\n                                                                ? getTooltipTitle(cri.key, cri.standardValue, service, {\r\n                                                                    priceFloor: getValues('pricePerSlot'),\r\n                                                                    slotNo: getValues('slotNumber'),\r\n                                                                    classNo: getValues('classNumber'),\r\n                                                                    studentNo: getValues('studentNumber'),\r\n                                                                    time: getValues('duration')\r\n                                                                }) : getTooltipTitle(cri.key, cri.standardValue, service, {})\r\n                                                            }\r\n                                                            // placement='bottom-end'\r\n                                                            arrow\r\n                                                            interactive\r\n                                                            classes={{ tooltip: styles.customWidth }}\r\n                                                        >\r\n                                                            <ListItemText primary={cri.name} classes={{ primary: styles.itemTextPrimary }} />\r\n                                                        </Tooltip>\r\n                                                    </ListItem>\r\n                                                    <Divider />\r\n                                                </div>\r\n                                            ))}\r\n                                            <ListItem>\r\n                                                {/* <ListItemText primary={`Estimate sales ≈ 30.000.000VND`} />    *${revenue} */}\r\n                                                <Tooltip\r\n                                                    title={<Typography variant='caption'>{fields.revenue.formula}</Typography>}\r\n                                                    arrow\r\n                                                    interactive\r\n                                                    classes={{ tooltip: styles.customWidth }}\r\n                                                >\r\n                                                    <Typography variant='body1'>\r\n                                                        <span className={classes.txtEstimate}>Estimate sales</span> &nbsp;\r\n                                                        <span className={classes.txtRevenue}>≈{' '}\r\n                                                            {user.roles[0] === roleNames.salesman && service?.status === serviceStatusNames.pending\r\n                                                                ? calculateEstimateSales(service, {\r\n                                                                    priceFloor: getValues('pricePerSlot'),\r\n                                                                    slotNo: getValues('slotNumber'),\r\n                                                                    classNo: getValues('classNumber'),\r\n\r\n                                                                })\r\n                                                                : calculateEstimateSales(service, {})\r\n                                                            }\r\n                                                            {/* {user.roles[0] === roleNames.salesman\r\n                                                                ? currencyFormatter.format(getValues('pricePerSlot') * getValues('slotNumber') * getValues('classNumber') * 4)\r\n                                                                : currencyFormatter.format(service?.pricePerSlot * service?.slotNumber * service?.classNumber * 4)\r\n                                                            } */}\r\n                                                            {/* {currencyFormatter.format(service?.pricePerSlot * service?.slotNumber * service?.classNumber * 4)} */}\r\n                                                            {/* {getValues('pricePerSlot') && getValues('slotNumber')\r\n                                                                ? `≈ ${currencyFormatter.format(getValues('pricePerSlot') * getValues('slotNumber') * 4)}`\r\n                                                                : `≈ ${currencyFormatter.format(service?.pricePerSlot * service?.slotNumber * 4)}`\r\n                                                            } */}\r\n                                                        </span>\r\n                                                    </Typography>\r\n                                                </Tooltip>\r\n                                            </ListItem>\r\n                                        </List>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                        )}\r\n                    </>\r\n                )}\r\n\r\n            </Grid>\r\n            <Snackbars notify={notify} setNotify={setNotify} />\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default ServiceInfo\r\n","export default \"data:image/png;base64,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\"","import React, { useState, useEffect } from 'react'\r\nimport { useLocation, useParams, useHistory } from 'react-router-dom'\r\nimport { DetailLayouts } from '../../layouts'\r\nimport { ServiceInfo } from './panels'\r\nimport { getService } from './ServicesServices'\r\nimport { detailPageConsts } from './ServicesConfig'\r\nimport { Loading, NotFound } from '../../components'\r\n\r\nfunction Service() {\r\n    const { linkNames, tabNames, operations } = detailPageConsts\r\n    const [tabValue, setTabValue] = useState(0)\r\n\r\n    const { id } = useParams()\r\n    const location = useLocation()\r\n    const history = useHistory()\r\n\r\n    // const stateData = location.state?.data\r\n    const [service, setService] = useState(null)    //stateData?.model\r\n\r\n    const [exist, setExist] = useState(true)\r\n\r\n    let isMounted = true\r\n    const refreshPage = (serviceId) => {\r\n        getService(serviceId)\r\n            .then((data) => {\r\n                if (isMounted) {\r\n                    setService(data)\r\n                    // console.log('serviceInfo: ', data);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    if (error.response.status === 403) {\r\n                        setExist(false)\r\n                    } else {\r\n                        history.push({\r\n                            pathname: '/errors',\r\n                            state: { error: error.response.status },\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        refreshPage(id)\r\n        return () => {\r\n            isMounted = false\r\n        }\r\n    }, [])\r\n\r\n    if (!service) {\r\n        if (!exist) {\r\n            return <NotFound title={operations.notFound} />\r\n        } else {\r\n            return <Loading />\r\n        }\r\n    }\r\n\r\n    const handleChangeTab = (event, value) => {\r\n        setTabValue(value)\r\n    }\r\n\r\n    return (\r\n        <DetailLayouts\r\n            linkBack={linkNames.back}\r\n            header={`${service?.serviceType} for ${service?.educationLevel} ${service?.schoolName}`}\r\n            subHeader={service?.status}\r\n            isStatus={true}\r\n            tabs={[tabNames.tab1]}\r\n            tabValue={tabValue}\r\n            handleChangeTab={handleChangeTab}\r\n        >\r\n            <ServiceInfo service={service} refreshPage={refreshPage} />\r\n        </DetailLayouts>\r\n    )\r\n}\r\n\r\nexport default Service","import React, { useState } from 'react'\r\nimport { Avatar, Button, Chip } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n// import PropTypes from 'prop-types'\r\nimport * as ReducerActions from '../../../../../constants/ActionTypes'\r\nimport { KPI_STATUS_FILTER } from '../../../../../constants/Filters'\r\n// import classes from './Chips.module.scss'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        flexWrap: 'wrap',\r\n    },\r\n    ul: {\r\n        // maxWidth: 10 * 6 + 5,\r\n        maxWidth: 810,\r\n        overflowX: 'auto',\r\n        display: 'flex',\r\n        justifyContent: 'flex-start',\r\n        flexWrap: 'nowrap',\r\n        listStyle: 'none',\r\n        margin: 0,\r\n        paddingLeft: '0.5rem',\r\n    },\r\n    btnClear: {\r\n        fontSize: '0.75rem',\r\n    },\r\n    chip: {\r\n        margin: theme.spacing(0.5),\r\n    },\r\n}))\r\n\r\nfunction Chips(props) {\r\n    const classes = useStyles()\r\n    const { chips, dispatch, handleChipsRemoved } = props\r\n\r\n    //================Generate chips according to filters================\r\n    const [btnClearAll, setBtnClearAll] = useState(false)\r\n\r\n    const handleChipDelete = (chipToDelete) => () => {\r\n        switch (chipToDelete.filterType) {\r\n            case KPI_STATUS_FILTER:\r\n                dispatch({\r\n                    type: ReducerActions.FILTER_KPI_STATUS,\r\n                    payload: { filterType: KPI_STATUS_FILTER, filterValue: '' },\r\n                })\r\n                break\r\n            default:\r\n                break\r\n        }\r\n\r\n        if (!handleChipsRemoved) return\r\n        // Reset corresponding filters' value to \"All\" / null\r\n        const removedFilters = [chipToDelete.filterType]\r\n        handleChipsRemoved(removedFilters)\r\n    }\r\n\r\n    const handleClearAllChips = () => {\r\n        setBtnClearAll(false)\r\n\r\n        if (!handleChipsRemoved) return\r\n\r\n        dispatch({\r\n            type: ReducerActions.FILTER_KPI_STATUS,\r\n            payload: { filterType: KPI_STATUS_FILTER, filterValue: '' },\r\n        })\r\n        const removedFilters = [KPI_STATUS_FILTER]\r\n\r\n        handleChipsRemoved(removedFilters)\r\n    }\r\n\r\n    const handleShowClearAllButton = () => {\r\n        let count = 0\r\n        chips.forEach((chip) => {\r\n            if (chip.filterValue === '' || chip.filterValue === null || chip.filterValue === undefined) {\r\n                count++\r\n            }\r\n        })\r\n        return count;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {handleShowClearAllButton() !== 1 && (\r\n                <div className={classes.root}>\r\n                    <Button\r\n                        size=\"small\"\r\n                        className={classes.btnClear}\r\n                        onClick={handleClearAllChips}\r\n                    >\r\n                        Clear all\r\n                    </Button>\r\n                    <ul className={classes.ul}>\r\n                        {chips.map((chip) => {\r\n                            return (\r\n                                // <div key={chip.filterType}>\r\n                                //     {chip.filterValue && (\r\n                                //         <li>\r\n                                //             {/* {renderChips(chip)} */}\r\n                                //         </li>\r\n                                //     )}\r\n                                // </div>\r\n                                <li key={chip.filterType}>\r\n                                    {chip.filterValue &&\r\n                                        <Chip\r\n                                            label={chip.filterValue}\r\n                                            onDelete={handleChipDelete(chip)}\r\n                                            className={classes.chip}\r\n                                            color=\"secondary\"\r\n                                        />\r\n                                    }\r\n                                </li>\r\n                            )\r\n                        })}\r\n                    </ul>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Chips)\r\n\r\n// Chips.propTypes = {\r\n//     chips: PropTypes.array.isRequired,\r\n//     dispatch: PropTypes.func.isRequired,\r\n//     handleChipsRemoved: PropTypes.func,\r\n// }\r\n","import { roleNames } from \"../../constants/Generals\";\r\n\r\nconst columns = [\r\n    { key: 'no', name: '#', sortable: false, width1: '1%', width2: '1%' },\r\n    { key: 'name', name: 'Group Name', sortable: true, width1: '32%', width2: '34%' },\r\n    { key: 'salesmen', name: 'Apply for', sortable: false, width1: '20%', width2: '0%' },   // Này có cần thiết ko nhỉ?\r\n    { key: 'startDate', name: 'Start Date', sortable: true, width1: '17%', width2: '22%' },\r\n    { key: 'endDate', name: 'End Date', sortable: true, width1: '17%', width2: '22%' },\r\n    // { key: 'duration', name: 'Duration', sortable: false, width1: '25%' },\r\n    { key: 'status', name: 'Status', sortable: true, width1: '15%', width2: '20%' },    // active, disable\r\n    { key: '', name: '', sortable: false, width1: '1%', width2: '1%' },\r\n]\r\n\r\nexport function getColumns(role) {\r\n    const [no, groupName, pic, startDate, endDate, status, actions] = columns     // assignDate, endDate, \r\n\r\n    switch (role) {\r\n        case roleNames.manager:\r\n            return [no, groupName, pic, startDate, endDate, status, actions]\r\n        // case roleNames.supervisor:\r\n        case roleNames.salesman:\r\n            return [no, groupName, startDate, endDate, status, actions]\r\n        default:\r\n            break\r\n    }\r\n}\r\n\r\n// export const getColumns = (role) => {\r\n//     const [no, serviceType, schoolName, pic, status, actions] = columns     // duration,\r\n\r\n//     switch (role) {\r\n//         case roleNames.manager:\r\n//             return [no, serviceType, schoolName, pic, status, actions]      // duration,\r\n//         case roleNames.salesman:\r\n//             return [no, serviceType, schoolName, status, actions]       // duration,\r\n//         default:\r\n//             break;\r\n//     }\r\n// }\r\n\r\n//=========================================================================================================\r\n\r\nexport const detailPageConsts = {\r\n    linkNames: {\r\n        back: 'KPIs',\r\n    },\r\n    tabNames: {\r\n        tab1: 'KPIs Group Details',\r\n        tab2: 'My KPIs Details',\r\n        // tab2: 'Criteria Info',\r\n    },\r\n    operations: {\r\n        notFound: 'KPI Group Not Found',\r\n    },\r\n}\r\n\r\nexport const Consts = {\r\n    operations: {\r\n        filter: 'Filters',\r\n        search: {\r\n            placeholder: 'Search...',\r\n        },\r\n        create: 'Create',\r\n    },\r\n    filters: {\r\n        status: {\r\n            title: 'KPI Group Statuses',\r\n        },\r\n    },\r\n    messages: {\r\n        notFound: 'No records found.',\r\n    },\r\n    menuItems: {\r\n        details: {\r\n            title: 'View details',\r\n        },\r\n        disable: {\r\n            title: 'Disable'\r\n        }\r\n    },\r\n}\r\n","import { Alert } from \"@material-ui/lab\"\r\n\r\nexport const Consts = {\r\n    headers: {\r\n        create: 'Create KPI Group',\r\n        confirm: 'Confirm Create KPI Group',\r\n        disable: 'Confirm Disable KPI Group',\r\n        salesmanKPI: \"Update Salesman's KPI details\",\r\n    },\r\n    operations: {\r\n        disable: 'Disable',\r\n        cancel: 'Cancel',\r\n        save: 'Save',\r\n        yes: 'OK'\r\n    },\r\n    fields: {\r\n        rejectedReason: {\r\n            label: 'Rejected reason',\r\n            placeholder: 'The reason I rejected this service is...?'\r\n        },\r\n    },\r\n}\r\n\r\nexport const confirmMessage = (groupName) => {\r\n    return (\r\n        <>\r\n            <Alert severity=\"success\">All steps completed.</Alert>\r\n            <br />\r\n            Do you really want to create KPI group <strong><em>{groupName}</em></strong> now?\r\n        </>\r\n    )\r\n}\r\n\r\nexport const confirmDisableMessage = (groupName) => {\r\n    return (\r\n        <>\r\n            Do you really want to disable KPI group <strong><em>{groupName}</em></strong> now?\r\n            <br />\r\n            This process cannot be undone.\r\n        </>\r\n    )\r\n}","const stepNames = {\r\n    step1: 'Initial KPI Group',\r\n    step2: 'Modify Criteria',\r\n    step3: 'Apply'\r\n}\r\n\r\nexport const steps = [stepNames.step1, stepNames.step2, stepNames.step3]\r\n\r\nexport const previewColumns = [\r\n    { key: 'no', name: '#', sortable: false, width: '2%' },\r\n    { key: 'name', name: 'KPI Group Name', sortable: true, width: '48%', },\r\n    { key: 'targetValue', name: 'Target Value', sortable: true, width: '22%' },\r\n    { key: 'weight', name: 'Weight', sortable: true, width: '15%' },\r\n    { key: '', name: '', sortable: false, width: '8%' },\r\n]","import React from 'react'\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogActions,\r\n    withStyles,\r\n    Typography,\r\n    IconButton,\r\n} from '@material-ui/core'\r\nimport { MdClose } from 'react-icons/md'\r\nimport { Consts, confirmMessage } from '../DialogConfig'\r\nimport { useHistory } from 'react-router'\r\nimport { useSnackbar } from 'notistack'\r\nimport { parseDateToString } from '../../../../utils/DateTimes'\r\nimport { createKPIGroup } from '../../KPIsServices';\r\nimport { useKPI } from '../../hooks/KPIContext';\r\nimport { useAuth } from '../../../../hooks/AuthContext';\r\nimport classes from './ConfirmSave.module.scss'\r\n\r\nconst stylesTitle = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n});\r\n\r\nconst DialogTitleWithIconClose = withStyles(stylesTitle)((props) => {\r\n    const { children, classes, onClose, ...other } = props;\r\n    return (\r\n        <DialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n                    <MdClose />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    );\r\n});\r\n\r\nfunction ConfirmApprove(props) {\r\n    const { open, onClose, onCloseCreateDialog, KPI, refreshPage } = props\r\n    const { headers, operations } = Consts\r\n    let kpiData = null\r\n    console.log('open rồi nè');\r\n\r\n    const history = useHistory()\r\n    const { user } = useAuth()\r\n    const { params } = useKPI()\r\n    const { listFilters, column, direction, searchKey } = params\r\n    const { enqueueSnackbar } = useSnackbar()\r\n\r\n    const constructKPIObject = () => {\r\n        console.log('Confirm Dialog ------ KPI: ', KPI);\r\n        let myKPIs = []\r\n        let aKPI = {\r\n            kpiDetails: [],\r\n            username: ''\r\n        }\r\n        let myKPIDetails = []\r\n        let aKpiDetail = {\r\n            criteriaId: 0,\r\n            kpiDetailId: -1,\r\n            actualValue: 0,\r\n            targetValue: 0,\r\n            weight: 0,\r\n        }\r\n\r\n        // KPI?.users.forEach(staff => {\r\n        //     aKPI = { ...aKPI, username: staff.username }\r\n        //     myKPIs.push(aKPI)\r\n        // });\r\n\r\n        KPI?.kpis.forEach(kpi => {\r\n            myKPIDetails = []\r\n            let listCri = [...kpi?.criteria]\r\n            listCri.forEach(cri => {\r\n                aKpiDetail = {\r\n                    ...aKpiDetail,\r\n                    criteriaId: cri?.id,\r\n                    targetValue: parseInt(cri?.targetValue),\r\n                    weight: parseFloat(cri?.weight / 100)\r\n                }\r\n                myKPIDetails.push(aKpiDetail)\r\n            });\r\n\r\n            aKPI = {\r\n                username: kpi?.username,\r\n                kpiDetails: myKPIDetails\r\n            }\r\n            myKPIs.push(aKPI)\r\n        });\r\n\r\n        console.log('Sau khi xử lý data: myKPIs = ', myKPIs);\r\n\r\n        kpiData = {\r\n            groupName: KPI?.groupName,\r\n            startDate: parseDateToString(KPI?.startDate, 'YYYY-MM-DD HH:mm:ss'),\r\n            endDate: parseDateToString(KPI?.endDate, 'YYYY-MM-DD HH:mm:ss'),\r\n            kpis: myKPIs\r\n        }\r\n\r\n        console.log('  >> TADAAA<<  ------Finally, we have: kpiData = ', kpiData);\r\n    }\r\n\r\n    const handleCreateKPI = () => {\r\n        constructKPIObject()\r\n\r\n        createKPIGroup(kpiData).then((res) => {\r\n            refreshPage(column, direction, searchKey, listFilters, user.username)\r\n            enqueueSnackbar(\"Created KPI group successfully\", { variant: 'success' })\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                history.push({\r\n                    pathname: '/errors',\r\n                    state: { error: error.response.status },\r\n                })\r\n                enqueueSnackbar(\"Created KPI group failed\", { variant: 'error' })\r\n            }\r\n        })\r\n\r\n        onClose();\r\n        onCloseCreateDialog()\r\n    }\r\n\r\n    return (\r\n        <Dialog open={open} onClose={onClose} maxWidth=\"sm\" fullWidth>\r\n            <DialogTitleWithIconClose onClose={onClose}>{headers.confirm}</DialogTitleWithIconClose>\r\n            {/* <Divider /> */}\r\n            <DialogContent>\r\n                <DialogContentText className={classes.dialogText}>\r\n                    {confirmMessage(KPI?.groupName)}\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            {/* <Divider /> */}\r\n            <DialogActions>\r\n                <Button className={classes.btnOK} onClick={handleCreateKPI} autoFocus>\r\n                    {operations.yes}\r\n                </Button>\r\n                <Button onClick={onClose}>\r\n                    {operations.cancel}\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default React.memo(ConfirmApprove)","import React, { useEffect, useState } from 'react'\r\nimport {\r\n    Grid,\r\n    Box,\r\n    TextField,\r\n    Checkbox,\r\n} from '@material-ui/core'\r\nimport { MdCheckBoxOutlineBlank, MdCheckBox } from 'react-icons/md'\r\nimport { Autocomplete } from '@material-ui/lab'\r\nimport { getKPICriteria } from '../../KPIsServices';\r\nimport { useHistory } from 'react-router';\r\nimport classes from './Step1.module.scss'\r\n\r\n//===============Set max-height for dropdown list===============\r\n// const ITEM_HEIGHT = 38\r\n// const ITEM_PADDING_TOP = 5\r\n// const MenuProps = {\r\n//     PaperProps: {\r\n//         style: {\r\n//             maxHeight: ITEM_HEIGHT * 4 + ITEM_PADDING_TOP,\r\n//         },\r\n//     },\r\n// }\r\n// //==============================================================\r\n\r\n// const useStyles = makeStyles((theme) => ({\r\n//     formControl: {\r\n//         margin: theme.spacing(1),\r\n//         // minWidth: 160,\r\n//     },\r\n//     option: {\r\n//         fontSize: '0.875rem',\r\n//     },\r\n//     // Selection\r\n//     // root: {},\r\n//     // menuItemRoot: {\r\n//     //     '&$menuItemSelected': { backgroundColor: 'rgba(0, 0, 0, 0.08)' },\r\n//     //     '&$menuItemSelected:focus': {\r\n//     //         backgroundColor: 'rgba(0, 0, 0, 0.12)',\r\n//     //     },\r\n//     //     '&$menuItemSelected:hover': {\r\n//     //         backgroundColor: 'rgba(0, 0, 0, 0.04);',\r\n//     //     },\r\n//     // },\r\n//     // menuItemSelected: {},\r\n\r\n//     // Stepper\r\n//     root: {\r\n//         width: '100%',\r\n//     },\r\n//     backButton: {\r\n//         marginRight: theme.spacing(1),\r\n//     },\r\n//     instructions: {\r\n//         marginTop: theme.spacing(1),\r\n//         marginBottom: theme.spacing(1),\r\n//     },\r\n// }))\r\n\r\nfunction Step1(props) {\r\n    // const styles = useStyles()\r\n    const { KPI, setKPI } = props\r\n    const { criteria, kpis } = KPI  // criteria is list of selections\r\n    const [listCriFromDB, setListCriFromDB] = useState([])  // fromDB\r\n    const history = useHistory()\r\n    // const [selectedCriteria, setSelectedCriteria] = useState([])\r\n\r\n    // const refractorCriteria = (listCri) => {\r\n    //     let myCriteria = []\r\n    //     listCri.map((cri, index) => {\r\n    //         if (index < (listCri.length - 1)) {\r\n    //             cri = { ...cri, targetValue: 0, weight: Math.round(100 / listCri.length) }  // isChecked: false,\r\n    //         } else {\r\n    //             cri = {\r\n    //                 ...cri,\r\n    //                 // isChecked: false,\r\n    //                 targetValue: 0,\r\n    //                 weight: 100 - (Math.round(100 / listCri.length) * (listCri.length - 1))\r\n    //             }\r\n    //         }\r\n    //         myCriteria.push(cri)\r\n    //     })\r\n\r\n    //     // setKPI({ ...KPI, criteria: myCriteria, kpis: [{ ...kpis, criteria: myCriteria }] })\r\n\r\n    //     return myCriteria\r\n    // }\r\n    const getCriteriaFromDB = () => {\r\n        getKPICriteria().then((data) => {\r\n            // const newListCri = refractorCriteria(data)\r\n            // setListCriFromDB(newListCri)\r\n            setListCriFromDB(data)\r\n        })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n            })\r\n    }\r\n    useEffect(() => {\r\n        // console.log('criteria.length = ', criteria.length);\r\n        // if (criteria.length === 0) {\r\n        //     console.log('yesssssss');\r\n        getCriteriaFromDB()\r\n        // } else {\r\n        //     console.log('noooooooooooo');\r\n        //     refractorCriteria(criteria)\r\n        // }\r\n    }, [])\r\n\r\n    const handleCriteriaChange = (event, listCriteria) => {\r\n        // console.log('selected criteria: ', listCriteria);\r\n        let myCriteria = []\r\n\r\n        // Re-calculate suggested weight\r\n        listCriteria.map((cri, index) => {\r\n            if (index < (listCriteria.length - 1)) {\r\n                cri = { ...cri, weight: Math.round(100 / listCriteria.length) } //isChecked: true, //ko cần cái này nữa\r\n            }\r\n            else {  // last item\r\n                cri = {\r\n                    ...cri,\r\n                    // isChecked: true,\r\n                    weight: 100 - (Math.round(100 / listCriteria.length) * (listCriteria.length - 1))\r\n                }\r\n            }\r\n            myCriteria.push(cri)\r\n        })\r\n\r\n        setKPI({ ...KPI, criteria: myCriteria, kpis: [{ ...kpis, criteria: myCriteria }] })\r\n    }\r\n\r\n    // const handleCheck = (e, option) => {\r\n    //     console.log('handleCheck ------- e', e);\r\n    //     console.log('handleCheck ------- e', option);\r\n    // }\r\n\r\n    console.log('Step 1: KPI = ', KPI);\r\n\r\n    return (\r\n        <Box display=\"flex\" flexDirection=\"column\" justifyItems=\"center\" alignItems=\"center\" className={classes.wrapper}>\r\n            {/* <Grid container spacing={2} className={classes.child}> */}\r\n            <Grid item xs={12} sm={8} md={6} lg={6} className={classes.child}>\r\n                <TextField\r\n                    label=\"Group name\"\r\n                    variant=\"outlined\"\r\n                    required\r\n                    fullWidth\r\n                    autoFocus\r\n                    value={KPI.groupName}\r\n                    onChange={(event) => setKPI({ ...KPI, groupName: event.target.value })} />\r\n                {/* error={!!errors.username}\r\n                    helperText={errors?.username?.message} /> */}\r\n            </Grid>\r\n            <Grid item xs={12} sm={8} md={6} lg={6} className={classes.child}>\r\n                <TextField\r\n                    label=\"Description\"\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    size=\"small\"\r\n                    multiline\r\n                    rows={4}\r\n                    autoFocus\r\n                    value={KPI.description}\r\n                    onChange={(event) => setKPI({ ...KPI, description: event.target.value })} />\r\n                {/* error={!!errors.username}\r\n                    helperText={errors?.username?.message} /> */}\r\n            </Grid>\r\n            <Grid item xs={12} sm={8} md={6} lg={6} className={classes.child}>\r\n                <Autocomplete\r\n                    multiple\r\n                    id=\"checkboxes-tags-demo\"\r\n                    options={listCriFromDB}\r\n                    value={criteria}\r\n                    disableCloseOnSelect\r\n                    getOptionLabel={(option) => option.name}\r\n                    getOptionSelected={(option, value) => option?.id === value?.id}\r\n                    renderOption={(option, { selected }) => {\r\n                        // console.log('option?.isChecked = ', option?.isChecked);\r\n                        return (\r\n                            <>\r\n                                <Checkbox\r\n                                    icon={<MdCheckBoxOutlineBlank />}\r\n                                    checkedIcon={<MdCheckBox />}\r\n                                    style={{ marginRight: 5 }}\r\n                                    // checked={KPI?.criteria.length === 0 ? selected : KPI?.criteria?.isChecked}\r\n                                    checked={selected}\r\n                                // onChange={(e) => handleCheck(e, option)}\r\n                                />\r\n                                {option.name}\r\n                            </>\r\n                        )\r\n                    }}\r\n                    renderInput={(params) => (\r\n                        <TextField {...params} variant=\"outlined\" label=\"Evaluation Criteria\" required />\r\n                    )}\r\n                    // filterOptions={(options = KPI.criteria) => { console.log('list chọn nè: ', options) }}\r\n                    onChange={handleCriteriaChange}\r\n                // onBlur={}\r\n                />\r\n            </Grid>\r\n            {/* </Grid> */}\r\n        </Box >\r\n    )\r\n}\r\n\r\nexport default Step1\r\n","import React, { useEffect, useState } from 'react'\r\nimport {\r\n    Box,\r\n    TableContainer,\r\n    Table,\r\n    TableHead,\r\n    TableCell,\r\n    TableBody,\r\n    TableRow,\r\n    TextField,\r\n    IconButton,\r\n    Tooltip,\r\n    InputAdornment,\r\n} from '@material-ui/core'\r\nimport { previewColumns } from './CreateKPISheetConfig'\r\nimport { MdDelete } from 'react-icons/md'\r\nimport * as ArrayUtils from '../../../../utils/Arrays'\r\nimport classes from './Step2.module.scss'\r\n\r\n//===============Set max-height for dropdown list===============\r\nconst ITEM_HEIGHT = 38\r\nconst ITEM_PADDING_TOP = 5\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT * 4 + ITEM_PADDING_TOP,\r\n        },\r\n    },\r\n}\r\n//==============================================================\r\nfunction Step2(props) {\r\n    const { KPI, setKPI } = props\r\n    const { criteria, kpis } = KPI\r\n    const [myCriteria, setMyCriteria] = useState(criteria)\r\n    // const [previewKPIs, setPreviewKPIs] = useState([])\r\n    console.log('Step 2: kpi = ', KPI)\r\n\r\n    // const refractorCriteria = () => {\r\n    //     const criList = [...criteria]\r\n    //     let newCriteria = []\r\n    //     criList.map((cri, index) => {\r\n    //         if (index < (criList.length - 1)) {\r\n    //             cri = { ...cri, isChecked: true, targetValue: 0, weight: Math.round(100 / criList.length) }\r\n    //         } else {\r\n    //             cri = {\r\n    //                 ...cri,\r\n    //                 isChecked: true,\r\n    //                 targetValue: 0,\r\n    //                 weight: 100 - (Math.round(100 / criList.length) * (criList.length - 1))\r\n    //             }\r\n    //         }\r\n    //         newCriteria.push(cri)\r\n    //     })\r\n    //     setKPI({ ...KPI, criteria: newCriteria, kpis: [{ ...kpis, criteria: newCriteria }] })\r\n\r\n    //     // if (!myCriteria?.targetValue || !myCriteria?.weight) {\r\n    //     //     setMyCriteria(newCriteria)\r\n    //     // }\r\n    //     // return newCriteria\r\n    // }\r\n    // useEffect(() => {\r\n    //     refractorCriteria()\r\n    // }, []);\r\n    // setMyCriteria(refractorCriteria)\r\n    // const [myCriteria, setMyCriteria] = useState(KPI.criteria?.targetValue === undefined ? refractorCriteria : KPI.criteria)\r\n\r\n    // console.log('outside ----- myCriteria: ', myCriteria);\r\n\r\n    // if (!myCriteria?.targetValue || !myCriteria?.weight) {\r\n    //     setMyCriteria(refractorCriteria)\r\n    // }\r\n\r\n    const calculateSuggestedWeight = (listCriteria) => {\r\n        let myCriteria = []\r\n\r\n        // Re-calculate suggested weight\r\n        listCriteria.map((cri, index) => {\r\n            if (index < (listCriteria.length - 1)) {\r\n                cri = { ...cri, weight: Math.round(100 / listCriteria.length) } //isChecked: true, //ko cần cái này nữa\r\n            }\r\n            else {  // last item\r\n                cri = {\r\n                    ...cri,\r\n                    // isChecked: true,\r\n                    weight: 100 - (Math.round(100 / listCriteria.length) * (listCriteria.length - 1))\r\n                }\r\n            }\r\n            myCriteria.push(cri)\r\n        })\r\n\r\n        setKPI({ ...KPI, criteria: myCriteria, kpis: [{ ...kpis, criteria: myCriteria }] })\r\n    }\r\n\r\n    const handleTargetValueChange = (event, index) => {\r\n        const inputValue = event.target.value;\r\n        // console.log('inputValue = ', inputValue);\r\n        // console.log('editing row = ', row);\r\n\r\n        // const index = myCriteria.findIndex((cri) => cri.id === row.id)\r\n        // console.log('targetValue of index = ', index);\r\n        //const item ={...myCriteria[index],note: e.target.value}\r\n        let listCriteria = [...myCriteria]\r\n        listCriteria[index] = {\r\n            ...listCriteria[index],\r\n            targetValue: inputValue\r\n        }\r\n        setMyCriteria(listCriteria)\r\n        // myCriteria = [...listCriteria]\r\n        // console.log('handleTargetValueChange() ------ myCriteria = ', myCriteria);\r\n        setKPI({ ...KPI, criteria: listCriteria, kpis: [{ ...kpis, criteria: listCriteria }] })\r\n    }\r\n\r\n    const handleWeightChange = (event, index) => {\r\n        const inputValue = event.target.value;\r\n        // console.log('inputValue = ', inputValue);\r\n        let listCriteria = [...myCriteria]\r\n\r\n        listCriteria[index] = {\r\n            ...listCriteria[index],\r\n            weight: inputValue\r\n        }\r\n        setMyCriteria(listCriteria)\r\n        setKPI({ ...KPI, criteria: listCriteria })\r\n    }\r\n    // console.log('outside ------ myCriteria = ', myCriteria);\r\n\r\n    const handleRemove = (id) => {\r\n        const listCriteria = [...ArrayUtils.removeItem(myCriteria, 'id', id)]\r\n        setMyCriteria(listCriteria)\r\n        calculateSuggestedWeight(listCriteria)\r\n\r\n        // Vì trong calculateSuggestedWeight(listCriteria) đã xử lý hậu kỳ cái \"listCriteria\" và setKPI() rồi\r\n        // nên dưới này ko cần set lại \"listCriteria\" tiền xử lý (chưa calculate weight) nữa.\r\n        // setKPI({ ...KPI, criteria: listCriteria, kpis: [{ ...kpis, criteria: listCriteria }] })\r\n    }\r\n\r\n    return (\r\n        <Box display=\"flex\" flexDirection=\"column\" justifyItems=\"center\" alignItems=\"center\" className={classes.wrapper}>\r\n            <div className={classes.child}>\r\n                <TableContainer className={classes.container}>\r\n                    <Table className={classes.table} stickyHeader size=\"small\">\r\n                        <TableHead className={classes.tHead}>\r\n                            {previewColumns.map(col => (\r\n                                <TableCell key={col.key} width={col.width} className={classes.tHeadCell}>\r\n                                    {col.name}\r\n                                </TableCell>\r\n                            ))}\r\n                        </TableHead>\r\n                        <TableBody className={classes.tBody}>\r\n                            {criteria.map((cri, index) => (\r\n                                <TableRow key={cri.id} className={classes.tBodyRow}>\r\n                                    <TableCell className={classes.tBodyCell}>{index + 1}</TableCell>\r\n                                    <TableCell className={classes.tBodyCell}>{cri.name}</TableCell>\r\n                                    <TableCell className={classes.tBodyCellTextField}>\r\n                                        <TextField className={classes.txtTargetValue}\r\n                                            variant=\"outlined\" size=\"small\"\r\n                                            type=\"number\"\r\n                                            value={cri.targetValue}\r\n                                            onChange={(event) => handleTargetValueChange(event, index)}\r\n                                            InputProps={{\r\n                                                inputProps: { min: 0, max: 999999999999 }  // 999 tỷ 999 triệu 999 ngàn 999\r\n                                            }}\r\n                                        />\r\n                                    </TableCell>\r\n                                    <TableCell className={classes.tBodyCellTextField}>\r\n                                        {/* <div dir=\"rtl\"> */}\r\n                                        <TextField className={classes.txtWeight}\r\n                                            variant=\"outlined\" size=\"small\"\r\n                                            type=\"number\"\r\n                                            value={cri.weight}\r\n                                            onChange={(event) => handleWeightChange(event, index)}\r\n                                            InputProps={{\r\n                                                endAdornment: (\r\n                                                    <InputAdornment position=\"end\"> % </InputAdornment>\r\n                                                ),\r\n                                                inputProps: { min: 0, max: 100 }\r\n                                            }}\r\n                                        />\r\n                                        {/* </div> */}\r\n                                    </TableCell>\r\n                                    <TableCell className={classes.tBodyCell}>\r\n                                        <Tooltip title=\"Remove\" size=\"small\">\r\n                                            <IconButton onClick={() => handleRemove(cri?.id)}><MdDelete /></IconButton>\r\n                                        </Tooltip>\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            ))}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n            </div>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default Step2\r\n","import React, { useEffect, useState } from 'react'\r\nimport {\r\n    makeStyles,\r\n    Grid,\r\n    Box,\r\n    TableContainer,\r\n    Table,\r\n    TableHead,\r\n    TableCell,\r\n    TableBody,\r\n    TableRow,\r\n    TextField,\r\n    ListItem,\r\n    ListItemText,\r\n    Checkbox,\r\n    ListItemAvatar,\r\n    Avatar,\r\n    Typography,\r\n    FormControl,\r\n    FormControlLabel,\r\n} from '@material-ui/core'\r\nimport { MdCheckBox, MdCheckBoxOutlineBlank } from 'react-icons/md'\r\nimport { Autocomplete, AvatarGroup } from '@material-ui/lab'\r\nimport { useHistory } from 'react-router'\r\nimport { getAllSalesmen } from '../../KPIsServices';\r\nimport { KeyboardDatePicker, MuiPickersUtilsProvider } from 'mui-pickers-v3'\r\nimport DateFnsUtils from '@date-io/date-fns'\r\n// import * as ArrayUtils from '../../../../utils/Arrays'\r\nimport classes from './Step3.module.scss'\r\n\r\n//===============Set max-height for dropdown list===============\r\nconst ITEM_HEIGHT = 38\r\nconst ITEM_PADDING_TOP = 5\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT * 4 + ITEM_PADDING_TOP,\r\n        },\r\n    },\r\n}\r\n//==============================================================\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    itemPIC: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        padding: 0,\r\n        margin: 0,\r\n    },\r\n    itemTextPrimary: {\r\n        fontSize: '0.8rem',\r\n    },\r\n    itemTextSecondary: {\r\n        fontSize: '0.75rem',\r\n    },\r\n}))\r\n\r\nfunction Step3(props) {\r\n    const styles = useStyles()\r\n    const { KPI, setKPI } = props\r\n    const { criteria, users, kpis } = KPI\r\n    const history = useHistory()\r\n    const [listKPIs, setListKPIs] = useState(kpis)\r\n    // const [myCriteria, setMyCriteria] = useState(criteria)\r\n    const [startDate, setStartDate] = useState(KPI?.startDate)\r\n    const [endDate, setEndDate] = useState(KPI?.endDate)\r\n\r\n    const [salesmen, setSalesmen] = useState([])\r\n    const [staffs, setStaffs] = useState(users) // list đc chọn\r\n    const [checkAll, setCheckAll] = useState(false)\r\n    // const [previewKPIs, setPreviewKPIs] = useState([])\r\n\r\n    const getSalesmen = (searchKey) => {\r\n        getAllSalesmen({ key: searchKey })\r\n            .then((data) => {\r\n                setSalesmen(data)\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n            })\r\n    }\r\n    useEffect(() => {\r\n        getSalesmen()\r\n        // return () => setTasks([])\r\n    }, [])\r\n    const totalSize = salesmen.length;\r\n\r\n    const generateListKPIs = (listStaffs) => {\r\n        let arrKPIs = []\r\n        let objKPI = {}\r\n        objKPI = { ...objKPI, criteria: criteria }\r\n\r\n        listStaffs.forEach(staff => {\r\n            objKPI = { ...objKPI, username: staff.username }\r\n            arrKPIs.push(objKPI)\r\n        });\r\n        console.log('Sau khi add staffs: arrKPIs = ', arrKPIs);\r\n\r\n        setListKPIs(arrKPIs)\r\n        setKPI({ ...KPI, kpis: arrKPIs, users: listStaffs })\r\n    }\r\n\r\n    useEffect(() => {\r\n        generateListKPIs([])\r\n    }, []);\r\n\r\n    // if (!myCriteria?.targetValue || !myCriteria?.weight) {\r\n    //     setMyCriteria(refractorCriteria)\r\n    // }\r\n    // console.log('Step 3 ------ myCriteria = ', myCriteria);\r\n    console.log('Step 3 ------ listKPIs = ', kpis?.criteria);\r\n\r\n    console.log('Step 3: kpi = ', KPI)\r\n\r\n    const handleTargetValueChange = (event, rowIndex, criIndex) => {\r\n        const inputValue = event.target.value;\r\n        console.log('inputValue = ', inputValue);\r\n        console.log(`Edit at [${rowIndex}, ${criIndex}]`);\r\n\r\n        let newListKPIs = [...listKPIs]                         // table\r\n        let editingRow = newListKPIs[rowIndex]                  // row\r\n        let editingListCriteria = [...editingRow.criteria]      // column\r\n        // let editingCriteria = editingListCriteria[criIndex]\r\n\r\n        // console.log('editingRow: ', editingRow);\r\n        // console.log('editingCriteria: ', editingCriteria);\r\n\r\n        // Tách item ra khỏi mảng để edit\r\n        editingListCriteria[criIndex] = {       // editingCriteria          // cell\r\n            ...editingListCriteria[criIndex],   // ...editingCriteria\r\n            targetValue: inputValue\r\n        }\r\n        // editingListCriteria[criIndex] = editingCriteria // sau đó đổ item đó vô lại mảng (replace)\r\n        newListKPIs[rowIndex] = {               // editingRow\r\n            ...newListKPIs[rowIndex],           // ...editingRow\r\n            criteria: editingListCriteria\r\n        }\r\n        // console.log('new editingCriteria: ', editingCriteria);\r\n        console.log('newListKPIs: ', newListKPIs);\r\n\r\n        // newListKPIs[rowIndex] = {\r\n        //     ...newListKPIs[rowIndex],\r\n        //     criteria: [...listCriteria, [criIndex]]\r\n        // }\r\n        // setMyCriteria(editingListCriteria)\r\n        setListKPIs(newListKPIs)\r\n        setKPI({ ...KPI, criteria: editingListCriteria, kpis: newListKPIs })\r\n    }\r\n\r\n    const handleStartDateChange = (newDate) => {\r\n        setStartDate(newDate)\r\n        setKPI({ ...KPI, startDate: newDate })\r\n    }\r\n\r\n    const handleEndDateChange = (newDate) => {\r\n        setEndDate(newDate)\r\n        setKPI({ ...KPI, endDate: newDate })\r\n    }\r\n\r\n    const handleSalesmenChange = (event, selectedSalesmen) => {\r\n        setStaffs(selectedSalesmen)\r\n        console.log('selectedSalesmen = ', selectedSalesmen);\r\n        setKPI({ ...KPI, users: selectedSalesmen })\r\n        generateListKPIs(selectedSalesmen)\r\n        if (selectedSalesmen.length === totalSize)\r\n            setCheckAll(true)\r\n        else setCheckAll(false)\r\n        // selectedSalesmen.forEach(option => {\r\n        //     setSalesmen([...ArrayUtils.removeItem(salesmen, 'username', option.username)])\r\n        // });\r\n    }\r\n\r\n    const handleCheckedAllChange = (event) => {\r\n        const isChecked = event.target.checked\r\n        setCheckAll(isChecked)\r\n        if (isChecked) {\r\n            setStaffs(salesmen)\r\n            setKPI({ ...KPI, users: salesmen })\r\n            generateListKPIs(salesmen)\r\n        }\r\n        else {\r\n            setStaffs([])\r\n            setKPI({ ...KPI, users: [] })\r\n            generateListKPIs([])\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Box display=\"flex\" flexDirection=\"column\" justifyItems=\"center\" alignItems=\"center\" className={classes.wrapper}>\r\n            <Box display=\"flex\" flexDirection=\"row\" className={classes.child}>\r\n                <Grid item xs={12} sm={6} md={3} lg={2} className={classes.date}>\r\n                    <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                        <KeyboardDatePicker\r\n                            format=\"dd/MM/yyyy\"\r\n                            allowKeyboardControl\r\n                            disableToolbar\r\n                            variant=\"inline\"\r\n                            inputVariant=\"outlined\"\r\n                            value={startDate}\r\n                            onChange={(newDate) => handleStartDateChange(newDate)}\r\n                        />\r\n                    </MuiPickersUtilsProvider>\r\n                </Grid>\r\n                <Grid item xs={12} sm={6} md={3} lg={2} className={classes.date}>\r\n                    <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                        <KeyboardDatePicker\r\n                            format=\"dd/MM/yyyy\"\r\n                            allowKeyboardControl\r\n                            disableToolbar\r\n                            variant=\"inline\"  // for calendar (date picker)\r\n                            inputVariant=\"outlined\" // for TextField\r\n                            value={endDate}\r\n                            onChange={(newDate) => handleEndDateChange(newDate)}\r\n                        />\r\n                    </MuiPickersUtilsProvider>\r\n                </Grid>\r\n                <Grid item xs={12} sm={6} md={4} lg={3}>\r\n                    <Autocomplete\r\n                        multiple\r\n                        limitTags={0}\r\n                        noOptionsText=\"Cannot find Salesman\"\r\n                        disableCloseOnSelect\r\n                        value={staffs}\r\n                        onChange={(event, checkedSalesmen) =>\r\n                            handleSalesmenChange(event, checkedSalesmen)\r\n                        }\r\n                        options={salesmen}\r\n                        getOptionLabel={(salesman) =>\r\n                            salesman.fullName ? salesman.fullName : ''\r\n                        }\r\n                        getOptionSelected={(option, value) => option.username === value.username}\r\n                        renderInput={(params) => (\r\n                            <TextField\r\n                                {...params}\r\n                                label=\"Salesmen\"\r\n                                // margin=\"normal\"\r\n                                variant=\"outlined\"\r\n                                placeholder={staffs.length === 0 ? \"Search Salesman by name\" : \"\"}\r\n                            // onChange={onSearchSalesmenChange}\r\n                            // ref={params.InputProps.ref}\r\n                            />\r\n                        )}\r\n                        renderOption={(option, { selected }) => (\r\n                            <>\r\n                                <Checkbox\r\n                                    icon={<MdCheckBoxOutlineBlank />}\r\n                                    checkedIcon={<MdCheckBox />}\r\n                                    style={{ marginRight: 5 }}\r\n                                    checked={selected}\r\n                                />\r\n                                <div key={option.username} className={styles.itemPIC}>\r\n                                    <ListItemAvatar>\r\n                                        <Avatar src={option.avatar} />\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText\r\n                                        primary={option?.fullName ? option.fullName : ''}\r\n                                        secondary={option?.username ? option.username : ''}\r\n                                        classes={{\r\n                                            primary: styles.itemTextPrimary,\r\n                                            secondary: styles.itemTextSecondary\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                            </>\r\n                        )}\r\n                        renderTags={(value, getTagProps) => {\r\n                            if (value.length === totalSize) {\r\n                                return (\r\n                                    <Typography style={{ fontSize: '0.95rem', color: '#616161', fontStyle: 'italic' }}>Selected all salesmen</Typography>\r\n                                )\r\n                            } else {\r\n                                return (\r\n                                    <Typography style={{ fontSize: '0.95rem', color: '#616161', fontStyle: 'italic' }}>Selected {value.length} salesmen</Typography>\r\n                                )\r\n                            }\r\n                            // value.map((option, index) => (\r\n                            //     <Chip variant=\"outlined\" label={option} {...getTagProps({ index })} />\r\n                            // ))\r\n                        }}\r\n                    />\r\n                </Grid>\r\n                <Grid item xs={12} sm={12} md={2} lg={2} className={classes.avaGroup}>\r\n                    <FormControl className={classes.formControlCheckbox}>\r\n                        <FormControlLabel\r\n                            value={checkAll}\r\n                            control={\r\n                                <Checkbox color=\"secondary\"\r\n                                    checked={checkAll}\r\n                                    onChange={handleCheckedAllChange} />\r\n                            }\r\n                            label=\"Select all\"\r\n                            labelPlacement=\"end\"\r\n                        />\r\n                    </FormControl>\r\n                </Grid>\r\n                <Grid item xs={12} sm={12} md={2} lg={2} className={classes.avaGroup}>\r\n                    <AvatarGroup max={4}>\r\n                        {staffs.map(staff => (\r\n                            <Avatar key={staff.username} src={staff?.avatar} />\r\n                        ))}\r\n                    </AvatarGroup>\r\n                </Grid>\r\n            </Box>\r\n\r\n            <div className={classes.child}>\r\n                <TableContainer className={classes.container}>\r\n                    <Table className={classes.table} stickyHeader size=\"small\">\r\n                        <TableHead className={classes.tHead}>\r\n                            <TableRow className={classes.tBodyRow}>\r\n                                {/* <div className={classes.tHeadCellSticky} rowSpan={2}> */}\r\n                                <TableCell colSpan={2} style={{ backgroundColor: '#2a4865' }} />\r\n                                {/* <TableCell rowSpan={2} style={{ minWidth: 5, maxWidth: 5 }} className={classes.tHeadCell}>#</TableCell>\r\n                                <TableCell rowSpan={2} style={{ minWidth: 100, maxWidth: 250 }}\r\n                                    className={classes.tHeadCell}>Salesman</TableCell> */}\r\n                                {/* </div> */}\r\n                                <TableCell className={classes.tHeadCell} align=\"center\" colSpan={criteria.length}>Target Values</TableCell>\r\n                            </TableRow>\r\n                            <TableRow className={classes.tBodyRow}>\r\n                                <TableCell rowSpan={2} style={{ minWidth: 2, maxWidth: 2 }} className={classes.tHeadCell}>#</TableCell>\r\n                                <TableCell rowSpan={2} style={{ minWidth: 120, maxWidth: 150 }}\r\n                                    className={classes.tHeadCell}>Salesman</TableCell>\r\n                                {criteria?.map(cri => (\r\n                                    <TableCell key={cri.id} className={classes.tSubHeadCell} style={{ minWidth: 80, maxWidth: 100 }}>\r\n                                        {cri.name}\r\n                                    </TableCell>\r\n                                ))}\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody className={classes.tBody}>\r\n                            {users.map((salesman, rowIndex) => (\r\n                                <TableRow key={salesman.username} className={classes.tBodyRow}>\r\n                                    <TableCell className={classes.tBodyCell} style={{ minWidth: 2, maxWidth: 2 }}>{rowIndex + 1}</TableCell>\r\n                                    <TableCell className={classes.tBodyCell} style={{ minWidth: 120, maxWidth: 150 }}>\r\n                                        <ListItem className={styles.itemPIC}>\r\n                                            {/* <ListItemAvatar>\r\n                                                <Avatar src={salesman?.avatar} />\r\n                                            </ListItemAvatar> */}\r\n                                            <ListItemText\r\n                                                className={classes.picName}\r\n                                                primary={salesman.fullName}\r\n                                                secondary={salesman.username}\r\n                                                classes={{\r\n                                                    primary: styles.itemTextPrimary,\r\n                                                    secondary: styles.itemTextSecondary,\r\n                                                }}\r\n                                            />\r\n                                        </ListItem>\r\n                                    </TableCell>\r\n                                    {kpis[rowIndex]?.criteria?.map((cri, criIndex) => (\r\n                                        <TableCell key={cri.id} className={classes.tBodyCellTextField} style={{ minWidth: 80, maxWidth: 100 }}>\r\n                                            <TextField className={classes.txtTargetValue}\r\n                                                variant=\"outlined\" size=\"small\"\r\n                                                type=\"number\"\r\n                                                value={cri.targetValue}\r\n                                                onChange={(event) => handleTargetValueChange(event, rowIndex, criIndex)}\r\n                                                InputProps={{\r\n                                                    inputProps: { min: 0, max: 999999999999 }  // 999 tỷ 999 triệu 999 ngàn 999\r\n                                                }}\r\n                                            />\r\n                                        </TableCell>\r\n                                    ))}\r\n                                </TableRow>\r\n                            ))}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n            </div>\r\n        </Box >\r\n    )\r\n}\r\n\r\nexport default Step3\r\n","import React, { useState } from 'react'\r\nimport {\r\n    Dialog,\r\n    IconButton,\r\n    DialogTitle,\r\n    Typography,\r\n    withStyles,\r\n    Button,\r\n    DialogContent,\r\n    DialogActions,\r\n    makeStyles,\r\n    Stepper,\r\n    Step,\r\n    StepLabel,\r\n    StepConnector,\r\n} from '@material-ui/core'\r\nimport { MdClose } from 'react-icons/md'\r\nimport { Consts } from '../DialogConfig'\r\n// import CreateKPISheetForm from './CreateKPISheetForm'\r\nimport { steps } from './CreateKPISheetConfig'\r\nimport { calculateSchoolYear } from '../../../../utils/DateTimes'\r\nimport ConfirmSave from '../ConfirmSave/ConfirmSave'\r\nimport Step1 from \"./Step1\";\r\nimport Step2 from \"./Step2\";\r\nimport Step3 from \"./Step3\";\r\nimport classes from './CreateKPISheet.module.scss'\r\n\r\nconst stylesTitle = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n})\r\n\r\nconst DialogTitleWithIconClose = withStyles(stylesTitle)((props) => {\r\n    const { children, classes, onClose, ...other } = props\r\n    return (\r\n        <DialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton\r\n                    aria-label=\"close\"\r\n                    className={classes.closeButton}\r\n                    onClick={onClose}\r\n                >\r\n                    <MdClose />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    )\r\n})\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    // Stepper\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    backButton: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    // instructions: {\r\n    //     marginTop: theme.spacing(1),\r\n    //     marginBottom: theme.spacing(1),\r\n    // },\r\n    completedStep: {\r\n        color: '#4caf50 !important'\r\n    },\r\n}))\r\n\r\nfunction CreateKPISheet(props) {\r\n    const styles = useStyles()\r\n    const { open, onClose, refreshAPI } = props     //, setNotify\r\n    const { headers, operations } = Consts\r\n    const [openConfirmDialog, setOpenConfirmDialog] = useState(false);\r\n\r\n    // Object KPI này chỉ phục vụ cho việc lưu trữ state truyền qua lại xử lý trên form này,\r\n    // nó ko phải là object để truyền xuống API. Để gửi trong API cần customise lại.\r\n    const defaultKPI = {\r\n        groupName: `KPI mùa Sales hè <${calculateSchoolYear()}>`,\r\n        description: '',\r\n        criteria: [],\r\n        startDate: new Date(),\r\n        endDate: new Date(new Date().getFullYear(), 8, 30), //30-09-2021\r\n        users: [],  // { username: '' }\r\n        kpis: []\r\n        // kpis: [{\r\n        //     criteria: [{\r\n        //         criteriaId: 0,\r\n        //         actualValue: 0,\r\n        //         targetValue: 0,\r\n        //         weight: 0\r\n        //     }],\r\n        //     username: ''\r\n        // }]\r\n    }\r\n    const [KPI, setKPI] = useState(defaultKPI)\r\n\r\n    const getStepContent = (step, KPI, setKPI) => {\r\n        switch (step) {\r\n            case 0:\r\n                return (\r\n                    <Step1 KPI={KPI} setKPI={setKPI} />\r\n                )\r\n            case 1:\r\n                return (\r\n                    <Step2 KPI={KPI} setKPI={setKPI} />\r\n                )\r\n            case 2:\r\n                return (\r\n                    <Step3 KPI={KPI} setKPI={setKPI} />\r\n                )\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    //========================Stepper handler========================\r\n    const [activeStep, setActiveStep] = useState(0);\r\n    const handleNext = () => {\r\n        setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n        console.log('Next button: KPI = ', KPI);\r\n        // setKPI(KPI)\r\n    };\r\n\r\n    const handleBack = () => {\r\n        setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n        console.log('Back button: KPI = ', KPI);\r\n        // setKPI(KPI)\r\n    };\r\n\r\n    const handleCloseDialog = () => {\r\n        setKPI(defaultKPI)\r\n        setActiveStep(0)\r\n        onClose()\r\n    }\r\n\r\n    // const handleReset = () => {\r\n    //     setActiveStep(0);\r\n    //     setKPI(defaultKPI)\r\n    // };\r\n    //================================================================\r\n\r\n    // const handleCloseDialog = () => {\r\n    //     onClose()\r\n    //     setActiveStep(0)\r\n    //     setKPI(defaultKPI)\r\n    // }\r\n\r\n    return (\r\n        <Dialog\r\n            open={open}\r\n            onClose={handleCloseDialog}\r\n            maxWidth=\"lg\"\r\n            fullWidth\r\n            // component=\"form\"\r\n            className={classes.dialog}\r\n        >\r\n            <DialogTitleWithIconClose onClose={handleCloseDialog}>\r\n                {headers.create}\r\n            </DialogTitleWithIconClose>\r\n            <DialogContent className={classes.wrapper}>\r\n                <div className={styles.root}>\r\n                    <Stepper activeStep={activeStep} >\r\n                        {steps.map((label) => (\r\n                            <Step key={label}>\r\n                                <StepLabel StepIconProps={{\r\n                                    classes: { completed: styles.completedStep }\r\n                                }}>\r\n                                    {label}\r\n                                </StepLabel>\r\n                            </Step>\r\n                        ))}\r\n                    </Stepper>\r\n                    <div>\r\n                        {activeStep < steps.length && (\r\n                            <div>\r\n                                {getStepContent(activeStep, KPI, setKPI)}\r\n                                {/* <Typography className={classes.instructions}>{ }</Typography> */}\r\n                                {/* <div>\r\n                                    <Button\r\n                                        disabled={activeStep === 0}\r\n                                        onClick={handleBack}\r\n                                        className={classes.backButton}\r\n                                    >\r\n                                        Back\r\n                                    </Button>\r\n                                    {activeStep === steps.length - 1 ? (    //activeStep === steps[2]\r\n                                        <Button variant=\"contained\" color=\"secondary\" onClick={handleNext} setOpenConfirmDialog={() => setOpenConfirmDialog(true)}>\r\n                                            Finish\r\n                                        </Button>\r\n                                    ) : activeStep === steps[0] ? (\r\n                                        <Button variant=\"contained\" color=\"secondary\" onClick={handleNext} disabled={KPI.criteria.length === 0}>\r\n                                            Next\r\n                                        </Button>\r\n                                    ) : (   //activeStep === steps[1]\r\n                                        <Button variant=\"contained\" color=\"secondary\" onClick={handleNext}>\r\n                                            Next\r\n                                        </Button>\r\n                                    )}\r\n                                </div> */}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <div>\r\n                    {activeStep === steps.length ? (\r\n                        <div>\r\n                            {/* <Typography className={classes.instructions}>\r\n                            Please click on \"Save\" button below to\r\n                            </Typography> */}\r\n                            <Button variant=\"text\" onClick={() => setActiveStep(0)}>Reset</Button>\r\n                        </div>\r\n                    ) : (\r\n                        <div>\r\n                            <Button disabled={activeStep === 0} onClick={handleBack} className={classes.backButton}>\r\n                                Back\r\n                            </Button>\r\n                            {activeStep === steps.length - 1 ? (    //activeStep === steps[2]\r\n                                <>\r\n                                    <Button variant=\"contained\" color=\"secondary\" onClick={() => setOpenConfirmDialog(true)}>\r\n                                        Finish\r\n                                    </Button>\r\n                                    <ConfirmSave\r\n                                        open={openConfirmDialog}\r\n                                        onClose={() => {\r\n                                            setOpenConfirmDialog(false) // close confirmDialog\r\n                                            // onClose()   // close createDialog\r\n                                        }}\r\n                                        onCloseCreateDialog={handleCloseDialog}\r\n                                        KPI={KPI}\r\n                                        refreshPage={refreshAPI}\r\n                                    />\r\n                                </>\r\n                            ) : activeStep === steps[0] ? (\r\n                                <Button variant=\"contained\" color=\"secondary\" onClick={handleNext} disabled={KPI.criteria.length === 0}>\r\n                                    Next\r\n                                </Button>\r\n                            ) : (   //activeStep === steps[1]\r\n                                <Button variant=\"contained\" color=\"secondary\" onClick={handleNext}>\r\n                                    Next\r\n                                </Button>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default CreateKPISheet\r\n","import React, { useRef, useState } from 'react'\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles'\r\nimport {\r\n    Accordion,\r\n    AccordionSummary,\r\n    AccordionDetails,\r\n    Typography,\r\n    Grid,\r\n    Box,\r\n    Button,\r\n    Tooltip,\r\n    FormControl,\r\n    InputLabel,\r\n    Select,\r\n    MenuItem,\r\n} from '@material-ui/core'\r\nimport { MdExpandMore, MdFilterList, MdAdd } from 'react-icons/md'\r\nimport { SearchFields } from '../../../../components'\r\nimport Chips from './Chips/Chips'\r\nimport * as ReducerActions from '../../../../constants/ActionTypes'\r\nimport { useKPI } from '../../hooks/KPIContext'\r\nimport {\r\n    KPI_STATUS_FILTER\r\n} from '../../../../constants/Filters'\r\nimport { Consts } from '../../KPIsConfig'\r\nimport CreateKPISheet from '../../dialogs/CreateKPISheet/CreateKPISheet';\r\nimport { roleNames } from '../../../../constants/Generals'\r\nimport { useAuth } from '../../../../hooks/AuthContext';\r\nimport styles from './Filters.module.scss'\r\n\r\n//===============Set max-height for dropdown list===============\r\nconst ITEM_HEIGHT = 38\r\nconst ITEM_PADDING_TOP = 5\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT * 4 + ITEM_PADDING_TOP,\r\n        },\r\n    },\r\n}\r\n//==============================================================\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 160,\r\n    },\r\n    flexBox: {\r\n        padding: 0,\r\n    },\r\n    flexItem: {\r\n        padding: 0,\r\n    },\r\n    option: {\r\n        fontSize: '0.875rem',\r\n    },\r\n    btn: {\r\n        padding: '0.5rem',\r\n        margin: '0 0.3rem',\r\n        borderRadius: '8px',\r\n        // minWidth: 3, // minHeight: 0, // lineHeight: 0,\r\n    },\r\n    root: {},\r\n    menuItemRoot: {\r\n        '&$menuItemSelected': { backgroundColor: 'rgba(0, 0, 0, 0.08)' },\r\n        '&$menuItemSelected:focus': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.12)',\r\n        },\r\n        '&$menuItemSelected:hover': {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.04);',\r\n        },\r\n    },\r\n    menuItemSelected: {},\r\n    autoComplete: {\r\n        width: 260,\r\n        marginLeft: '0.5rem',\r\n    },\r\n    itemPIC: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        padding: 0,\r\n        margin: 0,\r\n    },\r\n    itemTextPrimary: {\r\n        fontSize: '0.875rem',\r\n    },\r\n}))\r\n\r\nconst MuiAccordion = withStyles({\r\n    root: {\r\n        backgroundColor: 'rgb(238, 238, 238)',\r\n        borderRadius: '8px',\r\n        marginBottom: '0.5rem',\r\n        boxShadow: 'none',\r\n        '&:not(:last-child)': {\r\n            borderBottom: 0,\r\n            borderRadius: '8px',\r\n        },\r\n        '&:before': {\r\n            display: 'none',\r\n        },\r\n        '&$expanded': {\r\n            margin: 'auto',\r\n            borderRadius: '8px',\r\n        },\r\n    },\r\n    expanded: {},\r\n})(Accordion)\r\n\r\nconst MuiAccordionSummary = withStyles({\r\n    root: {\r\n        height: 41.5,\r\n        minHeight: 35,\r\n        maxWidth: 120,\r\n        backgroundColor: 'rgb(255, 255, 255)',\r\n        fontWeight: 'bold',\r\n        // borderBottom: '1px solid rgba(0, 0, 0, .125)',\r\n        // boxShadow: '1px 1px 2px gray',\r\n        boxShadow: '0 4px 6px -6px #000', // 0px 1px 1px gray\r\n        borderRadius: '8px',\r\n        paddingButtom: 0,\r\n        '&$expanded': {\r\n            minHeight: 35,\r\n            borderRadius: '8px',\r\n        },\r\n    },\r\n    content: {\r\n        '&$expanded': {\r\n            margin: '12px 0',\r\n        },\r\n    },\r\n    expanded: {},\r\n})(AccordionSummary)\r\n\r\nconst MuiAccordionDetails = withStyles((theme) => ({\r\n    root: {\r\n        backgroundColor: 'rgb(255, 255, 255)',\r\n        margin: '0.5rem 0',\r\n        padding: '0.3rem 0 1rem 2rem',\r\n        borderRadius: '8px',\r\n    },\r\n}))(AccordionDetails)\r\n\r\nfunction Filters(props) {\r\n    const classes = useStyles()\r\n    const { refreshAPI } = props\r\n    const { operations, filters } = Consts\r\n    const { user } = useAuth()\r\n\r\n    //Use states which have been declared in the KPIContext\r\n    const { params, dispatchParams, criteria, status, kpiStatuses, setFilter } = useKPI()\r\n\r\n    const [openCreateDialog, setOpenCreateDialog] = useState(false)\r\n\r\n    //================Handle useState() of filters================\r\n    const handleKPIStatusChange = (event) => {\r\n        const selectedStatus = event.target.value\r\n        setFilter(KPI_STATUS_FILTER, selectedStatus)\r\n        dispatchParams({\r\n            type: ReducerActions.FILTER_KPI_STATUS,\r\n            payload: {\r\n                filterType: KPI_STATUS_FILTER,\r\n                filterValue: selectedStatus,\r\n            },\r\n        })\r\n    }\r\n\r\n    //==============Handle action delete from Chips and btn \"Clear all\"==============\r\n    const handleChipsRemoved = (removedFilters) => {\r\n        removedFilters.forEach((removedFilter) => {\r\n            switch (removedFilter) {\r\n                case KPI_STATUS_FILTER:\r\n                    setFilter(KPI_STATUS_FILTER, '')\r\n                    break\r\n                default:\r\n                    break\r\n            }\r\n        })\r\n    }\r\n\r\n    const generateChipsArray = (listFilters) => {\r\n        const listChips = []\r\n        for (const chip in listFilters) {\r\n            listChips.push(listFilters[chip])\r\n        }\r\n        return listChips\r\n    }\r\n    //===============================================================================\r\n\r\n    //=================Handle action enter / submit of SearchFields==================\r\n    const handleSearch = (keyword) => {\r\n        dispatchParams({\r\n            type: ReducerActions.ENTER_SEARCH_KEYWORD,\r\n            payload: keyword,\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <MuiAccordion>\r\n                <Box\r\n                    display=\"flex\"\r\n                    flexWrap=\"nowrap\"\r\n                    className={classes.flexBox}\r\n                >\r\n                    <Box className={classes.flexItem}>\r\n                        <MuiAccordionSummary expandIcon={<MdExpandMore />}>\r\n                            <MdFilterList className={styles.iconFilter} />{' '}\r\n                            &nbsp;\r\n                            <Typography>{operations.filter}</Typography>\r\n                        </MuiAccordionSummary>\r\n                    </Box>\r\n                    <Box flexGrow={1} className={classes.flexItem}>\r\n                        <Chips\r\n                            chips={generateChipsArray(params.listFilters)}\r\n                            dispatch={dispatchParams}\r\n                            handleChipsRemoved={handleChipsRemoved}\r\n                        />\r\n                    </Box>\r\n                    <Box className={classes.flexItem}>\r\n                        <SearchFields\r\n                            placeholder={operations.search.placeholder}\r\n                            onChange={handleSearch}\r\n                        />\r\n                    </Box>\r\n                    {user.roles[0] === roleNames.manager && (\r\n                        <Box className={classes.flexItem}>\r\n                            <Tooltip title={operations.create}>\r\n                                <Button\r\n                                    className={classes.btn}\r\n                                    variant=\"contained\"\r\n                                    color=\"secondary\"\r\n                                    onClick={() => setOpenCreateDialog(true)}\r\n                                >\r\n                                    <MdAdd fontSize=\"large\" />\r\n                                </Button>\r\n                            </Tooltip>\r\n                            <CreateKPISheet\r\n                                open={openCreateDialog}\r\n                                onClose={() => setOpenCreateDialog(false)}\r\n                                refreshPage={refreshAPI}\r\n                            />\r\n                        </Box>\r\n                    )}\r\n                </Box>\r\n                <MuiAccordionDetails>\r\n                    <Grid container>\r\n                        <Grid item xs={12} sm={6} md={4} lg={4}>\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel>{filters.status.title}</InputLabel>\r\n                                <Select\r\n                                    value={status || ''}\r\n                                    onChange={handleKPIStatusChange}\r\n                                    MenuProps={MenuProps}\r\n                                >\r\n                                    <MenuItem\r\n                                        value=\"\"\r\n                                        className={classes.option}\r\n                                        classes={{\r\n                                            root: classes.menuItemRoot,\r\n                                            selected: classes.menuItemSelected,\r\n                                        }}\r\n                                    >\r\n                                        All\r\n                                    </MenuItem>\r\n                                    {kpiStatuses?.map((status) => (\r\n                                        <MenuItem\r\n                                            key={status}\r\n                                            value={status}\r\n                                            className={classes.option}\r\n                                            classes={{\r\n                                                root: classes.menuItemRoot,\r\n                                                selected:\r\n                                                    classes.menuItemSelected,\r\n                                            }}\r\n                                        >\r\n                                            {status}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n                    </Grid>\r\n                </MuiAccordionDetails>\r\n            </MuiAccordion>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filters\r\n","import React from 'react'\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogTitle,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogActions,\r\n    withStyles,\r\n    Typography,\r\n    IconButton,\r\n} from '@material-ui/core'\r\nimport { disableKPIGroup } from '../../KPIsServices'\r\nimport { useKPI } from '../../hooks/KPIContext'\r\nimport { MdClose } from 'react-icons/md'\r\nimport { Consts, confirmDisableMessage } from '../DialogConfig'\r\nimport { useSnackbar } from 'notistack'\r\nimport classes from './ConfirmDisable.module.scss'\r\n\r\nconst stylesTitle = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n});\r\n\r\nconst DialogTitleWithIconClose = withStyles(stylesTitle)((props) => {\r\n    const { children, classes, onClose, ...other } = props;\r\n    return (\r\n        <DialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n                    <MdClose />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    );\r\n});\r\n\r\nfunction ConfirmDisable(props) {\r\n    const { open, onClose, kpiGroupId, kpiGroupName, refreshAPI } = props\r\n    const { headers, operations } = Consts\r\n    const { enqueueSnackbar } = useSnackbar()\r\n\r\n    const { params } = useKPI()\r\n    const { listFilters, column, direction, searchKey } = params\r\n\r\n    const handleDisable = () => {\r\n        disableKPIGroup(kpiGroupId).then((res) => {\r\n            enqueueSnackbar('Disable KPI group successfully', { variant: 'success' })\r\n            refreshAPI(column, direction, searchKey, listFilters)\r\n        }).catch((error) => {\r\n            console.log(error)\r\n            if (error.response) {\r\n                // history.push({\r\n                //     pathname: '/errors',\r\n                //     state: { error: error.response.status },\r\n                // })\r\n                enqueueSnackbar('Disable KPI group failed', { variant: 'error' })\r\n            }\r\n        })\r\n\r\n        onClose();\r\n    }\r\n\r\n    return (\r\n        <Dialog open={open} onClose={onClose}>\r\n            <DialogTitleWithIconClose onClose={onClose}>{headers.disable}</DialogTitleWithIconClose>\r\n            {/* <Divider /> */}\r\n            <DialogContent>\r\n                <DialogContentText className={classes.dialogText}>\r\n                    {confirmDisableMessage(kpiGroupName)}\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            {/* <Divider /> */}\r\n            <DialogActions>\r\n                <Button className={classes.btnDisable} onClick={handleDisable} autoFocus>\r\n                    {operations.disable}\r\n                </Button>\r\n                <Button onClick={onClose}>\r\n                    {operations.cancel}\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default React.memo(ConfirmDisable)","import React, { useState } from 'react'\r\nimport {\r\n    IconButton,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    Menu,\r\n    MenuItem,\r\n    Tooltip,\r\n} from '@material-ui/core'\r\nimport { Link, useRouteMatch } from 'react-router-dom'\r\nimport { MdMoreVert, MdInfo, MdDoNotDisturbOn } from 'react-icons/md'\r\nimport { useKPI } from '../../../hooks/KPIContext'\r\nimport { Consts } from '../../../KPIsConfig'\r\nimport { useAuth } from '../../../../../hooks/AuthContext'\r\n// import PropTypes from 'prop-types'\r\nimport classes from './MenuOptions.module.scss'\r\nimport { roleNames } from '../../../../../constants/Generals'\r\nimport ConfirmDisable from '../../../dialogs/ConfirmDisable/ConfirmDisable'\r\n\r\nfunction MenuOptions(props) {\r\n    const { data, refreshAPI } = props\r\n    const { menuItems } = Consts\r\n\r\n    const { params } = useKPI()\r\n    const { url } = useRouteMatch()\r\n    const { user } = useAuth()\r\n\r\n    const [anchorEl, setAnchorEl] = useState(null)\r\n    const [openConfirmDialog, setOpenConfirmDialog] = useState(false);\r\n\r\n    const stateData = {\r\n        model: data,\r\n        params: params,\r\n        // pathName: `${url}/${data.name}`,\r\n    }\r\n\r\n    const handleOpen = (event) => {\r\n        setAnchorEl(event.currentTarget)\r\n    }\r\n\r\n    const handleCloseMenus = () => {\r\n        setAnchorEl(null)\r\n    }\r\n\r\n    const handleOpenConfirmation = () => {\r\n        setAnchorEl(null)\r\n        setOpenConfirmDialog(true)\r\n    }\r\n\r\n    const renderDisableDialog = () => {\r\n        if (openConfirmDialog) {\r\n            return (\r\n                <ConfirmDisable\r\n                    open={openConfirmDialog}\r\n                    onClose={() => setOpenConfirmDialog(false)}\r\n                    kpiGroupId={data?.id}\r\n                    kpiGroupName={data?.groupName}\r\n                    refreshAPI={refreshAPI}\r\n                />\r\n            )\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Tooltip title=\"Actions\">\r\n                <IconButton color=\"primary\" onClick={handleOpen}>\r\n                    <MdMoreVert />\r\n                </IconButton>\r\n            </Tooltip>\r\n            <Menu\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={!!anchorEl}\r\n                onClose={handleCloseMenus}\r\n            >\r\n                <MenuItem\r\n                    onClick={handleCloseMenus}\r\n                    component={Link}\r\n                    to={{\r\n                        pathname: `${url}/${data?.id}`,\r\n                        state: { data: stateData },\r\n                    }}\r\n                >\r\n                    <ListItemIcon className={classes.itemIcon}>\r\n                        <MdInfo fontSize=\"large\" />\r\n                    </ListItemIcon>\r\n                    <ListItemText className={classes.itemText}>\r\n                        {menuItems.details.title}\r\n                    </ListItemText>\r\n                </MenuItem>\r\n                {user.roles[0] === roleNames.manager && (\r\n                    <div>\r\n                        <MenuItem onClick={handleOpenConfirmation}>\r\n                            <ListItemIcon className={classes.itemIcon}>\r\n                                <MdDoNotDisturbOn fontSize=\"large\" />\r\n                            </ListItemIcon>\r\n                            <ListItemText className={classes.itemText}>\r\n                                Disable\r\n                            </ListItemText>\r\n                        </MenuItem>\r\n                        {renderDisableDialog()}\r\n                    </div>\r\n                )}\r\n            </Menu>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(MenuOptions)\r\n\r\n// MenuOptions.propTypes = {\r\n//     data: PropTypes.object.isRequired,\r\n// }\r\n","import React from 'react'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\r\nimport {\r\n    TableContainer,\r\n    Table,\r\n    TableHead,\r\n    TableBody,\r\n    TableRow,\r\n    TableCell,\r\n    IconButton,\r\n    Chip,\r\n    TableSortLabel,\r\n    withStyles,\r\n    Avatar,\r\n} from '@material-ui/core'\r\nimport { useKPI } from '../../hooks/KPIContext'\r\nimport MenuOptions from './MenuOptions/MenuOptions'\r\nimport * as ReducerActions from '../../../../constants/ActionTypes'\r\nimport { kpiStatusNames, roleNames } from '../../../../constants/Generals'\r\nimport { Consts } from '../../KPIsConfig'\r\nimport Highlighter from 'react-highlight-words'\r\nimport { useAuth } from '../../../../hooks/AuthContext'\r\n// import PropTypes from 'prop-types'\r\nimport classes from './Tables.module.scss'\r\nimport { parseDateToString } from '../../../../utils/DateTimes'\r\nimport { AvatarGroup } from '@material-ui/lab'\r\n\r\nfunction SortableTableHeaders(props) {\r\n    const { columns, direction, column, onRequestSort, role } = props\r\n    const createSortHandler = (col, direction) => {\r\n        onRequestSort(col, direction)\r\n    }\r\n\r\n    const MuiTableSortLabel = withStyles({\r\n        root: {\r\n            color: 'white !important',\r\n            '&:hover': {\r\n                color: 'white !important',\r\n            },\r\n            '&$active': {\r\n                color: 'white !important',\r\n            },\r\n        },\r\n        active: {},\r\n        icon: {\r\n            color: 'white !important',\r\n        },\r\n    })(TableSortLabel)\r\n\r\n    return (\r\n        <TableHead>\r\n            <TableRow className={classes.tHead}>\r\n                {columns.map((col) => (\r\n                    <TableCell\r\n                        key={col.key}\r\n                        className={classes.tHeadCell}\r\n                        sortDirection={column === col.key ? direction : false}\r\n                        align={col.key === 'no' ? 'center' : 'left'}\r\n                        width={role !== roleNames.salesman ? col.width1 : col.width2}\r\n                    >\r\n                        {col?.sortable ? (\r\n                            <MuiTableSortLabel\r\n                                active={column === col.key}\r\n                                direction={column === col.key ? direction : 'asc'}\r\n                                onClick={() => createSortHandler(col, direction)}\r\n                            >\r\n                                {col.name}\r\n                            </MuiTableSortLabel>\r\n                        ) :\r\n                            col.name\r\n                        }\r\n                    </TableCell>\r\n                ))}\r\n            </TableRow>\r\n        </TableHead>\r\n    )\r\n}\r\n\r\n// SortableTableHeaders.propTypes = {\r\n//     columns: PropTypes.array.isRequired,\r\n//     direction: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n//     column: PropTypes.string.isRequired,\r\n//     onRequestSort: PropTypes.func.isRequired,\r\n// }\r\n\r\n// Customize component Table\r\nfunction Tables(props) {\r\n    const { columns, rows, refreshAPI } = props\r\n    const { messages } = Consts\r\n    const { user } = useAuth()\r\n\r\n    const { params, dispatchParams, direction, setDirection, column, setColumn } = useKPI()\r\n\r\n    // ====================Sorting====================\r\n    const onSortBy = (col, direction) => {\r\n        if (col.sortable) {\r\n            setDirection(direction === 'desc' ? 'asc' : 'desc')\r\n            setColumn(col.key)\r\n\r\n            dispatchParams({\r\n                type: ReducerActions.SORT_BY,\r\n                payload: {\r\n                    column: col.key,\r\n                    direction: direction,\r\n                },\r\n            })\r\n        }\r\n    }\r\n\r\n    const setKPIStatusChipColor = (status) => {\r\n        if (status === true) {\r\n            return <b style={{ color: '#1976d2' }}>{kpiStatusNames.applying}</b>\r\n            // return <Chip label={kpiStatusNames.applying} className={classes.chipApplying} />\r\n        } else if (status === false) {\r\n            return <b style={{ color: '#757575' }}>{kpiStatusNames.disable}</b>\r\n            // return <Chip label={kpiStatusNames.disable} />\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <TableContainer className={classes.container} component=\"div\">\r\n                <Table\r\n                    className={classes.table}\r\n                    stickyHeader\r\n                    size=\"small\"\r\n                    aria-label=\"sticky table\"\r\n                >\r\n                    <SortableTableHeaders\r\n                        columns={columns}\r\n                        direction={direction}\r\n                        column={column}\r\n                        onRequestSort={onSortBy}\r\n                        role={user.roles[0]}\r\n                    />\r\n\r\n                    <TableBody className={classes.tBody}>\r\n                        {rows?.length > 0 ? (\r\n                            rows.map((row, index) => (\r\n                                <TableRow\r\n                                    key={row?.id}\r\n                                    className={classes.tBodyRow}\r\n                                >\r\n                                    <TableCell className={classes.tableCell} align='center'>\r\n                                        {index + 1}\r\n                                    </TableCell>\r\n                                    <TableCell className={classes.tBodyCell}>\r\n                                        <Highlighter\r\n                                            highlightClassName=\"YourHighlightClass\"\r\n                                            searchWords={[params.searchKey]}\r\n                                            autoEscape={true}\r\n                                            textToHighlight={row?.groupName}\r\n                                        />\r\n                                    </TableCell>\r\n                                    {user.roles[0] !== roleNames.salesman &&\r\n                                        <TableCell className={classes.tBodyCell}>\r\n                                            <AvatarGroup max={5}>\r\n                                                {row?.size.map((avatar, index) => (\r\n                                                    <Avatar key={index} src={avatar} />\r\n                                                ))}\r\n                                            </AvatarGroup>\r\n                                        </TableCell>\r\n                                    }\r\n                                    <TableCell className={classes.tBodyCellDuration}>\r\n                                        {parseDateToString(row?.startDate, 'DD-MM-YYYY')}\r\n                                    </TableCell>\r\n                                    <TableCell className={classes.tBodyCellDuration}>\r\n                                        {parseDateToString(row?.endDate, 'DD-MM-YYYY')}\r\n                                    </TableCell>\r\n                                    <TableCell className={classes.tBodyCell}>\r\n                                        {row?.active !== null && setKPIStatusChipColor(row?.active)}\r\n                                    </TableCell>\r\n                                    <TableCell\r\n                                        className={classes.tBodyCell}\r\n                                        align=\"right\"\r\n                                    >\r\n                                        <MenuOptions data={row} refreshAPI={refreshAPI} />\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            ))\r\n                        ) : (\r\n                            <TableRow className={classes.tBodyRow}>\r\n                                <TableCell\r\n                                    className={classes.noRecord}\r\n                                    component=\"td\"\r\n                                    colSpan=\"100%\"\r\n                                >\r\n                                    {messages.notFound}\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        )}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Tables)","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { Filters, Tables } from './components'\r\nimport { getColumns } from './KPIsConfig'\r\nimport { useKPI } from './hooks/KPIContext'\r\nimport { getKPIGroups, getMyKPIGroups } from './KPIsServices'\r\nimport { Loading } from '../../components'\r\nimport { useAuth } from '../../hooks/AuthContext'\r\nimport { roleNames } from '../../constants/Generals'\r\nimport classes from './KPIs.module.scss'\r\n\r\nfunction KPIs() {\r\n    const history = useHistory()\r\n    const { user } = useAuth()\r\n    const columns = getColumns(user.roles[0])\r\n    const { params } = useKPI()\r\n    const { listFilters, column, direction, searchKey } = params\r\n\r\n    const [data, setData] = useState(null)\r\n\r\n    let isMounted = true\r\n    const refreshPage = (column = 'id', direction = 'desc', searchKey, listFilters) => {\r\n        getKPIGroups(column, direction, searchKey, listFilters).then((res) => {\r\n            if (isMounted) {\r\n                setData(res.data)\r\n                // console.log('KPIs nè: ', res.data)\r\n            }\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                history.push({\r\n                    pathname: '/errors',\r\n                    state: { error: error.response.status },\r\n                })\r\n            }\r\n        })\r\n    }\r\n    const getSalesmanKPIGroup = (column = 'id', direction = 'desc', searchKey, listFilters, username) => {\r\n        getMyKPIGroups(column, direction, searchKey, listFilters, username).then(data => {\r\n            if (isMounted) {\r\n                setData(data)\r\n                // console.log(`KPIs của ${username} nè: `, data)\r\n            }\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                history.push({\r\n                    pathname: '/errors',\r\n                    state: { error: error.response.status },\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (user.roles[0] === roleNames.salesman) {\r\n            getSalesmanKPIGroup(column, direction, searchKey, listFilters, user.username)\r\n        } else {\r\n            refreshPage(column, direction, searchKey, listFilters)\r\n        }\r\n        return () => {\r\n            isMounted = false\r\n            // setData(null)\r\n        }\r\n    }, [params])\r\n\r\n    if (!data) {\r\n        return <Loading />\r\n    }\r\n\r\n    return (\r\n        <div className={classes.panel}>\r\n            {/* <Fab size=\"medium\" variant=\"extended\" color=\"primary\" className={classes.fab}>\r\n                <MdAdd fontSize=\"large\" />&nbsp; Add KPI\r\n            </Fab> */}\r\n            <Filters className={classes.filter} refreshAPI={refreshPage} />\r\n            <Tables\r\n                className={classes.table}\r\n                columns={columns}\r\n                rows={data}\r\n                // totalRecord={data.totalElements}\r\n                // totalPage={data.totalPage}\r\n                refreshAPI={refreshPage}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default KPIs\r\n","import React, { useEffect, useState } from 'react'\r\nimport {\r\n    Dialog,\r\n    IconButton,\r\n    DialogTitle,\r\n    Typography,\r\n    withStyles,\r\n    DialogContent,\r\n    DialogActions,\r\n    Button,\r\n    Grid,\r\n    Card,\r\n    Avatar,\r\n    Box,\r\n    ListItemText,\r\n    makeStyles,\r\n    TextField,\r\n    Tooltip,\r\n} from '@material-ui/core'\r\nimport { MdClose } from 'react-icons/md'\r\n// import { Medal } from '../../../../assets/icons/index';\r\nimport { Consts } from '../DialogConfig'\r\nimport { getKPIDetails, updateKPIManual } from '../../KPIsServices';\r\nimport { useHistory } from 'react-router';\r\nimport { Loading } from '../../../../components';\r\nimport { parseDateToString } from '../../../../utils/DateTimes';\r\nimport { kpiDetailTypes, roleNames } from '../../../../constants/Generals';\r\nimport { RadarCharts } from '../../../../components/Charts';\r\nimport { useSnackbar } from 'notistack'\r\nimport { useAuth } from '../../../../hooks/AuthContext';\r\nimport classes from './SalesmanKPIs.module.scss'\r\n\r\nconst stylesTitle = (theme) => ({\r\n    root: {\r\n        margin: 0,\r\n        padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n        position: 'absolute',\r\n        right: theme.spacing(1),\r\n        top: theme.spacing(1),\r\n        color: theme.palette.grey[500],\r\n    },\r\n})\r\n\r\nconst DialogTitleWithIconClose = withStyles(stylesTitle)((props) => {\r\n    const { children, classes, onClose, ...other } = props\r\n    return (\r\n        <DialogTitle disableTypography className={classes.root} {...other}>\r\n            <Typography variant=\"h6\">{children}</Typography>\r\n            {onClose ? (\r\n                <IconButton\r\n                    aria-label=\"close\"\r\n                    className={classes.closeButton}\r\n                    onClick={onClose}\r\n                >\r\n                    <MdClose />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    )\r\n})\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    txtFullName: {\r\n        fontSize: '1.2rem',\r\n        fontWeight: 500\r\n    },\r\n    txtUsername: {\r\n        fontSize: '1rem',\r\n        fontWeight: 400\r\n    },\r\n    customHeight: {\r\n        height: '1.3rem',\r\n        padding: '0.1rem 0.25rem'\r\n    }\r\n}))\r\n\r\nfunction SalesmanKPIs(props) {\r\n    const styles = useStyles()\r\n    const { open, onClose, refreshPage, kpiInfo } = props    //, setNotify\r\n    const { kpiId, kpiGroupId, kpiGroupName, averageValues } = kpiInfo\r\n    const { headers, operations } = Consts\r\n\r\n    const { user } = useAuth()\r\n    const history = useHistory()\r\n    const { enqueueSnackbar } = useSnackbar()\r\n\r\n    const [kpiDetails, setKpiDetails] = useState(null);\r\n    // const { fullName, username, avatar, startDate, endDate, total, kpis } = kpiDetails\r\n    let autoKPIs = []\r\n    let manualKPIs = []\r\n    const [dataForChart, setDataForChart] = useState({\r\n        title: '',\r\n        criteria: [],\r\n        actualValues: [],\r\n        targetValues: [],\r\n        averageValues: averageValues\r\n    });\r\n\r\n    // console.log('outside - kpiDetails = ', kpiDetails);\r\n\r\n    let isMounted = true\r\n    const getKpiDetails = () => {\r\n        getKPIDetails(kpiId).then(data => {\r\n            if (isMounted) {\r\n                setKpiDetails(data)\r\n                // console.log('KPIDetails nè: ', data);\r\n                // divideKPIsByTypes(data?.kpis)\r\n            }\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                history.push({\r\n                    pathname: '/errors',\r\n                    state: { error: error.response.status },\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    const prepareDataForChart = () => {\r\n        let criteria = []\r\n        let actualValues = []\r\n        let targetValues = []\r\n        // let averageValues = []\r\n        // const averageValue = calculateAverageValues()\r\n\r\n        kpiDetails?.kpis.forEach(kpi => {\r\n            criteria.push(kpi?.cirteriaContent)\r\n            actualValues.push(parseFloat((kpi?.actualValue / kpi?.targetValue) * 100))\r\n            targetValues.push(100)  // 100%\r\n            // averageValues.push(averageValue)\r\n        });\r\n\r\n        // console.log(kpiDetails?.kpis);\r\n        // console.log(criteria);\r\n        // console.log(actualValues);\r\n        // console.log(targetValues);\r\n        // console.log(averageValues);\r\n\r\n        setDataForChart({\r\n            ...dataForChart,\r\n            title: `KPI of ${kpiDetails?.fullName} (divided by Criteria)`,\r\n            criteria: criteria,\r\n            actualValues: actualValues,\r\n            targetValues: targetValues,\r\n            // averageValues: averageValues\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        getKpiDetails()\r\n        // prepareDataForChart()\r\n\r\n        return () => {\r\n            isMounted = false\r\n        };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        prepareDataForChart()\r\n        // console.log('DataForChart = ', dataForChart);\r\n    }, [kpiDetails]);\r\n\r\n    if (!kpiDetails) {\r\n        return <Loading />\r\n    }\r\n\r\n    const divideKPIsByTypes = (listKPIs) => {\r\n        listKPIs.forEach(kpi => {\r\n            if (kpi?.type === kpiDetailTypes.auto) {\r\n                autoKPIs.push(kpi)\r\n            } else if (kpi?.type === kpiDetailTypes.manual) {\r\n                manualKPIs.push(kpi)\r\n            }\r\n        });\r\n    }\r\n    divideKPIsByTypes(kpiDetails?.kpis)\r\n\r\n    const getSalesmanRank = (kpiPoints) => {\r\n        if (kpiPoints > 100)\r\n            return 'S'\r\n        else if (kpiPoints > 80)\r\n            return 'A'\r\n        else if (kpiPoints > 50)\r\n            return 'B'\r\n        else if (kpiPoints > 0)\r\n            return 'C'\r\n        else return 'F'\r\n    }\r\n\r\n    const handleUpdateManualKPIActualValue = () => {\r\n        let models = []\r\n        let model = { id: 0, value: 0 }\r\n        kpiDetails?.kpis.map(kpiDetail => {\r\n            if (kpiDetail?.type === kpiDetailTypes.manual) {\r\n                model = {\r\n                    ...model,\r\n                    id: kpiDetail?.kpiDetailId,\r\n                    value: Number(kpiDetail?.actualValue),\r\n                }\r\n                models.push(model)\r\n                console.log('kpiGroupId = ', kpiGroupId);\r\n                console.log('edited list = ', models);\r\n            }\r\n        })\r\n        updateKPIManual(kpiId, models).then(res => {\r\n            refreshPage(kpiGroupId)\r\n\r\n            enqueueSnackbar('Updated Salesman evaluation successfully', { variant: 'success' })\r\n            onClose()\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                history.push({\r\n                    pathname: '/errors',\r\n                    state: { error: error.response.status },\r\n                })\r\n            }\r\n\r\n            enqueueSnackbar('Updated Salesman evaluation failed', { variant: 'error' })\r\n        })\r\n\r\n        // onClose()\r\n    }\r\n\r\n    const handleTargetValueChange = (event, currentKPIPoint) => {\r\n        let cloneKPIs = [...kpiDetails?.kpis]\r\n        const index = cloneKPIs.findIndex((obj) => obj.kpiDetailId === currentKPIPoint.kpiDetailId)\r\n        // console.log('found editing actualValue at ', index, cloneKPIs[index]);\r\n        cloneKPIs[index] = {\r\n            ...cloneKPIs[index],\r\n            actualValue: event.target.value\r\n        }\r\n        setKpiDetails({ ...kpiDetails, kpis: cloneKPIs })\r\n    }\r\n\r\n    return (\r\n        <Dialog\r\n            open={open}\r\n            onClose={onClose}\r\n            maxWidth=\"xl\"\r\n            fullWidth\r\n            // component=\"form\"\r\n            className={classes.dialog}\r\n        >\r\n            <DialogTitleWithIconClose onClose={onClose}>\r\n                {headers.salesmanKPI}\r\n            </DialogTitleWithIconClose>\r\n            <DialogContent>\r\n                <Grid container spacing={5}>\r\n                    {/**Titles */}\r\n                    <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                        <Box display=\"flex\" alignItems=\"start\" justifyContent=\"space-around\">\r\n                            <Box display=\"flex\" flexDirection=\"column\" className={classes.boxTitle}>\r\n                                <Typography variant=\"button\" color=\"textSecondary\">Salesman</Typography>\r\n                                <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\r\n                                    <Avatar src={kpiDetails?.avatar} variant=\"rounded\" className={classes.avatar} />\r\n                                    <ListItemText primary={kpiDetails?.fullName} secondary={kpiDetails?.username}\r\n                                        classes={{ primary: styles.txtFullName, secondary: styles.txtUsername }}\r\n                                        className={classes.salesmanName}\r\n                                    />\r\n                                </Box>\r\n                            </Box>\r\n                            <Box display=\"flex\" flexDirection=\"column\">\r\n                                <Typography variant=\"button\" color=\"textSecondary\">KPI Group</Typography>\r\n                                <ListItemText\r\n                                    primary={kpiGroupName}\r\n                                    secondary={`${parseDateToString(kpiDetails?.startDate, 'DD/MM/YYYY')} \r\n                                        ➜ ${parseDateToString(kpiDetails?.endDate, 'DD/MM/YYYY')}`}\r\n                                    classes={{ primary: styles.txtFullName, secondary: styles.txtUsername }}\r\n                                />\r\n                            </Box>\r\n                            <Box display=\"flex\" flexDirection=\"column\">\r\n                                <Typography variant=\"button\" color=\"textSecondary\">KPI Points</Typography>\r\n                                <Typography variant=\"h5\" className={classes.weight}>\r\n                                    {parseFloat(kpiDetails?.total).toFixed(2)}%\r\n                                </Typography>\r\n                            </Box>\r\n                        </Box>\r\n                    </Grid>\r\n\r\n                    {/**KPI Details */}\r\n                    <Grid item container spacing={3} xs={12} sm={12} md={12} lg={12}>\r\n                        {/**KPI Cards */}\r\n                        <Grid item container spacing={2} xs={12} sm={12} md={7} lg={7}>\r\n                            {/**Manual KPIs */}\r\n                            <Grid item xs={5} sm={5} md={5} lg={5} className={classes.KPIsZone}>\r\n                                {/* <Typography variant=\"button\" color=\"textSecondary\">Manual KPI</Typography> */}\r\n                                {manualKPIs.map((kpiPoint, index) => (\r\n                                    <Card key={index} variant=\"outlined\" className={classes.cardKPIs}>\r\n                                        <Grid container>\r\n                                            <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                                <Box display=\"flex\" flexDirection=\"row\">\r\n                                                    <Box flexGrow={1}>\r\n                                                        <Typography className={classes.criName}>{kpiPoint?.cirteriaContent}</Typography>\r\n                                                        {/* <Tooltip title=\"\">\r\n                                                    <div className={classes.icon}><MdInfo className={classes.iconInfo} /></div>\r\n                                                </Tooltip> */}\r\n                                                    </Box>\r\n                                                    <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\" className={classes.boxIcon}>\r\n                                                        <Typography variant=\"caption\" color=\"textSecondary\" className={classes.txtRank}>Class: </Typography>\r\n                                                        {/* <img src={Medal} className={classes.iconRank} />? */}\r\n                                                        <span className={classes.rankName}>\r\n                                                            {getSalesmanRank((kpiPoint?.actualValue / kpiPoint?.targetValue) * 100)}\r\n                                                        </span>\r\n                                                    </Box>\r\n                                                </Box>\r\n                                            </Grid>\r\n                                            <Grid item container xs={12} sm={12} md={12} lg={12}>\r\n                                                <Grid item xs={4} sm={4} md={4} lg={4} className={classes.divider}>\r\n                                                    <Typography variant=\"caption\" color=\"textSecondary\">Actual value</Typography>\r\n                                                    {user.roles[0] === roleNames.manager ? (\r\n                                                        <TextField className={classes.txtTargetValue}\r\n                                                            variant=\"outlined\" size=\"small\"\r\n                                                            type=\"number\"\r\n                                                            value={kpiPoint?.actualValue}\r\n                                                            onChange={(event) => handleTargetValueChange(event, kpiPoint)}\r\n                                                            InputProps={{\r\n                                                                inputProps: { min: 0, max: 100 },\r\n                                                                classes: { input: styles.customHeight }\r\n                                                            }}\r\n                                                        />\r\n                                                    ) : (\r\n                                                        <Typography className={classes.kpiValues}>\r\n                                                            {Intl.NumberFormat('vi-VN').format(kpiPoint?.actualValue)}\r\n                                                        </Typography>\r\n                                                    )}\r\n                                                </Grid>\r\n                                                <Grid item xs={4} sm={4} md={4} lg={4} className={classes.divider}>\r\n                                                    <Typography variant=\"caption\" color=\"textSecondary\">Target value</Typography>\r\n                                                    <Typography className={classes.kpiValues}>{kpiPoint?.targetValue}</Typography>\r\n                                                </Grid>\r\n                                                <Grid item xs={4} sm={4} md={4} lg={4} className={classes.noDivider}>\r\n                                                    <Typography variant=\"caption\" color=\"textSecondary\">KPI (%)</Typography>\r\n                                                    <Typography className={classes.kpiValues}>\r\n                                                        {parseFloat((kpiPoint?.actualValue / kpiPoint?.targetValue) * 100).toFixed(1)} %\r\n                                                    </Typography>\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </Card>\r\n                                ))}\r\n                            </Grid>\r\n                            {/**Auto KPIs */}\r\n                            <Grid item xs={6} sm={6} md={6} lg={6} className={classes.KPIsZone}>\r\n                                {/* <Typography variant=\"button\" color=\"textSecondary\">Performance KPI</Typography> */}\r\n                                {autoKPIs.map((kpi, index) => (\r\n                                    <Card key={index} variant=\"outlined\" className={classes.cardKPIs}>\r\n                                        <Grid container>\r\n                                            <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                                                <Box display=\"flex\" flexDirection=\"row\">\r\n                                                    <Box flexGrow={1}>\r\n                                                        <Typography className={classes.criName}>{kpi?.cirteriaContent}</Typography>\r\n                                                    </Box>\r\n                                                    <Box display=\"flex\" flexDirection=\"row\" alignItems=\"center\" className={classes.boxIcon}>\r\n                                                        <Typography variant=\"caption\" color=\"textSecondary\" className={classes.txtRank}>Class: </Typography>\r\n                                                        {/* <img src={Medal} className={classes.iconRank} /> */}\r\n                                                        <span className={classes.rankName}>\r\n                                                            {getSalesmanRank((kpi?.actualValue / kpi?.targetValue) * 100)}\r\n                                                        </span>\r\n                                                    </Box>\r\n                                                </Box>\r\n                                            </Grid>\r\n                                            <Grid item container xs={12} sm={12} md={12} lg={12}>\r\n                                                <Grid item xs={4} sm={4} md={4} lg={4} className={classes.divider}>\r\n                                                    <Typography variant=\"caption\" color=\"textSecondary\">Actual value</Typography>\r\n                                                    <Typography className={classes.kpiValues}>\r\n                                                        {Intl.NumberFormat('vi-VN').format(kpi?.actualValue)}\r\n                                                    </Typography>\r\n                                                </Grid>\r\n                                                <Grid item xs={4} sm={4} md={4} lg={4} className={classes.divider}>\r\n                                                    <Typography variant=\"caption\" color=\"textSecondary\">Target value</Typography>\r\n                                                    <Typography className={classes.kpiValues}>\r\n                                                        {Intl.NumberFormat('vi-VN').format(kpi?.targetValue)}\r\n                                                    </Typography>\r\n                                                </Grid>\r\n                                                <Grid item xs={4} sm={4} md={4} lg={4} className={classes.noDivider}>\r\n                                                    <Typography variant=\"caption\" color=\"textSecondary\">KPI (%)</Typography>\r\n                                                    <Typography className={classes.kpiValues}>\r\n                                                        {parseFloat((kpi?.actualValue / kpi?.targetValue) * 100).toFixed(1)} %\r\n                                                    </Typography>\r\n                                                </Grid>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </Card>\r\n                                ))}\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                        {/**Charts */}\r\n                        <Grid item xs={12} sm={12} md={5} lg={5}>\r\n                            <RadarCharts values={dataForChart} />\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </DialogContent>\r\n            {/* <Divider /> */}\r\n            <DialogActions>\r\n                <Button className={classes.btnSave} onClick={handleUpdateManualKPIActualValue} autoFocus>\r\n                    {operations.save}\r\n                </Button>\r\n                <Button onClick={onClose}>\r\n                    {operations.cancel}\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default SalesmanKPIs","import React, { useEffect, useState } from 'react'\r\nimport {\r\n    Avatar,\r\n    Box,\r\n    Card,\r\n    CardContent,\r\n    Grid,\r\n    Tooltip,\r\n    Typography,\r\n} from '@material-ui/core'\r\nimport { MdInfo } from 'react-icons/md';\r\nimport Carousel from 'react-material-ui-carousel'\r\n// import { updateKPI } from '../../KPIsServices'\r\nimport { Loading } from '../../../../components';\r\nimport { SimpleColumnCharts } from '../../../../components/Charts';\r\nimport { parseDateToString } from '../../../../utils/DateTimes';\r\nimport { chunkArray } from '../../../../utils/Arrays';\r\nimport SalesmanKPIs from '../../dialogs/SalesmanKPIs/SalesmanKPIs';\r\nimport classes from './KPIInfo.module.scss'\r\n\r\nfunction KPIInfo(props) {\r\n    const { KPI, refreshPage } = props\r\n    // const { headers, operations, fields } = Consts\r\n    const [openSalesmanKPIDialog, setOpenSalesmanKPIDialog] = useState(false)\r\n    const [kpiInfo, setKpiInfo] = useState(null)\r\n\r\n    let listCriteria = chunkArray(KPI?.kpiDetails, 4)\r\n    // console.log('listCriteria = ', listCriteria);\r\n\r\n    // console.log('kpiGroup details: ', KPI?.kpiDetails);\r\n\r\n    const getChartTitle = () => {\r\n        const today = new Date()\r\n        const endDate = new Date(KPI?.endDate)\r\n\r\n        if (today > endDate) {\r\n            return `KPI of Salesmen for [${KPI?.groupName}] (${parseDateToString(KPI?.startDate, 'DD/MM/YYYY')} ➜ ${parseDateToString(endDate, 'DD/MM/YYYY')})`\r\n        } else {\r\n            return `KPI of Salesmen for [${KPI?.groupName}] (${parseDateToString(KPI?.startDate, 'DD/MM/YYYY')} ➜ ${parseDateToString(today, 'DD/MM/YYYY')})`\r\n        }\r\n    }\r\n\r\n    const [dataForChart, setDataForChart] = useState({\r\n        title: getChartTitle(),\r\n        xAxis: [],\r\n        yAxis: []\r\n    });\r\n\r\n    const prepareDataForChart = () => {\r\n        let salesmen = []\r\n        let values = []\r\n        // chỉ lấy top 10 chứ ko lấy hết tất cả\r\n        if (KPI?.kpis.length < 10) {\r\n            KPI?.kpis.forEach(kpi => {\r\n                salesmen.push(kpi?.fullName)\r\n                values.push(kpi?.value)\r\n            });\r\n        } else {\r\n            for (let i = 0; i < 10; i++) {\r\n                salesmen.push(KPI?.kpis[i]?.fullName)\r\n                values.push(KPI?.kpis[i]?.value)\r\n            }\r\n        }\r\n        setDataForChart({\r\n            ...dataForChart,\r\n            xAxis: salesmen,\r\n            yAxis: values\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        prepareDataForChart()\r\n    }, [KPI]);\r\n\r\n    if (!KPI) {\r\n        return <Loading />\r\n    }\r\n\r\n    const handleViewSalesmanKPI = (e, kpiId, kpiGroupName, kpiDetails) => {\r\n        let averageValues = []\r\n        kpiDetails.forEach(detail => {\r\n            averageValues.push(detail?.value)\r\n        });\r\n        // console.log('handleViewSalesmanKPI ---- averageValues = ', averageValues);\r\n\r\n        setOpenSalesmanKPIDialog(true)\r\n        setKpiInfo({\r\n            kpiId: kpiId,\r\n            kpiGroupId: KPI?.id,\r\n            kpiGroupName: kpiGroupName,\r\n            averageValues: averageValues,\r\n        })\r\n    }\r\n\r\n    const getKPICriteriaTitle = (criteria) => {\r\n        console.log(criteria);\r\n        return (\r\n            <span>\r\n                <span>Weight: {criteria?.weight * 100}%</span><br />\r\n                <span>Description:</span><br />\r\n                <span>{criteria?.descrption}</span>\r\n            </span>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className={classes.panel}>\r\n            <Grid container spacing={4} className={classes.body}>\r\n                {/**Criteria */}\r\n                <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                    <Carousel animation=\"slide\" autoPlay={false}>\r\n                        {listCriteria.map((subListCriteria, time) => (\r\n                            // <CriteriaCard key={time} criteria={subListCriteria} />\r\n                            <Grid item container spacing={2} xs={12} sm={12} md={12} lg={12} key={time}>\r\n                                {subListCriteria.map((cri, index) => (\r\n                                    <Grid item xs={12} sm={6} md={4} lg={3} key={index}>\r\n                                        <Card key={index} className={classes.cardCriteria} variant=\"elevation\" elevation={5}>\r\n                                            <CardContent>\r\n                                                {/* <Grid container>\r\n                                                    <Grid item xs={12} sm={11} md={11} lg={11}> */}\r\n                                                <Box display=\"flex\" flexDirection=\"row\">\r\n                                                    <Box>\r\n                                                        <Typography className={classes.criName} gutterBottom>{cri?.criteria}</Typography>\r\n                                                    </Box>\r\n                                                    <Box>\r\n                                                        <Tooltip title={getKPICriteriaTitle(cri)} placement=\"right\">\r\n                                                            <div className={classes.icon}><MdInfo className={classes.iconInfo} /></div>\r\n                                                        </Tooltip>\r\n                                                    </Box>\r\n                                                </Box>\r\n                                                {/* </Grid>\r\n                                            <Grid item xs={12} sm={1} md={1} lg={1}>\r\n\r\n                                            </Grid> */}\r\n                                                {/* <Grid item xs={12} sm={12} md={12} lg={12}> */}\r\n                                                <Typography variant=\"h5\" component=\"h2\">{parseFloat(cri?.value).toFixed(2)} %</Typography>\r\n                                                {/* </Grid> */}\r\n                                                {/* </Grid> */}\r\n                                            </CardContent>\r\n                                        </Card>\r\n                                    </Grid>\r\n                                ))}\r\n                            </Grid>\r\n                        ))}\r\n                    </Carousel>\r\n                </Grid>\r\n\r\n                {/**List Salesman & Chart */}\r\n                <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                    <Grid container spacing={3}>\r\n                        {/**List Salesman */}\r\n                        <Grid item xs={12} sm={12} md={4} lg={4} className={classes.listSalesmen}>\r\n                            {KPI?.kpis.map((kpi, index) => (\r\n                                <Card key={index}\r\n                                    className={classes.cardSalesman}\r\n                                    variant=\"outlined\"\r\n                                    onClick={(e) => handleViewSalesmanKPI(e, kpi?.kpiId, KPI?.groupName, KPI?.kpiDetails)}\r\n                                >\r\n                                    <Grid container>\r\n                                        <Grid item xs={1} sm={1} md={1} lg={1} className={(index + 1 < 10) ? classes.indexSalesman1 : classes.indexSalesman2}>\r\n                                            <Typography>{index + 1}</Typography>\r\n                                        </Grid>\r\n                                        <Grid item xs={11} sm={9} md={9} lg={8}>\r\n                                            <Box display=\"flex\" alignItems=\"center\">\r\n                                                <Avatar src={kpi?.avatar} />\r\n                                                <Typography className={classes.salesmanName}>{kpi?.fullName}</Typography>\r\n                                            </Box>\r\n                                        </Grid>\r\n                                        <Grid item xs={12} sm={2} md={2} lg={3}>\r\n                                            <Typography className={classes.criWeight}>{parseFloat(kpi?.value).toFixed(2)} %</Typography>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Card>\r\n                            ))}\r\n                            {openSalesmanKPIDialog && (\r\n                                <SalesmanKPIs\r\n                                    open={openSalesmanKPIDialog}\r\n                                    onClose={() => setOpenSalesmanKPIDialog(false)}\r\n                                    refreshPage={refreshPage}\r\n                                    kpiInfo={kpiInfo}\r\n                                />\r\n                            )}\r\n                        </Grid>\r\n\r\n                        {/**Chart */}\r\n                        <Grid item xs={12} sm={12} md={8} lg={8}>\r\n                            <SimpleColumnCharts values={dataForChart} />\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid >\r\n            {/* <Snackbars notify={notify} setNotify={setNotify} /> */}\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default KPIInfo\r\n","import React, { useEffect, useState } from 'react'\r\nimport {\r\n    Box,\r\n    Divider,\r\n    Grid,\r\n    Paper,\r\n    Tooltip,\r\n    Typography,\r\n} from '@material-ui/core'\r\nimport { MdInfo } from 'react-icons/md';\r\nimport { Loading } from '../../../../components';\r\nimport { GaugeCharts, RadarCharts } from '../../../../components/Charts';\r\nimport { parseDateToString } from '../../../../utils/DateTimes';\r\nimport Carousel from 'react-material-ui-carousel'\r\nimport classes from './SalesmanKPIInfo.module.scss'\r\n\r\nfunction SalesmanKPIInfo(props) {\r\n    const { KPI } = props\r\n    // const { headers, operations, fields } = Consts\r\n    // const [openSalesmanKPIDialog, setOpenSalesmanKPIDialog] = useState(false)\r\n    // const [kpiInfo, setKpiInfo] = useState(null)\r\n\r\n    // const getChartTitle = () => {\r\n    //     const today = new Date()\r\n    //     const endDate = new Date(KPI?.endDate)\r\n\r\n    //     if (today > endDate) {\r\n    //         return `KPI of Salesmen for [${KPI?.groupName}] from ${parseDateToString(KPI?.startDate, 'DD/MM/YYYY')} ➜ ${parseDateToString(endDate, 'DD/MM/YYYY')}`\r\n    //     } else {\r\n    //         return `KPI of Salesmen for [${KPI?.groupName}] from ${parseDateToString(KPI?.startDate, 'DD/MM/YYYY')} ➜ ${parseDateToString(today, 'DD/MM/YYYY')}`\r\n    //     }\r\n    // }\r\n\r\n    console.log('KPI hien tai = ', KPI);\r\n\r\n    const [dataForRadarChart, setDataForRadarChart] = useState({\r\n        title: 'My KPIs (divided by Criteria)',\r\n        criteria: [],\r\n        actualValues: [],\r\n        targetValues: [],\r\n    });\r\n    // const [dataForGaugeChart, setDataForGaugeChart] = useState({\r\n    //     kpiName: '',\r\n    //     kpiPoints: 0\r\n    // });\r\n\r\n    const prepareDataForRadarChart = () => {\r\n        let criteria = []\r\n        let actualValues = []\r\n        let targetValues = []\r\n\r\n        KPI?.kpis.forEach(kpi => {\r\n            criteria.push(kpi?.cirteriaContent)\r\n            actualValues.push(parseFloat((kpi?.actualValue / kpi?.targetValue) * 100))  // x%\r\n            targetValues.push(100)  // 100%\r\n        });\r\n\r\n        setDataForRadarChart({\r\n            ...dataForRadarChart,\r\n            criteria: criteria,\r\n            actualValues: actualValues,\r\n            targetValues: targetValues,\r\n        })\r\n    }\r\n    // const prepareDataForGaugeChart = (kpi) => {\r\n    //     setDataForGaugeChart({\r\n    //         kpiName: kpi?.cirteriaContent,\r\n    //         kpiPoints: parseFloat((kpi?.actualValue / kpi?.targetValue) * 100)\r\n    //     })\r\n    // }\r\n\r\n    // console.log('dataForGaugeChart = ', dataForGaugeChart);\r\n\r\n    useEffect(() => {\r\n        prepareDataForRadarChart()\r\n        // prepareDataForGaugeChart()\r\n    }, []);\r\n\r\n    if (!KPI) {\r\n        return <Loading />\r\n    }\r\n\r\n    const getKPICriteriaTitle = (criteria) => {\r\n        console.log(criteria);\r\n        return (\r\n            <span>\r\n                <span>Weight: {criteria?.weight * 100}%</span><br />\r\n                <span>Description:</span><br />\r\n                <span>{criteria?.descrption}</span>\r\n            </span>\r\n        )\r\n    }\r\n\r\n    const shortenCurrencyValue = (value) => {\r\n        let val = Math.abs(value);\r\n        if (val >= 1000000000) {\r\n            val = (val / 1000000000).toFixed(2) + \"B ₫\";\r\n            return val\r\n        } else if (val >= 1000000) {\r\n            val = (val / 1000000).toFixed(1) + \"M ₫\";\r\n            return val;\r\n        } else\r\n            return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(value);\r\n    }\r\n    const getSalesmanRank = (kpiPoints) => {\r\n        if (kpiPoints > 100)\r\n            return 'S'\r\n        else if (kpiPoints > 80)\r\n            return 'A'\r\n        else if (kpiPoints > 50)\r\n            return 'B'\r\n        else if (kpiPoints > 0)\r\n            return 'C'\r\n        else return 'F'\r\n    }\r\n\r\n    return (\r\n        <div className={classes.panel}>\r\n            <Grid container spacing={2} className={classes.body}>\r\n                {/**My KPI Points */}\r\n                <Grid item container spacing={2} xs={12} sm={12} md={6} lg={7}>\r\n                    {/**List of Gauge charts KPIs in each criterion */}\r\n                    {KPI?.kpis.map(kpi => (\r\n                        <Grid item xs={12} sm={6} md={6} lg={4}>\r\n                            <Paper className={classes.gaugeChartCard} elevation={5}>\r\n                                {/* <div class=\"ribbon-1\"></div> */}\r\n                                <Box display=\"flex\" flexDirection=\"column\">\r\n                                    <GaugeCharts kpiName={kpi?.cirteriaContent} kpiPoints={parseFloat((kpi?.actualValue / kpi?.targetValue) * 100).toFixed(1)} />\r\n                                    <Divider className={classes.divider} />\r\n                                    <Grid container>\r\n                                        <Grid xs={9} sm={9} md={9} lg={9} style={{ borderRight: '1px solid #9e9e9e' }}>\r\n                                            <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"space-between\"\r\n                                                style={{ padding: '0 1.5rem' }}\r\n                                            >\r\n                                                <Typography variant=\"subtitle2\" color=\"textSecondary\">Target: </Typography>\r\n                                                <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n                                                    {kpi?.criteriaId === 'DS'\r\n                                                        ? shortenCurrencyValue(kpi?.targetValue)\r\n                                                        : kpi?.targetValue\r\n                                                    }\r\n                                                </Typography>\r\n                                            </Box>\r\n                                            <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"space-between\"\r\n                                                style={{ padding: '0 1.5rem' }}\r\n                                            >\r\n                                                <Typography variant=\"subtitle2\" color=\"textSecondary\">Actual:</Typography>\r\n                                                <Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n                                                    {kpi?.criteriaId === 'DS'\r\n                                                        ? shortenCurrencyValue(kpi?.actualValue)\r\n                                                        : kpi?.actualValue\r\n                                                    }\r\n                                                </Typography>\r\n                                            </Box>\r\n                                        </Grid>\r\n                                        <Grid xs={3} sm={3} md={3} lg={3}>\r\n                                            <Typography variant=\"h5\" style={{ color: '#ffa000', fontWeight: 700, textAlign: 'center', paddingTop: '0.3rem' }}>\r\n                                                {getSalesmanRank((kpi?.actualValue / kpi?.targetValue) * 100)}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Box>\r\n                            </Paper>\r\n                        </Grid>\r\n                    ))}\r\n                </Grid>\r\n                <Grid item xs={12} sm={12} md={6} lg={5}>\r\n                    {/**Radar chart */}\r\n                    <RadarCharts values={dataForRadarChart} />\r\n                </Grid>\r\n            </Grid >\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default SalesmanKPIInfo\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useLocation, useParams, useHistory } from 'react-router-dom'\r\nimport { DetailLayouts } from '../../layouts'\r\nimport { KPIInfo, SalesmanKPIInfo } from './panels'\r\nimport { getKPIGroup, getMyKPIDetail } from './KPIsServices'\r\nimport { detailPageConsts } from './KPIsConfig'\r\nimport { Loading, NotFound } from '../../components'\r\nimport { parseDateToString } from '../../utils/DateTimes'\r\nimport { roleNames } from '../../constants/Generals'\r\nimport { useAuth } from '../../hooks/AuthContext';\r\n\r\nfunction KPI() {\r\n    const { linkNames, tabNames, operations } = detailPageConsts\r\n    const [tabValue, setTabValue] = useState(0)\r\n\r\n    const { id } = useParams()\r\n    const history = useHistory()\r\n    const { user } = useAuth()\r\n\r\n    const [KPI, setKPI] = useState(null)\r\n    const [exist, setExist] = useState(true)\r\n\r\n    let isMounted = true\r\n    const refreshPage = (groupId) => {\r\n        getKPIGroup(groupId).then((data) => {\r\n            if (isMounted) {\r\n                setKPI(data)\r\n                // console.log('KPI data: ', data);\r\n            }\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                if (error.response.status === 403) {\r\n                    setExist(false)\r\n                } else {\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n            }\r\n        })\r\n    }\r\n    const getSalesmanKPIDetails = (groupId, username) => {\r\n        getMyKPIDetail(groupId, username).then((data) => {\r\n            if (isMounted) {\r\n                setKPI(data)\r\n                console.log(`KPI data for ${username}: `, data);\r\n            }\r\n        }).catch((error) => {\r\n            if (error.response) {\r\n                console.log(error)\r\n                if (error.response.status === 403) {\r\n                    setExist(false)\r\n                } else {\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (user.roles[0] === roleNames.manager) {\r\n            refreshPage(id)\r\n        } else {\r\n            getSalesmanKPIDetails(id, user.username)\r\n        }\r\n        return () => {\r\n            isMounted = false\r\n        }\r\n    }, [])\r\n\r\n    if (!KPI) {\r\n        if (!exist) {\r\n            return <NotFound title={operations.notFound} />\r\n        } else {\r\n            return <Loading />\r\n        }\r\n    }\r\n\r\n    const handleChangeTab = (event, value) => {\r\n        setTabValue(value)\r\n    }\r\n\r\n    const getTabNames = (role) => {\r\n        switch (role) {\r\n            case roleNames.manager:\r\n                return [tabNames.tab1]\r\n            case roleNames.supervisor:\r\n            case roleNames.salesman:\r\n                return [tabNames.tab2]\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <DetailLayouts\r\n            linkBack={linkNames.back}\r\n            header={KPI?.groupName}\r\n            subHeader={`\r\n                ${parseDateToString(KPI.startDate, 'DD/MM/YYYY')} ➜ ${parseDateToString(KPI.endDate, 'DD/MM/YYYY')}\r\n            `}\r\n            tabs={getTabNames(user.roles[0])}\r\n            tabValue={tabValue}\r\n            handleChangeTab={handleChangeTab}\r\n        >\r\n            {user.roles[0] === roleNames.manager ? (\r\n                <KPIInfo KPI={KPI} refreshPage={refreshPage} />\r\n            ) : (\r\n                <SalesmanKPIInfo KPI={KPI} />\r\n            )}\r\n        </DetailLayouts>\r\n    )\r\n}\r\n\r\nexport default KPI","export const Consts = {\r\n    titleContainer: 'Location list',\r\n    search: 'Search...',\r\n    status: {\r\n        complete: 'Completed',\r\n        fail: 'Failed',\r\n        pending: 'Pending',\r\n    },\r\n}\r\n","import React, { useState, useRef } from 'react'\r\nimport {\r\n    Avatar,\r\n    Grid,\r\n    InputAdornment,\r\n    InputBase,\r\n    ListItem,\r\n    ListItemAvatar,\r\n    ListItemText,\r\n    Paper,\r\n    TextField,\r\n    Typography,\r\n} from '@material-ui/core'\r\nimport {\r\n    Inject,\r\n    ScheduleComponent,\r\n    ViewsDirective,\r\n    ViewDirective,\r\n    Day,\r\n    Week,\r\n    Month,\r\n    DragAndDrop,\r\n    Resize,\r\n} from '@syncfusion/ej2-react-schedule'\r\nimport { TreeViewComponent } from '@syncfusion/ej2-react-navigations'\r\nimport { L10n, closest, addClass } from '@syncfusion/ej2-base'\r\nimport { CheckBox } from '@syncfusion/ej2-react-buttons'\r\nimport { Input } from '@syncfusion/ej2-inputs'\r\nimport { fade, makeStyles } from '@material-ui/core/styles'\r\nimport { MdAccountCircle, MdSearch } from 'react-icons/md'\r\nimport { Autocomplete } from '@material-ui/lab'\r\nimport { getAccount } from '../Accounts/AccountsServices'\r\nimport { useAuth } from '../../hooks/AuthContext'\r\nimport { Consts } from './WorkPlansConfig'\r\nimport './WorkPlans.scss'\r\nimport styles from './WorkPlans.module.scss'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    search: {\r\n        position: 'relative',\r\n        borderRadius: theme.shape.borderRadius,\r\n        backgroundColor: fade(theme.palette.common.black, 0.15),\r\n        '&:hover': {\r\n            backgroundColor: fade(theme.palette.common.black, 0.05),\r\n        },\r\n        marginLeft: 0,\r\n        width: '80%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            marginLeft: theme.spacing(1),\r\n            width: 'auto',\r\n        },\r\n    },\r\n    searchIcon: {\r\n        padding: theme.spacing(0, 2),\r\n        height: '100%',\r\n        position: 'absolute',\r\n        pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    inputInput: {\r\n        padding: theme.spacing(1, 1, 1, 0),\r\n        // vertical padding + font size from searchIcon\r\n        paddingLeft: `calc(1em + ${theme.spacing(3)}px)`,\r\n        transition: theme.transitions.create('width'),\r\n        width: '80%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: '12ch',\r\n            '&:focus': {\r\n                width: '20ch',\r\n            },\r\n        },\r\n    },\r\n    autoComplete: {\r\n        width: 260,\r\n    },\r\n    itemPIC: {\r\n        padding: 0,\r\n        margin: 0,\r\n    },\r\n    itemTextPrimary: {\r\n        fontSize: '0.875rem',\r\n    },\r\n    itemTextSecondary: {\r\n        fontSize: '0.8rem',\r\n    },\r\n}))\r\nL10n.load({\r\n    'en-US': {\r\n        schedule: {\r\n            newEvent: 'Add New Activity',\r\n            editEvent: 'Edit Activity',\r\n            deleteEvent: 'Delete Activity',\r\n            deleteMultipleEvent: 'Delete Multiple Activities',\r\n            sameDayAlert:\r\n                'The activity cannot be beyond its boundary.',\r\n            editRecurrence: 'Edit Recurrence',\r\n            edit: 'Edit',\r\n        },\r\n    },\r\n})\r\n\r\nconst Schedule = (props) => {\r\n    const classes = useStyles()\r\n    const [username, setUsername] = useState('')\r\n    const [key, setKey] = useState('')\r\n    const [startTime, setStartTime] = useState(null)\r\n    const [PIC, setPIC] = useState(null)\r\n    let schedule = useRef(null)\r\n    let tree = useRef(null)\r\n    const typingTimeoutRef = useRef(null)\r\n    const { user } = useAuth()\r\n\r\n    const localDate = {\r\n        dataSource: props.data,\r\n        fields: {\r\n            id: 'id',\r\n            subject: {\r\n                default: 'No title',\r\n                name: 'title',\r\n            },\r\n            startTime: { name: 'startTime' },\r\n            endTime: { name: 'endTime' },\r\n            location: { name: 'location' },\r\n            description: {\r\n                name: 'description',\r\n            },\r\n            remark: {\r\n                name: 'remark',\r\n            },\r\n            isCompleted: {\r\n                name: 'isCompleted',\r\n            },\r\n            isAllDay: {\r\n                name: 'isAllDay',\r\n                default: false,\r\n            },\r\n            recurrenceException: {\r\n                name: 'recurrenceException',\r\n            },\r\n            recurrenceRule: {\r\n                name: 'recurrenceRule',\r\n            },\r\n            recurrenceID: {\r\n                name: 'recurrenceID',\r\n            },\r\n        },\r\n        /* template: eventTemplate*/\r\n    }\r\n    const switchDate = (e) => {\r\n        if (props.data === undefined) return\r\n        if (e.previousDate) if (e.previousDate === e.currentDate) return\r\n        if (props.data) props.handleChangeView(e)\r\n    }\r\n\r\n    const onPopupOpen = (args) => {\r\n        const stringDelete = 'Edit Event'\r\n        if (args.type === 'RecurrenceAlert')\r\n            if (\r\n                args.element.querySelector('.e-dlg-header').textContent ===\r\n                stringDelete\r\n            ) {\r\n                args.element.querySelector('.e-dlg-header').innerHTML =\r\n                    'Edit Activity'\r\n            }\r\n        if (args.type === 'RecurrenceValidationAlert') {\r\n            const string =\r\n                'Do you want to cancel the changes made to specific instances of this series and match it to the whole series again?'\r\n            if (\r\n                args.element.querySelector('.e-dlg-content').textContent ===\r\n                string &&\r\n                args.element.querySelector('.e-quick-dialog-alert-btn')\r\n                    .textContent === 'Yes'\r\n            ) {\r\n                const yesButton = args.element.querySelector(\r\n                    '.e-quick-dialog-alert-btn'\r\n                )\r\n                yesButton.style.display = 'none'\r\n                const noButton = args.element.querySelector(\r\n                    '.e-quick-alertcancel'\r\n                )\r\n                noButton.innerHTML = 'Save'\r\n                noButton.style.color = '#e3165b'\r\n                args.element.querySelector('.e-dlg-content').innerHTML =\r\n                    'Your changes shall only be applied to unchanged instances of this series. Are you sure?'\r\n            }\r\n        }\r\n        if (args.type === 'Editor') {\r\n            if (args.element.querySelector('.e-time-zone-container')) {\r\n                const timezone = args.element.querySelector(\r\n                    '.e-time-zone-container'\r\n                )\r\n                timezone.style.display = 'none'\r\n            }\r\n            if (!args.element.querySelector('.custom-field-row')) {\r\n                //var row =  HTMLElement.createElement('div', { className: 'custom-field-row' });\r\n                const row = document.createElement('div')\r\n                row.className = 'custom-field-row'\r\n                const formElement = args.element.querySelector(\r\n                    '.e-schedule-form'\r\n                )\r\n                formElement.firstChild.insertBefore(\r\n                    row,\r\n                    args.element.querySelector('.e-description-row')\r\n                )\r\n                args.element.querySelector('.e-dialog-parent').appendChild(row)\r\n                const container = document.createElement('div')\r\n                container.className = 'custom-field-container'\r\n                const inputEle = document.createElement('textarea')\r\n                inputEle.className = 'e-field e-custom-remark'\r\n                inputEle.setAttribute('name', 'remark')\r\n                container.appendChild(inputEle)\r\n                row.appendChild(container)\r\n                Input.createInput({\r\n                    element: inputEle,\r\n                    floatLabelType: 'Always',\r\n                    properties: { placeholder: 'Remark' },\r\n                })\r\n                const row2 = document.createElement('div')\r\n                row2.className = 'custom-field-isCompleted'\r\n                formElement.firstChild.insertBefore(\r\n                    row2,\r\n                    args.element.querySelector('.custom-field-row')\r\n                )\r\n                args.element.querySelector('.e-dialog-parent').appendChild(row2)\r\n                const container2 = document.createElement('div')\r\n                container2.className = 'custom-field-container2'\r\n                const inputEle2 = document.createElement('input')\r\n                inputEle2.className = 'e-field e-custom-isCompleted'\r\n                inputEle2.setAttribute('name', 'isCompleted')\r\n                container2.appendChild(inputEle2)\r\n                row2.appendChild(container2)\r\n                const checkbox = new CheckBox({ label: 'Completed' })\r\n                checkbox.appendTo(inputEle2)\r\n            }\r\n        }\r\n    }\r\n\r\n    const onItemDrag = (e) => {\r\n        if (schedule.isAdaptive) {\r\n            const classElement = schedule.element.querySelector(\r\n                '.e-device-hover'\r\n            )\r\n            if (classElement) {\r\n                classElement.classList.remove('e-device-hover')\r\n            }\r\n            if (e.target.classList.contains('e-work-cells')) {\r\n                addClass([e.target], 'e-device-hover')\r\n            }\r\n        }\r\n\r\n        if (document.body.style.cursor === 'not-allowed') {\r\n            document.body.style.cursor = ''\r\n        }\r\n        if (e.name === 'nodeDragging') {\r\n            const dragElementIcon = document.querySelectorAll(\r\n                '.e-drag-item.treeview-external-drag .e-icon-expandable'\r\n            )\r\n            for (let i = 0; i < dragElementIcon.length; i++) {\r\n                dragElementIcon[i].style.display = 'none'\r\n            }\r\n        }\r\n    }\r\n\r\n    const onDrag = (e) => setStartTime(e.data?.startTime)\r\n\r\n    const onActionBegin = (e) => {\r\n        if (\r\n            e.requestType === 'eventCreate' ||\r\n            e.requestType === 'eventRemove' ||\r\n            e.requestType === 'eventChange'\r\n        ) {\r\n            props.handleRequestType(e, startTime)\r\n            setStartTime(null)\r\n        }\r\n    }\r\n\r\n    const onResize = (e) => {\r\n        setStartTime(e.data?.startTime)\r\n    }\r\n\r\n    //====================Location tree====================\r\n    // const treeTemplate = (prop) => {\r\n    //     return (\r\n    //         <div id=\"waiting\">\r\n    //             <div id=\"waitdetails\">\r\n    //                 <div id=\"waitlist\">aaa</div>\r\n    //                 <div id=\"waitcategory\"> aa\r\n    //                 </div>\r\n    //             </div>\r\n    //         </div>\r\n    //     );\r\n    // }\r\n\r\n    const onTreeDragStop = (e) => {\r\n        const treeElement = closest(e.target, '.e-treeview')\r\n        if (!treeElement) {\r\n            e.cancel = true\r\n            const scheduleElement = closest(e.target, '.e-content-wrap')\r\n            if (scheduleElement) {\r\n                const treeviewData = tree.fields.dataSource\r\n                if (e.target.classList.contains('e-work-cells')) {\r\n                    const filteredData = treeviewData.filter(\r\n                        (item) => item.id === parseInt(e.draggedNodeData.id, 10)\r\n                    )\r\n                    const cellData = schedule.getCellDetails(e.target)\r\n                    let schoolName = filteredData[0].schoolName\r\n                    if (schoolName.includes('(default)'))\r\n                        schoolName = schoolName.replace(' (default)', '')\r\n                    const eventData = {\r\n                        startTime: cellData.startTime,\r\n                        endTime: cellData.endTime,\r\n                        allDay: cellData.isAllDay,\r\n                        location: filteredData[0].district ?\r\n                            schoolName + ' (' + filteredData[0].district + ')' : schoolName,\r\n                    }\r\n                    schedule.openEditor(eventData, 'Add', true)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    const onSearchChange = (e) => {\r\n        setKey(e.target.value)\r\n        if (typingTimeoutRef.current) clearTimeout(typingTimeoutRef)\r\n        typingTimeoutRef.current = setTimeout(() => {\r\n            props.onSubmit(e.target.value)\r\n        }, 300)\r\n    }\r\n\r\n    const onPopupClose = (e) => {\r\n        if (e.element.querySelector('.e-quick-dialog-alert-btn')) {\r\n            const yesButton = e.element.querySelector(\r\n                '.e-quick-dialog-alert-btn'\r\n            )\r\n            yesButton.style.display = 'inline'\r\n            const noButton = e.element.querySelector('.e-quick-alertcancel')\r\n            noButton.style.color = 'rgba(0,0,0,0.87)'\r\n        }\r\n    }\r\n\r\n    const onEventRender = (e) => {\r\n        const data = e.data\r\n        e.element.style.backgroundColor = 'rgba(54, 162, 235)'\r\n        if (\r\n            data.startTime.getTime() < new Date().getTime() &&\r\n            data.endTime.getTime() < new Date().getTime() &&\r\n            !data.isCompleted\r\n        ) {\r\n            e.element.style.backgroundColor = 'rgb(255, 99, 132)'\r\n        }\r\n        if (data.isCompleted) {\r\n            e.element.style.backgroundColor = 'rgba(0, 150, 136)'\r\n        }\r\n    }\r\n\r\n    // Search other's workplan\r\n    const handleSearchNameChange = (e, newPIC) => {\r\n        if (newPIC) {\r\n            setPIC(newPIC)\r\n            props.handleOnSearchFieldChange(newPIC.username)\r\n        } else {\r\n            getAccount(user.username).then((res) => {\r\n                setPIC(res)\r\n            })\r\n            props.handleOnSearchFieldChange(user.username)\r\n        }\r\n    }\r\n\r\n    const onChange = (e) => {\r\n        if (e.target.value) {\r\n            setUsername(e.target.value)\r\n            props.handleInputChange(e.target.value)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"schedule-control-section\">\r\n            <div className=\"col-lg-12 control-section\">\r\n                <div className=\"control-wrapper drag-sample-wrapper\">\r\n                    <div className=\"schedule-container\">\r\n                        <div className=\"my-header\">\r\n                            {/* <h1 className=\"title-text\">My Workplan</h1> */}\r\n                            <Autocomplete\r\n                                autoHighlight\r\n                                clearOnEscape\r\n                                // clearOnBlur\r\n                                options={props.listPICs ? props.listPICs : []}\r\n                                getOptionLabel={(pic) =>\r\n                                    pic.fullName ? pic.fullName : ''\r\n                                }\r\n                                value={PIC}\r\n                                renderInput={(params) => (\r\n                                    <TextField\r\n                                        value={username}\r\n                                        {...params}\r\n                                        onChange={onChange}\r\n                                        label=\"Person\"\r\n                                        margin=\"normal\"\r\n                                        placeholder=\"Search workplan of...?\"\r\n                                        InputProps={{\r\n                                            ...params.InputProps,\r\n                                            startAdornment: (\r\n                                                <>\r\n                                                    <InputAdornment position=\"start\">\r\n                                                        <MdAccountCircle />\r\n                                                    </InputAdornment>\r\n                                                    {\r\n                                                        params?.InputProps\r\n                                                            .startAdornment\r\n                                                    }\r\n                                                </>\r\n                                            ),\r\n                                        }}\r\n                                    />\r\n                                )}\r\n                                renderOption={(option) => {\r\n                                    return (\r\n                                        <ListItem className={classes.itemPIC}>\r\n                                            <ListItemAvatar>\r\n                                                <Avatar src={option.avatar} />\r\n                                            </ListItemAvatar>\r\n                                            <ListItemText\r\n                                                primary={option?.fullName ? option.fullName : ''}\r\n                                                secondary={option?.username\r\n                                                    ? `${option?.username} • ${option?.roleName}` : ''}\r\n                                                classes={{\r\n                                                    primary: classes.itemTextPrimary,\r\n                                                    secondary: classes.itemTextSecondary,\r\n                                                }}\r\n                                            />\r\n                                        </ListItem>\r\n                                    )\r\n                                }}\r\n                                className={classes.autoComplete}\r\n                                onChange={(event, newPIC) =>\r\n                                    handleSearchNameChange(event, newPIC)\r\n                                }\r\n                            // onBlur={(event, pic) =>\r\n                            //     handleSearchNameChange(event, pic)\r\n                            // }\r\n                            />\r\n                        </div>\r\n                        <ScheduleComponent\r\n                            currentView=\"Week\"\r\n                            readonly={props.isEdit}\r\n                            popupClose={onPopupClose}\r\n                            height=\"550px\"\r\n                            resizeStart={onResize}\r\n                            cssClass=\"schedule-drag-drop\"\r\n                            ref={(e) => (schedule = e)}\r\n                            actionBegin={onActionBegin}\r\n                            dateFormat=\"dd MMM yyyy\"\r\n                            allowResizing\r\n                            timezone=\"Asia/Saigon\"\r\n                            drag={onDrag}\r\n                            eventRendered={onEventRender}\r\n                            navigating={switchDate}\r\n                            popupOpen={onPopupOpen}\r\n                            selectedDate={props.filter.currentDate}\r\n                            eventSettings={localDate}\r\n                            showWeekNumber\r\n                        >\r\n                            <ViewsDirective>\r\n                                <ViewDirective option=\"Day\" />\r\n                                <ViewDirective\r\n                                    option=\"Week\" /* eventTemplate={eventWeekTemplate}*/\r\n                                />\r\n                                <ViewDirective option=\"Month\" />\r\n                            </ViewsDirective>\r\n                            <Inject\r\n                                services={[\r\n                                    Day,\r\n                                    Week,\r\n                                    Month,\r\n                                    DragAndDrop,\r\n                                    Resize,\r\n                                ]}\r\n                            />\r\n                        </ScheduleComponent>\r\n                    </div>\r\n                    <div className=\"treeview-container\">\r\n                        <div className=\"title-container\">\r\n                            <h1 className=\"title-text\">\r\n                                {Consts.titleContainer}\r\n                            </h1>\r\n                            <div className={classes.search}>\r\n                                <div className={classes.searchIcon}>\r\n                                    <MdSearch />\r\n                                </div>\r\n                                <InputBase\r\n                                    value={key}\r\n                                    onChange={onSearchChange}\r\n                                    placeholder={Consts.search}\r\n                                    classes={{\r\n                                        root: classes.inputRoot,\r\n                                        input: classes.inputInput,\r\n                                    }}\r\n                                    inputProps={{ 'aria-label': 'search' }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className={styles.treeviewContainer}>\r\n                            <TreeViewComponent\r\n                                allowDragAndDrop={!props.isEdit}\r\n                                ref={(e) => (tree = e)}\r\n                                cssClass=\"treeview-external-drag\"\r\n                                // allowDragAndDrop\r\n                                fields={{\r\n                                    dataSource: props?.tree,\r\n                                    id: 'id',\r\n                                    text: 'schoolName',\r\n                                }}\r\n                                nodeDragStop={onTreeDragStop}\r\n                                // nodeTemplate={treeTemplate}\r\n                                nodeDragging={onItemDrag}\r\n                            />\r\n                        </div>\r\n                        <div className={styles.noteView}>\r\n                            {/* <Grid container>\r\n                                <Grid item xs={12} sm={4} md={3} lg={3} className=\"note-box\">\r\n                                    <div id=\"note-completed\" ></div>\r\n                                    <div id=\"note-failed\"></div>\r\n                                    <div id=\"note-pending\"></div>\r\n                                </Grid>\r\n                                <Grid item xs={12} sm={8} md={9} lg={9} className=\"note-box\">\r\n                                    <span className=\"note-completed\">Completed</span>\r\n                                    <div className=\"note-failed\">Failed</div>\r\n                                    <div className=\"note-pending\">Pending</div>\r\n                                </Grid>\r\n                            </Grid> */}\r\n                            <Paper elevation={0}>\r\n                                <Grid\r\n                                    container\r\n                                    spacing={0}\r\n                                    className={styles.statusContainer}\r\n                                >\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={12}\r\n                                        lg={12}\r\n                                        className={styles.statusNote}\r\n                                    >\r\n                                        <div className={styles.colorComplete} />\r\n                                        <Typography className={styles.status}>\r\n                                            {Consts.status.complete}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid\r\n                                        item\r\n                                        xs={12}\r\n                                        sm={12}\r\n                                        md={12}\r\n                                        lg={12}\r\n                                        className={styles.statusNote}\r\n                                    >\r\n                                        <div className={styles.colorFail} />\r\n                                        <Typography className={styles.status}>\r\n                                            {Consts.status.fail}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                    <Grid\r\n                                        item xs={12} sm={12} md={12} lg={12}\r\n                                        className={styles.statusNote}\r\n                                    >\r\n                                        <div className={styles.colorPending} />\r\n                                        <Typography className={styles.status}>\r\n                                            {Consts.status.pending}\r\n                                        </Typography>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Paper>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Schedule\r\n","import Api from '../../services/Api'\r\nimport queryString from 'query-string'\r\n\r\nexport async function save(convert) {\r\n    const response = await Api.post('/activity', convert);\r\n    // const data = await response.data;\r\n    return response;\r\n}\r\n\r\nexport async function updateSave(occurrenceObj) {\r\n    const response = await Api.put(`/activity/${occurrenceObj.recurrenceId}`, occurrenceObj);\r\n    const data = await response.data;\r\n    return data;\r\n}\r\n\r\nexport async function remove(items) {\r\n    const response = await Api.delete('/activity', { data: { items } });\r\n    const data = await response.data;\r\n    return data;\r\n}\r\n\r\nexport async function removeUpdate(id, item) {\r\n    const response = await Api.put(`/activity/${id}`, item);\r\n    const data = await response.data;\r\n    return data;\r\n}\r\n\r\nexport async function update(item) {\r\n    const response = await Api.put(`/activity/${item.id}`, item);\r\n    const data = await response.data;\r\n    return data;\r\n}\r\n\r\n// Get all activities\r\nexport async function callAPI(convert) {\r\n    const paramString = queryString.stringify(convert);\r\n    const response = await Api.get(`/activity?${paramString}`);\r\n    // const data = await response.data;\r\n    // return data;\r\n    return response;\r\n}\r\n\r\n// Get all locations\r\nexport async function callAPITree(convert) {\r\n    const paramString = queryString.stringify(convert);\r\n\r\n    const response = await Api.get(`/locations?${paramString}`);\r\n    const data = await response.data;\r\n    return data;\r\n}\r\n\r\n//=========================================================================================================================================================\r\n\r\n// export async function getEvents() {\r\n//     const response = await Api.get('/work-plans')\r\n//     const data = await response.data\r\n\r\n//     return data\r\n// }\r\n\r\n// export async function addEvent(newEvent) {\r\n//     const response = await Api.post('/work-plans', { newEvent })\r\n//     const data = await response.data\r\n\r\n//     return data\r\n// }\r\n\r\n// export async function updateEvent(event) {\r\n//     const response = await Api.put('/work-plans', { event })\r\n//     const data = await response.data\r\n\r\n//     return data\r\n// }\r\n\r\n// export async function removeEvent(eventId) {\r\n//     const response = await Api.delete('/work-plans', { eventId })\r\n//     const data = await response.data\r\n\r\n//     return data\r\n// }\r\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport formatISO9075 from 'date-fns/formatISO9075'\r\nimport { useAuth } from '../../hooks/AuthContext'\r\nimport { getPICs } from '../../services/FiltersServices'\r\nimport { useHistory } from 'react-router'\r\nimport moment from 'moment'\r\nimport Schedule from './Schedule'\r\nimport * as WorkPlansServices from './WorkPlansServices'\r\nimport { roleNames } from '../../constants/Generals'\r\n\r\nfunction WorkPlans() {\r\n    const [data, setData] = React.useState([])\r\n    const [tree, setTree] = React.useState([\r\n        {\r\n            id: 1,\r\n            schoolName: 'Hiếu Thành',\r\n        },\r\n    ])\r\n\r\n    const { user } = useAuth()\r\n    const history = useHistory()\r\n    const [filter, setFilter] = useState({\r\n        action: 'view',\r\n        currentDate: new Date(),\r\n        currentView: 'Week',\r\n        name: 'navigating',\r\n        username: user.username,\r\n    })\r\n    const typingTimeoutRef = useRef({})\r\n\r\n    // Get list PICs for autocomplete search\r\n    const [listPICs, setListPICs] = useState([])\r\n    const getListPICs = (e) => {\r\n        if (user.roles[0] === roleNames.salesman) {\r\n            getPICs({ active: true, fullName: e, role: roleNames.salesman })\r\n                .then((data) => {\r\n                    // console.log('data: ', data)\r\n                    setListPICs(data)\r\n                })\r\n                .catch((error) => {\r\n                    if (error.response) {\r\n                        console.log(error)\r\n                        history.push({\r\n                            pathname: '/errors',\r\n                            state: { error: error.response.status },\r\n                        })\r\n                    }\r\n                })\r\n        } else { // user.roles[0] === roleNames.manager || user.roles[0] === roleNames.supervisor\r\n            getPICs({ active: true, fullName: e })\r\n                .then((data) => {\r\n                    const listPCIs = data.filter(pic => pic.roleName !== roleNames.admin)\r\n                    // console.log('data: ', data)\r\n                    // console.log('listPCIs: ', listPCIs)\r\n                    setListPICs(listPCIs)\r\n                })\r\n                .catch((error) => {\r\n                    if (error.response) {\r\n                        console.log(error)\r\n                        history.push({\r\n                            pathname: '/errors',\r\n                            state: { error: error.response.status },\r\n                        })\r\n                    }\r\n                })\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        getListPICs()\r\n        // return () => setListPICs([])\r\n    }, [])\r\n\r\n    //---------------------------------------------------------------------------\r\n    // Call APIs for workplans\r\n    async function callAPISave(e) {\r\n        const { addedRecords } = e\r\n        const convert = {\r\n            ...addedRecords[0],\r\n            startTime: formatISO9075(addedRecords[0].startTime),\r\n            endTime: formatISO9075(addedRecords[0].endTime),\r\n            username: user.username,\r\n        }\r\n        delete convert.id\r\n        WorkPlansServices.save(convert)\r\n            .then((data) => {\r\n                // console.log('callAPISave success: ', data);\r\n                callAPI(filter)\r\n                return\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    async function callAPIUpdateSave(e, startTime) {\r\n        const { data } = e\r\n        const { occurrence, parent } = data\r\n\r\n        let date = startTime\r\n        if (!date) {\r\n            date = occurrence.startTime\r\n        }\r\n        const required = moment.utc(date).format('YYYYMMDDTHHmmssZ')\r\n        let recurrenceExp = required.slice(0, -6) + 'Z'\r\n        if (parent.recurrenceException) {\r\n            recurrenceExp = parent.recurrenceException + ',' + recurrenceExp\r\n        }\r\n\r\n        const occurrenceObj = {\r\n            ...occurrence,\r\n            id: -1,\r\n            startTime: formatISO9075(occurrence.startTime),\r\n            endTime: formatISO9075(occurrence.endTime),\r\n            recurrenceId: parent.id,\r\n            recurrenceRule: null,\r\n            recurrenceException: recurrenceExp,\r\n            username: user.username,\r\n        }\r\n\r\n        WorkPlansServices.updateSave(occurrenceObj)\r\n            .then((data) => {\r\n                // console.log('callAPIUpdateSave success: ', data);\r\n                callAPI(filter)\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    async function callAPIRemove(e) {\r\n        const { data } = e\r\n        const items = data?.map((item) => item['id'])\r\n        if (!items) return\r\n\r\n        WorkPlansServices.remove(items)\r\n            .then((data) => {\r\n                // console.log('callAPIRemove success: ', data);\r\n                callAPI(filter)\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    async function callAPIRemoveUpdate(e) {\r\n        let recurrenceExp = e.data[0].parent?.recurrenceException\r\n\r\n        e.data.forEach((item) => {\r\n            const date = item.occurrence.startTime\r\n            const required = moment.utc(date).format('YYYYMMDDTHHmmssZ')\r\n            const recurrence = required.slice(0, -6) + 'Z'\r\n            if (recurrenceExp) recurrenceExp = recurrenceExp + ',' + recurrence\r\n            else recurrenceExp = recurrence\r\n        })\r\n\r\n        let item = { ...e.data[0].parent, recurrenceException: recurrenceExp }\r\n        delete item.recurrenceID\r\n\r\n        item = {\r\n            ...item,\r\n            id: -2,\r\n            startTime: formatISO9075(item.startTime),\r\n            endTime: formatISO9075(item.endTime),\r\n            username: user.username,\r\n        }\r\n        const { id } = e.data[0].parent\r\n        // console.log(\" heleluya \", item)\r\n\r\n        WorkPlansServices.removeUpdate(id, item)\r\n            .then((data) => {\r\n                callAPI(filter)\r\n                // console.log('callAPIRemoveUpdate success: ', data);\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    async function callAPIUpdate(e) {\r\n        const { data, changedRecords } = e\r\n        let item = { ...data }\r\n        // const id = item.id\r\n        //  delete item.recurrenceID\r\n        item = {\r\n            ...item,\r\n            isAllDay: changedRecords[0].isAllDay,\r\n            title: changedRecords[0].title,\r\n            startTime: formatISO9075(changedRecords[0].startTime),\r\n            endTime: formatISO9075(changedRecords[0].endTime),\r\n            recurrenceRule: changedRecords[0].recurrenceRule,\r\n            username: user.username,\r\n        }\r\n        // console.log(\" remove object nay sau khi convert \", item)\r\n\r\n        WorkPlansServices.update(item)\r\n            .then((data) => {\r\n                callAPI(filter)\r\n                // console.log('callAPIUpdate success: ', data)\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    // Get all activities\r\n    async function callAPI(filter2) {\r\n        const convert = {\r\n            ...filter2,\r\n            currentDate: formatISO9075(filter2.currentDate, {\r\n                representation: 'date',\r\n            }),\r\n        }\r\n        WorkPlansServices.callAPI(convert)\r\n            .then((res) => {\r\n                res.data?.forEach((element) => {\r\n                    if (!element.recurrenceID) delete element.recurrenceID\r\n                    element = {\r\n                        ...element,\r\n                        startDate: Date(element.startTime),\r\n                        endDate: Date(element.endTime),\r\n                        recurrenceException: element.recurrenceException,\r\n                    }\r\n                })\r\n                // console.log('callAPI success: ', res.data)\r\n                setData(res.data)\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n            })\r\n    }\r\n    React.useEffect(() => {\r\n        callAPI(filter)\r\n        // return () => setData(null)\r\n    }, [filter])\r\n\r\n    // Get all locations\r\n    async function callAPITree(key) {\r\n        const convert = {\r\n            username: user.username,\r\n            key: key,\r\n        }\r\n\r\n        WorkPlansServices.callAPITree(convert)\r\n            .then((data) => {\r\n                data?.forEach((element) => { })\r\n                setTree(data)\r\n            })\r\n            .catch((error) => {\r\n                if (error.response) {\r\n                    console.log(error)\r\n                    history.push({\r\n                        pathname: '/errors',\r\n                        state: { error: error.response.status },\r\n                    })\r\n                }\r\n            })\r\n    }\r\n    React.useEffect(\r\n        () =>\r\n            //call api for tree\r\n            callAPITree(null),\r\n        []\r\n    )\r\n\r\n    // Change view by \"Today\" / \"Day\" / \"Week\" / \"Month\"\r\n    const handleChangeView = (e) => {\r\n        if (e.action === 'date') {\r\n            setFilter({ ...filter, action: 'date', currentDate: e.currentDate })\r\n            //    e = {...e,currentView: filter.currentView,currentDate: e.currentDate}\r\n        }\r\n        if (e.action === 'view') {\r\n            setFilter({ ...filter, action: 'view', currentView: 'Month' })\r\n            //  e= {...e,currentDate: filter.currentDate}\r\n        }\r\n    }\r\n\r\n    // Controller to redirect to\r\n    const handleRequestType = (e, startTime) => {\r\n        if (e.requestType === 'eventCreate') {\r\n            callAPISave(e)\r\n        }\r\n        if (e.requestType === 'eventRemove') {\r\n            if (e.data[0].occurrence) {\r\n                callAPIRemoveUpdate(e)\r\n                return\r\n            }\r\n            callAPIRemove(e)\r\n        }\r\n        if (e.requestType === 'eventChange') {\r\n            if (e.data.occurrence) {\r\n                callAPIUpdateSave(e, startTime)\r\n                return\r\n            }\r\n\r\n            callAPIUpdate(e)\r\n        }\r\n    }\r\n\r\n    // Search in location tree\r\n    const onSubmit = (e) => {\r\n        callAPITree(e)\r\n    }\r\n    const onChange = (e) => {\r\n        if (e) {\r\n            setFilter({ ...filter, username: e })\r\n            callAPI({ ...filter, username: e })\r\n        }\r\n    }\r\n    const onInputChange = (e) => {\r\n        if (typingTimeoutRef.current) {\r\n            clearTimeout(typingTimeoutRef.current)\r\n        }\r\n\r\n        typingTimeoutRef.current = setTimeout(() => {\r\n            if (e) getListPICs(e)\r\n            else getListPICs()\r\n        }, 300)\r\n    }\r\n    return (\r\n        <Schedule\r\n            onSubmit={onSubmit}\r\n            filter={filter}\r\n            data={data}\r\n            tree={tree}\r\n            handleRequestType={handleRequestType}\r\n            handleChangeView={handleChangeView}\r\n            listPICs={listPICs}\r\n            handleOnSearchFieldChange={onChange}\r\n            isEdit={user.username === filter.username ? false : true}\r\n            handleInputChange={onInputChange}\r\n        />\r\n    )\r\n}\r\n\r\nexport default WorkPlans\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport { useAuth } from '../hooks/AuthContext'\r\nimport { roleNames } from '../constants/Generals'\r\n\r\nfunction PublicRoute(props) {\r\n    const { component: Component, restricted, ...rest } = props\r\n\r\n    const { user } = useAuth()\r\n\r\n    // const isAuthenticated = user != null ? true : false\r\n    const isAuthenticated = !!user\r\n\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={(props) => {\r\n                return isAuthenticated && restricted ? (\r\n                    <Redirect\r\n                        to={\r\n                            user.roles[0] !== roleNames.admin\r\n                                ? '/apps/dashboards'\r\n                                : '/apps/accounts'\r\n                        }\r\n                    />\r\n                ) : (\r\n                    <Component {...props} />\r\n                )\r\n            }}\r\n        />\r\n    )\r\n}\r\n\r\nexport default PublicRoute\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport { useAuth } from '../hooks/AuthContext'\r\n\r\nfunction PrivateRoute(props) {\r\n    const { component: Component, ...rest } = props\r\n\r\n    const { user } = useAuth()\r\n\r\n    // const isAuthenticated = user != null ? true : false\r\n    const isAuthenticated = !!user\r\n\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={(props) => {\r\n                return isAuthenticated ? (\r\n                    <Component {...props} />\r\n                ) : (\r\n                    <Redirect to=\"/\" />\r\n                )\r\n            }}\r\n        />\r\n    )\r\n}\r\n\r\nexport default PrivateRoute\r\n","import React, { createRef } from 'react'\r\nimport { Route, Switch, Redirect } from 'react-router-dom'\r\nimport { Logins, Errors, getError, ForgotPwd } from './pages'\r\nimport { AppLayouts } from './layouts'\r\nimport { SnackbarProvider } from 'notistack'\r\nimport AuthProvider from './hooks/AuthContext'\r\nimport AppProvider from './hooks/AppContext'\r\nimport PublicRoute from './routes/PublicRoute'\r\nimport PrivateRoute from './routes/PrivateRoute'\r\nimport { Slide, makeStyles, IconButton } from '@material-ui/core'\r\nimport {\r\n    MdCheckCircle,\r\n    MdInfoOutline,\r\n    MdWarning,\r\n    MdErrorOutline,\r\n    MdClose,\r\n} from 'react-icons/md'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    snackbarIcon: {\r\n        marginRight: '0.5rem',\r\n        height: '1.2rem',\r\n        width: '1.2rem',\r\n    },\r\n    optBtn: {\r\n        color: '#fff',\r\n    },\r\n}))\r\n\r\nfunction App() {\r\n    const classes = useStyles()\r\n\r\n    const notistackRef = createRef()\r\n    const onClickDismiss = (key) => () => {\r\n        notistackRef.current.closeSnackbar(key)\r\n    }\r\n\r\n    return (\r\n        <AuthProvider>\r\n            <SnackbarProvider\r\n                maxSnack={3}\r\n                anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                }}\r\n                // preventDuplicate\r\n                iconVariant={{\r\n                    success: <MdCheckCircle className={classes.snackbarIcon} />,\r\n                    error: <MdErrorOutline className={classes.snackbarIcon} />,\r\n                    warning: <MdWarning className={classes.snackbarIcon} />,\r\n                    info: <MdInfoOutline className={classes.snackbarIcon} />,\r\n                }}\r\n                TransitionComponent={Slide}\r\n                autoHideDuration={3000}\r\n                ref={notistackRef}\r\n                action={(key) => (\r\n                    <IconButton\r\n                        component=\"span\"\r\n                        className={classes.optBtn}\r\n                        onClick={onClickDismiss(key)}\r\n                    >\r\n                        <MdClose />\r\n                    </IconButton>\r\n                )}\r\n            >\r\n                <Switch>\r\n                    <PublicRoute\r\n                        exact\r\n                        path=\"/\"\r\n                        restricted={true}\r\n                        component={Logins}\r\n                    />\r\n                    <PublicRoute\r\n                        path=\"/password-reset\"\r\n                        restricted={false}\r\n                        component={ForgotPwd}\r\n                    />\r\n                    <PrivateRoute\r\n                        path=\"/apps\"\r\n                        component={() => (\r\n                            <AppProvider>\r\n                                <AppLayouts />\r\n                            </AppProvider>\r\n                        )}\r\n                    />\r\n                    <Route\r\n                        path=\"/errors\"\r\n                        component={() => (\r\n                            <Errors defaultError={getError(404)} />\r\n                        )}\r\n                    />\r\n                    <Redirect from=\"*\" to=\"/errors\" />\r\n                </Switch>\r\n            </SnackbarProvider>\r\n        </AuthProvider>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import { createMuiTheme } from '@material-ui/core/styles'\r\n\r\n//A custom theme for this app\r\nconst theme = createMuiTheme({\r\n    palette: {\r\n        primary: {\r\n            light: '#2a4865',\r\n            main: '#1b3a57',\r\n            dark: '#051e34',\r\n        },\r\n        secondary: {\r\n            light: '#ffecb3',\r\n            main: '#ffc107',\r\n            dark: '#ffa000',\r\n        },\r\n    },\r\n    overrides: {\r\n        MuiCssBaseline: {\r\n            '@global': {\r\n                '*::-webkit-scrollbar': {\r\n                    width: '8px',\r\n                    height: '8px',\r\n                },\r\n                '*::-webkit-scrollbar-track': {\r\n                    background: '#F1F1F1',   // #ffffff\r\n                    boxShadow: 'inset 0 0 6px rgba(0, 0, 0, 0.3)',\r\n                    borderRadius: '4px',\r\n                },\r\n                '*::-webkit-scrollbar-thumb': {\r\n                    backgroundColor: '#C1C1C1', //#ffffff\r\n                    borderRadius: '4px',\r\n\r\n                    '&:hover': {\r\n                        backgroundColor: 'rgba(0, 0, 0, 0.1)',\r\n                    },\r\n                },\r\n                '*::-webkit-scrollbar-corner': {\r\n                    background: 'inherit',\r\n                },\r\n            },\r\n        },\r\n\r\n        // For MenuItem, change this to MuiMenuItem\r\n        MuiListItem: {\r\n            root: {\r\n                '&$selected': {\r\n                    backgroundColor: '#18344e',\r\n                },\r\n                '&$selected:hover': {\r\n                    backgroundColor: '#2a4865',\r\n                    opacity: 0.4,\r\n                },\r\n            },\r\n        },\r\n    },\r\n})\r\n\r\nexport default theme\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n// import { HashRouter as Router } from 'react-router-dom'\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\nimport App from './App'\r\nimport { CssBaseline } from '@material-ui/core'\r\nimport { ThemeProvider } from '@material-ui/core/styles'\r\nimport theme from './styles/theme'\r\n\r\nReactDOM.render(\r\n    <ThemeProvider theme={theme}>\r\n        <CssBaseline />\r\n        <Router\r\n        // basename={process.env.PUBLIC_URL}\r\n        // getUserConfirmation={(message, callback) => {\r\n        //     const allowTransition = window.confirm(message)\r\n        //     callback(allowTransition)\r\n        // }}\r\n        >\r\n            <App />\r\n        </Router>\r\n    </ThemeProvider>,\r\n    document.getElementById('root')\r\n)\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Tables_wrapper__1FRj9\",\"container\":\"Tables_container__2CbfQ\",\"table\":\"Tables_table__3BEx8\",\"tHead\":\"Tables_tHead__3CTv6\",\"tHeadCell\":\"Tables_tHeadCell__2LfJA\",\"tBody\":\"Tables_tBody__1T-zk\",\"tBodyRow\":\"Tables_tBodyRow__2gmZZ\",\"tBodyCell\":\"Tables_tBodyCell__3bxjz\",\"noRecord\":\"Tables_noRecord__2EkFj\",\"picName\":\"Tables_picName__2dQgL\",\"sortLabel\":\"Tables_sortLabel__3Swno\",\"active\":\"Tables_active__EqPyW\",\"paging\":\"Tables_paging__2Dtif\",\"chipSalesMoi\":\"Tables_chipSalesMoi__2gOTV\",\"chipChamSoc\":\"Tables_chipChamSoc__3p1B6\",\"chipTaiKy\":\"Tables_chipTaiKy__3ZjHP\",\"chipKyMoi\":\"Tables_chipKyMoi__1CoM8\",\"rpDaGap\":\"Tables_rpDaGap__2pxKP\",\"rpChuaGap\":\"Tables_rpChuaGap__2S1YD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Tables_wrapper__CYFib\",\"container\":\"Tables_container__Co0Oy\",\"table\":\"Tables_table__3-lI1\",\"tHead\":\"Tables_tHead__sCryY\",\"tHeadCell\":\"Tables_tHeadCell__3P57-\",\"tBody\":\"Tables_tBody__3YeXJ\",\"tBodyRow\":\"Tables_tBodyRow__14gUx\",\"tBodyCell\":\"Tables_tBodyCell__27pOu\",\"tCellInactive\":\"Tables_tCellInactive__2vmU-\",\"tCellInactiveSchoolName\":\"Tables_tCellInactiveSchoolName__20nb3\",\"tCellSchoolName\":\"Tables_tCellSchoolName__3fG2t\",\"noRecord\":\"Tables_noRecord__1oMAj\",\"picName\":\"Tables_picName__NEzKD\",\"sortLabel\":\"Tables_sortLabel__2m-_3\",\"active\":\"Tables_active__w1tbq\",\"paging\":\"Tables_paging__2Lcfu\",\"chipLead\":\"Tables_chipLead__x55Vt\",\"chipCustomer\":\"Tables_chipCustomer__3kT4g\",\"chipPotential\":\"Tables_chipPotential__3bGqm\",\"itemText\":\"Tables_itemText__Ere2p\",\"iconTimeline\":\"Tables_iconTimeline__2Wr19\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Step3_wrapper__28Ytl\",\"child\":\"Step3_child__3_Rtt\",\"date\":\"Step3_date__3I48v\",\"avaGroup\":\"Step3_avaGroup__27euf\",\"container\":\"Step3_container__pqy6q\",\"table\":\"Step3_table__a4TFu\",\"tHead\":\"Step3_tHead__uSZtF\",\"tHeadCell\":\"Step3_tHeadCell__10qR_\",\"tSubHeadCell\":\"Step3_tSubHeadCell__2WoLO\",\"tBody\":\"Step3_tBody__2z_PY\",\"tBodyRow\":\"Step3_tBodyRow__Eb9R6\",\"tBodyCell\":\"Step3_tBodyCell__1omTq\",\"txtTargetValue\":\"Step3_txtTargetValue__2cjYI\",\"txtWeight\":\"Step3_txtWeight__1OtQl\",\"tBodyCellTextField\":\"Step3_tBodyCellTextField__2DnJ3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"CreatePreviewDialogForm_wrapper__1f7r3\",\"container\":\"CreatePreviewDialogForm_container__3pkYU\",\"table\":\"CreatePreviewDialogForm_table__3TvU3\",\"tHeadCell\":\"CreatePreviewDialogForm_tHeadCell__dcK5P\",\"tBody\":\"CreatePreviewDialogForm_tBody__32PCy\",\"tBodyCell\":\"CreatePreviewDialogForm_tBodyCell__14a-4\",\"btnSave\":\"CreatePreviewDialogForm_btnSave__22BtN\",\"icon\":\"CreatePreviewDialogForm_icon__3lkBY\",\"popover\":\"CreatePreviewDialogForm_popover__3IkrT\",\"tBodyRow\":\"CreatePreviewDialogForm_tBodyRow__2lz2D\",\"title\":\"CreatePreviewDialogForm_title__1BRF5\",\"chipLead\":\"CreatePreviewDialogForm_chipLead__7_rHq\",\"chipCustomer\":\"CreatePreviewDialogForm_chipCustomer__3VWrv\",\"chipPotential\":\"CreatePreviewDialogForm_chipPotential__23ukl\",\"chipSalesMoi\":\"CreatePreviewDialogForm_chipSalesMoi__1egHv\",\"chipTheoDoi\":\"CreatePreviewDialogForm_chipTheoDoi__2OjCc\",\"chipChamSoc\":\"CreatePreviewDialogForm_chipChamSoc__3-iFU\",\"chipTaiKy\":\"CreatePreviewDialogForm_chipTaiKy__3AxBQ\",\"chipKyMoi\":\"CreatePreviewDialogForm_chipKyMoi__1rnvZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Tables_wrapper__aar5-\",\"container\":\"Tables_container__3ln7l\",\"table\":\"Tables_table__15Ouc\",\"tHead\":\"Tables_tHead__29Str\",\"tHeadCell\":\"Tables_tHeadCell__29ikY\",\"tBody\":\"Tables_tBody__3cLDT\",\"tBodyRow\":\"Tables_tBodyRow__2C-LT\",\"tBodyCell\":\"Tables_tBodyCell__3i-dF\",\"tCellInactive\":\"Tables_tCellInactive__3df1N\",\"tCellInactiveSchoolName\":\"Tables_tCellInactiveSchoolName__3OTLL\",\"tCellSchoolName\":\"Tables_tCellSchoolName__3mq2I\",\"tBodyCellDuration\":\"Tables_tBodyCellDuration__2z7PE\",\"noRecord\":\"Tables_noRecord__3wrgo\",\"picName\":\"Tables_picName__ytU5e\",\"sortLabel\":\"Tables_sortLabel__1PU6d\",\"active\":\"Tables_active__3KvbV\",\"paging\":\"Tables_paging__157e1\",\"chipPending\":\"Tables_chipPending__SCVDe\",\"chipApproved\":\"Tables_chipApproved__2_-ry\",\"chipRejected\":\"Tables_chipRejected__1rJsr\",\"itemText\":\"Tables_itemText__3smSt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Tables_wrapper__LdmMz\",\"container\":\"Tables_container__3maWI\",\"table\":\"Tables_table__cSiqi\",\"tHead\":\"Tables_tHead__3lc8t\",\"tHeadCell\":\"Tables_tHeadCell__3LFy1\",\"tBody\":\"Tables_tBody__7l-Iw\",\"tBodyRow\":\"Tables_tBodyRow__1GNr5\",\"tBodyCell\":\"Tables_tBodyCell__rXdQy\",\"tCellInactive\":\"Tables_tCellInactive__2qHHE\",\"tCellInactiveSchoolName\":\"Tables_tCellInactiveSchoolName__2P42D\",\"tCellSchoolName\":\"Tables_tCellSchoolName__3IuKR\",\"noRecord\":\"Tables_noRecord__1_tfW\",\"picName\":\"Tables_picName__KqAoG\",\"sortLabel\":\"Tables_sortLabel__3gIOx\",\"active\":\"Tables_active__31qx2\",\"paging\":\"Tables_paging__3Yoyb\",\"chipLead\":\"Tables_chipLead__SSO4_\",\"chipCustomer\":\"Tables_chipCustomer__WNo5R\",\"chipPotential\":\"Tables_chipPotential__1ltgF\",\"itemText\":\"Tables_itemText__2hSBG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"AppLayouts_root__ADTKc\",\"appBar\":\"AppLayouts_appBar__2bt8T\",\"appBarShift\":\"AppLayouts_appBarShift__1HAdC\",\"toolbar\":\"AppLayouts_toolbar__NDRo8\",\"menuBtn\":\"AppLayouts_menuBtn__37VKR\",\"grow\":\"AppLayouts_grow__3APcL\",\"title\":\"AppLayouts_title__359ah\",\"notif\":\"AppLayouts_notif__2b0yO\",\"badge\":\"AppLayouts_badge__31Wej\",\"drawerPaper\":\"AppLayouts_drawerPaper__3p2iB\",\"drawerHeader\":\"AppLayouts_drawerHeader__3Bh8h\",\"majorImg\":\"AppLayouts_majorImg__1fRU5\",\"drawerFooter\":\"AppLayouts_drawerFooter__27Ih-\",\"drawerPaperClose\":\"AppLayouts_drawerPaperClose__shlT0\",\"chevron\":\"AppLayouts_chevron__337at\",\"menuItem\":\"AppLayouts_menuItem__18pBT\",\"menuIcon\":\"AppLayouts_menuIcon__3T5iF\",\"menuText\":\"AppLayouts_menuText__2BqCt\",\"content\":\"AppLayouts_content__34dT9\",\"contentShift\":\"AppLayouts_contentShift__NdctS\",\"appBarSpacer\":\"AppLayouts_appBarSpacer__3jaV0\",\"container\":\"AppLayouts_container__1mZvf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"CreateReports_wrapper__5UBZd\",\"container\":\"CreateReports_container__2DMzg\",\"table\":\"CreateReports_table__3jx9s\",\"tHead\":\"CreateReports_tHead__LltWy\",\"tHeadCell\":\"CreateReports_tHeadCell__16C78\",\"tBodyCell\":\"CreateReports_tBodyCell__1PN8V\",\"btnSave\":\"CreateReports_btnSave__1slQu\",\"autoComplete\":\"CreateReports_autoComplete__M1Dbx\",\"item\":\"CreateReports_item__24EAb\",\"itemTextPrimary\":\"CreateReports_itemTextPrimary__2thZ1\",\"itemTextSecondary\":\"CreateReports_itemTextSecondary__13Nc9\",\"title\":\"CreateReports_title__1TAwY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"DetailLayouts_root__3Uq_Q\",\"topBg\":\"DetailLayouts_topBg__2XjvQ\",\"container\":\"DetailLayouts_container__1p_D6\",\"content\":\"DetailLayouts_content__1Qknz\",\"header\":\"DetailLayouts_header__FGms4\",\"nav\":\"DetailLayouts_nav__3f8bj\",\"icon\":\"DetailLayouts_icon__2os1W\",\"text\":\"DetailLayouts_text__1Bfl3\",\"headerInfo\":\"DetailLayouts_headerInfo__2p1DA\",\"infoAvatar\":\"DetailLayouts_infoAvatar__2gZRp\",\"avatarTxt\":\"DetailLayouts_avatarTxt__2WkiP\",\"infoBasic\":\"DetailLayouts_infoBasic__ZWDNA\",\"basicMain\":\"DetailLayouts_basicMain__2QPiI\",\"basicSub\":\"DetailLayouts_basicSub__35Ezn\",\"body\":\"DetailLayouts_body__2V1Xr\",\"toolbar\":\"DetailLayouts_toolbar__2O-3s\",\"toolbarTitle\":\"DetailLayouts_toolbarTitle__c5kPN\",\"wrapper\":\"DetailLayouts_wrapper__2O-9y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogCont\":\"UpdateSchStatus_dialogCont__3QjPl\",\"dialogAct\":\"UpdateSchStatus_dialogAct__210by\",\"btnSave\":\"UpdateSchStatus_btnSave__2N7A8\",\"suggestions\":\"UpdateSchStatus_suggestions__FQIF6\",\"txtEstimate\":\"UpdateSchStatus_txtEstimate__2pWPa\",\"txtRevenue\":\"UpdateSchStatus_txtRevenue__3XTi5\",\"iconInfo\":\"UpdateSchStatus_iconInfo__EvbSw\",\"txtNumber\":\"UpdateSchStatus_txtNumber__3O-AU\",\"rowx\":\"UpdateSchStatus_rowx__25tvm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"GenInfo_panel__3RdhF\",\"action\":\"GenInfo_action__25aVt\",\"submit\":\"GenInfo_submit__21Eub\",\"content\":\"GenInfo_content__2rh7j\",\"wrapper\":\"GenInfo_wrapper__rxYg7\",\"row\":\"GenInfo_row__m3hkZ\",\"rowx\":\"GenInfo_rowx__2mHpC\",\"rowy\":\"GenInfo_rowy__250Ug\",\"header\":\"GenInfo_header__2UkP7\",\"title\":\"GenInfo_title__2h86X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"GenInfo_panel__1sDmG\",\"action\":\"GenInfo_action__33sBH\",\"submit\":\"GenInfo_submit__cFNdu\",\"content\":\"GenInfo_content__nl0ai\",\"wrapper\":\"GenInfo_wrapper__1vH4y\",\"row\":\"GenInfo_row__39174\",\"rowx\":\"GenInfo_rowx__1BQzf\",\"rowy\":\"GenInfo_rowy__3QXZO\",\"header\":\"GenInfo_header__1jWAv\",\"title\":\"GenInfo_title__3qRaW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogCont\":\"ServicesForm_dialogCont__1iGIF\",\"row\":\"ServicesForm_row__3qhF7\",\"title\":\"ServicesForm_title__1Qmim\",\"dialogAct\":\"ServicesForm_dialogAct__1nJ9X\",\"btnSave\":\"ServicesForm_btnSave__1m82J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Tables_wrapper__1INWy\",\"container\":\"Tables_container__coaLQ\",\"table\":\"Tables_table__UBuTC\",\"tHead\":\"Tables_tHead__qCaRM\",\"tHeadCell\":\"Tables_tHeadCell__1vxsc\",\"tBody\":\"Tables_tBody__2tGEy\",\"tBodyRow\":\"Tables_tBodyRow__-LIb7\",\"tBodyCell\":\"Tables_tBodyCell__36-LR\",\"tCellInactive\":\"Tables_tCellInactive__2ohkU\",\"tCellInactiveSchoolName\":\"Tables_tCellInactiveSchoolName__3FQ32\",\"tCellSchoolName\":\"Tables_tCellSchoolName__GmqL4\",\"tBodyCellDuration\":\"Tables_tBodyCellDuration__2Hbv2\",\"noRecord\":\"Tables_noRecord___MbBn\",\"picName\":\"Tables_picName__33OAF\",\"sortLabel\":\"Tables_sortLabel__1DmF9\",\"active\":\"Tables_active__2nzPG\",\"paging\":\"Tables_paging__297k2\",\"chipApplying\":\"Tables_chipApplying__3__x0\",\"itemText\":\"Tables_itemText__33G4e\"};"],"sourceRoot":""}